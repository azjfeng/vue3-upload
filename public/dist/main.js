(()=>{"use strict";var e={874:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.computed=function(e){var n,t;return(0,r.isFunction)(e)?(n=e,t=r.NOOP):(n=e.get,t=e.set),new Se(n,t,(0,r.isFunction)(e)||!e.set)},n.customRef=function(e){return new _e(e)},n.effect=v,n.enableTracking=O,n.isProxy=function(e){return fe(e)||de(e)},n.isReactive=fe,n.isReadonly=de,n.isRef=he,n.markRaw=function(e){return(0,r.def)(e,"__v_skip",!0),e},n.pauseTracking=_,n.proxyRefs=function(e){return fe(e)?e:new Proxy(e,be)},n.reactive=le,n.readonly=ce,n.ref=function(e){return ge(e)},n.resetTracking=w,n.shallowReactive=function(e){return se(e,!1,B,oe)},n.shallowReadonly=function(e){return se(e,!0,V,ae)},n.shallowRef=function(e){return ge(e,!0)},n.stop=function(e){e.active&&(g(e),e.options.onStop&&e.options.onStop(),e.active=!1)},n.toRaw=pe,n.toRef=we,n.toRefs=function(e){var n=(0,r.isArray)(e)?new Array(e.length):{};for(var t in e)n[t]=we(e,t);return n},n.track=S,n.trigger=E,n.triggerRef=function(e){E(pe(e),"set","value",void 0)},n.unref=ye,n.ITERATE_KEY=void 0;var r=t(420);function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e}function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l,c=new WeakMap,s=[],f=Symbol("");n.ITERATE_KEY=f;var d=Symbol("");function p(e){return e&&!0===e._isEffect}function v(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.EMPTY_OBJ;p(e)&&(e=e.raw);var t=m(e,n);return n.lazy||t(),t}var h=0;function m(e,n){var t=function(){if(!t.active)return n.scheduler?void 0:e();if(!s.includes(t)){g(t);try{return O(),s.push(t),l=t,e()}finally{s.pop(),w(),l=s[s.length-1]}}};return t.id=h++,t.allowRecurse=!!n.allowRecurse,t._isEffect=!0,t.active=!0,t.raw=e,t.deps=[],t.options=n,t}function g(e){var n=e.deps;if(n.length){for(var t=0;t<n.length;t++)n[t].delete(e);n.length=0}}var y=!0,b=[];function _(){b.push(y),y=!1}function O(){b.push(y),y=!0}function w(){var e=b.pop();y=void 0===e||e}function S(e,n,t){if(y&&void 0!==l){var r=c.get(e);r||c.set(e,r=new Map);var o=r.get(t);o||r.set(t,o=new Set),o.has(l)||(o.add(l),l.deps.push(o))}}function E(e,n,t,o,a,i){var u=c.get(e);if(u){var s=new Set,p=function(e){e&&e.forEach((function(e){(e!==l||e.allowRecurse)&&s.add(e)}))};if("clear"===n)u.forEach(p);else if("length"===t&&(0,r.isArray)(e))u.forEach((function(e,n){("length"===n||n>=o)&&p(e)}));else switch(void 0!==t&&p(u.get(t)),n){case"add":(0,r.isArray)(e)?(0,r.isIntegerKey)(t)&&p(u.get("length")):(p(u.get(f)),(0,r.isMap)(e)&&p(u.get(d)));break;case"delete":(0,r.isArray)(e)||(p(u.get(f)),(0,r.isMap)(e)&&p(u.get(d)));break;case"set":(0,r.isMap)(e)&&p(u.get(f))}s.forEach((function(e){e.options.scheduler?e.options.scheduler(e):e()}))}}var T=new Set(Object.getOwnPropertyNames(Symbol).map((function(e){return Symbol[e]})).filter(r.isSymbol)),C=R(),P=R(!1,!0),k=R(!0),x=R(!0,!0),A={};function R(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(t,o,a){if("__v_isReactive"===o)return!e;if("__v_isReadonly"===o)return e;if("__v_raw"===o&&a===(e?ue:ie).get(t))return t;var i=(0,r.isArray)(t);if(i&&(0,r.hasOwn)(A,o))return Reflect.get(A,o,a);var u=Reflect.get(t,o,a);return((0,r.isSymbol)(o)?T.has(o):"__proto__"===o||"__v_isRef"===o)?u:(e||S(t,0,o),n?u:he(u)?i&&(0,r.isIntegerKey)(o)?u:u.value:(0,r.isObject)(u)?e?ce(u):le(u):u)}}["includes","indexOf","lastIndexOf"].forEach((function(e){var n=Array.prototype[e];A[e]=function(){for(var e=pe(this),t=0,r=this.length;t<r;t++)S(e,0,t+"");for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];var u=n.apply(e,a);return-1===u||!1===u?n.apply(e,a.map(pe)):u}})),["push","pop","shift","unshift","splice"].forEach((function(e){var n=Array.prototype[e];A[e]=function(){_();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=n.apply(this,t);return w(),o}}));var j=F(),M=F(!0);function F(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,t,o,a){var i=n[t];if(!e&&(o=pe(o),!(0,r.isArray)(n)&&he(i)&&!he(o)))return i.value=o,!0;var u=(0,r.isArray)(n)&&(0,r.isIntegerKey)(t)?Number(t)<n.length:(0,r.hasOwn)(n,t),l=Reflect.set(n,t,o,a);return n===pe(a)&&(u?(0,r.hasChanged)(o,i)&&E(n,"set",t,o):E(n,"add",t,o)),l}}var N={get:C,set:j,deleteProperty:function(e,n){var t=(0,r.hasOwn)(e,n),o=(e[n],Reflect.deleteProperty(e,n));return o&&t&&E(e,"delete",n,void 0),o},has:function(e,n){var t=Reflect.has(e,n);return(0,r.isSymbol)(n)&&T.has(n)||S(e,0,n),t},ownKeys:function(e){return S(e,0,(0,r.isArray)(e)?"length":f),Reflect.ownKeys(e)}},I={get:k,set:function(e,n){return!0},deleteProperty:function(e,n){return!0}},B=(0,r.extend)({},N,{get:P,set:M}),V=(0,r.extend)({},I,{get:x}),L=function(e){return(0,r.isObject)(e)?le(e):e},U=function(e){return(0,r.isObject)(e)?ce(e):e},D=function(e){return e},H=function(e){return Reflect.getPrototypeOf(e)};function z(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=pe(e=e.__v_raw),a=pe(n);n!==a&&!t&&S(o,0,n),!t&&S(o,0,a);var i=H(o),u=i.has,l=t?U:r?D:L;return u.call(o,n)?l(e.get(n)):u.call(o,a)?l(e.get(a)):void 0}function Y(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=this.__v_raw,r=pe(t),o=pe(e);return e!==o&&!n&&S(r,0,e),!n&&S(r,0,o),e===o?t.has(e):t.has(e)||t.has(o)}function $(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=e.__v_raw,!n&&S(pe(e),0,f),Reflect.get(e,"size",e)}function K(e){e=pe(e);var n=pe(this),t=H(n).has.call(n,e),r=n.add(e);return t||E(n,"add",e,e),r}function G(e,n){n=pe(n);var t=pe(this),o=H(t),a=o.has,i=o.get,u=a.call(t,e);u||(e=pe(e),u=a.call(t,e));var l=i.call(t,e),c=t.set(e,n);return u?(0,r.hasChanged)(n,l)&&E(t,"set",e,n):E(t,"add",e,n),c}function q(e){var n=pe(this),t=H(n),r=t.has,o=t.get,a=r.call(n,e);a||(e=pe(e),a=r.call(n,e)),o&&o.call(n,e);var i=n.delete(e);return a&&E(n,"delete",e,void 0),i}function J(){var e=pe(this),n=0!==e.size,t=e.clear();return n&&E(e,"clear",void 0,void 0),t}function W(e,n){return function(t,r){var o=this,a=o.__v_raw,i=pe(a),u=e?U:n?D:L;return!e&&S(i,0,f),a.forEach((function(e,n){return t.call(r,u(e),u(n),o)}))}}function Z(e,n,t){return function(){var o=this.__v_raw,a=pe(o),i=(0,r.isMap)(a),l="entries"===e||e===Symbol.iterator&&i,c="keys"===e&&i,s=o[e].apply(o,arguments),p=n?U:t?D:L;return!n&&S(a,0,c?d:f),u({next:function(){var e=s.next(),n=e.value,t=e.done;return t?{value:n,done:t}:{value:l?[p(n[0]),p(n[1])]:p(n),done:t}}},Symbol.iterator,(function(){return this}))}}function X(e){return function(){return"delete"!==e&&this}}var Q={get:function(e){return z(this,e)},get size(){return $(this)},has:Y,add:K,set:G,delete:q,clear:J,forEach:W(!1,!1)},ee={get:function(e){return z(this,e,!1,!0)},get size(){return $(this)},has:Y,add:K,set:G,delete:q,clear:J,forEach:W(!1,!0)},ne={get:function(e){return z(this,e,!0)},get size(){return $(this,!0)},has:function(e){return Y.call(this,e,!0)},add:X("add"),set:X("set"),delete:X("delete"),clear:X("clear"),forEach:W(!0,!1)};function te(e,n){var t=n?ee:e?ne:Q;return function(n,o,a){return"__v_isReactive"===o?!e:"__v_isReadonly"===o?e:"__v_raw"===o?n:Reflect.get((0,r.hasOwn)(t,o)&&o in n?t:n,o,a)}}["keys","values","entries",Symbol.iterator].forEach((function(e){Q[e]=Z(e,!1,!1),ne[e]=Z(e,!0,!1),ee[e]=Z(e,!1,!0)}));var re={get:te(!1,!1)},oe={get:te(!1,!0)},ae={get:te(!0,!1)},ie=new WeakMap,ue=new WeakMap;function le(e){return e&&e.__v_isReadonly?e:se(e,!1,N,re)}function ce(e){return se(e,!0,I,ae)}function se(e,n,t,o){if(!(0,r.isObject)(e))return e;if(e.__v_raw&&(!n||!e.__v_isReactive))return e;var a=n?ue:ie,i=a.get(e);if(i)return i;var u,l=(u=e).__v_skip||!Object.isExtensible(u)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,r.toRawType)(u));if(0===l)return e;var c=new Proxy(e,2===l?o:t);return a.set(e,c),c}function fe(e){return de(e)?fe(e.__v_raw):!(!e||!e.__v_isReactive)}function de(e){return!(!e||!e.__v_isReadonly)}function pe(e){return e&&pe(e.__v_raw)||e}var ve=function(e){return(0,r.isObject)(e)?le(e):e};function he(e){return Boolean(e&&!0===e.__v_isRef)}var me=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o(this,e),this._rawValue=n,this._shallow=t,this.__v_isRef=!0,this._value=t?n:ve(n)}return i(e,[{key:"value",get:function(){return S(pe(this),0,"value"),this._value},set:function(e){(0,r.hasChanged)(pe(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:ve(e),E(pe(this),"set","value",e))}}]),e}();function ge(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return he(e)?e:new me(e,n)}function ye(e){return he(e)?e.value:e}var be={get:function(e,n,t){return ye(Reflect.get(e,n,t))},set:function(e,n,t,r){var o=e[n];return he(o)&&!he(t)?(o.value=t,!0):Reflect.set(e,n,t,r)}},_e=function(){function e(n){var t=this;o(this,e),this.__v_isRef=!0;var r=n((function(){return S(t,0,"value")}),(function(){return E(t,"set","value")})),a=r.get,i=r.set;this._get=a,this._set=i}return i(e,[{key:"value",get:function(){return this._get()},set:function(e){this._set(e)}}]),e}(),Oe=function(){function e(n,t){o(this,e),this._object=n,this._key=t,this.__v_isRef=!0}return i(e,[{key:"value",get:function(){return this._object[this._key]},set:function(e){this._object[this._key]=e}}]),e}();function we(e,n){return he(e[n])?e[n]:new Oe(e,n)}var Se=function(){function e(n,t,r){var a=this;o(this,e),this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=v(n,{lazy:!0,scheduler:function(){a._dirty||(a._dirty=!0,E(pe(a),"set","value"))}}),this.__v_isReadonly=r}return i(e,[{key:"value",get:function(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),S(pe(this),0,"value"),this._value},set:function(e){this._setter(e)}}]),e}()},979:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.callWithAsyncErrorHandling=y,n.callWithErrorHandling=g,n.cloneVNode=rt,n.computed=Vt,n.createBlock=Wn,n.createCommentVNode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?(Gn(),Wn(zn,null,e)):tt(zn,null,e)},n.createHydrationRenderer=function(e){return xn(e,Tn)},n.createRenderer=function(e){return xn(e)},n.createSlots=function(e,n){for(var t=0;t<n.length;t++){var r=n[t];if((0,a.isArray)(r))for(var o=0;o<r.length;o++)e[r[o].name]=r[o].fn;else r&&(e[r.name]=r.fn)}return e},n.createStaticVNode=function(e,n){var t=tt(Yn,null,e);return t.staticCount=n,t},n.createTextVNode=ot,n.defineAsyncComponent=function(e){(0,a.isFunction)(e)&&(e={loader:e});var n,t=e,r=t.loader,i=t.loadingComponent,u=t.errorComponent,l=t.delay,c=void 0===l?200:l,s=t.timeout,f=t.suspensible,d=void 0===f||f,p=t.onError,v=null,h=0,m=function(){var e;return v||(e=v=r().catch((function(e){if(e=e instanceof Error?e:new Error(String(e)),p)return new Promise((function(n,t){p(e,(function(){return n((h++,v=null,m()))}),(function(){return t(e)}),h+1)}));throw e})).then((function(t){return e!==v&&v?v:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),n=t,t)})))};return Lt({__asyncLoader:m,name:"AsyncComponentWrapper",setup:function(){var e=Tt;if(n)return function(){return Ut(n,e)};var t=function(n){v=null,b(n,e,13,!u)};if(d&&e.suspense)return m().then((function(n){return function(){return Ut(n,e)}})).catch((function(e){return t(e),function(){return u?tt(u,{error:e}):null}}));var r=(0,o.ref)(!1),a=(0,o.ref)(),l=(0,o.ref)(!!c);return c&&setTimeout((function(){l.value=!1}),c),null!=s&&setTimeout((function(){if(!r.value&&!a.value){var e=new Error("Async component timed out after ".concat(s,"ms."));t(e),a.value=e}}),s),m().then((function(){r.value=!0})).catch((function(e){t(e),a.value=e})),function(){return r.value&&n?Ut(n,e):a.value&&u?tt(u,{error:a.value}):i&&!l.value?tt(i):void 0}}})},n.defineComponent=Lt,n.getTransitionRawChildren=en,n.h=function(e,n,t){var r=arguments.length;return 2===r?(0,a.isObject)(n)&&!(0,a.isArray)(n)?Zn(n)?tt(e,null,[n]):tt(e,n):tt(e,null,n):(r>3?t=Array.prototype.slice.call(arguments,2):3===r&&Zn(t)&&(t=[t]),tt(e,n,t))},n.handleError=b,n.initCustomFormatter=function(){return},n.inject=st,n.isVNode=Zn,n.mergeProps=lt,n.nextTick=F,n.onActivated=an,n.onDeactivated=un,n.openBlock=Gn,n.popScopeId=Oe,n.provide=ct,n.pushScopeId=_e,n.queuePostFlushCb=L,n.registerRuntimeCompiler=function(e){Pt=e},n.renderList=function(e,n){var t;if((0,a.isArray)(e)||(0,a.isString)(e)){t=new Array(e.length);for(var r=0,o=e.length;r<o;r++)t[r]=n(e[r],r)}else if("number"==typeof e){t=new Array(e);for(var i=0;i<e;i++)t[i]=n(i+1,i)}else if((0,a.isObject)(e))if(e[Symbol.iterator])t=Array.from(e,n);else{var u=Object.keys(e);t=new Array(u.length);for(var l=0,c=u.length;l<c;l++){var s=u[l];t[l]=n(e[s],s,l)}}else t=[];return t},n.renderSlot=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=e[n];he++;var a=(Gn(),Wn(Dn,{key:t.key},o?o(t):r?r():[],1===e._?64:-2));return he--,a},n.resolveComponent=function(e){return Ln(Bn,e)||e},n.resolveDirective=function(e){return Ln("directives",e)},n.resolveDynamicComponent=function(e){return(0,a.isString)(e)?Ln(Bn,e)||e:e||Vn},n.resolveTransitionHooks=We,n.setBlockTracking=function(e){Jn+=e},n.setDevtoolsHook=function(e){n.devtools=H=e},n.setTransitionHooks=Qe,n.toHandlers=function(e){var n={};for(var t in e)n[(0,a.toHandlerKey)(t)]=e[t];return n},n.transformVNodeArgs=function(e){},n.useTransitionState=Ke,n.warn=p,n.watch=He,n.watchEffect=function(e,n){return ze(e,null,n)},n.withCtx=ge,n.withDirectives=function(e,n){if(null===ne)return e;for(var t=ne.proxy,r=e.dirs||(e.dirs=[]),o=0;o<n.length;o++){var i=u(n[o],4),l=i[0],c=i[1],s=i[2],f=i[3],d=void 0===f?a.EMPTY_OBJ:f;(0,a.isFunction)(l)&&(l={mounted:l,updated:l}),r.push({dir:l,instance:t,value:c,oldValue:void 0,arg:s,modifiers:d})}return e},n.withScopeId=function(e){return function(n){return ge((function(){_e(e);var t=n.apply(this,arguments);return Oe(),t}))}},Object.defineProperty(n,"customRef",{enumerable:!0,get:function(){return o.customRef}}),Object.defineProperty(n,"isProxy",{enumerable:!0,get:function(){return o.isProxy}}),Object.defineProperty(n,"isReactive",{enumerable:!0,get:function(){return o.isReactive}}),Object.defineProperty(n,"isReadonly",{enumerable:!0,get:function(){return o.isReadonly}}),Object.defineProperty(n,"isRef",{enumerable:!0,get:function(){return o.isRef}}),Object.defineProperty(n,"markRaw",{enumerable:!0,get:function(){return o.markRaw}}),Object.defineProperty(n,"proxyRefs",{enumerable:!0,get:function(){return o.proxyRefs}}),Object.defineProperty(n,"reactive",{enumerable:!0,get:function(){return o.reactive}}),Object.defineProperty(n,"readonly",{enumerable:!0,get:function(){return o.readonly}}),Object.defineProperty(n,"ref",{enumerable:!0,get:function(){return o.ref}}),Object.defineProperty(n,"shallowReactive",{enumerable:!0,get:function(){return o.shallowReactive}}),Object.defineProperty(n,"shallowReadonly",{enumerable:!0,get:function(){return o.shallowReadonly}}),Object.defineProperty(n,"shallowRef",{enumerable:!0,get:function(){return o.shallowRef}}),Object.defineProperty(n,"toRaw",{enumerable:!0,get:function(){return o.toRaw}}),Object.defineProperty(n,"toRef",{enumerable:!0,get:function(){return o.toRef}}),Object.defineProperty(n,"toRefs",{enumerable:!0,get:function(){return o.toRefs}}),Object.defineProperty(n,"triggerRef",{enumerable:!0,get:function(){return o.triggerRef}}),Object.defineProperty(n,"unref",{enumerable:!0,get:function(){return o.unref}}),Object.defineProperty(n,"camelize",{enumerable:!0,get:function(){return a.camelize}}),Object.defineProperty(n,"capitalize",{enumerable:!0,get:function(){return a.capitalize}}),Object.defineProperty(n,"toDisplayString",{enumerable:!0,get:function(){return a.toDisplayString}}),Object.defineProperty(n,"toHandlerKey",{enumerable:!0,get:function(){return a.toHandlerKey}}),n.version=n.useSSRContext=n.ssrUtils=n.ssrContextKey=n.onUpdated=n.onUnmounted=n.onRenderTriggered=n.onRenderTracked=n.onMounted=n.onErrorCaptured=n.onBeforeUpdate=n.onBeforeUnmount=n.onBeforeMount=n.getCurrentInstance=n.devtools=n.createVNode=n.Text=n.Teleport=n.Suspense=n.Static=n.KeepAlive=n.Fragment=n.Comment=n.BaseTransition=void 0;var r,o=t(874),a=t(420);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return t}}(e,n)||s(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){if(e){if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var d=[];function p(e){(0,o.pauseTracking)();for(var n=d.length?d[d.length-1].component:null,t=n&&n.appContext.config.warnHandler,r=v(),a=arguments.length,i=new Array(a>1?a-1:0),u=1;u<a;u++)i[u-1]=arguments[u];if(t)g(t,n,11,[e+i.join(""),n&&n.proxy,r.map((function(e){var t=e.vnode;return"at <".concat(It(n,t.type),">")})).join("\n"),r]);else{var l,s=["[Vue warn]: ".concat(e)].concat(i);r.length&&s.push.apply(s,["\n"].concat(c(h(r)))),(l=console).warn.apply(l,c(s))}(0,o.resetTracking)()}function v(){var e=d[d.length-1];if(!e)return[];for(var n=[];e;){var t=n[0];t&&t.vnode===e?t.recurseCount++:n.push({vnode:e,recurseCount:0});var r=e.component&&e.component.parent;e=r&&r.vnode}return n}function h(e){var n=[];return e.forEach((function(e,t){var r,o,a,i,u,l,s,f,d,p;n.push.apply(n,c(0===t?[]:["\n"]).concat(c((u=(i=e).vnode,s=(l=i.recurseCount)>0?"... (".concat(l," recursive calls)"):"",f=!!u.component&&null==u.component.parent,d=" at <".concat(It(u.component,u.type,f)),p=">"+s,u.props?[d].concat(c((r=u.props,o=[],(a=Object.keys(r)).slice(0,3).forEach((function(e){o.push.apply(o,c(m(e,r[e])))})),a.length>3&&o.push(" ..."),o)),[p]):[d+p]))))})),n}function m(e,n,t){return(0,a.isString)(n)?(n=JSON.stringify(n),t?n:["".concat(e,"=").concat(n)]):"number"==typeof n||"boolean"==typeof n||null==n?t?n:["".concat(e,"=").concat(n)]:(0,o.isRef)(n)?(n=m(e,(0,o.toRaw)(n.value),!0),t?n:["".concat(e,"=Ref<"),n,">"]):(0,a.isFunction)(n)?["".concat(e,"=fn").concat(n.name?"<".concat(n.name,">"):"")]:(n=(0,o.toRaw)(n),t?n:["".concat(e,"="),n])}function g(e,n,t,r){var o;try{o=r?e.apply(void 0,c(r)):e()}catch(e){b(e,n,t)}return o}function y(e,n,t,r){if((0,a.isFunction)(e)){var o=g(e,n,t,r);return o&&(0,a.isPromise)(o)&&o.catch((function(e){b(e,n,t)})),o}for(var i=[],u=0;u<e.length;u++)i.push(y(e[u],n,t,r));return i}function b(e,n,t){var r=n?n.vnode:null;if(n){for(var o=n.parent,a=n.proxy,i=t;o;){var u=o.ec;if(u)for(var l=0;l<u.length;l++)if(!1===u[l](e,a,i))return;o=o.parent}var c=n.appContext.config.errorHandler;if(c)return void g(c,null,10,[e,a,i])}_(e,t,r)}function _(e,n,t){console.error(e)}l(r={},"bc","beforeCreate hook"),l(r,"c","created hook"),l(r,"bm","beforeMount hook"),l(r,"m","mounted hook"),l(r,"bu","beforeUpdate hook"),l(r,"u","updated"),l(r,"bum","beforeUnmount hook"),l(r,"um","unmounted hook"),l(r,"a","activated hook"),l(r,"da","deactivated hook"),l(r,"ec","errorCaptured hook"),l(r,"rtc","renderTracked hook"),l(r,"rtg","renderTriggered hook"),l(r,0,"setup function"),l(r,1,"render function"),l(r,2,"watcher getter"),l(r,3,"watcher callback"),l(r,4,"watcher cleanup function"),l(r,5,"native event handler"),l(r,6,"component event handler"),l(r,7,"vnode hook"),l(r,8,"directive hook"),l(r,9,"transition hook"),l(r,10,"app errorHandler"),l(r,11,"app warnHandler"),l(r,12,"ref function"),l(r,13,"async component loader"),l(r,14,"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/vue-next");var O=!1,w=!1,S=[],E=0,T=[],C=null,P=0,k=[],x=null,A=0,R=Promise.resolve(),j=null,M=null;function F(e){var n=j||R;return e?n.then(this?e.bind(this):e):n}function N(e){S.length&&S.includes(e,O&&e.allowRecurse?E+1:E)||e===M||(S.push(e),I())}function I(){O||w||(w=!0,j=R.then(Y))}function B(e,n,t,r){(0,a.isArray)(e)?t.push.apply(t,c(e)):n&&n.includes(e,e.allowRecurse?r+1:r)||t.push(e),I()}function V(e){B(e,C,T,P)}function L(e){B(e,x,k,A)}function U(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(T.length){for(M=n,C=c(new Set(T)),T.length=0,P=0;P<C.length;P++)C[P]();C=null,P=0,M=null,U(e,n)}}function D(e){if(k.length){var n,t=c(new Set(k));if(k.length=0,x)return void(n=x).push.apply(n,c(t));for((x=t).sort((function(e,n){return z(e)-z(n)})),A=0;A<x.length;A++)x[A]();x=null,A=0}}var H,z=function(e){return null==e.id?1/0:e.id};function Y(e){w=!1,O=!0,U(e),S.sort((function(e,n){return z(e)-z(n)}));try{for(E=0;E<S.length;E++){var n=S[E];n&&g(n,null,14)}}finally{E=0,S.length=0,D(),O=!1,j=null,(S.length||k.length)&&Y(e)}}function $(e,n){H&&H.emit("app:init",e,n,{Fragment:Dn,Text:Hn,Comment:zn,Static:Yn})}function K(e){H&&H.emit("app:unmount",e)}new Set,new Map,n.devtools=H;var G=W("component:added"),q=W("component:updated"),J=W("component:removed");function W(e){return function(n){H&&H.emit(e,n.appContext.app,n.uid,n.parent?n.parent.uid:void 0)}}function Z(e,n,t){H&&H.emit("component:emit",e.appContext.app,e,n,t)}function X(e,n){for(var t=e.vnode.props||a.EMPTY_OBJ,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var u=o,l=n.startsWith("update:"),c=l&&n.slice(7);if(c&&c in t){var s="".concat("modelValue"===c?"model":c,"Modifiers"),f=t[s]||a.EMPTY_OBJ,d=f.number,p=f.trim;p?u=o.map((function(e){return e.trim()})):d&&(u=o.map(a.toNumber))}__VUE_PROD_DEVTOOLS__&&Z(e,n,u);var v=(0,a.toHandlerKey)((0,a.camelize)(n)),h=t[v];!h&&l&&(h=t[v=(0,a.toHandlerKey)((0,a.hyphenate)(n))]),h&&y(h,e,6,u);var m=t[v+"Once"];if(m){if(e.emitted){if(e.emitted[v])return}else(e.emitted={})[v]=!0;y(m,e,6,u)}}function Q(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n.deopt&&void 0!==e.__emits)return e.__emits;var r=e.emits,o={},i=!1;if(__VUE_OPTIONS_API__&&!(0,a.isFunction)(e)){var u=function(e){i=!0,(0,a.extend)(o,Q(e,n,!0))};!t&&n.mixins.length&&n.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return r||i?((0,a.isArray)(r)?r.forEach((function(e){return o[e]=null})):(0,a.extend)(o,r),e.__emits=o):e.__emits=null}function ee(e,n){return!(!e||!(0,a.isOn)(n))&&(n=n.replace(/Once$/,""),(0,a.hasOwn)(e,n[2].toLowerCase()+n.slice(3))||(0,a.hasOwn)(e,n.slice(2)))}var ne=null;function te(e){ne=e}function re(e){var n,t=e.type,r=e.vnode,o=e.proxy,i=e.withProxy,l=e.props,c=u(e.propsOptions,1)[0],s=e.slots,f=e.attrs,d=e.emit,p=e.render,v=e.renderCache,h=e.data,m=e.setupState,g=e.ctx;ne=e;try{var y;if(4&r.shapeFlag){var _=i||o;n=at(p.call(_,_,v,l,m,h,g)),y=f}else{var O=t;n=at(O.length>1?O(l,{attrs:f,slots:s,emit:d}):O(l,null)),y=t.props?f:oe(f)}var w=n;if(!1!==t.inheritAttrs&&y){var S=Object.keys(y),E=w.shapeFlag;S.length&&(1&E||6&E)&&(c&&S.some(a.isModelListener)&&(y=ae(y,c)),w=rt(w,y))}r.dirs&&(w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&(w.transition=r.transition),n=w}catch(t){b(t,e,1),n=tt(zn)}return ne=null,n}var oe=function(e){var n;for(var t in e)("class"===t||"style"===t||(0,a.isOn)(t))&&((n||(n={}))[t]=e[t]);return n},ae=function(e,n){var t={};for(var r in e)(0,a.isModelListener)(r)&&r.slice(9)in n||(t[r]=e[r]);return t};function ie(e,n,t){var r=Object.keys(n);if(r.length!==Object.keys(e).length)return!0;for(var o=0;o<r.length;o++){var a=r[o];if(n[a]!==e[a]&&!ee(t,a))return!0}return!1}function ue(e,n){for(var t=e.vnode,r=e.parent;r&&r.subTree===t;)(t=r.vnode).el=n,r=r.parent}var le=function(e){return e.__isSuspense},ce={__isSuspense:!0,process:function(e,n,t,r,o,i,u,l,c){null==e?function(e,n,t,r,o,a,i,u){var l=u.p,c=(0,u.o.createElement)("div"),s=e.suspense=se(e,o,r,n,c,t,a,i,u);l(null,s.pendingBranch=e.ssContent,c,null,r,s,a),s.deps>0?(l(null,e.ssFallback,n,t,r,null,a),ve(s,e.ssFallback)):s.resolve()}(n,t,r,o,i,u,l,c):function(e,n,t,r,o,i,u){var l=u.p,c=u.um,s=u.o.createElement,f=n.suspense=e.suspense;f.vnode=n,n.el=e.el;var d=n.ssContent,p=n.ssFallback,v=f.activeBranch,h=f.pendingBranch,m=f.isInFallback,g=f.isHydrating;if(h)f.pendingBranch=d,Xn(d,h)?(l(h,d,f.hiddenContainer,null,o,f,i),f.deps<=0?f.resolve():m&&(l(v,p,t,r,o,null,i),ve(f,p))):(f.pendingId++,g?(f.isHydrating=!1,f.activeBranch=h):c(h,o,f),f.deps=0,f.effects.length=0,f.hiddenContainer=s("div"),m?(l(null,d,f.hiddenContainer,null,o,f,i),f.deps<=0?f.resolve():(l(v,p,t,r,o,null,i),ve(f,p))):v&&Xn(d,v)?(l(v,d,t,r,o,f,i),f.resolve(!0)):(l(null,d,f.hiddenContainer,null,o,f,i),f.deps<=0&&f.resolve()));else if(v&&Xn(d,v))l(v,d,t,r,o,f,i),ve(f,d);else{var y=n.props&&n.props.onPending;if((0,a.isFunction)(y)&&y(),f.pendingBranch=d,f.pendingId++,l(null,d,f.hiddenContainer,null,o,f,i),f.deps<=0)f.resolve();else{var b=f.timeout,_=f.pendingId;b>0?setTimeout((function(){f.pendingId===_&&f.fallback(p)}),b):0===b&&f.fallback(p)}}}(e,n,t,r,o,u,c)},hydrate:function(e,n,t,r,o,a,i,u){var l=n.suspense=se(n,r,t,e.parentNode,document.createElement("div"),null,o,a,i,!0),c=u(e,l.pendingBranch=n.ssContent,t,l,a);return 0===l.deps&&l.resolve(),c},create:se};function se(e,n,t,r,o,i,u,l,s){var f=arguments.length>9&&void 0!==arguments[9]&&arguments[9],d=s.p,p=s.m,v=s.um,h=s.n,m=s.o,g=m.parentNode,y=m.remove,_=(0,a.toNumber)(e.props&&e.props.timeout),O={vnode:e,parent:n,parentComponent:t,isSVG:u,container:r,hiddenContainer:o,anchor:i,deps:0,pendingId:0,timeout:"number"==typeof _?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:f,isUnmounted:!1,effects:[],resolve:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=O.vnode,t=O.activeBranch,r=O.pendingBranch,o=O.pendingId,i=O.effects,u=O.parentComponent,l=O.container;if(O.isHydrating)O.isHydrating=!1;else if(!e){var s=t&&r.transition&&"out-in"===r.transition.mode;s&&(t.transition.afterLeave=function(){o===O.pendingId&&p(r,l,f,0)});var f=O.anchor;t&&(f=h(t),v(t,u,O,!0)),s||p(r,l,f,0)}ve(O,r),O.pendingBranch=null,O.isInFallback=!1;for(var d=O.parent,m=!1;d;){if(d.pendingBranch){var g;(g=d.effects).push.apply(g,c(i)),m=!0;break}d=d.parent}m||L(i),O.effects=[];var y=n.props&&n.props.onResolve;(0,a.isFunction)(y)&&y()},fallback:function(e){if(O.pendingBranch){var n=O.vnode,t=O.activeBranch,r=O.parentComponent,o=O.container,i=O.isSVG,u=n.props&&n.props.onFallback;(0,a.isFunction)(u)&&u();var l=h(t),c=function(){O.isInFallback&&(d(null,e,o,l,r,null,i),ve(O,e))},s=e.transition&&"out-in"===e.transition.mode;s&&(t.transition.afterLeave=c),v(t,r,null,!0),O.isInFallback=!0,s||c()}},move:function(e,n,t){O.activeBranch&&p(O.activeBranch,e,n,t),O.container=e},next:function(){return O.activeBranch&&h(O.activeBranch)},registerDep:function(e,n){if(O.pendingBranch){var t=e.vnode.el;O.deps++,e.asyncDep.catch((function(n){b(n,e,0)})).then((function(r){if(!e.isUnmounted&&!O.isUnmounted&&O.pendingId===e.suspenseId){O.deps--,e.asyncResolved=!0;var o=e.vnode;Rt(e,r),t&&(o.el=t);var a=!t&&e.subTree.el;n(e,o,g(t||e.subTree.el),t?null:h(e.subTree),O,u,l),a&&y(a),ue(e,o.el),0===O.deps&&O.resolve()}}))}},unmount:function(e,n){O.isUnmounted=!0,O.activeBranch&&v(O.activeBranch,t,e,n),O.pendingBranch&&v(O.pendingBranch,t,e,n)}};return O}function fe(e){var n,t,r=e.shapeFlag,o=e.children;return 32&r?(n=de(o.default),t=de(o.fallback)):(n=de(o),t=at(null)),{content:n,fallback:t}}function de(e){var n;return(0,a.isFunction)(e)&&(e=e()),(0,a.isArray)(e)&&(e=1===(n=e.filter((function(e){return!(Zn(e)&&e.type===zn&&"v-if"!==e.children)}))).length&&Zn(n[0])?n[0]:null),at(e)}function pe(e,n){var t;n&&n.pendingBranch?(0,a.isArray)(e)?(t=n.effects).push.apply(t,c(e)):n.effects.push(e):L(e)}function ve(e,n){e.activeBranch=n;var t=e.vnode,r=e.parentComponent,o=t.el=n.el;r&&r.subTree===t&&(r.vnode.el=o,ue(r,o))}n.Suspense=ce;var he=0,me=function(e){return he+=e};function ge(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;if(!n)return e;var t=function(){he||Gn(!0);var t=ne;te(n);var r=e.apply(void 0,arguments);return te(t),he||qn(),r};return t._c=!0,t}var ye=null,be=[];function _e(e){be.push(ye=e)}function Oe(){be.pop(),ye=be[be.length-1]||null}function we(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={},u={};(0,a.def)(u,Qn,1),Se(e,n,i,u),t?e.props=r?i:(0,o.shallowReactive)(i):e.type.props?e.props=i:e.props=u,e.attrs=u}function Se(e,n,t,r){var i=u(e.propsOptions,2),l=i[0],c=i[1];if(n)for(var s in n){var f=n[s];if(!(0,a.isReservedProp)(s)){var d=void 0;l&&(0,a.hasOwn)(l,d=(0,a.camelize)(s))?t[d]=f:ee(e.emitsOptions,s)||(r[s]=f)}}if(c)for(var p=(0,o.toRaw)(t),v=0;v<c.length;v++){var h=c[v];t[h]=Ee(l,p,h,p[h],e)}}function Ee(e,n,t,r,o){var i=e[t];if(null!=i){var u=(0,a.hasOwn)(i,"default");if(u&&void 0===r){var l=i.default;i.type!==Function&&(0,a.isFunction)(l)?(kt(o),r=l(n),kt(null)):r=l}i[0]&&((0,a.hasOwn)(n,t)||u?!i[1]||""!==r&&r!==(0,a.hyphenate)(t)||(r=!0):r=!1)}return r}function Te(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n.deopt&&e.__props)return e.__props;var r=e.props,o={},i=[],l=!1;if(__VUE_OPTIONS_API__&&!(0,a.isFunction)(e)){var s=function(e){l=!0;var t=u(Te(e,n,!0),2),r=t[0],s=t[1];(0,a.extend)(o,r),s&&i.push.apply(i,c(s))};!t&&n.mixins.length&&n.mixins.forEach(s),e.extends&&s(e.extends),e.mixins&&e.mixins.forEach(s)}if(!r&&!l)return e.__props=a.EMPTY_ARR;if((0,a.isArray)(r))for(var f=0;f<r.length;f++){var d=(0,a.camelize)(r[f]);Ce(d)&&(o[d]=a.EMPTY_OBJ)}else if(r)for(var p in r){var v=(0,a.camelize)(p);if(Ce(v)){var h=r[p],m=o[v]=(0,a.isArray)(h)||(0,a.isFunction)(h)?{type:h}:h;if(m){var g=xe(Boolean,m.type),y=xe(String,m.type);m[0]=g>-1,m[1]=y<0||g<y,(g>-1||(0,a.hasOwn)(m,"default"))&&i.push(v)}}}return e.__props=[o,i]}function Ce(e){return"$"!==e[0]}function Pe(e){var n=e&&e.toString().match(/^\s*function (\w+)/);return n?n[1]:""}function ke(e,n){return Pe(e)===Pe(n)}function xe(e,n){if((0,a.isArray)(n)){for(var t=0,r=n.length;t<r;t++)if(ke(n[t],e))return t}else if((0,a.isFunction)(n))return ke(n,e)?0:-1;return-1}function Ae(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tt,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){var a=t[e]||(t[e]=[]),i=n.__weh||(n.__weh=function(){if(!t.isUnmounted){(0,o.pauseTracking)(),kt(t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var u=y(n,t,e,a);return kt(null),(0,o.resetTracking)(),u}});return r?a.unshift(i):a.push(i),i}}var Re=function(e){return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt;return!xt&&Ae(e,n,t)}},je=Re("bm");n.onBeforeMount=je;var Me=Re("m");n.onMounted=Me;var Fe=Re("bu");n.onBeforeUpdate=Fe;var Ne=Re("u");n.onUpdated=Ne;var Ie=Re("bum");n.onBeforeUnmount=Ie;var Be=Re("um");n.onUnmounted=Be;var Ve=Re("rtg");n.onRenderTriggered=Ve;var Le=Re("rtc");n.onRenderTracked=Le;var Ue=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt;Ae("ec",e,n)};n.onErrorCaptured=Ue;var De={};function He(e,n,t){return ze(e,n,t)}function ze(e,n){var t,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.EMPTY_OBJ,u=i.immediate,l=i.deep,c=i.flush,s=i.onTrack,f=i.onTrigger,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Tt,p=!1;if((0,o.isRef)(e)?(t=function(){return e.value},p=!!e._shallow):(0,o.isReactive)(e)?(t=function(){return e},l=!0):t=(0,a.isArray)(e)?function(){return e.map((function(e){return(0,o.isRef)(e)?e.value:(0,o.isReactive)(e)?$e(e):(0,a.isFunction)(e)?g(e,d,2):void 0}))}:(0,a.isFunction)(e)?n?function(){return g(e,d,2)}:function(){if(!d||!d.isUnmounted)return r&&r(),g(e,d,3,[m])}:a.NOOP,n&&l){var v=t;t=function(){return $e(v())}}var h,m=function(e){r=O.options.onStop=function(){g(e,d,4)}},b=(0,a.isArray)(e)?[]:De,_=function(){if(O.active)if(n){var e=O();(l||p||(0,a.hasChanged)(e,b))&&(r&&r(),y(n,d,3,[e,b===De?void 0:b,m]),b=e)}else O()};_.allowRecurse=!!n,h="sync"===c?_:"post"===c?function(){return Pn(_,d&&d.suspense)}:function(){!d||d.isMounted?V(_):_()};var O=(0,o.effect)(t,{lazy:!0,onTrack:s,onTrigger:f,scheduler:h});return Mt(O),n?u?_():b=O():"post"===c?Pn(O,d&&d.suspense):O(),function(){(0,o.stop)(O),d&&(0,a.remove)(d.effects,O)}}function Ye(e,n,t){var r=this.proxy;return ze((0,a.isString)(e)?function(){return r[e]}:e.bind(r),n.bind(r),t,this)}function $e(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(!(0,a.isObject)(e)||n.has(e))return e;if(n.add(e),(0,o.isRef)(e))$e(e.value,n);else if((0,a.isArray)(e))for(var t=0;t<e.length;t++)$e(e[t],n);else if((0,a.isSet)(e)||(0,a.isMap)(e))e.forEach((function(e){$e(e,n)}));else for(var r in e)$e(e[r],n);return e}function Ke(){var e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Me((function(){e.isMounted=!0})),Ie((function(){e.isUnmounting=!0})),e}var Ge=[Function,Array],qe={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ge,onEnter:Ge,onAfterEnter:Ge,onEnterCancelled:Ge,onBeforeLeave:Ge,onLeave:Ge,onAfterLeave:Ge,onLeaveCancelled:Ge,onBeforeAppear:Ge,onAppear:Ge,onAfterAppear:Ge,onAppearCancelled:Ge},setup:function(e,n){var t,r=n.slots,a=Ct(),i=Ke();return function(){var n=r.default&&en(r.default(),!0);if(n&&n.length){var u=(0,o.toRaw)(e),l=u.mode,c=n[0];if(i.isLeaving)return Ze(c);var s=Xe(c);if(!s)return Ze(c);var f=We(s,u,i,a);Qe(s,f);var d=a.subTree,p=d&&Xe(d),v=!1,h=s.type.getTransitionKey;if(h){var m=h();void 0===t?t=m:m!==t&&(t=m,v=!0)}if(p&&p.type!==zn&&(!Xn(s,p)||v)){var g=We(p,u,i,a);if(Qe(p,g),"out-in"===l)return i.isLeaving=!0,g.afterLeave=function(){i.isLeaving=!1,a.update()},Ze(c);"in-out"===l&&(g.delayLeave=function(e,n,t){Je(i,p)[String(p.key)]=p,e._leaveCb=function(){n(),e._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=t})}return c}}}};function Je(e,n){var t=e.leavingVNodes,r=t.get(n.type);return r||(r=Object.create(null),t.set(n.type,r)),r}function We(e,n,t,r){var o=n.appear,a=n.mode,i=n.persisted,u=void 0!==i&&i,l=n.onBeforeEnter,c=n.onEnter,s=n.onAfterEnter,f=n.onEnterCancelled,d=n.onBeforeLeave,p=n.onLeave,v=n.onAfterLeave,h=n.onLeaveCancelled,m=n.onBeforeAppear,g=n.onAppear,b=n.onAfterAppear,_=n.onAppearCancelled,O=String(e.key),w=Je(t,e),S=function(e,n){e&&y(e,r,9,n)},E={mode:a,persisted:u,beforeEnter:function(n){var r=l;if(!t.isMounted){if(!o)return;r=m||l}n._leaveCb&&n._leaveCb(!0);var a=w[O];a&&Xn(e,a)&&a.el._leaveCb&&a.el._leaveCb(),S(r,[n])},enter:function(e){var n=c,r=s,a=f;if(!t.isMounted){if(!o)return;n=g||c,r=b||s,a=_||f}var i=!1,u=e._enterCb=function(n){i||(i=!0,S(n?a:r,[e]),E.delayedLeave&&E.delayedLeave(),e._enterCb=void 0)};n?(n(e,u),n.length<=1&&u()):u()},leave:function(n,r){var o=String(e.key);if(n._enterCb&&n._enterCb(!0),t.isUnmounting)return r();S(d,[n]);var a=!1,i=n._leaveCb=function(t){a||(a=!0,r(),S(t?h:v,[n]),n._leaveCb=void 0,w[o]===e&&delete w[o])};w[o]=e,p?(p(n,i),p.length<=1&&i()):i()},clone:function(e){return We(e,n,t,r)}};return E}function Ze(e){if(nn(e))return(e=rt(e)).children=null,e}function Xe(e){return nn(e)?e.children?e.children[0]:void 0:e}function Qe(e,n){6&e.shapeFlag&&e.component?Qe(e.component.subTree,n):128&e.shapeFlag?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function en(e){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=[],r=0,o=0;o<e.length;o++){var a=e[o];a.type===Dn?(128&a.patchFlag&&r++,t=t.concat(en(a.children,n))):(n||a.type!==zn)&&t.push(a)}if(r>1)for(var i=0;i<t.length;i++)t[i].patchFlag=-2;return t}n.BaseTransition=qe;var nn=function(e){return e.type.__isKeepAlive},tn={name:"KeepAlive",__isKeepAlive:!0,inheritRef:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup:function(e,n){var t=n.slots,r=new Map,o=new Set,i=null,l=Ct(),c=l.suspense,s=l.ctx,f=s.renderer,d=f.p,p=f.m,v=f.um,h=(0,f.o.createElement)("div");function m(e){sn(e),v(e,l,c)}function g(e){r.forEach((function(n,t){var r=rn(n.type);!r||e&&e(r)||y(t)}))}function y(e){var n=r.get(e);i&&n.type===i.type?i&&sn(i):m(n),r.delete(e),o.delete(e)}s.activate=function(e,n,t,r,o){var i=e.component;p(e,n,t,0,c),d(i.vnode,e,n,t,i,c,r,o),Pn((function(){i.isDeactivated=!1,i.a&&(0,a.invokeArrayFns)(i.a);var n=e.props&&e.props.onVnodeMounted;n&&An(n,i.parent,e)}),c)},s.deactivate=function(e){var n=e.component;p(e,h,null,1,c),Pn((function(){n.da&&(0,a.invokeArrayFns)(n.da);var t=e.props&&e.props.onVnodeUnmounted;t&&An(t,n.parent,e),n.isDeactivated=!0}),c)},He((function(){return[e.include,e.exclude]}),(function(e){var n=u(e,2),t=n[0],r=n[1];t&&g((function(e){return on(t,e)})),r&&g((function(e){return!on(r,e)}))}),{flush:"post"});var b=null,_=function(){null!=b&&r.set(b,fn(l.subTree))};return Me(_),Ne(_),Ie((function(){r.forEach((function(e){var n=l.subTree,t=l.suspense,r=fn(n);if(e.type!==r.type)m(e);else{sn(r);var o=r.component.da;o&&Pn(o,t)}}))})),function(){if(b=null,!t.default)return null;var n=t.default(),a=n[0];if(n.length>1)return i=null,n;if(!Zn(a)||!(4&a.shapeFlag||128&a.shapeFlag))return i=null,a;var u=fn(a),l=u.type,c=rn(l),s=e.include,f=e.exclude,d=e.max;if(s&&(!c||!on(s,c))||f&&c&&on(f,c))return i=u,a;var p=null==u.key?l:u.key,v=r.get(p);return u.el&&(u=rt(u),128&a.shapeFlag&&(a.ssContent=u)),b=p,v?(u.el=v.el,u.component=v.component,u.transition&&Qe(u,u.transition),u.shapeFlag|=512,o.delete(p),o.add(p)):(o.add(p),d&&o.size>parseInt(d,10)&&y(o.values().next().value)),u.shapeFlag|=256,i=u,a}}};function rn(e){return e.displayName||e.name}function on(e,n){return(0,a.isArray)(e)?e.some((function(e){return on(e,n)})):(0,a.isString)(e)?e.split(",").indexOf(n)>-1:!!e.test&&e.test(n)}function an(e,n){ln(e,"a",n)}function un(e,n){ln(e,"da",n)}function ln(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tt,r=e.__wdc||(e.__wdc=function(){for(var n=t;n;){if(n.isDeactivated)return;n=n.parent}e()});if(Ae(n,r,t),t)for(var o=t.parent;o&&o.parent;)nn(o.parent.vnode)&&cn(r,n,t,o),o=o.parent}function cn(e,n,t,r){var o=Ae(n,e,r,!0);Be((function(){(0,a.remove)(r[n],o)}),t)}function sn(e){var n=e.shapeFlag;256&n&&(n-=256),512&n&&(n-=512),e.shapeFlag=n}function fn(e){return 128&e.shapeFlag?e.ssContent:e}n.KeepAlive=tn;var dn=function(e){return"_"===e[0]||"$stable"===e},pn=function(e){return(0,a.isArray)(e)?e.map(at):[at(e)]},vn=function(e,n,t){return ge((function(e){return pn(n(e))}),t)},hn=function(e,n){var t=e._ctx;for(var r in e)if(!dn(r)){var o=e[r];(0,a.isFunction)(o)?n[r]=vn(0,o,t):null!=o&&function(){var e=pn(o);n[r]=function(){return e}}()}},mn=function(e,n){var t=pn(n);e.slots.default=function(){return t}},gn=function(e,n){if(32&e.vnode.shapeFlag){var t=n._;t?(e.slots=n,(0,a.def)(n,"_",t)):hn(n,e.slots={})}else e.slots={},n&&mn(e,n);(0,a.def)(e.slots,Qn,1)};function yn(e,n,t,r){for(var o=e.dirs,a=n&&n.dirs,i=0;i<o.length;i++){var u=o[i];a&&(u.oldValue=a[i].value);var l=u.dir[r];l&&y(l,t,8,[e.el,u,e,n])}}function bn(){return{app:null,config:{isNativeTag:a.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:a.NO,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}var _n=0;function On(e,n){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null==r||(0,a.isObject)(r)||(r=null);var o=bn(),i=new Set,u=!1,l=o.app={_uid:_n++,_component:t,_props:r,_container:null,_context:o,version:Ht,get config(){return o.config},set config(e){},use:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return i.has(e)||(e&&(0,a.isFunction)(e.install)?(i.add(e),e.install.apply(e,[l].concat(t))):(0,a.isFunction)(e)&&(i.add(e),e.apply(void 0,[l].concat(t)))),l},mixin:function(e){return __VUE_OPTIONS_API__&&(o.mixins.includes(e)||(o.mixins.push(e),(e.props||e.emits)&&(o.deopt=!0))),l},component:function(e,n){return n?(o.components[e]=n,l):o.components[e]},directive:function(e,n){return n?(o.directives[e]=n,l):o.directives[e]},mount:function(a,i){if(!u){var c=tt(t,r);return c.appContext=o,i&&n?n(c,a):e(c,a),u=!0,l._container=a,a.__vue_app__=l,__VUE_PROD_DEVTOOLS__&&$(l,Ht),c.component.proxy}},unmount:function(){u&&(e(null,l._container),__VUE_PROD_DEVTOOLS__&&K(l))},provide:function(e,n){return o.provides[e]=n,l}};return l}}var wn=!1,Sn=function(e){return/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName},En=function(e){return 8===e.nodeType};function Tn(e){var n=e.mt,t=e.p,r=e.o,o=r.patchProp,i=r.nextSibling,u=r.parentNode,l=r.remove,c=r.insert,s=r.createComment,f=function t(r,o,a,l){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=En(r)&&"["===r.data,f=function(){return h(r,o,a,l,s)},g=o.type,y=o.ref,b=o.shapeFlag,_=r.nodeType;o.el=r;var O=null;switch(g){case Hn:3!==_?O=f():(r.data!==o.children&&(wn=!0,r.data=o.children),O=i(r));break;case zn:O=8!==_||s?f():i(r);break;case Yn:if(1===_){O=r;for(var w=!o.children.length,S=0;S<o.staticCount;S++)w&&(o.children+=O.outerHTML),S===o.staticCount-1&&(o.anchor=O),O=i(O);return O}O=f();break;case Dn:O=s?v(r,o,a,l,c):f();break;default:if(1&b)O=1!==_||o.type!==r.tagName.toLowerCase()?f():d(r,o,a,l,c);else if(6&b){var E=u(r),T=function(){n(o,E,null,a,l,Sn(E),c)},C=o.type.__asyncLoader;C?C().then(T):T(),O=s?m(r):i(r)}else 64&b?O=8!==_?f():o.type.hydrate(r,o,a,l,c,e,p):128&b&&(O=o.type.hydrate(r,o,a,l,Sn(u(r)),c,e,t))}return null!=y&&a&&kn(y,null,a,l,o),O},d=function(e,n,t,r,i){i=i||!!n.dynamicChildren;var u=n.props,c=n.patchFlag,s=n.shapeFlag,f=n.dirs;if(-1!==c){if(f&&yn(n,null,t,"created"),u)if(!i||16&c||32&c)for(var d in u)!(0,a.isReservedProp)(d)&&(0,a.isOn)(d)&&o(e,d,null,u[d]);else u.onClick&&o(e,"onClick",null,u.onClick);var v;if((v=u&&u.onVnodeBeforeMount)&&An(v,t,n),f&&yn(n,null,t,"beforeMount"),((v=u&&u.onVnodeMounted)||f)&&pe((function(){v&&An(v,t,n),f&&yn(n,null,t,"mounted")}),r),16&s&&(!u||!u.innerHTML&&!u.textContent))for(var h=p(e.firstChild,n,e,t,r,i);h;){wn=!0;var m=h;h=h.nextSibling,l(m)}else 8&s&&e.textContent!==n.children&&(wn=!0,e.textContent=n.children)}return e.nextSibling},p=function(e,n,r,o,a,i){i=i||!!n.dynamicChildren;for(var u=n.children,l=u.length,c=0;c<l;c++){var s=i?u[c]:u[c]=at(u[c]);e?e=f(e,s,o,a,i):(wn=!0,t(null,s,r,null,o,a,Sn(r)))}return e},v=function(e,n,t,r,o){var a=u(e),l=p(i(e),n,a,t,r,o);return l&&En(l)&&"]"===l.data?i(n.anchor=l):(wn=!0,c(n.anchor=s("]"),a,l),l)},h=function(e,n,r,o,a){if(wn=!0,n.el=null,a)for(var c=m(e);;){var s=i(e);if(!s||s===c)break;l(s)}var f=i(e),d=u(e);return l(e),t(null,n,d,f,r,o,Sn(d)),f},m=function(e){for(var n=0;e;)if((e=i(e))&&En(e)&&("["===e.data&&n++,"]"===e.data)){if(0===n)return i(e);n--}return e};return[function(e,n){wn=!1,f(n.firstChild,e,null,null),D(),wn&&console.error("Hydration completed but contains mismatches.")},f]}var Cn={scheduler:N,allowRecurse:!0},Pn=pe,kn=function e(n,t,r,i,u){if((0,a.isArray)(n))n.forEach((function(n,o){return e(n,t&&((0,a.isArray)(t)?t[o]:t),r,i,u)}));else{var l;l=u?4&u.shapeFlag?u.component.proxy:u.el:null;var c=n.i,s=n.r,f=t&&t.r,d=c.refs===a.EMPTY_OBJ?c.refs={}:c.refs,p=c.setupState;if(null!=f&&f!==s&&((0,a.isString)(f)?(d[f]=null,(0,a.hasOwn)(p,f)&&(p[f]=null)):(0,o.isRef)(f)&&(f.value=null)),(0,a.isString)(s)){var v=function(){d[s]=l,(0,a.hasOwn)(p,s)&&(p[s]=l)};l?(v.id=-1,Pn(v,i)):v()}else if((0,o.isRef)(s)){var h=function(){s.value=l};l?(h.id=-1,Pn(h,i)):h()}else(0,a.isFunction)(s)&&g(s,r,12,[l,d])}};function xn(e,n){"boolean"!=typeof __VUE_OPTIONS_API__&&((0,a.getGlobalThis)().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&((0,a.getGlobalThis)().__VUE_PROD_DEVTOOLS__=!1);var t,r,i=e.insert,l=e.remove,c=e.patchProp,s=e.forcePatchProp,f=e.createElement,d=e.createText,p=e.createComment,v=e.setText,h=e.setElementText,m=e.parentNode,g=e.nextSibling,y=e.setScopeId,b=void 0===y?a.NOOP:y,_=e.cloneNode,O=e.insertStaticContent,w=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];e&&!Xn(e,n)&&(r=oe(e),K(e,o,a,!0),e=null),-2===n.patchFlag&&(u=!1,n.dynamicChildren=null);var l=n.type,c=n.ref,s=n.shapeFlag;switch(l){case Hn:E(e,n,t,r);break;case zn:T(e,n,t,r);break;case Yn:null==e&&C(n,t,r,i);break;case Dn:F(e,n,t,r,o,a,i,u);break;default:1&s?P(e,n,t,r,o,a,i,u):6&s?N(e,n,t,r,o,a,i,u):(64&s||128&s)&&l.process(e,n,t,r,o,a,i,u,le)}null!=c&&o&&kn(c,e&&e.ref,o,a,n)},E=function(e,n,t,r){if(null==e)i(n.el=d(n.children),t,r);else{var o=n.el=e.el;n.children!==e.children&&v(o,n.children)}},T=function(e,n,t,r){null==e?i(n.el=p(n.children||""),t,r):n.el=e.el},C=function(e,n,t,r){var o=u(O(e.children,n,t,r),2);e.el=o[0],e.anchor=o[1]},P=function(e,n,t,r,o,a,i,u){i=i||"svg"===n.type,null==e?k(n,t,r,o,a,i,u):R(e,n,o,a,i,u)},k=function(e,n,t,r,o,u,l){var s,d,p=e.type,v=e.props,m=e.shapeFlag,g=e.transition,y=e.scopeId,b=e.patchFlag,O=e.dirs;if(e.el&&void 0!==_&&-1===b)s=e.el=_(e.el);else{if(s=e.el=f(e.type,u,v&&v.is),8&m?h(s,e.children):16&m&&A(e.children,s,null,r,o,u&&"foreignObject"!==p,l||!!e.dynamicChildren),O&&yn(e,null,r,"created"),v){for(var w in v)(0,a.isReservedProp)(w)||c(s,w,null,v[w],u,e.children,r,o,te);(d=v.onVnodeBeforeMount)&&An(d,r,e)}x(s,y,e,r)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(s,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(s,"__vueParentComponent",{value:r,enumerable:!1})),O&&yn(e,null,r,"beforeMount");var S=(!o||o&&!o.pendingBranch)&&g&&!g.persisted;S&&g.beforeEnter(s),i(s,n,t),((d=v&&v.onVnodeMounted)||S||O)&&Pn((function(){d&&An(d,r,e),S&&g.enter(s),O&&yn(e,null,r,"mounted")}),o)},x=function e(n,t,r,o){if(t&&b(n,t),o){var a=o.type.__scopeId;a&&a!==t&&b(n,a+"-s"),r===o.subTree&&e(n,o.vnode.scopeId,o.vnode,o.parent)}},A=function(e,n,t,r,o,a,i){for(var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=u;l<e.length;l++){var c=e[l]=i?it(e[l]):at(e[l]);w(null,c,n,t,r,o,a,i)}},R=function(e,n,t,r,o,i){var u=n.el=e.el,l=n.patchFlag,f=n.dynamicChildren,d=n.dirs;l|=16&e.patchFlag;var p,v=e.props||a.EMPTY_OBJ,m=n.props||a.EMPTY_OBJ;if((p=m.onVnodeBeforeUpdate)&&An(p,t,n,e),d&&yn(n,e,t,"beforeUpdate"),l>0){if(16&l)M(u,n,v,m,t,r,o);else if(2&l&&v.class!==m.class&&c(u,"class",null,m.class,o),4&l&&c(u,"style",v.style,m.style,o),8&l)for(var g=n.dynamicProps,y=0;y<g.length;y++){var b=g[y],_=v[b],O=m[b];(O!==_||s&&s(u,b))&&c(u,b,_,O,o,e.children,t,r,te)}1&l&&e.children!==n.children&&h(u,n.children)}else i||null!=f||M(u,n,v,m,t,r,o);var w=o&&"foreignObject"!==n.type;f?j(e.dynamicChildren,f,u,t,r,w):i||H(e,n,u,null,t,r,w),((p=m.onVnodeUpdated)||d)&&Pn((function(){p&&An(p,t,n,e),d&&yn(n,e,t,"updated")}),r)},j=function(e,n,t,r,o,a){for(var i=0;i<n.length;i++){var u=e[i],l=n[i],c=u.type===Dn||!Xn(u,l)||6&u.shapeFlag||64&u.shapeFlag?m(u.el):t;w(u,l,c,null,r,o,a,!0)}},M=function(e,n,t,r,o,i,u){if(t!==r){for(var l in r)if(!(0,a.isReservedProp)(l)){var f=r[l],d=t[l];(f!==d||s&&s(e,l))&&c(e,l,d,f,u,n.children,o,i,te)}if(t!==a.EMPTY_OBJ)for(var p in t)(0,a.isReservedProp)(p)||p in r||c(e,p,t[p],null,u,n.children,o,i,te)}},F=function(e,n,t,r,o,a,u,l){var c=n.el=e?e.el:d(""),s=n.anchor=e?e.anchor:d(""),f=n.patchFlag,p=n.dynamicChildren;f>0&&(l=!0),null==e?(i(c,t,r),i(s,t,r),A(n.children,t,s,o,a,u,l)):f>0&&64&f&&p?(j(e.dynamicChildren,p,t,o,a,u),(null!=n.key||o&&n===o.subTree)&&Rn(e,n,!0)):H(e,n,t,s,o,a,u,l)},N=function(e,n,t,r,o,a,i,u){null==e?512&n.shapeFlag?o.ctx.activate(n,t,r,i,u):I(n,t,r,o,a,i,u):B(e,n,u)},I=function(e,n,t,r,o,i,u){var l=e.component=function(e,n,t){var r=e.type,o=(n?n.appContext:e.appContext)||St,i={uid:Et++,vnode:e,type:r,parent:n,appContext:o,root:null,next:null,subTree:null,update:null,render:null,proxy:null,withProxy:null,effects:null,provides:n?n.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Te(r,o),emitsOptions:Q(r,o),emit:null,emitted:null,ctx:a.EMPTY_OBJ,data:a.EMPTY_OBJ,props:a.EMPTY_OBJ,attrs:a.EMPTY_OBJ,slots:a.EMPTY_OBJ,refs:a.EMPTY_OBJ,setupState:a.EMPTY_OBJ,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return i.ctx={_:i},i.root=n?n.root:i,i.emit=X.bind(null,i),__VUE_PROD_DEVTOOLS__&&G(i),i}(e,r,o);if(nn(e)&&(l.ctx.renderer=le),function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];xt=n;var t=e.vnode,r=t.props,o=t.children,a=4&t.shapeFlag;we(e,r,a,n),gn(e,o);a&&At(e,n);xt=!1}(l),l.asyncDep){if(o&&o.registerDep(l,V),!e.el){var c=l.subTree=tt(zn);T(null,c,n,t)}}else V(l,e,n,t,o,i,u)},B=function(e,n,t){var r,o,a=n.component=e.component;if(function(e,n,t){var r=e.props,o=e.children,a=e.component,i=n.props,u=n.children,l=n.patchFlag,c=a.emitsOptions;if(n.dirs||n.transition)return!0;if(!(t&&l>0))return!(!o&&!u||u&&u.$stable)||r!==i&&(r?!i||ie(r,i,c):!!i);if(1024&l)return!0;if(16&l)return r?ie(r,i,c):!!i;if(8&l)for(var s=n.dynamicProps,f=0;f<s.length;f++){var d=s[f];if(i[d]!==r[d]&&!ee(c,d))return!0}return!1}(e,n,t)){if(a.asyncDep&&!a.asyncResolved)return void L(a,n,t);a.next=n,r=a.update,(o=S.indexOf(r))>-1&&(S[o]=null),a.update()}else n.component=e.component,n.el=e.el,a.vnode=n},V=function(e,n,t,i,u,l,c){e.update=(0,o.effect)((function(){if(e.isMounted){var o,s=e.next,f=e.bu,d=e.u,p=e.parent,v=e.vnode,h=s;s?(s.el=v.el,L(e,s,c)):s=v,f&&(0,a.invokeArrayFns)(f),(o=s.props&&s.props.onVnodeBeforeUpdate)&&An(o,p,s,v);var g=re(e),y=e.subTree;e.subTree=g,w(y,g,m(y.el),oe(y),e,u,l),s.el=g.el,null===h&&ue(e,g.el),d&&Pn(d,u),(o=s.props&&s.props.onVnodeUpdated)&&Pn((function(){An(o,p,s,v)}),u),__VUE_PROD_DEVTOOLS__&&q(e)}else{var b,_=n.el,O=n.props,S=e.bm,E=e.m,T=e.parent;S&&(0,a.invokeArrayFns)(S),(b=O&&O.onVnodeBeforeMount)&&An(b,T,n);var C=e.subTree=re(e);_&&r?r(n.el,C,e,u):(w(null,C,t,i,e,u,l),n.el=C.el),E&&Pn(E,u),(b=O&&O.onVnodeMounted)&&Pn((function(){An(b,T,n)}),u);var P=e.a;P&&256&n.shapeFlag&&Pn(P,u),e.isMounted=!0}}),Cn)},L=function(e,n,t){n.component=e;var r=e.vnode.props;e.vnode=n,e.next=null,function(e,n,t,r){var i=e.props,l=e.attrs,c=e.vnode.patchFlag,s=(0,o.toRaw)(i),f=u(e.propsOptions,1)[0];if(!(r||c>0)||16&c){var d;for(var p in Se(e,n,i,l),s)n&&((0,a.hasOwn)(n,p)||(d=(0,a.hyphenate)(p))!==p&&(0,a.hasOwn)(n,d))||(f?!t||void 0===t[p]&&void 0===t[d]||(i[p]=Ee(f,n||a.EMPTY_OBJ,p,void 0,e)):delete i[p]);if(l!==s)for(var v in l)n&&(0,a.hasOwn)(n,v)||delete l[v]}else if(8&c)for(var h=e.vnode.dynamicProps,m=0;m<h.length;m++){var g=h[m],y=n[g];if(f)if((0,a.hasOwn)(l,g))l[g]=y;else{var b=(0,a.camelize)(g);i[b]=Ee(f,s,b,y,e)}else l[g]=y}(0,o.trigger)(e,"set","$attrs")}(e,n.props,r,t),function(e,n){var t=e.vnode,r=e.slots,o=!0,i=a.EMPTY_OBJ;if(32&t.shapeFlag){var u=n._;u?1===u?o=!1:(0,a.extend)(r,n):(o=!n.$stable,hn(n,r)),i=n}else n&&(mn(e,n),i={default:1});if(o)for(var l in r)dn(l)||l in i||delete r[l]}(e,n.children),U(void 0,e.update)},H=function(e,n,t,r,o,a,i){var u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=e&&e.children,c=e?e.shapeFlag:0,s=n.children,f=n.patchFlag,d=n.shapeFlag;if(f>0){if(128&f)return void Y(l,s,t,r,o,a,i,u);if(256&f)return void z(l,s,t,r,o,a,i,u)}8&d?(16&c&&te(l,o,a),s!==l&&h(t,s)):16&c?16&d?Y(l,s,t,r,o,a,i,u):te(l,o,a,!0):(8&c&&h(t,""),16&d&&A(s,t,r,o,a,i,u))},z=function(e,n,t,r,o,i,u,l){e=e||a.EMPTY_ARR,n=n||a.EMPTY_ARR;var c,s=e.length,f=n.length,d=Math.min(s,f);for(c=0;c<d;c++){var p=n[c]=l?it(n[c]):at(n[c]);w(e[c],p,t,null,o,i,u,l)}s>f?te(e,o,i,!0,!1,d):A(n,t,r,o,i,u,l,d)},Y=function(e,n,t,r,o,i,u,l){for(var c=0,s=n.length,f=e.length-1,d=s-1;c<=f&&c<=d;){var p=e[c],v=n[c]=l?it(n[c]):at(n[c]);if(!Xn(p,v))break;w(p,v,t,null,o,i,u,l),c++}for(;c<=f&&c<=d;){var h=e[f],m=n[d]=l?it(n[d]):at(n[d]);if(!Xn(h,m))break;w(h,m,t,null,o,i,u,l),f--,d--}if(c>f){if(c<=d)for(var g=d+1,y=g<s?n[g].el:r;c<=d;)w(null,n[c]=l?it(n[c]):at(n[c]),t,y,o,i,u),c++}else if(c>d)for(;c<=f;)K(e[c],o,i,!0),c++;else{var b,_=c,O=c,S=new Map;for(c=O;c<=d;c++){var E=n[c]=l?it(n[c]):at(n[c]);null!=E.key&&S.set(E.key,c)}var T=0,C=d-O+1,P=!1,k=0,x=new Array(C);for(c=0;c<C;c++)x[c]=0;for(c=_;c<=f;c++){var A=e[c];if(T>=C)K(A,o,i,!0);else{var R=void 0;if(null!=A.key)R=S.get(A.key);else for(b=O;b<=d;b++)if(0===x[b-O]&&Xn(A,n[b])){R=b;break}void 0===R?K(A,o,i,!0):(x[R-O]=c+1,R>=k?k=R:P=!0,w(A,n[R],t,null,o,i,u,l),T++)}}var j=P?function(e){var n,t,r,o,a,i=e.slice(),u=[0],l=e.length;for(n=0;n<l;n++){var c=e[n];if(0!==c){if(e[t=u[u.length-1]]<c){i[n]=t,u.push(n);continue}for(r=0,o=u.length-1;r<o;)e[u[a=(r+o)/2|0]]<c?r=a+1:o=a;c<e[u[r]]&&(r>0&&(i[n]=u[r-1]),u[r]=n)}}for(o=u[(r=u.length)-1];r-- >0;)u[r]=o,o=i[o];return u}(x):a.EMPTY_ARR;for(b=j.length-1,c=C-1;c>=0;c--){var M=O+c,F=n[M],N=M+1<s?n[M+1].el:r;0===x[c]?w(null,F,t,N,o,i,u):P&&(b<0||c!==j[b]?$(F,t,N,2):b--)}}},$=function e(n,t,r,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=n.el,l=n.type,c=n.transition,s=n.children,f=n.shapeFlag;if(6&f)e(n.component.subTree,t,r,o);else if(128&f)n.suspense.move(t,r,o);else if(64&f)l.move(n,t,r,le);else if(l!==Dn){var d=2!==o&&1&f&&c;if(d)if(0===o)c.beforeEnter(u),i(u,t,r),Pn((function(){return c.enter(u)}),a);else{var p=c.leave,v=c.delayLeave,h=c.afterLeave,m=function(){return i(u,t,r)},g=function(){p(u,(function(){m(),h&&h()}))};v?v(u,m,g):g()}else i(u,t,r)}else{i(u,t,r);for(var y=0;y<s.length;y++)e(s[y],t,r,o);i(n.anchor,t,r)}},K=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=e.type,i=e.props,u=e.ref,l=e.children,c=e.dynamicChildren,s=e.shapeFlag,f=e.patchFlag,d=e.dirs;if(null!=u&&n&&kn(u,null,n,t,null),256&s)n.ctx.deactivate(e);else{var p,v=1&s&&d;if((p=i&&i.onVnodeBeforeUnmount)&&An(p,n,e),6&s)ne(e.component,t,r);else{if(128&s)return void e.suspense.unmount(t,r);v&&yn(e,null,n,"beforeUnmount"),c&&(a!==Dn||f>0&&64&f)?te(c,n,t,!1,!0):(a===Dn&&(128&f||256&f)||!o&&16&s)&&te(l,n,t),64&s&&(r||!Mn(e.props))&&e.type.remove(e,le),r&&W(e)}((p=i&&i.onVnodeUnmounted)||v)&&Pn((function(){p&&An(p,n,e),v&&yn(e,null,n,"unmounted")}),t)}},W=function(e){var n=e.type,t=e.el,r=e.anchor,o=e.transition;if(n!==Dn){var a=function(){l(t),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){var i=o.leave,u=o.delayLeave,c=function(){return i(t,a)};u?u(e.el,a,c):c()}else a()}else Z(t,r)},Z=function(e,n){for(var t;e!==n;)t=g(e),l(e),e=t;l(n)},ne=function(e,n,t){var r=e.bum,i=e.effects,u=e.update,l=e.subTree,c=e.um;if(r&&(0,a.invokeArrayFns)(r),i)for(var s=0;s<i.length;s++)(0,o.stop)(i[s]);u&&((0,o.stop)(u),K(l,e,n,t)),c&&Pn(c,n),Pn((function(){e.isUnmounted=!0}),n),n&&n.pendingBranch&&!n.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===n.pendingId&&(n.deps--,0===n.deps&&n.resolve()),__VUE_PROD_DEVTOOLS__&&J(e)},te=function(e,n,t){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=a;i<e.length;i++)K(e[i],n,t,r,o)},oe=function e(n){return 6&n.shapeFlag?e(n.component.subTree):128&n.shapeFlag?n.suspense.next():g(n.anchor||n.el)},ae=function(e,n){null==e?n._vnode&&K(n._vnode,null,null,!0):w(n._vnode||null,e,n),D(),n._vnode=e},le={p:w,um:K,m:$,r:W,mt:I,mc:A,pc:H,pbc:j,n:oe,o:e};if(n){var ce=u(n(le),2);t=ce[0],r=ce[1]}return{render:ae,hydrate:t,createApp:On(ae,t)}}function An(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;y(e,n,7,[t,r])}function Rn(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.children,o=n.children;if((0,a.isArray)(r)&&(0,a.isArray)(o))for(var i=0;i<r.length;i++){var u=r[i],l=o[i];1&l.shapeFlag&&!l.dynamicChildren&&((l.patchFlag<=0||32===l.patchFlag)&&((l=o[i]=it(o[i])).el=u.el),t||Rn(u,l))}}var jn=function(e){return e.__isTeleport},Mn=function(e){return e&&(e.disabled||""===e.disabled)},Fn=function(e,n){var t=e&&e.to;return(0,a.isString)(t)?n?n(t):null:t};function Nn(e,n,t,r){var o=r.o.insert,a=r.m,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;0===i&&o(e.targetAnchor,n,t);var u=e.el,l=e.anchor,c=e.shapeFlag,s=e.children,f=e.props,d=2===i;if(d&&o(u,n,t),(!d||Mn(f))&&16&c)for(var p=0;p<s.length;p++)a(s[p],n,t,2);d&&o(l,n,t)}var In={__isTeleport:!0,process:function(e){function n(n,t,r,o,a,i,u,l,c){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e,n,t,r,o,a,i,u,l){var c=l.mc,s=l.pc,f=l.pbc,d=l.o,p=d.insert,v=d.querySelector,h=d.createText,m=(d.createComment,Mn(n.props)),g=n.shapeFlag,y=n.children;if(null==e){var b=n.el=h(""),_=n.anchor=h("");p(b,t,r),p(_,t,r);var O=n.target=Fn(n.props,v),w=n.targetAnchor=h("");O&&p(w,O);var S=function(e,n){16&g&&c(y,e,n,o,a,i,u)};m?S(t,_):O&&S(O,w)}else{n.el=e.el;var E=n.anchor=e.anchor,T=n.target=e.target,C=n.targetAnchor=e.targetAnchor,P=Mn(e.props),k=P?t:T,x=P?E:C;if(n.dynamicChildren?(f(e.dynamicChildren,n.dynamicChildren,k,o,a,i),Rn(e,n,!0)):u||s(e,n,k,x,o,a,i),m)P||Nn(n,t,E,l,1);else if((n.props&&n.props.to)!==(e.props&&e.props.to)){var A=n.target=Fn(n.props,v);A&&Nn(n,A,null,l,0)}else P&&Nn(n,T,C,l,1)}})),remove:function(e,n){var t=n.r,r=n.o.remove,o=e.shapeFlag,a=e.children;if(r(e.anchor),16&o)for(var i=0;i<a.length;i++)t(a[i])},move:Nn,hydrate:function(e,n,t,r,o,a,i){var u=a.o,l=u.nextSibling,c=u.parentNode,s=u.querySelector,f=n.target=Fn(n.props,s);if(f){var d=f._lpa||f.firstChild;16&n.shapeFlag&&(Mn(n.props)?(n.anchor=i(l(e),n,c(e),t,r,o),n.targetAnchor=d):(n.anchor=l(e),n.targetAnchor=i(d,n,f,t,r,o)),f._lpa=n.targetAnchor&&l(n.targetAnchor))}return n.anchor&&l(n.anchor)}};n.Teleport=In;var Bn="components",Vn=Symbol();function Ln(e,n){var t=ne||Tt;if(t){var r=t.type;if(e===Bn){var o=r.displayName||r.name;if(o&&(o===n||o===(0,a.camelize)(n)||o===(0,a.capitalize)((0,a.camelize)(n))))return r}return Un(t[e]||r[e],n)||Un(t.appContext[e],n)}}function Un(e,n){return e&&(e[n]||e[(0,a.camelize)(n)]||e[(0,a.capitalize)((0,a.camelize)(n))])}var Dn=Symbol(void 0);n.Fragment=Dn;var Hn=Symbol(void 0);n.Text=Hn;var zn=Symbol(void 0);n.Comment=zn;var Yn=Symbol(void 0);n.Static=Yn;var $n=[],Kn=null;function Gn(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];$n.push(Kn=e?null:[])}function qn(){$n.pop(),Kn=$n[$n.length-1]||null}var Jn=1;function Wn(e,n,t,r,o){var i=tt(e,n,t,r,o,!0);return i.dynamicChildren=Kn||a.EMPTY_ARR,qn(),Jn>0&&Kn&&Kn.push(i),i}function Zn(e){return!!e&&!0===e.__v_isVNode}function Xn(e,n){return e.type===n.type&&e.key===n.key}var Qn="__vInternal",et=function(e){var n=e.key;return null!=n?n:null},nt=function(e){var n=e.ref;return null!=n?(0,a.isArray)(n)?n:{i:ne,r:n}:null},tt=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&e!==Vn||(e=zn),Zn(e)){var s=rt(e,t,!0);return r&&ut(s,r),s}if(Bt(e)&&(e=e.__vccOpts),t){((0,o.isProxy)(t)||Qn in t)&&(t=(0,a.extend)({},t));var f=t,d=f.class,p=f.style;d&&!(0,a.isString)(d)&&(t.class=(0,a.normalizeClass)(d)),(0,a.isObject)(p)&&((0,o.isProxy)(p)&&!(0,a.isArray)(p)&&(p=(0,a.extend)({},p)),t.style=(0,a.normalizeStyle)(p))}var v=(0,a.isString)(e)?1:le(e)?128:jn(e)?64:(0,a.isObject)(e)?4:(0,a.isFunction)(e)?2:0,h=(l(n={__v_isVNode:!0},"__v_skip",!0),l(n,"type",e),l(n,"props",t),l(n,"key",t&&et(t)),l(n,"ref",t&&nt(t)),l(n,"scopeId",ye),l(n,"children",null),l(n,"component",null),l(n,"suspense",null),l(n,"ssContent",null),l(n,"ssFallback",null),l(n,"dirs",null),l(n,"transition",null),l(n,"el",null),l(n,"anchor",null),l(n,"target",null),l(n,"targetAnchor",null),l(n,"staticCount",0),l(n,"shapeFlag",v),l(n,"patchFlag",i),l(n,"dynamicProps",u),l(n,"dynamicChildren",null),l(n,"appContext",null),n);if(ut(h,r),128&v){var m=fe(h),g=m.content,y=m.fallback;h.ssContent=g,h.ssFallback=y}return Jn>0&&!c&&Kn&&(i>0||6&v)&&32!==i&&Kn.push(h),h};function rt(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.props,i=e.ref,u=e.patchFlag,c=n?lt(o||{},n):o;return l(t={__v_isVNode:!0},"__v_skip",!0),l(t,"type",e.type),l(t,"props",c),l(t,"key",c&&et(c)),l(t,"ref",n&&n.ref?r&&i?(0,a.isArray)(i)?i.concat(nt(n)):[i,nt(n)]:nt(n):i),l(t,"scopeId",e.scopeId),l(t,"children",e.children),l(t,"target",e.target),l(t,"targetAnchor",e.targetAnchor),l(t,"staticCount",e.staticCount),l(t,"shapeFlag",e.shapeFlag),l(t,"patchFlag",n&&e.type!==Dn?-1===u?16:16|u:u),l(t,"dynamicProps",e.dynamicProps),l(t,"dynamicChildren",e.dynamicChildren),l(t,"appContext",e.appContext),l(t,"dirs",e.dirs),l(t,"transition",e.transition),l(t,"component",e.component),l(t,"suspense",e.suspense),l(t,"ssContent",e.ssContent&&rt(e.ssContent)),l(t,"ssFallback",e.ssFallback&&rt(e.ssFallback)),l(t,"el",e.el),l(t,"anchor",e.anchor),t}function ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return tt(Hn,null,e,n)}function at(e){return null==e||"boolean"==typeof e?tt(zn):(0,a.isArray)(e)?tt(Dn,null,e):"object"===i(e)?null===e.el?e:rt(e):tt(Hn,null,String(e))}function it(e){return null===e.el?e:rt(e)}function ut(e,n){var t=0,r=e.shapeFlag;if(null==n)n=null;else if((0,a.isArray)(n))t=16;else if("object"===i(n)){if(1&r||64&r){var o=n.default;return void(o&&(o._c&&me(1),ut(e,o()),o._c&&me(-1)))}t=32;var u=n._;u||Qn in n?3===u&&ne&&(1024&ne.vnode.patchFlag?(n._=2,e.patchFlag|=1024):n._=1):n._ctx=ne}else(0,a.isFunction)(n)?(n={default:n,_ctx:ne},t=32):(n=String(n),64&r?(t=16,n=[ot(n)]):t=8);e.children=n,e.shapeFlag|=t}function lt(){for(var e=(0,a.extend)({},arguments.length<=0?void 0:arguments[0]),n=1;n<arguments.length;n++){var t=n<0||arguments.length<=n?void 0:arguments[n];for(var r in t)if("class"===r)e.class!==t.class&&(e.class=(0,a.normalizeClass)([e.class,t.class]));else if("style"===r)e.style=(0,a.normalizeStyle)([e.style,t.style]);else if((0,a.isOn)(r)){var o=e[r],i=t[r];o!==i&&(e[r]=o?[].concat(o,t[r]):i)}else""!==r&&(e[r]=t[r])}return e}function ct(e,n){if(Tt){var t=Tt.provides,r=Tt.parent&&Tt.parent.provides;r===t&&(t=Tt.provides=Object.create(r)),t[e]=n}}function st(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Tt||ne;if(r){var o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return t&&(0,a.isFunction)(n)?n():n}}n.createVNode=tt;var ft=!1;function dt(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=n.mixins,l=n.extends,c=n.data,s=n.computed,f=n.methods,d=n.watch,p=n.provide,v=n.inject,h=n.components,m=n.directives,g=n.beforeMount,y=n.mounted,b=n.beforeUpdate,_=n.updated,O=n.activated,w=n.deactivated,S=(n.beforeDestroy,n.beforeUnmount),E=(n.destroyed,n.unmounted),T=n.render,C=n.renderTracked,P=n.renderTriggered,k=n.errorCaptured,x=e.proxy,A=e.ctx,R=e.appContext.mixins;if(i&&T&&e.render===a.NOOP&&(e.render=T),i||(ft=!0,pt("beforeCreate","bc",n,e,R),ft=!1,mt(e,R,t,r,o)),l&&dt(e,l,t,r,o,!0),u&&mt(e,u,t,r,o),v)if((0,a.isArray)(v))for(var j=0;j<v.length;j++){var M=v[j];A[M]=st(M)}else for(var F in v){var N=v[F];(0,a.isObject)(N)?A[F]=st(N.from||F,N.default,!0):A[F]=st(N)}if(f)for(var I in f){var B=f[I];(0,a.isFunction)(B)&&(A[I]=B.bind(x))}if(i?c&&t.push(c):(t.length&&t.forEach((function(n){return gt(e,n,x)})),c&&gt(e,c,x)),s){var V=function(e){var n=s[e],t=Vt({get:(0,a.isFunction)(n)?n.bind(x,x):(0,a.isFunction)(n.get)?n.get.bind(x,x):a.NOOP,set:!(0,a.isFunction)(n)&&(0,a.isFunction)(n.set)?n.set.bind(x):a.NOOP});Object.defineProperty(A,e,{enumerable:!0,configurable:!0,get:function(){return t.value},set:function(e){return t.value=e}})};for(var L in s)V(L)}d&&r.push(d),!i&&r.length&&r.forEach((function(e){for(var n in e)yt(e[n],A,x,n)})),p&&o.push(p),!i&&o.length&&o.forEach((function(e){var n=(0,a.isFunction)(e)?e.call(x):e;for(var t in n)ct(t,n[t])})),i&&(h&&(0,a.extend)(e.components||(e.components=(0,a.extend)({},e.type.components)),h),m&&(0,a.extend)(e.directives||(e.directives=(0,a.extend)({},e.type.directives)),m)),i||pt("created","c",n,e,R),g&&je(g.bind(x)),y&&Me(y.bind(x)),b&&Fe(b.bind(x)),_&&Ne(_.bind(x)),O&&an(O.bind(x)),w&&un(w.bind(x)),k&&Ue(k.bind(x)),C&&Le(C.bind(x)),P&&Ve(P.bind(x)),S&&Ie(S.bind(x)),E&&Be(E.bind(x))}function pt(e,n,t,r,o){ht(e,n,o,r);var a=t.extends,i=t.mixins;a&&vt(e,n,a,r),i&&ht(e,n,i,r);var u=t[e];u&&y(u.bind(r.proxy),r,n)}function vt(e,n,t,r){t.extends&&vt(e,n,t.extends,r);var o=t[e];o&&y(o.bind(r.proxy),r,n)}function ht(e,n,t,r){for(var o=0;o<t.length;o++){var a=t[o].mixins;a&&ht(e,n,a,r);var i=t[o][e];i&&y(i.bind(r.proxy),r,n)}}function mt(e,n,t,r,o){for(var a=0;a<n.length;a++)dt(e,n[a],t,r,o,!0)}function gt(e,n,t){var r=n.call(t,t);(0,a.isObject)(r)&&(e.data===a.EMPTY_OBJ?e.data=(0,o.reactive)(r):(0,a.extend)(e.data,r))}function yt(e,n,t,r){var o=r.includes(".")?function(e,n){var t=n.split(".");return function(){for(var n=e,r=0;r<t.length&&n;r++)n=n[t[r]];return n}}(t,r):function(){return t[r]};if((0,a.isString)(e)){var i=n[e];(0,a.isFunction)(i)&&He(o,i)}else if((0,a.isFunction)(e))He(o,e.bind(t));else if((0,a.isObject)(e))if((0,a.isArray)(e))e.forEach((function(e){return yt(e,n,t,r)}));else{var u=(0,a.isFunction)(e.handler)?e.handler.bind(t):n[e.handler];(0,a.isFunction)(u)&&He(o,u,e)}}function bt(e,n,t){var r=t.appContext.config.optionMergeStrategies,o=n.mixins,i=n.extends;for(var u in i&&bt(e,i,t),o&&o.forEach((function(n){return bt(e,n,t)})),n)r&&(0,a.hasOwn)(r,u)?e[u]=r[u](e[u],n[u],t.proxy,u):e[u]=n[u]}var _t=(0,a.extend)(Object.create(null),{$:function(e){return e},$el:function(e){return e.vnode.el},$data:function(e){return e.data},$props:function(e){return e.props},$attrs:function(e){return e.attrs},$slots:function(e){return e.slots},$refs:function(e){return e.refs},$parent:function(e){return e.parent&&e.parent.proxy},$root:function(e){return e.root&&e.root.proxy},$emit:function(e){return e.emit},$options:function(e){return __VUE_OPTIONS_API__?function(e){var n=e.type,t=n.__merged,r=n.mixins,o=n.extends;if(t)return t;var a=e.appContext.mixins;if(!a.length&&!r&&!o)return n;var i={};return a.forEach((function(n){return bt(i,n,e)})),bt(i,n,e),n.__merged=i}(e):e.type},$forceUpdate:function(e){return function(){return N(e.update)}},$nextTick:function(e){return F.bind(e.proxy)},$watch:function(e){return __VUE_OPTIONS_API__?Ye.bind(e):a.NOOP}}),Ot={get:function(e,n){var t,r=e._,i=r.ctx,u=r.setupState,l=r.data,c=r.props,s=r.accessCache,f=r.type,d=r.appContext;if("__v_skip"===n)return!0;if("$"!==n[0]){var p=s[n];if(void 0!==p)switch(p){case 0:return u[n];case 1:return l[n];case 3:return i[n];case 2:return c[n]}else{if(u!==a.EMPTY_OBJ&&(0,a.hasOwn)(u,n))return s[n]=0,u[n];if(l!==a.EMPTY_OBJ&&(0,a.hasOwn)(l,n))return s[n]=1,l[n];if((t=r.propsOptions[0])&&(0,a.hasOwn)(t,n))return s[n]=2,c[n];if(i!==a.EMPTY_OBJ&&(0,a.hasOwn)(i,n))return s[n]=3,i[n];__VUE_OPTIONS_API__&&ft||(s[n]=4)}}var v,h,m=_t[n];return m?("$attrs"===n&&(0,o.track)(r,"get",n),m(r)):(v=f.__cssModules)&&(v=v[n])?v:i!==a.EMPTY_OBJ&&(0,a.hasOwn)(i,n)?(s[n]=3,i[n]):(h=d.config.globalProperties,(0,a.hasOwn)(h,n)?h[n]:void 0)},set:function(e,n,t){var r=e._,o=r.data,i=r.setupState,u=r.ctx;if(i!==a.EMPTY_OBJ&&(0,a.hasOwn)(i,n))i[n]=t;else if(o!==a.EMPTY_OBJ&&(0,a.hasOwn)(o,n))o[n]=t;else if(n in r.props)return!1;return!("$"===n[0]&&n.slice(1)in r||(u[n]=t,0))},has:function(e,n){var t,r=e._,o=r.data,i=r.setupState,u=r.accessCache,l=r.ctx,c=r.appContext,s=r.propsOptions;return void 0!==u[n]||o!==a.EMPTY_OBJ&&(0,a.hasOwn)(o,n)||i!==a.EMPTY_OBJ&&(0,a.hasOwn)(i,n)||(t=s[0])&&(0,a.hasOwn)(t,n)||(0,a.hasOwn)(l,n)||(0,a.hasOwn)(_t,n)||(0,a.hasOwn)(c.config.globalProperties,n)}},wt=(0,a.extend)({},Ot,{get:function(e,n){if(n!==Symbol.unscopables)return Ot.get(e,n,e)},has:function(e,n){return"_"!==n[0]&&!(0,a.isGloballyWhitelisted)(n)}}),St=bn(),Et=0,Tt=null,Ct=function(){return Tt||ne};n.getCurrentInstance=Ct;var Pt,kt=function(e){Tt=e},xt=!1;function At(e,n){var t=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ot);var r=t.setup;if(r){var i=e.setupContext=r.length>1?function(e){return{attrs:e.attrs,slots:e.slots,emit:e.emit}}(e):null;Tt=e,(0,o.pauseTracking)();var u=g(r,e,0,[e.props,i]);if((0,o.resetTracking)(),Tt=null,(0,a.isPromise)(u)){if(n)return u.then((function(n){Rt(e,n)}));e.asyncDep=u}else Rt(e,u)}else jt(e)}function Rt(e,n,t){(0,a.isFunction)(n)?e.render=n:(0,a.isObject)(n)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=n),e.setupState=(0,o.proxyRefs)(n)),jt(e)}function jt(e,n){var t=e.type;e.render||(Pt&&t.template&&!t.render&&(t.render=Pt(t.template,{isCustomElement:e.appContext.config.isCustomElement,delimiters:t.delimiters})),e.render=t.render||a.NOOP,e.render._rc&&(e.withProxy=new Proxy(e.ctx,wt))),__VUE_OPTIONS_API__&&(Tt=e,dt(e,t),Tt=null)}function Mt(e){Tt&&(Tt.effects||(Tt.effects=[])).push(e)}var Ft=/(?:^|[-_])(\w)/g,Nt=function(e){return e.replace(Ft,(function(e){return e.toUpperCase()})).replace(/[-_]/g,"")};function It(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,a.isFunction)(n)&&n.displayName||n.name;if(!r&&n.__file){var o=n.__file.match(/([^/\\]+)\.vue$/);o&&(r=o[1])}if(!r&&e&&e.parent){var i=function(e){for(var t in e)if(e[t]===n)return t};r=i(e.components||e.parent.type.components)||i(e.appContext.components)}return r?Nt(r):t?"App":"Anonymous"}function Bt(e){return(0,a.isFunction)(e)&&"__vccOpts"in e}function Vt(e){var n=(0,o.computed)(e);return Mt(n.effect),n}function Lt(e){return(0,a.isFunction)(e)?{setup:e,name:e.name}:e}function Ut(e,n){var t=n.vnode,r=t.props,o=t.children;return tt(e,r,o)}var Dt=Symbol("");n.ssrContextKey=Dt,n.useSSRContext=function(){var e=st(Dt);return e||p("Server rendering context not provided. Make sure to only call useSsrContext() conditionally in the server build."),e};var Ht="3.0.2";n.version=Ht,n.ssrUtils=null},391:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});var r={Transition:!0,TransitionGroup:!0,createApp:!0,createSSRApp:!0,hydrate:!0,render:!0,useCssModule:!0,useCssVars:!0,vModelCheckbox:!0,vModelDynamic:!0,vModelRadio:!0,vModelSelect:!0,vModelText:!0,vShow:!0,withKeys:!0,withModifiers:!0};n.useCssModule=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$style",n=(0,o.getCurrentInstance)();if(!n)return a.EMPTY_OBJ;var t=n.type.__cssModules;if(!t)return a.EMPTY_OBJ;var r=t[e];return r||a.EMPTY_OBJ},n.useCssVars=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=(0,o.getCurrentInstance)();if(t){var r=n&&t.type.__scopeId?"".concat(t.type.__scopeId.replace(/^data-v-/,""),"-"):"",a=function(){return I(t.subTree,e(t.proxy),r)};(0,o.onMounted)((function(){return(0,o.watchEffect)(a)})),(0,o.onUpdated)(a)}},n.withModifiers=n.withKeys=n.vShow=n.vModelText=n.vModelSelect=n.vModelRadio=n.vModelDynamic=n.vModelCheckbox=n.render=n.hydrate=n.createSSRApp=n.createApp=n.TransitionGroup=n.Transition=void 0;var o=t(979);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=t(420);function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return t}}(e,n)||l(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){if(e){if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var s,f,d="http://www.w3.org/2000/svg",p="undefined"!=typeof document?document:null,v={insert:function(e,n,t){n.insertBefore(e,t||null)},remove:function(e){var n=e.parentNode;n&&n.removeChild(e)},createElement:function(e,n,t){return n?p.createElementNS(d,e):p.createElement(e,t?{is:t}:void 0)},createText:function(e){return p.createTextNode(e)},createComment:function(e){return p.createComment(e)},setText:function(e,n){e.nodeValue=n},setElementText:function(e,n){e.textContent=n},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},querySelector:function(e){return p.querySelector(e)},setScopeId:function(e,n){e.setAttribute(n,"")},cloneNode:function(e){return e.cloneNode(!0)},insertStaticContent:function(e,n,t,r){var o=r?f||(f=p.createElementNS(d,"svg")):s||(s=p.createElement("div"));o.innerHTML=e;for(var a=o.firstChild,i=a,u=i;i;)u=i,v.insert(i,n,t),i=o.firstChild;return[a,u]}};function h(e,n,t){if(null==n&&(n=""),t)e.setAttribute("class",n);else{var r=e._vtc;r&&(n=(n?[n].concat(u(r)):u(r)).join(" ")),e.className=n}}function m(e,n,t){var r=e.style;if(t)if((0,a.isString)(t))n!==t&&(r.cssText=t);else{for(var o in t)y(r,o,t[o]);if(n&&!(0,a.isString)(n))for(var i in n)null==t[i]&&y(r,i,"")}else e.removeAttribute("style")}var g=/\s*!important$/;function y(e,n,t){if((0,a.isArray)(t))t.forEach((function(t){return y(e,n,t)}));else if(n.startsWith("--"))e.setProperty(n,t);else{var r=function(e,n){var t=_[n];if(t)return t;var r=(0,o.camelize)(n);if("filter"!==r&&r in e)return _[n]=r;r=(0,a.capitalize)(r);for(var i=0;i<b.length;i++){var u=b[i]+r;if(u in e)return _[n]=u}return n}(e,n);g.test(t)?e.setProperty((0,a.hyphenate)(r),t.replace(g,""),"important"):e[r]=t}}var b=["Webkit","Moz","ms"],_={},O="http://www.w3.org/1999/xlink";function w(e,n,t,r){if(r&&n.startsWith("xlink:"))null==t?e.removeAttributeNS(O,n.slice(6,n.length)):e.setAttributeNS(O,n,t);else{var o=(0,a.isSpecialBooleanAttr)(n);null==t||o&&!1===t?e.removeAttribute(n):e.setAttribute(n,o?"":t)}}function S(e,n,t,r,o,a,i){if("innerHTML"===n||"textContent"===n)return r&&i(r,o,a),void(e[n]=null==t?"":t);if("value"!==n||"PROGRESS"===e.tagName)if(""===t&&"boolean"==typeof e[n])e[n]=!0;else if(null==t&&"string"==typeof e[n])e[n]="",e.removeAttribute(n);else try{e[n]=t}catch(e){}else{e._value=t;var u=null==t?"":t;e.value!==u&&(e.value=u)}}var E=Date.now;"undefined"!=typeof document&&E()>document.createEvent("Event").timeStamp&&(E=function(){return performance.now()});var T=0,C=Promise.resolve(),P=function(){T=0};function k(e,n,t,r){e.addEventListener(n,t,r)}function x(e,n,t,r){e.removeEventListener(n,t,r)}function A(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=e._vei||(e._vei={}),u=a[n];if(r&&u)u.value=r;else{var l=j(n),c=i(l,2),s=c[0],f=c[1];if(r){var d=a[n]=M(r,o);k(e,s,d,f)}else u&&(x(e,s,u,f),a[n]=void 0)}}var R=/(?:Once|Passive|Capture)$/;function j(e){var n,t;if(R.test(e))for(n={};t=e.match(R);)e=e.slice(0,e.length-t[0].length),n[t[0].toLowerCase()]=!0;return[e.slice(2).toLowerCase(),n]}function M(e,n){var t=function e(t){(t.timeStamp||E())>=e.attached-1&&(0,o.callWithAsyncErrorHandling)(function(e,n){if((0,a.isArray)(n)){var t=e.stopImmediatePropagation;return e.stopImmediatePropagation=function(){t.call(e),e._stopped=!0},n.map((function(e){return function(n){return!n._stopped&&e(n)}}))}return n}(t,e.value),n,5,[t])};return t.value=e,t.attached=T||(C.then(P),T=E()),t}var F=/^on[a-z]/;function N(e,n,t,r){return r?"innerHTML"===n||!!(n in e&&F.test(n)&&(0,a.isFunction)(t)):!("spellcheck"===n||"draggable"===n||"form"===n&&"string"==typeof t||"list"===n&&"INPUT"===e.tagName||F.test(n)&&(0,a.isString)(t)||!(n in e))}function I(e,n,t){if(128&e.shapeFlag){var r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push((function(){I(r.activeBranch,n,t)}))}for(;e.component;)e=e.component.subTree;if(1&e.shapeFlag&&e.el){var a=e.el.style;for(var i in n)a.setProperty("--".concat(t).concat(i),(0,o.unref)(n[i]))}else e.type===o.Fragment&&e.children.forEach((function(e){return I(e,n,t)}))}var B="transition",V="animation",L=function(e,n){var t=n.slots;return(0,o.h)(o.BaseTransition,H(e),t)};n.Transition=L,L.displayName="Transition";var U={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},D=L.props=(0,a.extend)({},o.BaseTransition.props,U);function H(e){var n=e.name,t=void 0===n?"v":n,r=e.type,o=e.css,i=void 0===o||o,u=e.duration,l=e.enterFromClass,c=void 0===l?"".concat(t,"-enter-from"):l,s=e.enterActiveClass,f=void 0===s?"".concat(t,"-enter-active"):s,d=e.enterToClass,p=void 0===d?"".concat(t,"-enter-to"):d,v=e.appearFromClass,h=void 0===v?c:v,m=e.appearActiveClass,g=void 0===m?f:m,y=e.appearToClass,b=void 0===y?p:y,_=e.leaveFromClass,O=void 0===_?"".concat(t,"-leave-from"):_,w=e.leaveActiveClass,S=void 0===w?"".concat(t,"-leave-active"):w,E=e.leaveToClass,T=void 0===E?"".concat(t,"-leave-to"):E,C={};for(var P in e)P in U||(C[P]=e[P]);if(!i)return C;var k=function(e){if(null==e)return null;if((0,a.isObject)(e))return[z(e.enter),z(e.leave)];var n=z(e);return[n,n]}(u),x=k&&k[0],A=k&&k[1],R=C.onBeforeEnter,j=C.onEnter,M=C.onEnterCancelled,F=C.onLeave,N=C.onLeaveCancelled,I=C.onBeforeAppear,B=void 0===I?R:I,V=C.onAppear,L=void 0===V?j:V,D=C.onAppearCancelled,H=void 0===D?M:D,q=function(e,n,t){$(e,n?b:p),$(e,n?g:f),t&&t()},J=function(e,n){$(e,T),$(e,S),n&&n()},W=function(e){return function(n,t){var o=e?L:j,a=function(){return q(n,e,t)};o&&o(n,a),K((function(){$(n,e?h:c),Y(n,e?b:p),o&&o.length>1||(x?setTimeout(a,x):G(n,r,a))}))}};return(0,a.extend)(C,{onBeforeEnter:function(e){R&&R(e),Y(e,f),Y(e,c)},onBeforeAppear:function(e){B&&B(e),Y(e,g),Y(e,h)},onEnter:W(!1),onAppear:W(!0),onLeave:function(e,n){var t=function(){return J(e,n)};Y(e,S),Y(e,O),K((function(){$(e,O),Y(e,T),F&&F.length>1||(A?setTimeout(t,A):G(e,r,t))})),F&&F(e,t)},onEnterCancelled:function(e){q(e,!1),M&&M(e)},onAppearCancelled:function(e){q(e,!0),H&&H(e)},onLeaveCancelled:function(e){J(e),N&&N(e)}})}function z(e){return(0,a.toNumber)(e)}function Y(e,n){n.split(/\s+/).forEach((function(n){return n&&e.classList.add(n)})),(e._vtc||(e._vtc=new Set)).add(n)}function $(e,n){n.split(/\s+/).forEach((function(n){return n&&e.classList.remove(n)}));var t=e._vtc;t&&(t.delete(n),t.size||(e._vtc=void 0))}function K(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))}function G(e,n,t){var r=q(e,n),o=r.type,a=r.timeout,i=r.propCount;if(!o)return t();var u=o+"end",l=0,c=function(){e.removeEventListener(u,s),t()},s=function(n){n.target===e&&++l>=i&&c()};setTimeout((function(){l<i&&c()}),a+1),e.addEventListener(u,s)}function q(e,n){var t=window.getComputedStyle(e),r=function(e){return(t[e]||"").split(", ")},o=r("transitionDelay"),a=r("transitionDuration"),i=J(o,a),u=r("animationDelay"),l=r("animationDuration"),c=J(u,l),s=null,f=0,d=0;return n===B?i>0&&(s=B,f=i,d=a.length):n===V?c>0&&(s=V,f=c,d=l.length):d=(s=(f=Math.max(i,c))>0?i>c?B:V:null)?s===B?a.length:l.length:0,{type:s,timeout:f,propCount:d,hasTransform:s===B&&/\b(transform|all)(,|$)/.test(t.transitionProperty)}}function J(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max.apply(Math,u(n.map((function(n,t){return W(n)+W(e[t])}))))}function W(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Z(e){return e&&Z(e.__v_raw)||e}var X=new WeakMap,Q=new WeakMap,ee={name:"TransitionGroup",props:(0,a.extend)({},D,{tag:String,moveClass:String}),setup:function(e,n){var t,r,a=n.slots,i=(0,o.getCurrentInstance)(),u=(0,o.useTransitionState)();return(0,o.onUpdated)((function(){if(t.length){var n=e.moveClass||"".concat(e.name||"v","-move");if(function(e,n,t){var r=e.cloneNode();e._vtc&&e._vtc.forEach((function(e){e.split(/\s+/).forEach((function(e){return e&&r.classList.remove(e)}))})),t.split(/\s+/).forEach((function(e){return e&&r.classList.add(e)})),r.style.display="none";var o=1===n.nodeType?n:n.parentNode;o.appendChild(r);var a=q(r).hasTransform;return o.removeChild(r),a}(t[0].el,i.vnode.el,n)){t.forEach(ne),t.forEach(te);var r=t.filter(re);document.body.offsetHeight,r.forEach((function(e){var t=e.el,r=t.style;Y(t,n),r.transform=r.webkitTransform=r.transitionDuration="";var o=t._moveCb=function(e){e&&e.target!==t||e&&!/transform$/.test(e.propertyName)||(t.removeEventListener("transitionend",o),t._moveCb=null,$(t,n))};t.addEventListener("transitionend",o)}))}}})),function(){var n=Z(e),l=H(n),c=n.tag||o.Fragment;t=r,r=a.default?(0,o.getTransitionRawChildren)(a.default()):[];for(var s=0;s<r.length;s++){var f=r[s];null!=f.key&&(0,o.setTransitionHooks)(f,(0,o.resolveTransitionHooks)(f,l,u,i))}if(t)for(var d=0;d<t.length;d++){var p=t[d];(0,o.setTransitionHooks)(p,(0,o.resolveTransitionHooks)(p,l,u,i)),X.set(p,p.el.getBoundingClientRect())}return(0,o.createVNode)(c,null,r)}}};function ne(e){var n=e.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function te(e){Q.set(e,e.el.getBoundingClientRect())}function re(e){var n=X.get(e),t=Q.get(e),r=n.left-t.left,o=n.top-t.top;if(r||o){var a=e.el.style;return a.transform=a.webkitTransform="translate(".concat(r,"px,").concat(o,"px)"),a.transitionDuration="0s",e}}n.TransitionGroup=ee;var oe=function(e){var n=e.props["onUpdate:modelValue"];return(0,a.isArray)(n)?function(e){return(0,a.invokeArrayFns)(n,e)}:n};function ae(e){e.target.composing=!0}function ie(e){var n=e.target;n.composing&&(n.composing=!1,function(e,n){var t=document.createEvent("HTMLEvents");t.initEvent("input",!0,!0),e.dispatchEvent(t)}(n))}var ue={created:function(e,n,t){var r=n.modifiers,o=r.lazy,i=r.trim,u=r.number;e._assign=oe(t);var l=u||"number"===e.type;k(e,o?"change":"input",(function(n){if(!n.target.composing){var t=e.value;i?t=t.trim():l&&(t=(0,a.toNumber)(t)),e._assign(t)}})),i&&k(e,"change",(function(){e.value=e.value.trim()})),o||(k(e,"compositionstart",ae),k(e,"compositionend",ie),k(e,"change",ie))},mounted:function(e,n){var t=n.value;e.value=null==t?"":t},beforeUpdate:function(e,n,t){var r=n.value,o=n.modifiers,i=o.trim,u=o.number;if(e._assign=oe(t),!e.composing){if(document.activeElement===e){if(i&&e.value.trim()===r)return;if((u||"number"===e.type)&&(0,a.toNumber)(e.value)===r)return}var l=null==r?"":r;e.value!==l&&(e.value=l)}}};n.vModelText=ue;var le={created:function(e,n,t){ce(e,n,t),e._assign=oe(t),k(e,"change",(function(){var n=e._modelValue,t=pe(e),r=e.checked,o=e._assign;if((0,a.isArray)(n)){var i=(0,a.looseIndexOf)(n,t),l=-1!==i;if(r&&!l)o(n.concat(t));else if(!r&&l){var c=u(n);c.splice(i,1),o(c)}}else(0,a.isSet)(n)?r?n.add(t):n.delete(t):o(ve(e,r))}))},beforeUpdate:function(e,n,t){e._assign=oe(t),ce(e,n,t)}};function ce(e,n,t){var r=n.value,o=n.oldValue;e._modelValue=r,(0,a.isArray)(r)?e.checked=(0,a.looseIndexOf)(r,t.props.value)>-1:(0,a.isSet)(r)?e.checked=r.has(t.props.value):r!==o&&(e.checked=(0,a.looseEqual)(r,ve(e,!0)))}n.vModelCheckbox=le;var se={created:function(e,n,t){var r=n.value;e.checked=(0,a.looseEqual)(r,t.props.value),e._assign=oe(t),k(e,"change",(function(){e._assign(pe(e))}))},beforeUpdate:function(e,n,t){var r=n.value,o=n.oldValue;e._assign=oe(t),r!==o&&(e.checked=(0,a.looseEqual)(r,t.props.value))}};n.vModelRadio=se;var fe={created:function(e,n,t){var r=n.modifiers.number;k(e,"change",(function(){var n=Array.prototype.filter.call(e.options,(function(e){return e.selected})).map((function(e){return r?(0,a.toNumber)(pe(e)):pe(e)}));e._assign(e.multiple?n:n[0])})),e._assign=oe(t)},mounted:function(e,n){de(e,n.value)},beforeUpdate:function(e,n,t){e._assign=oe(t)},updated:function(e,n){de(e,n.value)}};function de(e,n){var t=e.multiple;if(!t||(0,a.isArray)(n)||(0,a.isSet)(n)){for(var r=0,o=e.options.length;r<o;r++){var i=e.options[r],u=pe(i);if(t)(0,a.isArray)(n)?i.selected=(0,a.looseIndexOf)(n,u)>-1:i.selected=n.has(u);else if((0,a.looseEqual)(pe(i),n))return void(e.selectedIndex=r)}t||(e.selectedIndex=-1)}}function pe(e){return"_value"in e?e._value:e.value}function ve(e,n){var t=n?"_trueValue":"_falseValue";return t in e?e[t]:n}n.vModelSelect=fe;var he={created:function(e,n,t){me(e,n,t,null,"created")},mounted:function(e,n,t){me(e,n,t,null,"mounted")},beforeUpdate:function(e,n,t,r){me(e,n,t,r,"beforeUpdate")},updated:function(e,n,t,r){me(e,n,t,r,"updated")}};function me(e,n,t,r,o){var a;switch(e.tagName){case"SELECT":a=fe;break;case"TEXTAREA":a=ue;break;default:switch(t.props&&t.props.type){case"checkbox":a=le;break;case"radio":a=se;break;default:a=ue}}var i=a[o];i&&i(e,n,t,r)}n.vModelDynamic=he;var ge=["ctrl","shift","alt","meta"],ye={stop:function(e){return e.stopPropagation()},prevent:function(e){return e.preventDefault()},self:function(e){return e.target!==e.currentTarget},ctrl:function(e){return!e.ctrlKey},shift:function(e){return!e.shiftKey},alt:function(e){return!e.altKey},meta:function(e){return!e.metaKey},left:function(e){return"button"in e&&0!==e.button},middle:function(e){return"button"in e&&1!==e.button},right:function(e){return"button"in e&&2!==e.button},exact:function(e,n){return ge.some((function(t){return e["".concat(t,"Key")]&&!n.includes(t)}))}};n.withModifiers=function(e,n){return function(t){for(var r=0;r<n.length;r++){var o=ye[n[r]];if(o&&o(t,n))return}for(var a=arguments.length,i=new Array(a>1?a-1:0),u=1;u<a;u++)i[u-1]=arguments[u];return e.apply(void 0,[t].concat(i))}};var be={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"};n.withKeys=function(e,n){return function(t){if("key"in t){var r=(0,a.hyphenate)(t.key);if(n.some((function(e){return e===r||be[e]===r})))return e(t)}}};var _e={beforeMount:function(e,n,t){var r=n.value,o=t.transition;e._vod="none"===e.style.display?"":e.style.display,o&&r?o.beforeEnter(e):Oe(e,r)},mounted:function(e,n,t){var r=n.value,o=t.transition;o&&r&&o.enter(e)},updated:function(e,n,t){var r=n.value,o=n.oldValue,a=t.transition;!r!=!o&&(a?r?(a.beforeEnter(e),Oe(e,!0),a.enter(e)):a.leave(e,(function(){Oe(e,!1)})):Oe(e,r))},beforeUnmount:function(e,n){Oe(e,n.value)}};function Oe(e,n){e.style.display=n?e._vod:"none"}n.vShow=_e;var we,Se=(0,a.extend)({patchProp:function(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0;switch(n){case"class":h(e,r,o);break;case"style":m(e,t,r);break;default:(0,a.isOn)(n)?(0,a.isModelListener)(n)||A(e,n,t,r,u):N(e,n,r,o)?S(e,n,r,i,u,l,c):("true-value"===n?e._trueValue=r:"false-value"===n&&(e._falseValue=r),w(e,n,r,o))}},forcePatchProp:function(e,n){return"value"===n}},v),Ee=!1;function Te(){return we||(we=(0,o.createRenderer)(Se))}function Ce(){return we=Ee?we:(0,o.createHydrationRenderer)(Se),Ee=!0,we}function Pe(e){return(0,a.isString)(e)?document.querySelector(e):e}n.render=function(){var e;(e=Te()).render.apply(e,arguments)},n.hydrate=function(){var e;(e=Ce()).hydrate.apply(e,arguments)},n.createApp=function(){var e,n=(e=Te()).createApp.apply(e,arguments),t=n.mount;return n.mount=function(e){var r=Pe(e);if(r){var o=n._component;(0,a.isFunction)(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";var i=t(r);return r.removeAttribute("v-cloak"),r.setAttribute("data-v-app",""),i}},n},n.createSSRApp=function(){var e,n=(e=Ce()).createApp.apply(e,arguments),t=n.mount;return n.mount=function(e){var n=Pe(e);if(n)return t(n,!0)},n}},420:(e,n,t)=>{var r;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){if(e){if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){for(var t=Object.create(null),r=e.split(","),o=0;o<r.length;o++)t[r[o]]=!0;return n?function(e){return!!t[e.toLowerCase()]}:function(e){return!!t[e]}}Object.defineProperty(n,"__esModule",{value:!0}),n.escapeHtml=function(e){var n=""+e,t=T.exec(n);if(!t)return n;var r,o,a="",i=0;for(o=t.index;o<n.length;o++){switch(n.charCodeAt(o)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==o&&(a+=n.substring(i,o)),i=o+1,a+=r}return i!==o?a+n.substring(i,o):a},n.escapeHtmlComment=function(e){return e.replace(C,"")},n.generateCodeFrame=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=e.split(/\r?\n/),o=0,a=[],i=0;i<r.length;i++)if((o+=r[i].length+1)>=n){for(var u=i-2;u<=i+2||t>o;u++)if(!(u<0||u>=r.length)){var l=u+1;a.push("".concat(l).concat(" ".repeat(Math.max(3-String(l).length,0)),"|  ").concat(r[u]));var c=r[u].length;if(u===i){var s=n-(o-c)+1,f=Math.max(1,t>o?c-s:t-n);a.push("   |  "+" ".repeat(s)+"^".repeat(f))}else if(u>i){if(t>o){var d=Math.max(Math.min(t-o,c),1);a.push("   |  "+"^".repeat(d))}o+=c+1}}break}return a.join("\n")},n.isSSRSafeAttrName=function(e){if(m.hasOwnProperty(e))return m[e];var n=h.test(e);return n&&console.error("unsafe attribute name: ".concat(e)),m[e]=!n},n.looseEqual=P,n.looseIndexOf=function(e,n){return e.findIndex((function(e){return P(e,n)}))},n.makeMap=c,n.normalizeClass=function e(n){var t="";if(B(n))t=n;else if(j(n))for(var r=0;r<n.length;r++)t+=e(n[r])+" ";else if(V(n))for(var o in n)n[o]&&(t+=o+" ");return t.trim()},n.normalizeStyle=function e(n){if(j(n)){for(var t={},r=0;r<n.length;r++){var o=n[r],a=e(B(o)?O(o):o);if(a)for(var i in a)t[i]=a[i]}return t}if(V(n))return n},n.parseStringStyle=O,n.stringifyStyle=function(e){var n="";if(!e)return n;for(var t in e){var r=e[t],o=t.startsWith("--")?t:G(t);(B(r)||"number"==typeof r&&g(o))&&(n+="".concat(o,":").concat(r,";"))}return n},n.toTypeString=n.toRawType=n.toNumber=n.toHandlerKey=n.toDisplayString=n.remove=n.propsToAttrMap=n.objectToString=n.isVoidTag=n.isSymbol=n.isString=n.isSpecialBooleanAttr=n.isSet=n.isSVGTag=n.isReservedProp=n.isPromise=n.isPlainObject=n.isOn=n.isObject=n.isNoUnitNumericStyleProp=n.isModelListener=n.isMap=n.isKnownAttr=n.isIntegerKey=n.isHTMLTag=n.isGloballyWhitelisted=n.isFunction=n.isDate=n.isBooleanAttr=n.isArray=n.invokeArrayFns=n.hyphenate=n.hasOwn=n.hasChanged=n.getGlobalThis=n.extend=n.def=n.capitalize=n.camelize=n.babelParserDefaultPlugins=n.PatchFlagNames=n.NOOP=n.NO=n.EMPTY_OBJ=n.EMPTY_ARR=void 0;var s=(l(r={},1,"TEXT"),l(r,2,"CLASS"),l(r,4,"STYLE"),l(r,8,"PROPS"),l(r,16,"FULL_PROPS"),l(r,32,"HYDRATE_EVENTS"),l(r,64,"STABLE_FRAGMENT"),l(r,128,"KEYED_FRAGMENT"),l(r,256,"UNKEYED_FRAGMENT"),l(r,1024,"DYNAMIC_SLOTS"),l(r,512,"NEED_PATCH"),l(r,-1,"HOISTED"),l(r,-2,"BAIL"),r);n.PatchFlagNames=s;var f=c("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl");n.isGloballyWhitelisted=f;var d="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",p=c(d);n.isSpecialBooleanAttr=p;var v=c(d+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");n.isBooleanAttr=v;var h=/[>/="'\u0009\u000a\u000c\u0020]/,m={};n.propsToAttrMap={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"};var g=c("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width");n.isNoUnitNumericStyleProp=g;var y=c("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap");n.isKnownAttr=y;var b=/;(?![^(]*\))/g,_=/:(.+)/;function O(e){var n={};return e.split(b).forEach((function(e){if(e){var t=e.split(_);t.length>1&&(n[t[0].trim()]=t[1].trim())}})),n}var w=c("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot");n.isHTMLTag=w;var S=c("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view");n.isSVGTag=S;var E=c("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr");n.isVoidTag=E;var T=/["'&<>]/,C=/^-?>|<!--|-->|--!>|<!-$/g;function P(e,n){if(e===n)return!0;var t=N(e),r=N(n);if(t||r)return!(!t||!r)&&e.getTime()===n.getTime();if(t=j(e),r=j(n),t||r)return!(!t||!r)&&function(e,n){if(e.length!==n.length)return!1;for(var t=!0,r=0;t&&r<e.length;r++)t=P(e[r],n[r]);return t}(e,n);if(t=V(e),r=V(n),t||r){if(!t||!r)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var o in e){var a=e.hasOwnProperty(o),i=n.hasOwnProperty(o);if(a&&!i||!a&&i||!P(e[o],n[o]))return!1}}return String(e)===String(n)}n.toDisplayString=function(e){return null==e?"":V(e)?JSON.stringify(e,k,2):String(e)};var k=function(e,n){return M(n)?l({},"Map(".concat(n.size,")"),a(n.entries()).reduce((function(e,n){var t,r,o=(r=2,function(e){if(Array.isArray(e))return e}(t=n)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return t}}(t,r)||i(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],u=o[1];return e["".concat(a," =>")]=u,e}),{})):F(n)?l({},"Set(".concat(n.size,")"),a(n.values())):!V(n)||j(n)||D(n)?n:String(n)};n.babelParserDefaultPlugins=["bigInt","optionalChaining","nullishCoalescingOperator"];n.EMPTY_OBJ={};n.EMPTY_ARR=[],n.NOOP=function(){},n.NO=function(){return!1};var x=/^on[^a-z]/;n.isOn=function(e){return x.test(e)},n.isModelListener=function(e){return e.startsWith("onUpdate:")};var A=Object.assign;n.extend=A,n.remove=function(e,n){var t=e.indexOf(n);t>-1&&e.splice(t,1)};var R=Object.prototype.hasOwnProperty;n.hasOwn=function(e,n){return R.call(e,n)};var j=Array.isArray;n.isArray=j;var M=function(e){return"[object Map]"===U(e)};n.isMap=M;var F=function(e){return"[object Set]"===U(e)};n.isSet=F;var N=function(e){return e instanceof Date};n.isDate=N;var I=function(e){return"function"==typeof e};n.isFunction=I;var B=function(e){return"string"==typeof e};n.isString=B,n.isSymbol=function(e){return"symbol"===o(e)};var V=function(e){return null!==e&&"object"===o(e)};n.isObject=V,n.isPromise=function(e){return V(e)&&I(e.then)&&I(e.catch)};var L=Object.prototype.toString;n.objectToString=L;var U=function(e){return L.call(e)};n.toTypeString=U,n.toRawType=function(e){return U(e).slice(8,-1)};var D=function(e){return"[object Object]"===U(e)};n.isPlainObject=D,n.isIntegerKey=function(e){return B(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e};var H=c(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted");n.isReservedProp=H;var z=function(e){var n=Object.create(null);return function(t){return n[t]||(n[t]=e(t))}},Y=/-(\w)/g,$=z((function(e){return e.replace(Y,(function(e,n){return n?n.toUpperCase():""}))}));n.camelize=$;var K=/\B([A-Z])/g,G=z((function(e){return e.replace(K,"-$1").toLowerCase()}));n.hyphenate=G;var q=z((function(e){return e.charAt(0).toUpperCase()+e.slice(1)}));n.capitalize=q;var J,W=z((function(e){return e?"on".concat(q(e)):""}));n.toHandlerKey=W,n.hasChanged=function(e,n){return e!==n&&(e==e||n==n)},n.invokeArrayFns=function(e,n){for(var t=0;t<e.length;t++)e[t](n)},n.def=function(e,n,t){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value:t})},n.toNumber=function(e){var n=parseFloat(e);return isNaN(n)?e:n},n.getGlobalThis=function(){return J||(J="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t.g?t.g:{})}},327:(e,n)=>{Object.defineProperty(n,"X",{value:!0}),n.Z=void 0,n.Z={data:function(){return{}}}},998:(e,n)=>{Object.defineProperty(n,"X",{value:!0}),n.Z=void 0;var t={data:function(){return{value:"",dataList:""}},created:function(){var e=window.location.origin,n=this;$.ajax({url:e+"/getFile",type:"get",data:"",dataType:"json",processData:!1,contentType:!1,success:function(e){n.dataList=e,console.log(e)},fail:function(e){console.log(e)}})},methods:{btnFile:function(){$("#file").click()},chooseFile:function(e){for(var n=e.target.files.length,t=window.location.origin,r="",o="",a=new FormData,i=0;i<n;i++)o=e.target.files[i],r=e.target.files[i].name,a.append("file"+i,o),a.append("fileName"+i,r),this.value+=e.target.files[i].name+"  ";$.ajax({url:t+"/upload",type:"post",data:a,dataType:"json",processData:!1,contentType:!1,success:function(e){console.log(e)},fail:function(e){console.log(e)}}),console.log(e.target.files.length)},btnUpload:function(){}}};n.Z=t},667:()=>{},78:(e,n,t)=>{n.s=void 0;var r=t(876),o=(0,r.withScopeId)("data-v-f611589c");(0,r.pushScopeId)("data-v-f611589c");var a={id:"app"};(0,r.popScopeId)();var i=o((function(e,n,t,o,i,u){var l=(0,r.resolveComponent)("router-view");return(0,r.openBlock)(),(0,r.createBlock)("div",a,[(0,r.createVNode)(l)])}));n.s=i},961:(e,n,t)=>{n.s=void 0;var r=t(876),o=(0,r.withScopeId)("data-v-b9a55c54");(0,r.pushScopeId)("data-v-b9a55c54");var a={class:"index"},i=(0,r.createVNode)("h2",{class:"title"},"图片、视频上传小工具 （支持批量上传）",-1),u={class:"search"},l={style:{width:"10%"}},c={style:{width:"10%"}},s={class:"content"},f=(0,r.createVNode)("thead",null,[(0,r.createVNode)("tr",null,[(0,r.createVNode)("th",null,"编号"),(0,r.createVNode)("th",null,"地址"),(0,r.createVNode)("th",null,"预览 "),(0,r.createVNode)("th",null,"日期"),(0,r.createVNode)("th",null,"操作")])],-1);(0,r.popScopeId)();var d=o((function(e,n,t,o,d,p){return(0,r.openBlock)(),(0,r.createBlock)("div",a,[i,(0,r.createVNode)("div",u,[(0,r.withDirectives)((0,r.createVNode)("input",{type:"text",class:"upload_file","onUpdate:modelValue":n[1]||(n[1]=function(e){return d.value=e})},null,512),[[r.vModelText,d.value]]),(0,r.createVNode)("div",l,[(0,r.createVNode)("input",{type:"file",style:{display:"none"},id:"file",multiple:"multiple",onChange:n[2]||(n[2]=function(e){return p.chooseFile(e)})},null,32),(0,r.createVNode)("a",{href:"javascript:;",class:"choose",onClick:n[3]||(n[3]=function(){return p.btnFile.apply(p,arguments)})},"选择图片")]),(0,r.createVNode)("div",c,[(0,r.createCommentVNode)(' <input type="file" style="display:none" @click="uploadFile"> '),(0,r.createVNode)("a",{href:"javascript:;",class:"btnUpload",onClick:n[4]||(n[4]=function(){return p.btnUpload.apply(p,arguments)})},"上传")])]),(0,r.createVNode)("div",s,[(0,r.createVNode)("table",null,[f,(0,r.createVNode)("tbody",null,[((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(d.dataList,(function(e,n){return(0,r.openBlock)(),(0,r.createBlock)("tr",{key:n},[(0,r.createVNode)("td",null,(0,r.toDisplayString)(e.id),1),(0,r.createVNode)("td",null,(0,r.toDisplayString)(e.url),1),(0,r.createVNode)("td",null,[(0,r.createVNode)("img",{src:e.url,alt:"",style:{width:"50px",height:"auto"}},null,8,["src"])]),(0,r.createVNode)("td",null,(0,r.toDisplayString)(e.time),1),(0,r.createVNode)("td",null,(0,r.toDisplayString)(e.time),1)])})),128))])])])])}));n.s=d},137:(e,n,t)=>{n.s=function(e,n,t,a,i,u){return(0,r.openBlock)(),(0,r.createBlock)("div",o," aaaadsadasd ")};var r=t(876),o={class:"test"}},284:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createMemoryHistory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=[],t=[""],r=0;function o(e){++r===t.length||t.splice(r),t.push(e)}function a(e,t,r){var o,a={direction:r.direction,delta:r.delta,type:w.pop},i=c(n);try{for(i.s();!(o=i.n()).done;)(0,o.value)(e,t,a)}catch(e){i.e(e)}finally{i.f()}}var i={location:"",state:{},base:e,createHref:F.bind(null,e),replace:function(e){t.splice(r--,1),o(e)},push:function(e,n){o(e)},listen:function(e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}},destroy:function(){n=[]},go:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this.location,i=e<0?S.back:S.forward;r=Math.max(0,Math.min(r+e,t.length-1)),n&&a(this.location,o,{direction:i,delta:e})}};return Object.defineProperty(i,"location",{get:function(){return t[r]}}),i},n.createRouter=function(e){var n=re(e.routes,e),t=e.parseQuery||Ce,r=e.stringifyQuery||Pe,a=e.scrollBehavior,i=e.history,l=xe(),s=xe(),f=xe(),d=(0,o.shallowRef)(z),p=z;b&&a&&"scrollRestoration"in history&&(history.scrollRestoration="manual");var v,h=O.bind(null,(function(e){return""+e})),m=O.bind(null,Ee),w=O.bind(null,Te);function S(e,o){if(o=_({},o||d.value),"string"==typeof e){var a=C(t,e,o.path),u=n.resolve({path:a.path},o),l=i.createHref(a.fullPath);return _(a,u,{params:w(u.params),hash:Te(a.hash),redirectedFrom:void 0,href:l})}var c;"path"in e?c=_({},e,{path:C(t,e.path,o.path).path}):(c=_({},e,{params:m(e.params)}),o.params=m(o.params));var s=n.resolve(c,o),f=e.hash||"";s.params=h(w(s.params));var p,v=function(e,n){var t=n.query?e(n.query):"";return n.path+(t&&"?")+t+(n.hash||"")}(r,_({},e,{hash:(p=f,we(p).replace(ye,"{").replace(_e,"}").replace(me,"^")),path:s.path})),g=i.createHref(v);return _({fullPath:v,hash:f,query:r===Pe?ke(e.query):e.query},s,{redirectedFrom:void 0,href:g})}function T(e){return"string"==typeof e?{path:e}:_({},e)}function P(e,n){if(p!==e)return K(8,{from:n,to:e})}function A(e){return j(e)}function R(e){var n=e.matched[e.matched.length-1];if(n&&n.redirect){var t=n.redirect,r=T("function"==typeof t?t(e):t);return _({query:e.query,hash:e.hash,params:e.params},r)}}function j(e,n){var t=p=S(e),o=d.value,a=e.state,i=e.force,u=!0===e.replace,l=R(t);if(l)return j(_(l,{state:a,force:i,replace:u}),n||t);var c,s=t;return s.redirectedFrom=n,!i&&function(e,n,t){var r=n.matched.length-1,o=t.matched.length-1;return r>-1&&r===o&&k(n.matched[r],t.matched[o])&&x(n.params,t.params)&&e(n.query)===e(t.query)&&n.hash===t.hash}(r,o,t)&&(c=K(16,{to:s,from:o}),J(o,o,!0,!1)),(c?Promise.resolve(c):F(s,o)).catch((function(e){return G(e)?e:$(e)})).then((function(e){if(e){if(G(e,2))return j(_(T(e.to),{state:a,force:i,replace:u}),n||s)}else e=L(s,o,!0,u,a);return V(s,o,e),e}))}function M(e,n){var t=P(e,n);return t?Promise.reject(t):Promise.resolve()}function F(e,n){var t,r=u(function(e,n){for(var t=[],r=[],o=[],a=Math.max(n.matched.length,e.matched.length),i=0;i<a;i++){var u=n.matched[i];u&&(e.matched.indexOf(u)<0?t.push(u):r.push(u));var l=e.matched[i];l&&n.matched.indexOf(l)<0&&o.push(l)}return[t,r,o]}(e,n),3),o=r[0],a=r[1],i=r[2];t=je(o.reverse(),"beforeRouteLeave",e,n);var f,d=c(o);try{for(d.s();!(f=d.n()).done;){var p,v=c(f.value.leaveGuards);try{for(v.s();!(p=v.n()).done;){var h=p.value;t.push(Re(h,e,n))}}catch(e){v.e(e)}finally{v.f()}}}catch(e){d.e(e)}finally{d.f()}var m=M.bind(null,e,n);return t.push(m),rn(t).then((function(){t=[];var r,o=c(l.list());try{for(o.s();!(r=o.n()).done;){var a=r.value;t.push(Re(a,e,n))}}catch(e){o.e(e)}finally{o.f()}return t.push(m),rn(t)})).then((function(){t=je(a,"beforeRouteUpdate",e,n);var r,o=c(a);try{for(o.s();!(r=o.n()).done;){var i,u=c(r.value.updateGuards);try{for(u.s();!(i=u.n()).done;){var l=i.value;t.push(Re(l,e,n))}}catch(e){u.e(e)}finally{u.f()}}}catch(e){o.e(e)}finally{o.f()}return t.push(m),rn(t)})).then((function(){t=[];var r,o=c(e.matched);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.beforeEnter&&n.matched.indexOf(a)<0)if(Array.isArray(a.beforeEnter)){var i,u=c(a.beforeEnter);try{for(u.s();!(i=u.n()).done;){var l=i.value;t.push(Re(l,e,n))}}catch(e){u.e(e)}finally{u.f()}}else t.push(Re(a.beforeEnter,e,n))}}catch(e){o.e(e)}finally{o.f()}return t.push(m),rn(t)})).then((function(){return e.matched.forEach((function(e){return e.enterCallbacks={}})),(t=je(i,"beforeRouteEnter",e,n)).push(m),rn(t)})).then((function(){t=[];var r,o=c(s.list());try{for(o.s();!(r=o.n()).done;){var a=r.value;t.push(Re(a,e,n))}}catch(e){o.e(e)}finally{o.f()}return t.push(m),rn(t)})).catch((function(e){return G(e,8)?e:Promise.reject(e)}))}function V(e,n,t){var r,o=c(f.list());try{for(o.s();!(r=o.n()).done;)(0,r.value)(e,n,t)}catch(e){o.e(e)}finally{o.f()}}function L(e,n,t,r,o){var a=P(e,n);if(a)return a;var u=n===z,l=b?history.state:{};t&&(r||u?i.replace(e.fullPath,_({scroll:u&&l&&l.scroll},o)):i.push(e.fullPath,o)),d.value=e,J(e,n,t,u),q()}var U,D=xe(),Y=xe();function $(e){return q(e),Y.list().forEach((function(n){return n(e)})),Promise.reject(e)}function q(e){U||(U=!0,v=i.listen((function(e,n,t){var r=S(e),o=R(r);if(o)j(_(o,{replace:!0}),r).catch(E);else{p=r;var a,u,l=d.value;b&&(a=I(l.fullPath,t.delta),u=N(),B.set(a,u)),F(r,l).catch((function(e){return G(e,12)?e:G(e,2)?(t.delta&&i.go(-t.delta,!1),j(e.to,r).catch(E),Promise.reject()):(t.delta&&i.go(-t.delta,!1),$(e))})).then((function(e){(e=e||L(r,l,!1))&&t.delta&&i.go(-t.delta,!1),V(r,l,e)})).catch(E)}})),D.list().forEach((function(n){var t=u(n,2),r=t[0],o=t[1];return e?o(e):r()})),D.reset())}function J(e,n,t,r){if(!b||!a)return Promise.resolve();var i,u,l=!t&&(i=I(e.fullPath,0),u=B.get(i),B.delete(i),u)||(r||!t)&&history.state&&history.state.scroll||null;return(0,o.nextTick)().then((function(){return a(e,n,l)})).then((function(e){return e&&function(e){var n;if("el"in e){var t=e.el,r="string"==typeof t&&t.startsWith("#"),o="string"==typeof t?r?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!o)return;n=function(e,n){var t=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:n.behavior,left:r.left-t.left-(n.left||0),top:r.top-t.top-(n.top||0)}}(o,e)}else n=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(null!=n.left?n.left:window.pageXOffset,null!=n.top?n.top:window.pageYOffset)}(e)})).catch($)}var W,Z=function(e){return i.go(e)},X=new Set;return{currentRoute:d,addRoute:function(e,t){var r,o;return H(e)?(r=n.getRecordMatcher(e),o=t):o=e,n.addRoute(o,r)},removeRoute:function(e){var t=n.getRecordMatcher(e);t&&n.removeRoute(t)},hasRoute:function(e){return!!n.getRecordMatcher(e)},getRoutes:function(){return n.getRoutes().map((function(e){return e.record}))},resolve:S,options:e,push:A,replace:function(e){return A(_(T(e),{replace:!0}))},go:Z,back:function(){return Z(-1)},forward:function(){return Z(1)},beforeEach:l.add,beforeResolve:s.add,afterEach:f.add,onError:Y.add,isReady:function(){return U&&d.value!==z?Promise.resolve():new Promise((function(e,n){D.add([e,n])}))},install:function(e){var t=this;e.component("RouterLink",Fe),e.component("RouterView",Ve),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{get:function(){return(0,o.unref)(d)}}),b&&!W&&d.value===z&&(W=!0,A(i.location).catch((function(e){})));var r={},a=function(e){r[e]=(0,o.computed)((function(){return d.value[e]}))};for(var u in z)a(u);e.provide(g,t),e.provide(y,(0,o.reactive)(r));var l=e.unmount;X.add(e),e.unmount=function(){X.delete(e),X.size<1&&(v(),d.value=z,W=!1,U=!1),l.call(this,arguments)},__VUE_PROD_DEVTOOLS__&&function(e,n,t){var r=Xe++;Je.setupDevtoolsPlugin({id:" "+r,label:"Router devtools",app:e},(function(a){a.on.inspectComponent((function(e,t){e.instanceData&&e.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:We(n.currentRoute.value,"Current Route")})})),(0,o.watch)(n.currentRoute,(function(){a.notifyComponentUpdate()}));var i="router:navigations:"+r;a.addTimelineLayer({id:i,label:"Router".concat(r?" "+r:""," Navigations"),color:4237508}),n.onError((function(e){a.addTimelineEvent({layerId:i,event:{logType:"error",time:Date.now(),data:{error:e}}})})),n.beforeEach((function(e,n){var t={guard:Ze("beforeEach"),from:We(n,"Current Location during this navigation"),to:We(e,"Target location")};a.addTimelineEvent({layerId:i,event:{time:Date.now(),meta:{},data:t}})})),n.afterEach((function(e,n,t){var r={guard:Ze("afterEach")};t?(r.failure={_custom:{type:Error,readOnly:!0,display:t?t.message:"",tooltip:"Navigation Failure",value:t}},r.status=Ze("❌")):r.status=Ze("✅"),r.from=We(n,"Current Location during this navigation"),r.to=We(e,"Target location"),a.addTimelineEvent({layerId:i,event:{time:Date.now(),data:r,logType:t?"warning":"default",meta:{}}})}));var u="router-inspector:"+r;a.addInspector({id:u,label:"Routes"+(r?" "+r:""),icon:"book",treeFilterPlaceholder:"Search routes"}),a.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===u){var r=t.getRoutes();n.filter&&(r=r.filter((function(e){return!e.parent&&tn(e,n.filter.toLowerCase())}))),n.filter||r.forEach((function(e){e.__vd_match=!1})),n.rootNodes=r.map(en)}})),a.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===u){var r=t.getRoutes().find((function(e){return e.record.path===n.nodeId}));r&&(n.state={options:Qe(r)})}}))}))}(e,t,n)}}},n.createRouterMatcher=re,n.createWebHashHistory=function(e){return(e=location.host?e||location.pathname:"").indexOf("#")<0&&(e+="#"),D(e)},n.createWebHistory=D,n.isNavigationFailure=G,n.onBeforeRouteLeave=function(e){var n=(0,o.inject)(h,{}).value;n&&Ae(n.leaveGuards,e)},n.onBeforeRouteUpdate=function(e){var n=(0,o.inject)(h,{}).value;n&&Ae(n.updateGuards,e)},n.parseQuery=Ce,n.stringifyQuery=Pe,n.useLink=Me,n.useRoute=function(){return(0,o.inject)(y)},n.useRouter=function(){return(0,o.inject)(g)},n.routerKey=n.routeLocationKey=n.START_LOCATION=n.RouterView=n.RouterLink=n.NavigationFailureType=void 0;var r,o=t(876);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return t}}(e,n)||s(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=s(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw a}}}}function s(e,n){if(e){if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p="function"==typeof Symbol&&"symbol"===d(Symbol.toStringTag),v=function(e){return p?Symbol(e):"_vr_"+e},h=v("rvlm"),m=v("rvd"),g=v("r");n.routerKey=g;var y=v("rl");n.routeLocationKey=y;var b="undefined"!=typeof window,_=Object.assign;function O(e,n){var t={};for(var r in n){var o=n[r];t[r]=Array.isArray(o)?o.map(e):e(o)}return t}var w,S,E=function(){},T=/\/$/;function C(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",o={},a="",i="",u=n.indexOf("?"),l=n.indexOf("#",u>-1?u:0);return u>-1&&(t=n.slice(0,u),o=e(a=n.slice(u+1,l>-1?l:n.length))),l>-1&&(t=t||n.slice(0,l),i=n.slice(l,n.length)),{fullPath:(t=j(null!=t?t:n,r))+(a&&"?")+a+i,path:t,query:o,hash:i}}function P(e,n){return!n||e.toLowerCase().indexOf(n.toLowerCase())?e:e.slice(n.length)||"/"}function k(e,n){return(e.aliasOf||e)===(n.aliasOf||n)}function x(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var t in e)if(!A(e[t],n[t]))return!1;return!0}function A(e,n){return Array.isArray(e)?R(e,n):Array.isArray(n)?R(n,e):e===n}function R(e,n){return Array.isArray(n)?e.length===n.length&&e.every((function(e,t){return e===n[t]})):1===e.length&&e[0]===n}function j(e,n){if(e.startsWith("/"))return e;if(!e)return n;var t,r,o=n.split("/"),a=e.split("/"),i=o.length-1;for(t=0;t<a.length;t++)if(r=a[t],1!==i&&"."!==r){if(".."!==r)break;i--}return o.slice(0,i).join("/")+"/"+a.slice(t-(t===a.length?1:0)).join("/")}!function(e){e.pop="pop",e.push="push"}(w||(w={})),function(e){e.back="back",e.forward="forward",e.unknown=""}(S||(S={}));var M=/^[^#]+#/;function F(e,n){return e.replace(M,"#")+n}var N=function(){return{left:window.pageXOffset,top:window.pageYOffset}};function I(e,n){return(history.state?history.state.position-n:-1)+e}var B=new Map,V=function(){return location.protocol+"//"+location.host};function L(e,n){var t=n.pathname,r=n.search,o=n.hash;if(e.indexOf("#")>-1){var a=o.slice(1);return"/"!==a[0]&&(a="/"+a),P(a,"")}return P(t,e)+r+o}function U(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{back:e,current:n,forward:t,replaced:r,position:window.history.length,scroll:o?N():null}}function D(e){var n=function(e){var n=window,t=n.history,r=n.location,o={value:L(e,r)},a={value:t.state};function i(n,o,i){var u=e.indexOf("#"),l=u>-1?e.slice(u)+n:V()+e+n;try{t[i?"replaceState":"pushState"](o,"",l),a.value=o}catch(e){console.error(e),r[i?"replace":"assign"](l)}}return a.value||i(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:o,state:a,push:function(e,n){var r=_({},a.value,t.state,{forward:e,scroll:N()});i(r.current,r,!0),i(e,_({},U(o.value,e,null),{position:r.position+1},n),!1),o.value=e},replace:function(e,n){i(e,_({},t.state,U(a.value.back,e,a.value.forward,!0),n,{position:a.value.position}),!0),o.value=e}}}(e=function(e){if(!e)if(b){var n=document.querySelector("base");e=(e=n&&n.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(T,"")}(e)),t=function(e,n,t,r){var o=[],a=[],i=null,u=function(a){var u=a.state,l=L(e,location),c=t.value,s=n.value,f=0;if(u){if(t.value=l,n.value=u,i&&i===c)return void(i=null);f=s?u.position-s.position:0}else r(l);o.forEach((function(e){e(t.value,c,{delta:f,type:w.pop,direction:f?f>0?S.forward:S.back:S.unknown})}))};function l(){var e=window.history;e.state&&e.replaceState(_({},e.state,{scroll:N()}),"")}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",l),{pauseListeners:function(){i=t.value},listen:function(e){o.push(e);var n=function(){var n=o.indexOf(e);n>-1&&o.splice(n,1)};return a.push(n),n},destroy:function(){var e,n=c(a);try{for(n.s();!(e=n.n()).done;)(0,e.value)()}catch(e){n.e(e)}finally{n.f()}a=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",l)}}}(e,n.state,n.location,n.replace),r=_({location:"",base:e,go:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n||t.pauseListeners(),history.go(e)},createHref:F.bind(null,e)},n,t);return Object.defineProperty(r,"location",{get:function(){return n.location.value}}),Object.defineProperty(r,"state",{get:function(){return n.state.value}}),r}function H(e){return"string"==typeof e||"symbol"===d(e)}var z={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};n.START_LOCATION=z;var Y,$=v("nf");function K(e,n){return _(new Error,l({type:e},$,!0),n)}function G(e,n){return e instanceof Error&&$ in e&&(null==n||!!(e.type&n))}n.NavigationFailureType=Y,function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(Y||(n.NavigationFailureType=Y={})),l(r={},1,(function(e){var n=e.location,t=e.currentLocation;return"No match for\n ".concat(JSON.stringify(n)).concat(t?"\nwhile being at\n"+JSON.stringify(t):"")})),l(r,2,(function(e){var n=e.from,t=e.to;return'Redirected from "'.concat(n.fullPath,'" to "').concat(function(e){if("string"==typeof e)return e;if("path"in e)return e.path;var n,t={},r=c(q);try{for(r.s();!(n=r.n()).done;){var o=n.value;o in e&&(t[o]=e[o])}}catch(e){r.e(e)}finally{r.f()}return JSON.stringify(t,null,2)}(t),'" via a navigation guard.')})),l(r,4,(function(e){var n=e.from,t=e.to;return'Navigation aborted from "'.concat(n.fullPath,'" to "').concat(t.fullPath,'" via a navigation guard.')})),l(r,8,(function(e){var n=e.from,t=e.to;return'Navigation cancelled from "'.concat(n.fullPath,'" to "').concat(t.fullPath,'" with a new navigation.')})),l(r,16,(function(e){var n=e.from;return e.to,'Avoided redundant navigation to current location: "'.concat(n.fullPath,'".')}));var q=["params","query","hash"],J="[^/]+?",W={sensitive:!1,strict:!1,start:!0,end:!0},Z=/[.+*?^${}()[\]/\\]/g;function X(e,n){for(var t=0;t<e.length&&t<n.length;){var r=n[t]-e[t];if(r)return r;t++}return e.length<n.length?1===e.length&&80===e[0]?-1:1:e.length>n.length?1===n.length&&80===n[0]?1:-1:0}function Q(e,n){for(var t=0,r=e.score,o=n.score;t<r.length&&t<o.length;){var a=X(r[t],o[t]);if(a)return a;t++}return o.length-r.length}var ee={type:0,value:""},ne=/[a-zA-Z0-9_]/;function te(e,n,t){var r=function(e,n){var t,r=_({},W,n),o=[],a=r.start?"^":"",i=[],u=c(e);try{for(u.s();!(t=u.n()).done;){var l=t.value,s=l.length?[]:[90];r.strict&&!l.length&&(a+="/");for(var f=0;f<l.length;f++){var d=l[f],p=40+(r.sensitive?.25:0);if(0===d.type)f||(a+="/"),a+=d.value.replace(Z,"\\$&"),p+=40;else if(1===d.type){var v=d.value,h=d.repeatable,m=d.optional,g=d.regexp;i.push({name:v,repeatable:h,optional:m});var y=g||J;if(y!==J){p+=10;try{new RegExp("(".concat(y,")"))}catch(e){throw new Error('Invalid custom RegExp for param "'.concat(v,'" (').concat(y,"): ")+e.message)}}var b=h?"((?:".concat(y,")(?:/(?:").concat(y,"))*)"):"(".concat(y,")");f||(b=m?"(?:/".concat(b,")"):"/"+b),m&&(b+="?"),a+=b,p+=20,m&&(p+=-8),h&&(p+=-20),".*"===y&&(p+=-50)}s.push(p)}o.push(s)}}catch(e){u.e(e)}finally{u.f()}if(r.strict&&r.end){var O=o.length-1;o[O][o[O].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&(a+="(?:/|$)");var w=new RegExp(a,r.sensitive?"":"i");return{re:w,score:o,keys:i,parse:function(e){var n=e.match(w),t={};if(!n)return null;for(var r=1;r<n.length;r++){var o=n[r]||"",a=i[r-1];t[a.name]=o&&a.repeatable?o.split("/"):o}return t},stringify:function(n){var t,r="",o=!1,a=c(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;o&&r.endsWith("/")||(r+="/"),o=!1;var u,l=c(i);try{for(l.s();!(u=l.n()).done;){var s=u.value;if(0===s.type)r+=s.value;else if(1===s.type){var f=s.value,d=s.repeatable,p=s.optional,v=f in n?n[f]:"";if(Array.isArray(v)&&!d)throw new Error('Provided param "'.concat(f,'" is an array but it is not repeatable (* or + modifiers)'));var h=Array.isArray(v)?v.join("/"):v;if(!h){if(!p)throw new Error('Missing required param "'.concat(f,'"'));r.endsWith("/")?r=r.slice(0,-1):o=!0}r+=h}}}catch(e){l.e(e)}finally{l.f()}}}catch(e){a.e(e)}finally{a.f()}return r}}}(function(e){if(!e)return[[]];if("/"===e)return[[ee]];if(!e.startsWith("/"))throw new Error('Invalid path "'.concat(e,'"'));function n(e){throw new Error("ERR (".concat(r,')/"').concat(c,'": ').concat(e))}var t,r=0,o=r,a=[];function i(){t&&a.push(t),t=[]}var u,l=0,c="",s="";function f(){c&&(0===r?t.push({type:0,value:c}):1===r||2===r||3===r?(t.length>1&&("*"===u||"+"===u)&&n("A repeatable param (".concat(c,") must be alone in its segment. eg: '/:ids+.")),t.push({type:1,value:c,regexp:s,repeatable:"*"===u||"+"===u,optional:"*"===u||"?"===u})):n("Invalid state to consume buffer"),c="")}function d(){c+=u}for(;l<e.length;)if("\\"!==(u=e[l++])||2===r)switch(r){case 0:"/"===u?(c&&f(),i()):":"===u?(f(),r=1):d();break;case 4:d(),r=o;break;case 1:"("===u?(r=2,s=""):ne.test(u)?d():(f(),r=0,"*"!==u&&"?"!==u&&"+"!==u&&l--);break;case 2:")"===u?"\\"==s[s.length-1]?s=s.slice(0,-1)+u:r=3:s+=u;break;case 3:f(),r=0,"*"!==u&&"?"!==u&&"+"!==u&&l--;break;default:n("Unknown state")}else o=r,r=4;return 2===r&&n('Unfinished custom RegExp for param "'.concat(c,'"')),f(),i(),a}(e.path),t),o=_(r,{record:e,parent:n,children:[],alias:[]});return n&&!o.record.aliasOf==!n.record.aliasOf&&n.children.push(o),o}function re(e,n){var t=[],r=new Map;function o(e,t,r){var u=!r,l=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:oe(e),children:e.children||[],instances:{},leaveGuards:[],updateGuards:[],enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);l.aliasOf=r&&r.record;var s,f,d=ue(n,e),p=[l];if("alias"in e){var v,h=c("string"==typeof e.alias?[e.alias]:e.alias);try{for(h.s();!(v=h.n()).done;){var m=v.value;p.push(_({},l,{components:r?r.record.components:l.components,path:m,aliasOf:r?r.record:l}))}}catch(e){h.e(e)}finally{h.f()}}for(var g=0,y=p;g<y.length;g++){var b=y[g],O=b.path;if(t&&"/"!==O[0]){var w=t.record.path,S="/"===w[w.length-1]?"":"/";b.path=t.record.path+(O&&S+O)}if(s=te(b,t,d),r?r.alias.push(s):((f=f||s)!==s&&f.alias.push(s),u&&e.name&&!ae(s)&&a(e.name)),"children"in l)for(var T=l.children,C=0;C<T.length;C++)o(T[C],s,r&&r.children[C]);r=r||s,i(s)}return f?function(){a(f)}:E}function a(e){if(H(e)){var n=r.get(e);n&&(r.delete(e),t.splice(t.indexOf(n),1),n.children.forEach(a),n.alias.forEach(a))}else{var o=t.indexOf(e);o>-1&&(t.splice(o,1),e.record.name&&r.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function i(e){for(var n=0;n<t.length&&Q(e,t[n])>=0;)n++;t.splice(n,0,e),e.record.name&&!ae(e)&&r.set(e.record.name,e)}return n=ue({strict:!1,end:!0,sensitive:!1},n),e.forEach((function(e){return o(e)})),{addRoute:o,resolve:function(e,n){var o,a,i,u={};if("name"in e&&e.name){if(!(o=r.get(e.name)))throw K(1,{location:e});i=o.record.name,u=_(function(e,n){var t,r={},o=c(n);try{for(o.s();!(t=o.n()).done;){var a=t.value;a in e&&(r[a]=e[a])}}catch(e){o.e(e)}finally{o.f()}return r}(n.params,o.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}))),e.params),a=o.stringify(u)}else if("path"in e)a=e.path,(o=t.find((function(e){return e.re.test(a)})))&&(u=o.parse(a),i=o.record.name);else{if(!(o=n.name?r.get(n.name):t.find((function(e){return e.re.test(n.path)}))))throw K(1,{location:e,currentLocation:n});i=o.record.name,u=_({},n.params,e.params),a=o.stringify(u)}for(var l=[],s=o;s;)l.unshift(s.record),s=s.parent;return{name:i,path:a,params:u,matched:l,meta:ie(l)}},removeRoute:a,getRoutes:function(){return t},getRecordMatcher:function(e){return r.get(e)}}}function oe(e){var n={},t=e.props||!1;if("component"in e)n.default=t;else for(var r in e.components)n[r]="boolean"==typeof t?t:t[r];return n}function ae(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ie(e){return e.reduce((function(e,n){return _(e,n.meta)}),{})}function ue(e,n){var t={};for(var r in e)t[r]=r in n?n[r]:e[r];return t}var le=/#/g,ce=/&/g,se=/\//g,fe=/=/g,de=/\?/g,pe=/\+/g,ve=/%5B/g,he=/%5D/g,me=/%5E/g,ge=/%60/g,ye=/%7B/g,be=/%7C/g,_e=/%7D/g,Oe=/%20/g;function we(e){return encodeURI(""+e).replace(be,"|").replace(ve,"[").replace(he,"]")}function Se(e){return we(e).replace(pe,"%2B").replace(Oe,"+").replace(le,"%23").replace(ce,"%26").replace(ge,"`").replace(ye,"{").replace(_e,"}").replace(me,"^")}function Ee(e){return function(e){return we(e).replace(le,"%23").replace(de,"%3F")}(e).replace(se,"%2F")}function Te(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}function Ce(e){var n={};if(""===e||"?"===e)return n;for(var t=("?"===e[0]?e.slice(1):e).split("&"),r=0;r<t.length;++r){var o=t[r].replace(pe," "),a=o.indexOf("="),i=Te(a<0?o:o.slice(0,a)),u=a<0?null:Te(o.slice(a+1));if(i in n){var l=n[i];Array.isArray(l)||(l=n[i]=[l]),l.push(u)}else n[i]=u}return n}function Pe(e){var n="";for(var t in e){n.length&&(n+="&");var r=e[t];if(t=Se(t).replace(fe,"%3D"),null!=r)for(var o=Array.isArray(r)?r.map((function(e){return e&&Se(e)})):[r&&Se(r)],a=0;a<o.length;a++)n+=(a?"&":"")+t,null!=o[a]&&(n+="="+o[a]);else void 0!==r&&(n+=t)}return n}function ke(e){var n={};for(var t in e){var r=e[t];void 0!==r&&(n[t]=Array.isArray(r)?r.map((function(e){return null==e?null:""+e})):null==r?r:""+r)}return n}function xe(){var e=[];return{add:function(n){return e.push(n),function(){var t=e.indexOf(n);t>-1&&e.splice(t,1)}},list:function(){return e},reset:function(){e=[]}}}function Ae(e,n){var t=function(){var t=e.indexOf(n);t>-1&&e.splice(t,1)};(0,o.onUnmounted)(t),(0,o.onDeactivated)(t),(0,o.onActivated)((function(){e.indexOf(n)<0&&e.push(n)})),e.push(n)}function Re(e,n,t,r,o){var a=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return function(){return new Promise((function(i,u){var l=function(e){var l;!1===e?u(K(4,{from:t,to:n})):e instanceof Error?u(e):"string"==typeof(l=e)||l&&"object"===d(l)?u(K(2,{from:n,to:e})):(a&&r.enterCallbacks[o]===a&&"function"==typeof e&&a.push(e),i())},c=e.call(r&&r.instances[o],n,t,l),s=Promise.resolve(c);e.length<3&&(s=s.then(l)),s.catch((function(e){return u(e)}))}))}}function je(e,n,t,r){var o,a=[],i=c(e);try{var u=function(){var e=o.value,i=function(o){var i=e.components[o];if("beforeRouteEnter"!==n&&!e.instances[o])return"continue";if(function(e){return"object"===d(e)||"displayName"in e||"props"in e||"__vccOpts"in e}(i)){var u=(i.__vccOpts||i)[n];u&&a.push(Re(u,t,r,e,o))}else{var l=i();l=l.catch(console.error),a.push((function(){return l.then((function(a){if(!a)return Promise.reject(new Error("Couldn't resolve component \"".concat(o,'" at "').concat(e.path,'"')));var i,u=(i=a).__esModule||p&&"Module"===i[Symbol.toStringTag]?a.default:a;e.components[o]=u;var l=u[n];return l&&Re(l,t,r,e,o)()}))}))}};for(var u in e.components)i(u)};for(i.s();!(o=i.n()).done;)u()}catch(e){i.e(e)}finally{i.f()}return a}function Me(e){var n=(0,o.inject)(g),t=(0,o.inject)(y),r=(0,o.computed)((function(){return n.resolve((0,o.unref)(e.to))})),a=(0,o.computed)((function(){var e=r.value.matched,n=e.length,o=e[n-1],a=t.matched;if(!o||!a.length)return-1;var i=a.findIndex(k.bind(null,o));if(i>-1)return i;var u=Ie(e[n-2]);return n>1&&Ie(o)===u&&a[a.length-1].path!==u?a.findIndex(k.bind(null,e[n-2])):i})),i=(0,o.computed)((function(){return a.value>-1&&function(e,n){var t=function(t){var r=n[t],o=e[t];if("string"==typeof r){if(r!==o)return{v:!1}}else if(!Array.isArray(o)||o.length!==r.length||r.some((function(e,n){return e!==o[n]})))return{v:!1}};for(var r in n){var o=t(r);if("object"===d(o))return o.v}return!0}(t.params,r.value.params)})),u=(0,o.computed)((function(){return a.value>-1&&a.value===t.matched.length-1&&x(t.params,r.value.params)}));return{route:r,href:(0,o.computed)((function(){return r.value.href})),isActive:i,isExactActive:u,navigate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ne(t)?n[(0,o.unref)(e.replace)?"replace":"push"]((0,o.unref)(e.to)):Promise.resolve()}}}var Fe=(0,o.defineComponent)({name:"RouterLink",props:{to:{type:[String,Object],required:!0},activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup:function(e,n){var t=n.slots,r=n.attrs,a=(0,o.reactive)(Me(e)),i=(0,o.inject)(g).options,u=(0,o.computed)((function(){var n;return l(n={},Be(e.activeClass,i.linkActiveClass,"router-link-active"),a.isActive),l(n,Be(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active"),a.isExactActive),n}));return function(){var n=t.default&&t.default(a);return e.custom?n:(0,o.h)("a",_({"aria-current":a.isExactActive?e.ariaCurrentValue:null,onClick:a.navigate,href:a.href},r,{class:u.value}),n)}}});function Ne(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}function Ie(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}n.RouterLink=Fe;var Be=function(e,n,t){return null!=e?e:null!=n?n:t},Ve=(0,o.defineComponent)({name:"RouterView",props:{name:{type:String,default:"default"},route:Object},setup:function(e,n){var t=n.attrs,r=n.slots,a=(0,o.inject)(y),i=(0,o.inject)(m,0),l=(0,o.computed)((function(){return(e.route||a).matched[i]}));(0,o.provide)(m,i+1),(0,o.provide)(h,l);var c=(0,o.ref)();return(0,o.watch)((function(){return[c.value,l.value,e.name]}),(function(e,n){var t=u(e,3),r=t[0],o=t[1],a=t[2],i=u(n,3),l=i[0],c=i[1];i[2],o&&(o.instances[a]=r,c&&r===l&&(o.leaveGuards=c.leaveGuards,o.updateGuards=c.updateGuards)),!r||!o||c&&k(o,c)&&l||(o.enterCallbacks[a]||[]).forEach((function(e){return e(r)}))}),{flush:"post"}),function(){var n=e.route||a,i=l.value,u=i&&i.components[e.name],s=e.name;if(!u)return r.default?r.default({Component:u,route:n}):null;var f=i.props[e.name],d=f?!0===f?n.params:"function"==typeof f?f(n):f:null,p=(0,o.h)(u,_({},d,t,{onVnodeUnmounted:function(e){e.component.isUnmounted&&(i.instances[s]=null)},ref:c}));return r.default?r.default({Component:p,route:n}):p}}});n.RouterView=Ve;var Le="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{};function Ue(e,n,t){return e(t={path:n,exports:{},require:function(e,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&t.path)}},t.exports),t.exports}var De=Ue((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hook=n.target=n.isBrowser=void 0,n.isBrowser="undefined"!=typeof navigator,n.target=n.isBrowser?window:void 0!==Le?Le:{},n.hook=n.target.__VUE_DEVTOOLS_GLOBAL_HOOK__})),He=Ue((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ApiHookEvents=void 0,(n.ApiHookEvents||(n.ApiHookEvents={})).SETUP_DEVTOOLS_PLUGIN="devtools-plugin:setup"})),ze=Ue((function(e,n){Object.defineProperty(n,"__esModule",{value:!0})})),Ye=Ue((function(e,n){Object.defineProperty(n,"__esModule",{value:!0})})),$e=Ue((function(e,n){Object.defineProperty(n,"__esModule",{value:!0})})),Ke=Ue((function(e,n){Object.defineProperty(n,"__esModule",{value:!0})})),Ge=Ue((function(e,n){var t;Object.defineProperty(n,"__esModule",{value:!0}),n.Hooks=void 0,(t=n.Hooks||(n.Hooks={})).TRANSFORM_CALL="transformCall",t.GET_APP_RECORD_NAME="getAppRecordName",t.GET_APP_ROOT_INSTANCE="getAppRootInstance",t.REGISTER_APPLICATION="registerApplication",t.WALK_COMPONENT_TREE="walkComponentTree",t.WALK_COMPONENT_PARENTS="walkComponentParents",t.INSPECT_COMPONENT="inspectComponent",t.GET_COMPONENT_BOUNDS="getComponentBounds",t.GET_COMPONENT_NAME="getComponentName",t.GET_ELEMENT_COMPONENT="getElementComponent",t.GET_INSPECTOR_TREE="getInspectorTree",t.GET_INSPECTOR_STATE="getInspectorState"})),qe=Ue((function(e,n){var t=Le&&Le.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),r=Le&&Le.__exportStar||function(e,n){for(var r in e)"default"===r||n.hasOwnProperty(r)||t(n,e,r)};Object.defineProperty(n,"__esModule",{value:!0}),r(ze,n),r(Ye,n),r($e,n),r(Ke,n),r(Ge,n)})),Je=Ue((function(e,n){var t=Le&&Le.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),r=Le&&Le.__exportStar||function(e,n){for(var r in e)"default"===r||n.hasOwnProperty(r)||t(n,e,r)};Object.defineProperty(n,"__esModule",{value:!0}),n.setupDevtoolsPlugin=void 0,r(qe,n),n.setupDevtoolsPlugin=function(e,n){De.hook?De.hook.emit(He.ApiHookEvents.SETUP_DEVTOOLS_PLUGIN,e,n):(De.target.__VUE_DEVTOOLS_PLUGINS__=De.target.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:n})}}));function We(e,n){var t=i(i({},e),{},{matched:e.matched.map((function(e){return e.instances,e.children,e.aliasOf,function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,["instances","children","aliasOf"])}))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:n,value:t}}}function Ze(e){return{_custom:{display:e}}}var Xe=0;function Qe(e){var n=e.record,t=[{editable:!1,key:"path",value:n.path}];return null!=n.name&&t.push({editable:!1,key:"name",value:n.name}),t.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&t.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map((function(e){return"".concat(e.name).concat(function(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}(e))})).join(" "),tooltip:"Param keys",value:e.keys}}}),null!=n.redirect&&t.push({editable:!1,key:"redirect",value:n.redirect}),e.alias.length&&t.push({editable:!1,key:"aliases",value:e.alias.map((function(e){return e.record.path}))}),t.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map((function(e){return e.join(", ")})).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),t}function en(e){var n=[],t=e.record;return null!=t.name&&n.push({label:String(t.name),textColor:0,backgroundColor:48340}),t.aliasOf&&n.push({label:"alias",textColor:0,backgroundColor:16750671}),e.__vd_match&&n.push({label:"matches",textColor:0,backgroundColor:16053492}),t.redirect&&n.push({label:"redirect: "+("string"==typeof t.redirect?t.redirect:"Object"),textColor:16777215,backgroundColor:6710886}),{id:t.path,label:t.path,tags:n,children:e.children.map(en)}}var nn=/^\/(.*)\/([a-z]*)$/;function tn(e,n){var t=String(e.re).match(nn);if(e.__vd_match=!1,!t||t.length<3)return!1;if(new RegExp(t[1].replace(/\$$/,""),t[2]).test(n))return e.children.some((function(e){return tn(e,n)})),("/"!==e.record.path||"/"===n)&&(e.__vd_match=e.re.test(n),!0);var r=e.record.path.toLowerCase(),o=Te(r);return!(n.startsWith("/")||!o.includes(n)&&!r.includes(n))||!(!o.startsWith(n)&&!r.startsWith(n))||!(!e.record.name||!String(e.record.name).includes(n))||e.children.some((function(e){return tn(e,n)}))}function rn(e){return e.reduce((function(e,n){return e.then((function(){return n()}))}),Promise.resolve())}},876:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});var r={compile:!0};n.compile=void 0;var o=t(391);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))})),t(420),n.compile=function(){}},207:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t(284);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=a();if(n&&n.has(e))return n.get(e);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=r?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(t,i,u):t[i]=e[i]}return t.default=e,n&&n.set(e,t),t}var u=[{path:"/",component:function(){return Promise.resolve().then((function(){return i(t(751))}))}},{path:"/index",component:function(){return Promise.resolve().then((function(){return i(t(751))}))}},{path:"/test",component:function(){return Promise.resolve().then((function(){return i(t(504))}))}}],l=(0,r.createRouter)({history:(0,r.createWebHashHistory)(),routes:u});n.default=l},443:(e,n,t)=>{t.r(n),t.d(n,{__esModule:()=>o.X,default:()=>a});var r=t(78),o=t(327);o.Z.render=r.s,o.Z.__scopeId="data-v-f611589c";const a=o.Z},751:(e,n,t)=>{t.r(n),t.d(n,{__esModule:()=>o.X,default:()=>a});var r=t(961),o=t(998);o.Z.render=r.s,o.Z.__scopeId="data-v-b9a55c54";const a=o.Z},504:(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});var r=t(249),o=t(955),a={};for(const e in o)"default"!==e&&(a[e]=()=>o[e]);t.d(n,a),o.default.render=r.s;const i=o.default},955:(e,n,t)=>{t.r(n),t.d(n,{default:()=>o.a});var r=t(667),o=t.n(r),a={};for(const e in r)"default"!==e&&(a[e]=()=>r[e]);t.d(n,a)},249:(e,n,t)=>{t.d(n,{s:()=>r.s});var r=t(137)}},n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{}};return e[r](o,o.exports,t),o.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=t(876),n=o(t(443)),r=o(t(207));function o(e){return e&&e.__esModule?e:{default:e}}(0,e.createApp)(n.default).use(r.default).mount("#root")})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wdWJsaWMvLi9ub2RlX21vZHVsZXMvQHZ1ZS9yZWFjdGl2aXR5L2Rpc3QvcmVhY3Rpdml0eS5lc20tYnVuZGxlci5qcyIsIndlYnBhY2s6Ly9wdWJsaWMvLi9ub2RlX21vZHVsZXMvQHZ1ZS9ydW50aW1lLWNvcmUvZGlzdC9ydW50aW1lLWNvcmUuZXNtLWJ1bmRsZXIuanMiLCJ3ZWJwYWNrOi8vcHVibGljLy4vbm9kZV9tb2R1bGVzL0B2dWUvcnVudGltZS1kb20vZGlzdC9ydW50aW1lLWRvbS5lc20tYnVuZGxlci5qcyIsIndlYnBhY2s6Ly9wdWJsaWMvLi9ub2RlX21vZHVsZXMvQHZ1ZS9zaGFyZWQvZGlzdC9zaGFyZWQuZXNtLWJ1bmRsZXIuanMiLCJ3ZWJwYWNrOi8vcHVibGljLy4vc3JjL0FwcC52dWUiLCJ3ZWJwYWNrOi8vcHVibGljLy4vc3JjL2NvbXBvbmVudHMvSW5kZXgudnVlIiwid2VicGFjazovL3B1YmxpYy8uL3NyYy9jb21wb25lbnRzL1Rlc3QudnVlIiwid2VicGFjazovL3B1YmxpYy8uL25vZGVfbW9kdWxlcy92dWUtcm91dGVyL2Rpc3QvdnVlLXJvdXRlci5lc20tYnVuZGxlci5qcyIsIndlYnBhY2s6Ly9wdWJsaWMvLi9ub2RlX21vZHVsZXMvdnVlL2Rpc3QvdnVlLnJ1bnRpbWUuZXNtLWJ1bmRsZXIuanMiLCJ3ZWJwYWNrOi8vcHVibGljLy4vc3JjL3JvdXRlci5qcyIsIndlYnBhY2s6Ly9wdWJsaWMvLi9zcmMvQXBwLnZ1ZT9kMTU0Iiwid2VicGFjazovL3B1YmxpYy8uL3NyYy9jb21wb25lbnRzL0luZGV4LnZ1ZT80YjlkIiwid2VicGFjazovL3B1YmxpYy8uL3NyYy9jb21wb25lbnRzL1Rlc3QudnVlPzc3YTgiLCJ3ZWJwYWNrOi8vcHVibGljL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3B1YmxpYy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9wdWJsaWMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3B1YmxpYy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3B1YmxpYy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3B1YmxpYy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3B1YmxpYy8uL21haW4uanMiXSwibmFtZXMiOlsiZ2V0dGVyT3JPcHRpb25zIiwiZ2V0dGVyIiwic2V0dGVyIiwiaXNGdW5jdGlvbiIsIk5PT1AiLCJnZXQiLCJzZXQiLCJDb21wdXRlZFJlZkltcGwiLCJmYWN0b3J5IiwiQ3VzdG9tUmVmSW1wbCIsInZhbHVlIiwiaXNSZWFjdGl2ZSIsImlzUmVhZG9ubHkiLCJkZWYiLCJvYmplY3RXaXRoUmVmcyIsIlByb3h5Iiwic2hhbGxvd1Vud3JhcEhhbmRsZXJzIiwiY3JlYXRlUmVmIiwidGFyZ2V0IiwiY3JlYXRlUmVhY3RpdmVPYmplY3QiLCJzaGFsbG93UmVhY3RpdmVIYW5kbGVycyIsInNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMiLCJzaGFsbG93UmVhZG9ubHlIYW5kbGVycyIsInJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzIiwiZWZmZWN0IiwiYWN0aXZlIiwiY2xlYW51cCIsIm9wdGlvbnMiLCJvblN0b3AiLCJvYmplY3QiLCJyZXQiLCJpc0FycmF5IiwiQXJyYXkiLCJsZW5ndGgiLCJrZXkiLCJ0b1JlZiIsInJlZiIsInRyaWdnZXIiLCJ0b1JhdyIsImFjdGl2ZUVmZmVjdCIsInRhcmdldE1hcCIsIldlYWtNYXAiLCJlZmZlY3RTdGFjayIsIklURVJBVEVfS0VZIiwiU3ltYm9sIiwiTUFQX0tFWV9JVEVSQVRFX0tFWSIsImlzRWZmZWN0IiwiZm4iLCJfaXNFZmZlY3QiLCJFTVBUWV9PQkoiLCJyYXciLCJjcmVhdGVSZWFjdGl2ZUVmZmVjdCIsImxhenkiLCJ1aWQiLCJzY2hlZHVsZXIiLCJ1bmRlZmluZWQiLCJpbmNsdWRlcyIsImVuYWJsZVRyYWNraW5nIiwicHVzaCIsInBvcCIsInJlc2V0VHJhY2tpbmciLCJpZCIsImFsbG93UmVjdXJzZSIsImRlcHMiLCJpIiwic2hvdWxkVHJhY2siLCJ0cmFja1N0YWNrIiwicGF1c2VUcmFja2luZyIsImxhc3QiLCJ0cmFjayIsInR5cGUiLCJkZXBzTWFwIiwiTWFwIiwiZGVwIiwiU2V0IiwiaGFzIiwiYWRkIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsIm9sZFRhcmdldCIsImVmZmVjdHMiLCJlZmZlY3RzVG9BZGQiLCJmb3JFYWNoIiwiaXNJbnRlZ2VyS2V5IiwiaXNNYXAiLCJidWlsdEluU3ltYm9scyIsIk9iamVjdCIsImdldE93blByb3BlcnR5TmFtZXMiLCJtYXAiLCJmaWx0ZXIiLCJpc1N5bWJvbCIsImNyZWF0ZUdldHRlciIsInNoYWxsb3dHZXQiLCJyZWFkb25seUdldCIsInNoYWxsb3dSZWFkb25seUdldCIsImFycmF5SW5zdHJ1bWVudGF0aW9ucyIsInNoYWxsb3ciLCJyZWNlaXZlciIsInJlYWRvbmx5TWFwIiwicmVhY3RpdmVNYXAiLCJ0YXJnZXRJc0FycmF5IiwiaGFzT3duIiwiUmVmbGVjdCIsInJlcyIsImlzUmVmIiwiaXNPYmplY3QiLCJyZWFkb25seSIsInJlYWN0aXZlIiwibWV0aG9kIiwicHJvdG90eXBlIiwiYXJyIiwidGhpcyIsImwiLCJhcmdzIiwiYXBwbHkiLCJjcmVhdGVTZXR0ZXIiLCJzaGFsbG93U2V0IiwiaGFkS2V5IiwiTnVtYmVyIiwicmVzdWx0IiwiaGFzQ2hhbmdlZCIsIm11dGFibGVIYW5kbGVycyIsImRlbGV0ZVByb3BlcnR5Iiwib3duS2V5cyIsInJlYWRvbmx5SGFuZGxlcnMiLCJleHRlbmQiLCJ0b1JlYWN0aXZlIiwidG9SZWFkb25seSIsInRvU2hhbGxvdyIsImdldFByb3RvIiwidiIsImdldFByb3RvdHlwZU9mIiwiZ2V0JDEiLCJpc1NoYWxsb3ciLCJyYXdUYXJnZXQiLCJyYXdLZXkiLCJ3cmFwIiwiY2FsbCIsImhhcyQxIiwic2l6ZSIsInNldCQxIiwiZGVsZXRlRW50cnkiLCJjbGVhciIsImhhZEl0ZW1zIiwiY3JlYXRlRm9yRWFjaCIsImNhbGxiYWNrIiwidGhpc0FyZyIsIm9ic2VydmVkIiwiY3JlYXRlSXRlcmFibGVNZXRob2QiLCJ0YXJnZXRJc01hcCIsImlzUGFpciIsIml0ZXJhdG9yIiwiaXNLZXlPbmx5IiwiaW5uZXJJdGVyYXRvciIsIm5leHQiLCJkb25lIiwiY3JlYXRlUmVhZG9ubHlNZXRob2QiLCJtdXRhYmxlSW5zdHJ1bWVudGF0aW9ucyIsImRlbGV0ZSIsInNoYWxsb3dJbnN0cnVtZW50YXRpb25zIiwicmVhZG9ubHlJbnN0cnVtZW50YXRpb25zIiwiY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyIiwiaW5zdHJ1bWVudGF0aW9ucyIsIm11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMiLCJiYXNlSGFuZGxlcnMiLCJjb2xsZWN0aW9uSGFuZGxlcnMiLCJwcm94eU1hcCIsImV4aXN0aW5nUHJveHkiLCJ0YXJnZXRUeXBlIiwiaXNFeHRlbnNpYmxlIiwicmF3VHlwZSIsInRhcmdldFR5cGVNYXAiLCJ0b1Jhd1R5cGUiLCJwcm94eSIsImNvbnZlcnQiLCJ2YWwiLCJyIiwiQm9vbGVhbiIsIl9fdl9pc1JlZiIsIlJlZkltcGwiLCJfcmF3VmFsdWUiLCJfc2hhbGxvdyIsIl92YWx1ZSIsIm5ld1ZhbCIsInJhd1ZhbHVlIiwidW5yZWYiLCJfZ2V0IiwiX3NldCIsIk9iamVjdFJlZkltcGwiLCJfb2JqZWN0IiwiX2tleSIsIl9zZXR0ZXIiLCJfZGlydHkiLCJ0ZXh0IiwiYXNCbG9jayIsIm9wZW5CbG9jayIsImNyZWF0ZUJsb2NrIiwiQ29tbWVudCIsImNyZWF0ZVZOb2RlIiwiYmFzZUNyZWF0ZVJlbmRlcmVyIiwiY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zIiwic2xvdHMiLCJkeW5hbWljU2xvdHMiLCJzbG90IiwiaiIsIm5hbWUiLCJjb250ZW50IiwibnVtYmVyT2ZOb2RlcyIsInZub2RlIiwiU3RhdGljIiwic3RhdGljQ291bnQiLCJzb3VyY2UiLCJsb2FkZXIiLCJyZXNvbHZlZENvbXAiLCJsb2FkaW5nQ29tcG9uZW50IiwiZXJyb3JDb21wb25lbnQiLCJkZWxheSIsInRpbWVvdXQiLCJzdXNwZW5zaWJsZSIsInVzZXJPbkVycm9yIiwib25FcnJvciIsInBlbmRpbmdSZXF1ZXN0IiwicmV0cmllcyIsImxvYWQiLCJ0aGlzUmVxdWVzdCIsImVyciIsIkVycm9yIiwiU3RyaW5nIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ0aGVuIiwiY29tcCIsIl9fZXNNb2R1bGUiLCJ0b1N0cmluZ1RhZyIsImRlZmluZUNvbXBvbmVudCIsIl9fYXN5bmNMb2FkZXIiLCJzZXR1cCIsImluc3RhbmNlIiwiY3VycmVudEluc3RhbmNlIiwiY3JlYXRlSW5uZXJDb21wIiwiaGFuZGxlRXJyb3IiLCJzdXNwZW5zZSIsImVycm9yIiwibG9hZGVkIiwiZGVsYXllZCIsInNldFRpbWVvdXQiLCJwcm9wc09yQ2hpbGRyZW4iLCJjaGlsZHJlbiIsImFyZ3VtZW50cyIsImlzVk5vZGUiLCJzbGljZSIsIl9jb21waWxlIiwiY29tcGlsZSIsInJlbmRlckl0ZW0iLCJpc1N0cmluZyIsImZyb20iLCJrZXlzIiwicHJvcHMiLCJmYWxsYmFjayIsImlzUmVuZGVyaW5nQ29tcGlsZWRTbG90IiwicmVuZGVyZWQiLCJGcmFnbWVudCIsIl8iLCJyZXNvbHZlQXNzZXQiLCJDT01QT05FTlRTIiwiY29tcG9uZW50IiwiTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCIsImhvb2siLCJkZXZ0b29scyIsIm9iaiIsInRvSGFuZGxlcktleSIsInRyYW5zZm9ybWVyIiwiZG9XYXRjaCIsImRpcmVjdGl2ZXMiLCJjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UiLCJiaW5kaW5ncyIsImRpcnMiLCJkaXIiLCJhcmciLCJtb2RpZmllcnMiLCJtb3VudGVkIiwidXBkYXRlZCIsIndpdGhDdHgiLCJwdXNoU2NvcGVJZCIsInBvcFNjb3BlSWQiLCJzdGFjayIsIndhcm4iLCJtc2ciLCJhcHBXYXJuSGFuZGxlciIsImFwcENvbnRleHQiLCJjb25maWciLCJ3YXJuSGFuZGxlciIsInRyYWNlIiwiZ2V0Q29tcG9uZW50VHJhY2UiLCJjYWxsV2l0aEVycm9ySGFuZGxpbmciLCJqb2luIiwiZm9ybWF0Q29tcG9uZW50TmFtZSIsIndhcm5BcmdzIiwiZm9ybWF0VHJhY2UiLCJjb25zb2xlIiwiY3VycmVudFZOb2RlIiwibm9ybWFsaXplZFN0YWNrIiwicmVjdXJzZUNvdW50IiwicGFyZW50SW5zdGFuY2UiLCJwYXJlbnQiLCJsb2dzIiwiZW50cnkiLCJwb3N0Zml4IiwiaXNSb290Iiwib3BlbiIsImNsb3NlIiwiZm9ybWF0UHJvcCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyIsImlzUHJvbWlzZSIsInZhbHVlcyIsImNvbnRleHRWTm9kZSIsImN1ciIsImV4cG9zZWRJbnN0YW5jZSIsImVycm9ySW5mbyIsImVycm9yQ2FwdHVyZWRIb29rcyIsImVjIiwiYXBwRXJyb3JIYW5kbGVyIiwiZXJyb3JIYW5kbGVyIiwibG9nRXJyb3IiLCJpc0ZsdXNoaW5nIiwiaXNGbHVzaFBlbmRpbmciLCJxdWV1ZSIsImZsdXNoSW5kZXgiLCJwZW5kaW5nUHJlRmx1c2hDYnMiLCJhY3RpdmVQcmVGbHVzaENicyIsInByZUZsdXNoSW5kZXgiLCJwZW5kaW5nUG9zdEZsdXNoQ2JzIiwiYWN0aXZlUG9zdEZsdXNoQ2JzIiwicG9zdEZsdXNoSW5kZXgiLCJyZXNvbHZlZFByb21pc2UiLCJjdXJyZW50Rmx1c2hQcm9taXNlIiwiY3VycmVudFByZUZsdXNoUGFyZW50Sm9iIiwibmV4dFRpY2siLCJwIiwiYmluZCIsInF1ZXVlSm9iIiwiam9iIiwicXVldWVGbHVzaCIsImZsdXNoSm9icyIsInF1ZXVlQ2IiLCJjYiIsImFjdGl2ZVF1ZXVlIiwicGVuZGluZ1F1ZXVlIiwiaW5kZXgiLCJxdWV1ZVByZUZsdXNoQ2IiLCJxdWV1ZVBvc3RGbHVzaENiIiwiZmx1c2hQcmVGbHVzaENicyIsInNlZW4iLCJwYXJlbnRKb2IiLCJmbHVzaFBvc3RGbHVzaENicyIsImRlZHVwZWQiLCJzb3J0IiwiYSIsImIiLCJnZXRJZCIsIkluZmluaXR5IiwiZGV2dG9vbHNJbml0QXBwIiwiYXBwIiwidmVyc2lvbiIsImVtaXQiLCJUZXh0IiwiZGV2dG9vbHNVbm1vdW50QXBwIiwiZGV2dG9vbHNDb21wb25lbnRBZGRlZCIsImNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayIsImRldnRvb2xzQ29tcG9uZW50VXBkYXRlZCIsImRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCIsImRldnRvb2xzQ29tcG9uZW50RW1pdCIsImV2ZW50IiwicGFyYW1zIiwicmF3QXJncyIsImlzTW9kZWxMaXN0ZW5lciIsInN0YXJ0c1dpdGgiLCJtb2RlbEFyZyIsIm1vZGlmaWVyc0tleSIsIm51bWJlciIsInRyaW0iLCJ0b051bWJlciIsIl9fVlVFX1BST0RfREVWVE9PTFNfXyIsImhhbmRsZXJOYW1lIiwiY2FtZWxpemUiLCJoYW5kbGVyIiwiaHlwaGVuYXRlIiwib25jZUhhbmRsZXIiLCJlbWl0dGVkIiwibm9ybWFsaXplRW1pdHNPcHRpb25zIiwiYXNNaXhpbiIsImRlb3B0IiwiX19lbWl0cyIsImVtaXRzIiwibm9ybWFsaXplZCIsImhhc0V4dGVuZHMiLCJfX1ZVRV9PUFRJT05TX0FQSV9fIiwiZXh0ZW5kRW1pdHMiLCJtaXhpbnMiLCJpc0VtaXRMaXN0ZW5lciIsImlzT24iLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UiLCJyZW5kZXJDb21wb25lbnRSb290IiwiQ29tcG9uZW50Iiwid2l0aFByb3h5IiwicHJvcHNPcHRpb25zIiwiYXR0cnMiLCJyZW5kZXIiLCJyZW5kZXJDYWNoZSIsImRhdGEiLCJzZXR1cFN0YXRlIiwiY3R4IiwiZmFsbHRocm91Z2hBdHRycyIsInNoYXBlRmxhZyIsInByb3h5VG9Vc2UiLCJub3JtYWxpemVWTm9kZSIsImdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCIsInJvb3QiLCJpbmhlcml0QXR0cnMiLCJzb21lIiwiZmlsdGVyTW9kZWxMaXN0ZW5lcnMiLCJjbG9uZVZOb2RlIiwiY29uY2F0IiwidHJhbnNpdGlvbiIsImhhc1Byb3BzQ2hhbmdlZCIsInByZXZQcm9wcyIsIm5leHRQcm9wcyIsImVtaXRzT3B0aW9ucyIsIm5leHRLZXlzIiwidXBkYXRlSE9DSG9zdEVsIiwiZWwiLCJzdWJUcmVlIiwiaXNTdXNwZW5zZSIsIl9faXNTdXNwZW5zZSIsIlN1c3BlbnNlIiwicHJvY2VzcyIsIm4xIiwibjIiLCJjb250YWluZXIiLCJhbmNob3IiLCJwYXJlbnRDb21wb25lbnQiLCJwYXJlbnRTdXNwZW5zZSIsImlzU1ZHIiwib3B0aW1pemVkIiwicmVuZGVyZXJJbnRlcm5hbHMiLCJwYXRjaCIsImhpZGRlbkNvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJvIiwiY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSIsInBlbmRpbmdCcmFuY2giLCJzc0NvbnRlbnQiLCJzc0ZhbGxiYWNrIiwic2V0QWN0aXZlQnJhbmNoIiwibW91bnRTdXNwZW5zZSIsInVubW91bnQiLCJ1bSIsIm5ld0JyYW5jaCIsIm5ld0ZhbGxiYWNrIiwiYWN0aXZlQnJhbmNoIiwiaXNJbkZhbGxiYWNrIiwiaXNIeWRyYXRpbmciLCJpc1NhbWVWTm9kZVR5cGUiLCJwZW5kaW5nSWQiLCJvblBlbmRpbmciLCJwYXRjaFN1c3BlbnNlIiwiaHlkcmF0ZSIsIm5vZGUiLCJoeWRyYXRlTm9kZSIsInBhcmVudE5vZGUiLCJkb2N1bWVudCIsImNyZWF0ZSIsIm1vdmUiLCJtIiwibiIsInJlbW92ZSIsImlzVW5tb3VudGVkIiwicmVzdW1lIiwiZGVsYXlFbnRlciIsIm1vZGUiLCJhZnRlckxlYXZlIiwiaGFzVW5yZXNvbHZlZEFuY2VzdG9yIiwib25SZXNvbHZlIiwiZmFsbGJhY2tWTm9kZSIsIm9uRmFsbGJhY2siLCJtb3VudEZhbGxiYWNrIiwicmVnaXN0ZXJEZXAiLCJzZXR1cFJlbmRlckVmZmVjdCIsImh5ZHJhdGVkRWwiLCJhc3luY0RlcCIsImFzeW5jU2V0dXBSZXN1bHQiLCJzdXNwZW5zZUlkIiwiYXN5bmNSZXNvbHZlZCIsImhhbmRsZVNldHVwUmVzdWx0IiwicGxhY2Vob2xkZXIiLCJkb1JlbW92ZSIsIm5vcm1hbGl6ZVN1c3BlbnNlQ2hpbGRyZW4iLCJub3JtYWxpemVTdXNwZW5zZVNsb3QiLCJzIiwiZmlsdGVyZWQiLCJjaGlsZCIsInF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlIiwiYnJhbmNoIiwic2V0Q29tcGlsZWRTbG90UmVuZGVyaW5nIiwicmVuZGVyRm5XaXRoQ29udGV4dCIsIm93bmVyIiwiY2xvc2VCbG9jayIsIl9jIiwiY3VycmVudFNjb3BlSWQiLCJzY29wZUlkU3RhY2siLCJpbml0UHJvcHMiLCJyYXdQcm9wcyIsImlzU3RhdGVmdWwiLCJpc1NTUiIsIkludGVybmFsT2JqZWN0S2V5Iiwic2V0RnVsbFByb3BzIiwic2hhbGxvd1JlYWN0aXZlIiwibmVlZENhc3RLZXlzIiwiaXNSZXNlcnZlZFByb3AiLCJjYW1lbEtleSIsInJhd0N1cnJlbnRQcm9wcyIsInJlc29sdmVQcm9wVmFsdWUiLCJvcHQiLCJoYXNEZWZhdWx0IiwiZGVmYXVsdFZhbHVlIiwiRnVuY3Rpb24iLCJzZXRDdXJyZW50SW5zdGFuY2UiLCJub3JtYWxpemVQcm9wc09wdGlvbnMiLCJfX3Byb3BzIiwiZXh0ZW5kUHJvcHMiLCJFTVBUWV9BUlIiLCJub3JtYWxpemVkS2V5IiwidmFsaWRhdGVQcm9wTmFtZSIsInByb3AiLCJib29sZWFuSW5kZXgiLCJnZXRUeXBlSW5kZXgiLCJzdHJpbmdJbmRleCIsImdldFR5cGUiLCJjdG9yIiwibWF0Y2giLCJ0b1N0cmluZyIsImlzU2FtZVR5cGUiLCJleHBlY3RlZFR5cGVzIiwibGVuIiwiaW5qZWN0SG9vayIsInByZXBlbmQiLCJob29rcyIsIndyYXBwZWRIb29rIiwiX193ZWgiLCJ1bnNoaWZ0IiwiY3JlYXRlSG9vayIsImxpZmVjeWNsZSIsImlzSW5TU1JDb21wb25lbnRTZXR1cCIsIm9uQmVmb3JlTW91bnQiLCJvbk1vdW50ZWQiLCJvbkJlZm9yZVVwZGF0ZSIsIm9uVXBkYXRlZCIsIm9uQmVmb3JlVW5tb3VudCIsIm9uVW5tb3VudGVkIiwib25SZW5kZXJUcmlnZ2VyZWQiLCJvblJlbmRlclRyYWNrZWQiLCJvbkVycm9yQ2FwdHVyZWQiLCJJTklUSUFMX1dBVENIRVJfVkFMVUUiLCJ3YXRjaCIsImltbWVkaWF0ZSIsImRlZXAiLCJmbHVzaCIsIm9uVHJhY2siLCJvblRyaWdnZXIiLCJmb3JjZVRyaWdnZXIiLCJ0cmF2ZXJzZSIsIm9uSW52YWxpZGF0ZSIsImJhc2VHZXR0ZXIiLCJydW5uZXIiLCJxdWV1ZVBvc3RSZW5kZXJFZmZlY3QiLCJpc01vdW50ZWQiLCJyZWNvcmRJbnN0YW5jZUJvdW5kRWZmZWN0Iiwic3RvcCIsImluc3RhbmNlV2F0Y2giLCJwdWJsaWNUaGlzIiwiaXNTZXQiLCJ1c2VUcmFuc2l0aW9uU3RhdGUiLCJzdGF0ZSIsImlzTGVhdmluZyIsImlzVW5tb3VudGluZyIsImxlYXZpbmdWTm9kZXMiLCJUcmFuc2l0aW9uSG9va1ZhbGlkYXRvciIsIkJhc2VUcmFuc2l0aW9uIiwiYXBwZWFyIiwicGVyc2lzdGVkIiwib25CZWZvcmVFbnRlciIsIm9uRW50ZXIiLCJvbkFmdGVyRW50ZXIiLCJvbkVudGVyQ2FuY2VsbGVkIiwib25CZWZvcmVMZWF2ZSIsIm9uTGVhdmUiLCJvbkFmdGVyTGVhdmUiLCJvbkxlYXZlQ2FuY2VsbGVkIiwib25CZWZvcmVBcHBlYXIiLCJvbkFwcGVhciIsIm9uQWZ0ZXJBcHBlYXIiLCJvbkFwcGVhckNhbmNlbGxlZCIsInByZXZUcmFuc2l0aW9uS2V5IiwiZ2V0Q3VycmVudEluc3RhbmNlIiwiZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuIiwiZW1wdHlQbGFjZWhvbGRlciIsImlubmVyQ2hpbGQiLCJnZXRLZWVwQWxpdmVDaGlsZCIsImVudGVySG9va3MiLCJyZXNvbHZlVHJhbnNpdGlvbkhvb2tzIiwic2V0VHJhbnNpdGlvbkhvb2tzIiwib2xkQ2hpbGQiLCJvbGRJbm5lckNoaWxkIiwidHJhbnNpdGlvbktleUNoYW5nZWQiLCJnZXRUcmFuc2l0aW9uS2V5IiwibGVhdmluZ0hvb2tzIiwidXBkYXRlIiwiZGVsYXlMZWF2ZSIsImVhcmx5UmVtb3ZlIiwiZGVsYXllZExlYXZlIiwiZ2V0TGVhdmluZ05vZGVzRm9yVHlwZSIsIl9sZWF2ZUNiIiwibGVhdmluZ1ZOb2Rlc0NhY2hlIiwiY2FsbEhvb2siLCJiZWZvcmVFbnRlciIsImxlYXZpbmdWTm9kZSIsImVudGVyIiwiYWZ0ZXJIb29rIiwiY2FuY2VsSG9vayIsImNhbGxlZCIsIl9lbnRlckNiIiwiY2FuY2VsbGVkIiwibGVhdmUiLCJjbG9uZSIsImlzS2VlcEFsaXZlIiwia2VlcENvbW1lbnQiLCJrZXllZEZyYWdtZW50Q291bnQiLCJwYXRjaEZsYWciLCJfX2lzS2VlcEFsaXZlIiwiS2VlcEFsaXZlIiwiaW5oZXJpdFJlZiIsImluY2x1ZGUiLCJSZWdFeHAiLCJleGNsdWRlIiwibWF4IiwiY2FjaGUiLCJjdXJyZW50Iiwic2hhcmVkQ29udGV4dCIsInJlbmRlcmVyIiwiX3VubW91bnQiLCJzdG9yYWdlQ29udGFpbmVyIiwicmVzZXRTaGFwZUZsYWciLCJwcnVuZUNhY2hlIiwiZ2V0TmFtZSIsInBydW5lQ2FjaGVFbnRyeSIsImNhY2hlZCIsImFjdGl2YXRlIiwiaXNEZWFjdGl2YXRlZCIsImludm9rZUFycmF5Rm5zIiwidm5vZGVIb29rIiwib25Wbm9kZU1vdW50ZWQiLCJpbnZva2VWTm9kZUhvb2siLCJkZWFjdGl2YXRlIiwiZGEiLCJvblZub2RlVW5tb3VudGVkIiwibWF0Y2hlcyIsInBlbmRpbmdDYWNoZUtleSIsImNhY2hlU3VidHJlZSIsImdldElubmVyQ2hpbGQiLCJyYXdWTm9kZSIsImNhY2hlZFZOb2RlIiwicGFyc2VJbnQiLCJkaXNwbGF5TmFtZSIsInBhdHRlcm4iLCJzcGxpdCIsImluZGV4T2YiLCJ0ZXN0Iiwib25BY3RpdmF0ZWQiLCJyZWdpc3RlcktlZXBBbGl2ZUhvb2siLCJvbkRlYWN0aXZhdGVkIiwiX193ZGMiLCJpbmplY3RUb0tlZXBBbGl2ZVJvb3QiLCJrZWVwQWxpdmVSb290IiwiaW5qZWN0ZWQiLCJpc0ludGVybmFsS2V5Iiwibm9ybWFsaXplU2xvdFZhbHVlIiwibm9ybWFsaXplU2xvdCIsInJhd1Nsb3QiLCJub3JtYWxpemVPYmplY3RTbG90cyIsInJhd1Nsb3RzIiwiX2N0eCIsIm5vcm1hbGl6ZVZOb2RlU2xvdHMiLCJpbml0U2xvdHMiLCJpbnZva2VEaXJlY3RpdmVIb29rIiwicHJldlZOb2RlIiwib2xkQmluZGluZ3MiLCJiaW5kaW5nIiwiY3JlYXRlQXBwQ29udGV4dCIsImlzTmF0aXZlVGFnIiwiTk8iLCJwZXJmb3JtYW5jZSIsImdsb2JhbFByb3BlcnRpZXMiLCJvcHRpb25NZXJnZVN0cmF0ZWdpZXMiLCJpc0N1c3RvbUVsZW1lbnQiLCJjb21wb25lbnRzIiwicHJvdmlkZXMiLCJjcmVhdGVBcHBBUEkiLCJyb290Q29tcG9uZW50Iiwicm9vdFByb3BzIiwiY29udGV4dCIsImluc3RhbGxlZFBsdWdpbnMiLCJfdWlkIiwiX2NvbXBvbmVudCIsIl9wcm9wcyIsIl9jb250YWluZXIiLCJfY29udGV4dCIsInVzZSIsInBsdWdpbiIsImluc3RhbGwiLCJtaXhpbiIsImRpcmVjdGl2ZSIsIm1vdW50Iiwicm9vdENvbnRhaW5lciIsImlzSHlkcmF0ZSIsIl9fdnVlX2FwcF9fIiwicHJvdmlkZSIsImhhc01pc21hdGNoIiwiaXNTVkdDb250YWluZXIiLCJuYW1lc3BhY2VVUkkiLCJ0YWdOYW1lIiwiaXNDb21tZW50Iiwibm9kZVR5cGUiLCJtb3VudENvbXBvbmVudCIsIm10IiwicGF0Y2hQcm9wIiwibmV4dFNpYmxpbmciLCJpbnNlcnQiLCJjcmVhdGVDb21tZW50IiwiaXNGcmFnbWVudFN0YXJ0Iiwib25NaXNtYXRjaCIsImhhbmRsZU1pc21hdGNoIiwiZG9tVHlwZSIsIm5leHROb2RlIiwibmVlZFRvQWRvcHRDb250ZW50Iiwib3V0ZXJIVE1MIiwiaHlkcmF0ZUZyYWdtZW50IiwiaHlkcmF0ZUVsZW1lbnQiLCJoeWRyYXRlQ29tcG9uZW50IiwibG9hZEFzeW5jIiwibG9jYXRlQ2xvc2luZ0FzeW5jQW5jaG9yIiwiaHlkcmF0ZUNoaWxkcmVuIiwic2V0UmVmIiwiZHluYW1pY0NoaWxkcmVuIiwib25DbGljayIsInZub2RlSG9va3MiLCJvblZub2RlQmVmb3JlTW91bnQiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImZpcnN0Q2hpbGQiLCJwYXJlbnRWTm9kZSIsImlzRnJhZ21lbnQiLCJlbmQiLCJwcm9kRWZmZWN0T3B0aW9ucyIsInJhd1JlZiIsIm9sZFJhd1JlZiIsIm9sZFJlZiIsInJlZnMiLCJkb1NldCIsImNyZWF0ZUh5ZHJhdGlvbkZucyIsImdldEdsb2JhbFRoaXMiLCJob3N0SW5zZXJ0IiwiaG9zdFJlbW92ZSIsImhvc3RQYXRjaFByb3AiLCJob3N0Rm9yY2VQYXRjaFByb3AiLCJmb3JjZVBhdGNoUHJvcCIsImhvc3RDcmVhdGVFbGVtZW50IiwiaG9zdENyZWF0ZVRleHQiLCJjcmVhdGVUZXh0IiwiaG9zdENyZWF0ZUNvbW1lbnQiLCJob3N0U2V0VGV4dCIsInNldFRleHQiLCJob3N0U2V0RWxlbWVudFRleHQiLCJzZXRFbGVtZW50VGV4dCIsImhvc3RQYXJlbnROb2RlIiwiaG9zdE5leHRTaWJsaW5nIiwic2V0U2NvcGVJZCIsImhvc3RTZXRTY29wZUlkIiwiaG9zdENsb25lTm9kZSIsImNsb25lTm9kZSIsImhvc3RJbnNlcnRTdGF0aWNDb250ZW50IiwiaW5zZXJ0U3RhdGljQ29udGVudCIsImdldE5leHRIb3N0Tm9kZSIsInByb2Nlc3NUZXh0IiwicHJvY2Vzc0NvbW1lbnROb2RlIiwibW91bnRTdGF0aWNOb2RlIiwicHJvY2Vzc0ZyYWdtZW50IiwicHJvY2Vzc0VsZW1lbnQiLCJwcm9jZXNzQ29tcG9uZW50IiwiaW50ZXJuYWxzIiwibW91bnRFbGVtZW50IiwicGF0Y2hFbGVtZW50Iiwic2NvcGVJZCIsImlzIiwibW91bnRDaGlsZHJlbiIsInVubW91bnRDaGlsZHJlbiIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsIm5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzIiwidHJlZU93bmVySWQiLCJfX3Njb3BlSWQiLCJzdGFydCIsImNsb25lSWZNb3VudGVkIiwib2xkUHJvcHMiLCJuZXdQcm9wcyIsIm9uVm5vZGVCZWZvcmVVcGRhdGUiLCJwYXRjaFByb3BzIiwic3R5bGUiLCJwcm9wc1RvVXBkYXRlIiwiZHluYW1pY1Byb3BzIiwicHJldiIsImFyZUNoaWxkcmVuU1ZHIiwicGF0Y2hCbG9ja0NoaWxkcmVuIiwicGF0Y2hDaGlsZHJlbiIsIm9uVm5vZGVVcGRhdGVkIiwib2xkQ2hpbGRyZW4iLCJuZXdDaGlsZHJlbiIsImZhbGxiYWNrQ29udGFpbmVyIiwib2xkVk5vZGUiLCJuZXdWTm9kZSIsImZyYWdtZW50U3RhcnRBbmNob3IiLCJmcmFnbWVudEVuZEFuY2hvciIsInRyYXZlcnNlU3RhdGljQ2hpbGRyZW4iLCJ1cGRhdGVDb21wb25lbnQiLCJpbml0aWFsVk5vZGUiLCJlbXB0eUFwcENvbnRleHQiLCJ1aWQkMSIsImFjY2Vzc0NhY2hlIiwic2V0dXBDb250ZXh0IiwiYmMiLCJjIiwiYm0iLCJidSIsInUiLCJidW0iLCJydGciLCJydGMiLCJjcmVhdGVDb21wb25lbnRJbnN0YW5jZSIsInNldHVwU3RhdGVmdWxDb21wb25lbnQiLCJzZXR1cENvbXBvbmVudCIsIm5leHRWTm9kZSIsInByZXZDaGlsZHJlbiIsIm5leHRDaGlsZHJlbiIsIiRzdGFibGUiLCJzaG91bGRVcGRhdGVDb21wb25lbnQiLCJ1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIiLCJvcmlnaW5OZXh0IiwibmV4dFRyZWUiLCJwcmV2VHJlZSIsInJhd1ByZXZQcm9wcyIsImtlYmFiS2V5IiwiY2FtZWxpemVkS2V5IiwidXBkYXRlUHJvcHMiLCJuZWVkRGVsZXRpb25DaGVjayIsImRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCIsImRlZmF1bHQiLCJ1cGRhdGVTbG90cyIsImMxIiwicHJldlNoYXBlRmxhZyIsImMyIiwicGF0Y2hLZXllZENoaWxkcmVuIiwicGF0Y2hVbmtleWVkQ2hpbGRyZW4iLCJvbGRMZW5ndGgiLCJuZXdMZW5ndGgiLCJjb21tb25MZW5ndGgiLCJNYXRoIiwibWluIiwibmV4dENoaWxkIiwicGFyZW50QW5jaG9yIiwibDIiLCJlMSIsImUyIiwibmV4dFBvcyIsInMxIiwiczIiLCJrZXlUb05ld0luZGV4TWFwIiwicGF0Y2hlZCIsInRvQmVQYXRjaGVkIiwibW92ZWQiLCJtYXhOZXdJbmRleFNvRmFyIiwibmV3SW5kZXhUb09sZEluZGV4TWFwIiwicHJldkNoaWxkIiwibmV3SW5kZXgiLCJpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZSIsImFyckkiLCJnZXRTZXF1ZW5jZSIsIm5leHRJbmRleCIsIm1vdmVUeXBlIiwibmVlZFRyYW5zaXRpb24iLCJwZXJmb3JtTGVhdmUiLCJzaG91bGRJbnZva2VEaXJzIiwib25Wbm9kZUJlZm9yZVVubW91bnQiLCJ1bm1vdW50Q29tcG9uZW50IiwiaXNUZWxlcG9ydERpc2FibGVkIiwicGVyZm9ybVJlbW92ZSIsInJlbW92ZUZyYWdtZW50IiwiX3Zub2RlIiwibWMiLCJwYyIsInBiYyIsImNyZWF0ZUFwcCIsImNoMSIsImNoMiIsImlzVGVsZXBvcnQiLCJfX2lzVGVsZXBvcnQiLCJkaXNhYmxlZCIsInJlc29sdmVUYXJnZXQiLCJzZWxlY3QiLCJ0YXJnZXRTZWxlY3RvciIsInRvIiwibW92ZVRlbGVwb3J0IiwidGFyZ2V0QW5jaG9yIiwiaXNSZW9yZGVyIiwiVGVsZXBvcnQiLCJxdWVyeVNlbGVjdG9yIiwibWFpbkFuY2hvciIsIndhc0Rpc2FibGVkIiwiY3VycmVudENvbnRhaW5lciIsImN1cnJlbnRBbmNob3IiLCJuZXh0VGFyZ2V0IiwidGFyZ2V0Tm9kZSIsIl9scGEiLCJzZWxmTmFtZSIsImNhcGl0YWxpemUiLCJyZWdpc3RyeSIsImJsb2NrU3RhY2siLCJjdXJyZW50QmxvY2siLCJkaXNhYmxlVHJhY2tpbmciLCJfX3ZfaXNWTm9kZSIsIm5vcm1hbGl6ZUtleSIsIm5vcm1hbGl6ZVJlZiIsImlzQmxvY2tOb2RlIiwiY2xvbmVkIiwibm9ybWFsaXplQ2hpbGRyZW4iLCJpc0NsYXNzQ29tcG9uZW50IiwiX192Y2NPcHRzIiwiaXNQcm94eSIsImtsYXNzIiwibm9ybWFsaXplQ2xhc3MiLCJub3JtYWxpemVTdHlsZSIsImV4dHJhUHJvcHMiLCJtZXJnZVJlZiIsIm1lcmdlZFByb3BzIiwibWVyZ2VQcm9wcyIsImNyZWF0ZVRleHRWTm9kZSIsImZsYWciLCJzbG90RmxhZyIsInRvTWVyZ2UiLCJleGlzdGluZyIsImluY29taW5nIiwicGFyZW50UHJvdmlkZXMiLCJpbmplY3QiLCJ0cmVhdERlZmF1bHRBc0ZhY3RvcnkiLCJpc0luQmVmb3JlQ3JlYXRlIiwiYXBwbHlPcHRpb25zIiwiZGVmZXJyZWREYXRhIiwiZGVmZXJyZWRXYXRjaCIsImRlZmVycmVkUHJvdmlkZSIsImV4dGVuZHNPcHRpb25zIiwiZGF0YU9wdGlvbnMiLCJjb21wdXRlZE9wdGlvbnMiLCJjb21wdXRlZCIsIm1ldGhvZHMiLCJ3YXRjaE9wdGlvbnMiLCJwcm92aWRlT3B0aW9ucyIsImluamVjdE9wdGlvbnMiLCJiZWZvcmVNb3VudCIsImJlZm9yZVVwZGF0ZSIsImFjdGl2YXRlZCIsImRlYWN0aXZhdGVkIiwiYmVmb3JlVW5tb3VudCIsImJlZm9yZURlc3Ryb3kiLCJ1bm1vdW50ZWQiLCJkZXN0cm95ZWQiLCJyZW5kZXJUcmFja2VkIiwicmVuZGVyVHJpZ2dlcmVkIiwiZXJyb3JDYXB0dXJlZCIsImdsb2JhbE1peGlucyIsImNhbGxTeW5jSG9vayIsImFwcGx5TWl4aW5zIiwibWV0aG9kSGFuZGxlciIsImRhdGFGbiIsInJlc29sdmVEYXRhIiwiY29uZmlndXJhYmxlIiwiY3JlYXRlV2F0Y2hlciIsImNhbGxIb29rRnJvbU1peGlucyIsImJhc2UiLCJjYWxsSG9va0Zyb21FeHRlbmRzIiwic2VsZkhvb2siLCJiYXNlSG9vayIsImNoYWluZWRNaXhpbnMiLCJwYXRoIiwic2VnbWVudHMiLCJjcmVhdGVQYXRoR2V0dGVyIiwibWVyZ2VPcHRpb25zIiwic3RyYXRzIiwicHVibGljUHJvcGVydGllc01hcCIsIiQiLCIkZWwiLCIkZGF0YSIsIiRwcm9wcyIsIiRhdHRycyIsIiRzbG90cyIsIiRyZWZzIiwiJHBhcmVudCIsIiRyb290IiwiJGVtaXQiLCIkb3B0aW9ucyIsIl9fbWVyZ2VkIiwicmVzb2x2ZU1lcmdlZE9wdGlvbnMiLCIkZm9yY2VVcGRhdGUiLCIkbmV4dFRpY2siLCIkd2F0Y2giLCJQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMiLCJub3JtYWxpemVkUHJvcHMiLCJjc3NNb2R1bGUiLCJwdWJsaWNHZXR0ZXIiLCJfX2Nzc01vZHVsZXMiLCJSdW50aW1lQ29tcGlsZWRQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMiLCJ1bnNjb3BhYmxlcyIsImlzR2xvYmFsbHlXaGl0ZWxpc3RlZCIsImNyZWF0ZVNldHVwQ29udGV4dCIsInNldHVwUmVzdWx0IiwicmVzb2x2ZWRSZXN1bHQiLCJmaW5pc2hDb21wb25lbnRTZXR1cCIsImRldnRvb2xzUmF3U2V0dXBTdGF0ZSIsInByb3h5UmVmcyIsInRlbXBsYXRlIiwiZGVsaW1pdGVycyIsIl9yYyIsImNsYXNzaWZ5UkUiLCJjbGFzc2lmeSIsInN0ciIsInRvVXBwZXJDYXNlIiwiX19maWxlIiwiaW5mZXJGcm9tUmVnaXN0cnkiLCJzc3JDb250ZXh0S2V5IiwibW9kdWxlcyIsIm1vZCIsInNjb3BlZCIsInByZWZpeCIsInNldFZhcnMiLCJzZXRWYXJzT25WTm9kZSIsIndhdGNoRWZmZWN0IiwidGVtcENvbnRhaW5lciIsInRlbXBTVkdDb250YWluZXIiLCJzdmdOUyIsImRvYyIsIm5vZGVPcHMiLCJpbnNlcnRCZWZvcmUiLCJyZW1vdmVDaGlsZCIsInRhZyIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZVRleHROb2RlIiwibm9kZVZhbHVlIiwic2VsZWN0b3IiLCJzZXRBdHRyaWJ1dGUiLCJ0ZW1wIiwiZmlyc3QiLCJwYXRjaENsYXNzIiwidHJhbnNpdGlvbkNsYXNzZXMiLCJfdnRjIiwiY2xhc3NOYW1lIiwicGF0Y2hTdHlsZSIsImNzc1RleHQiLCJzZXRTdHlsZSIsInJlbW92ZUF0dHJpYnV0ZSIsImltcG9ydGFudFJFIiwic2V0UHJvcGVydHkiLCJwcmVmaXhlZCIsInJhd05hbWUiLCJwcmVmaXhDYWNoZSIsInByZWZpeGVzIiwiYXV0b1ByZWZpeCIsInhsaW5rTlMiLCJwYXRjaEF0dHIiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsInNldEF0dHJpYnV0ZU5TIiwiaXNCb29sZWFuIiwiaXNTcGVjaWFsQm9vbGVhbkF0dHIiLCJwYXRjaERPTVByb3AiLCJlIiwiX2dldE5vdyIsIkRhdGUiLCJub3ciLCJjcmVhdGVFdmVudCIsInRpbWVTdGFtcCIsImNhY2hlZE5vdyIsInJlc2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwYXRjaEV2ZW50IiwicHJldlZhbHVlIiwibmV4dFZhbHVlIiwiaW52b2tlcnMiLCJfdmVpIiwiZXhpc3RpbmdJbnZva2VyIiwicGFyc2VOYW1lIiwiaW52b2tlciIsImNyZWF0ZUludm9rZXIiLCJvcHRpb25zTW9kaWZpZXJSRSIsImluaXRpYWxWYWx1ZSIsImF0dGFjaGVkIiwib3JpZ2luYWxTdG9wIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiX3N0b3BwZWQiLCJwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIm5hdGl2ZU9uUkUiLCJzaG91bGRTZXRBc1Byb3AiLCJ2YXJzIiwiVFJBTlNJVElPTiIsIkFOSU1BVElPTiIsIlRyYW5zaXRpb24iLCJoIiwicmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyIsIkRPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMiLCJjc3MiLCJkdXJhdGlvbiIsImVudGVyRnJvbUNsYXNzIiwiZW50ZXJBY3RpdmVDbGFzcyIsImVudGVyVG9DbGFzcyIsImFwcGVhckZyb21DbGFzcyIsImFwcGVhckFjdGl2ZUNsYXNzIiwiYXBwZWFyVG9DbGFzcyIsImxlYXZlRnJvbUNsYXNzIiwibGVhdmVBY3RpdmVDbGFzcyIsImxlYXZlVG9DbGFzcyIsIlRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMiLCJiYXNlUHJvcHMiLCJkdXJhdGlvbnMiLCJOdW1iZXJPZiIsIm5vcm1hbGl6ZUR1cmF0aW9uIiwiZW50ZXJEdXJhdGlvbiIsImxlYXZlRHVyYXRpb24iLCJmaW5pc2hFbnRlciIsImlzQXBwZWFyIiwicmVtb3ZlVHJhbnNpdGlvbkNsYXNzIiwiZmluaXNoTGVhdmUiLCJtYWtlRW50ZXJIb29rIiwibmV4dEZyYW1lIiwiYWRkVHJhbnNpdGlvbkNsYXNzIiwid2hlblRyYW5zaXRpb25FbmRzIiwiY2xzIiwiY2xhc3NMaXN0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZXhwZWN0ZWRUeXBlIiwiZ2V0VHJhbnNpdGlvbkluZm8iLCJwcm9wQ291bnQiLCJlbmRFdmVudCIsImVuZGVkIiwib25FbmQiLCJzdHlsZXMiLCJ3aW5kb3ciLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0U3R5bGVQcm9wZXJ0aWVzIiwidHJhbnNpdGlvbkRlbGF5cyIsInRyYW5zaXRpb25EdXJhdGlvbnMiLCJ0cmFuc2l0aW9uVGltZW91dCIsImdldFRpbWVvdXQiLCJhbmltYXRpb25EZWxheXMiLCJhbmltYXRpb25EdXJhdGlvbnMiLCJhbmltYXRpb25UaW1lb3V0IiwiaGFzVHJhbnNmb3JtIiwiZGVsYXlzIiwiZCIsInRvTXMiLCJwb3NpdGlvbk1hcCIsIm5ld1Bvc2l0aW9uTWFwIiwiVHJhbnNpdGlvbkdyb3VwIiwibW92ZUNsYXNzIiwiZGlzcGxheSIsImFwcGVuZENoaWxkIiwiaGFzQ1NTVHJhbnNmb3JtIiwiY2FsbFBlbmRpbmdDYnMiLCJyZWNvcmRQb3NpdGlvbiIsIm1vdmVkQ2hpbGRyZW4iLCJhcHBseVRyYW5zbGF0aW9uIiwiYm9keSIsIm9mZnNldEhlaWdodCIsInRyYW5zZm9ybSIsIndlYmtpdFRyYW5zZm9ybSIsInRyYW5zaXRpb25EdXJhdGlvbiIsIl9tb3ZlQ2IiLCJwcm9wZXJ0eU5hbWUiLCJjc3NUcmFuc2l0aW9uUHJvcHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJvbGRQb3MiLCJuZXdQb3MiLCJkeCIsImxlZnQiLCJkeSIsInRvcCIsImdldE1vZGVsQXNzaWduZXIiLCJvbkNvbXBvc2l0aW9uU3RhcnQiLCJjb21wb3NpbmciLCJvbkNvbXBvc2l0aW9uRW5kIiwiaW5pdEV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsInZNb2RlbFRleHQiLCJjcmVhdGVkIiwiX2Fzc2lnbiIsImNhc3RUb051bWJlciIsImRvbVZhbHVlIiwiYWN0aXZlRWxlbWVudCIsInZNb2RlbENoZWNrYm94Iiwic2V0Q2hlY2tlZCIsIm1vZGVsVmFsdWUiLCJfbW9kZWxWYWx1ZSIsImVsZW1lbnRWYWx1ZSIsImdldFZhbHVlIiwiY2hlY2tlZCIsImFzc2lnbiIsImxvb3NlSW5kZXhPZiIsImZvdW5kIiwic3BsaWNlIiwiZ2V0Q2hlY2tib3hWYWx1ZSIsImxvb3NlRXF1YWwiLCJ2TW9kZWxSYWRpbyIsInZNb2RlbFNlbGVjdCIsInNlbGVjdGVkVmFsIiwic2VsZWN0ZWQiLCJtdWx0aXBsZSIsInNldFNlbGVjdGVkIiwiX2JpbmRpbmciLCJpc011bHRpcGxlIiwib3B0aW9uIiwib3B0aW9uVmFsdWUiLCJzZWxlY3RlZEluZGV4Iiwidk1vZGVsRHluYW1pYyIsImNhbGxNb2RlbEhvb2siLCJtb2RlbFRvVXNlIiwic3lzdGVtTW9kaWZpZXJzIiwibW9kaWZpZXJHdWFyZHMiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50IiwicHJldmVudERlZmF1bHQiLCJzZWxmIiwiY3VycmVudFRhcmdldCIsImN0cmwiLCJjdHJsS2V5Iiwic2hpZnQiLCJzaGlmdEtleSIsImFsdCIsImFsdEtleSIsIm1ldGEiLCJtZXRhS2V5IiwiYnV0dG9uIiwibWlkZGxlIiwicmlnaHQiLCJleGFjdCIsImd1YXJkIiwia2V5TmFtZXMiLCJlc2MiLCJzcGFjZSIsInVwIiwiZG93biIsImV2ZW50S2V5IiwiayIsInZTaG93IiwiX3ZvZCIsInNldERpc3BsYXkiLCJyZW5kZXJlck9wdGlvbnMiLCJfdHJ1ZVZhbHVlIiwiX2ZhbHNlVmFsdWUiLCJlbmFibGVkSHlkcmF0aW9uIiwiZW5zdXJlUmVuZGVyZXIiLCJjcmVhdGVSZW5kZXJlciIsImVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyIiwiY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIiLCJub3JtYWxpemVDb250YWluZXIiLCJjb250YWluZXJPclNlbGVjdG9yIiwibWFrZU1hcCIsImV4cGVjdHNMb3dlckNhc2UiLCJsaXN0Iiwic3RyaW5nIiwiZXNjYXBlUkUiLCJleGVjIiwiZXNjYXBlZCIsImh0bWwiLCJsYXN0SW5kZXgiLCJjaGFyQ29kZUF0Iiwic3Vic3RyaW5nIiwic3JjIiwiY29tbWVudFN0cmlwUkUiLCJsaW5lcyIsImNvdW50IiwibGluZSIsInJlcGVhdCIsImxpbmVMZW5ndGgiLCJwYWQiLCJhdHRyVmFsaWRhdGlvbkNhY2hlIiwiaGFzT3duUHJvcGVydHkiLCJpc1Vuc2FmZSIsInVuc2FmZUF0dHJDaGFyUkUiLCJmaW5kSW5kZXgiLCJpdGVtIiwicGFyc2VTdHJpbmdTdHlsZSIsImlzTm9Vbml0TnVtZXJpY1N0eWxlUHJvcCIsIlBhdGNoRmxhZ05hbWVzIiwic3BlY2lhbEJvb2xlYW5BdHRycyIsImlzQm9vbGVhbkF0dHIiLCJhY2NlcHRDaGFyc2V0IiwiaHRtbEZvciIsImh0dHBFcXVpdiIsImlzS25vd25BdHRyIiwibGlzdERlbGltaXRlclJFIiwicHJvcGVydHlEZWxpbWl0ZXJSRSIsInRtcCIsImlzSFRNTFRhZyIsImlzU1ZHVGFnIiwiaXNWb2lkVGFnIiwiYVZhbGlkVHlwZSIsImlzRGF0ZSIsImJWYWxpZFR5cGUiLCJnZXRUaW1lIiwiZXF1YWwiLCJsb29zZUNvbXBhcmVBcnJheXMiLCJhSGFzS2V5IiwiYkhhc0tleSIsInJlcGxhY2VyIiwiZW50cmllcyIsInJlZHVjZSIsImlzUGxhaW5PYmplY3QiLCJvblJFIiwidG9UeXBlU3RyaW5nIiwib2JqZWN0VG9TdHJpbmciLCJjYWNoZVN0cmluZ0Z1bmN0aW9uIiwiY2FtZWxpemVSRSIsImh5cGhlbmF0ZVJFIiwiY2hhckF0IiwiX2dsb2JhbFRoaXMiLCJmbnMiLCJwYXJzZUZsb2F0IiwiaXNOYU4iLCJnbG9iYWxUaGlzIiwiZ2xvYmFsIiwiZGF0YUxpc3QiLCJvcmlnaW4iLCJsb2NhdGlvbiIsImFqYXgiLCJ1cmwiLCJkYXRhVHlwZSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJzdWNjZXNzIiwibG9nIiwiZmFpbCIsImJ0bkZpbGUiLCJjbGljayIsImNob29zZUZpbGUiLCJmaWxlcyIsImZpbGVOYW1lIiwiZmlsZSIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJidG5VcGxvYWQiLCJjbGFzcyIsIiRldmVudCIsImhyZWYiLCJ0aW1lIiwibGlzdGVuZXJzIiwicG9zaXRpb24iLCJzZXRMb2NhdGlvbiIsInRyaWdnZXJMaXN0ZW5lcnMiLCJpbmZvIiwiZGlyZWN0aW9uIiwiZGVsdGEiLCJOYXZpZ2F0aW9uVHlwZSIsInJvdXRlckhpc3RvcnkiLCJjcmVhdGVIcmVmIiwibGlzdGVuIiwiZGVzdHJveSIsImdvIiwic2hvdWxkVHJpZ2dlciIsIk5hdmlnYXRpb25EaXJlY3Rpb24iLCJiYWNrIiwiZm9yd2FyZCIsIm1hdGNoZXIiLCJjcmVhdGVSb3V0ZXJNYXRjaGVyIiwicm91dGVzIiwicGFyc2VRdWVyeSQxIiwicGFyc2VRdWVyeSIsInN0cmluZ2lmeVF1ZXJ5JDEiLCJzdHJpbmdpZnlRdWVyeSIsInNjcm9sbEJlaGF2aW9yIiwiaGlzdG9yeSIsImJlZm9yZUd1YXJkcyIsInVzZUNhbGxiYWNrcyIsImJlZm9yZVJlc29sdmVHdWFyZHMiLCJhZnRlckd1YXJkcyIsImN1cnJlbnRSb3V0ZSIsInNoYWxsb3dSZWYiLCJTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEIiwicGVuZGluZ0xvY2F0aW9uIiwiaXNCcm93c2VyIiwic2Nyb2xsUmVzdG9yYXRpb24iLCJyZW1vdmVIaXN0b3J5TGlzdGVuZXIiLCJub3JtYWxpemVQYXJhbXMiLCJhcHBseVRvUGFyYW1zIiwicGFyYW1WYWx1ZSIsImVuY29kZVBhcmFtcyIsImVuY29kZVBhcmFtIiwiZGVjb2RlUGFyYW1zIiwiZGVjb2RlIiwicmF3TG9jYXRpb24iLCJjdXJyZW50TG9jYXRpb24iLCJsb2NhdGlvbk5vcm1hbGl6ZWQiLCJwYXJzZVVSTCIsIm1hdGNoZWRSb3V0ZSIsImZ1bGxQYXRoIiwiaGFzaCIsInJlZGlyZWN0ZWRGcm9tIiwibWF0Y2hlckxvY2F0aW9uIiwicXVlcnkiLCJzdHJpbmdpZnlVUkwiLCJjb21tb25FbmNvZGUiLCJFTkNfQ1VSTFlfT1BFTl9SRSIsIkVOQ19DVVJMWV9DTE9TRV9SRSIsIkVOQ19DQVJFVF9SRSIsIm5vcm1hbGl6ZVF1ZXJ5IiwibG9jYXRpb25Bc09iamVjdCIsImNoZWNrQ2FuY2VsZWROYXZpZ2F0aW9uIiwiY3JlYXRlUm91dGVyRXJyb3IiLCJwdXNoV2l0aFJlZGlyZWN0IiwiaGFuZGxlUmVkaXJlY3RSZWNvcmQiLCJsYXN0TWF0Y2hlZCIsIm1hdGNoZWQiLCJyZWRpcmVjdCIsIm5ld1RhcmdldExvY2F0aW9uIiwidGFyZ2V0TG9jYXRpb24iLCJmb3JjZSIsInNob3VsZFJlZGlyZWN0IiwiZmFpbHVyZSIsInRvTG9jYXRpb24iLCJhTGFzdEluZGV4IiwiYkxhc3RJbmRleCIsImlzU2FtZVJvdXRlUmVjb3JkIiwiaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtcyIsImlzU2FtZVJvdXRlTG9jYXRpb24iLCJoYW5kbGVTY3JvbGwiLCJuYXZpZ2F0ZSIsImlzTmF2aWdhdGlvbkZhaWx1cmUiLCJ0cmlnZ2VyRXJyb3IiLCJmaW5hbGl6ZU5hdmlnYXRpb24iLCJ0cmlnZ2VyQWZ0ZXJFYWNoIiwiY2hlY2tDYW5jZWxlZE5hdmlnYXRpb25BbmRSZWplY3QiLCJndWFyZHMiLCJsZWF2aW5nUmVjb3JkcyIsInVwZGF0aW5nUmVjb3JkcyIsImVudGVyaW5nUmVjb3JkcyIsInJlY29yZEZyb20iLCJyZWNvcmRUbyIsImV4dHJhY3RDaGFuZ2luZ1JlY29yZHMiLCJleHRyYWN0Q29tcG9uZW50c0d1YXJkcyIsInJldmVyc2UiLCJsZWF2ZUd1YXJkcyIsImd1YXJkVG9Qcm9taXNlRm4iLCJjYW5jZWxlZE5hdmlnYXRpb25DaGVjayIsInJ1bkd1YXJkUXVldWUiLCJ1cGRhdGVHdWFyZHMiLCJyZWNvcmQiLCJlbnRlckNhbGxiYWNrcyIsImlzUHVzaCIsImlzRmlyc3ROYXZpZ2F0aW9uIiwic2Nyb2xsIiwibWFya0FzUmVhZHkiLCJyZWFkeSIsInJlYWR5SGFuZGxlcnMiLCJlcnJvckhhbmRsZXJzIiwiX2Zyb20iLCJub29wIiwic2Nyb2xsUG9zaXRpb24iLCJnZXRTY3JvbGxLZXkiLCJjb21wdXRlU2Nyb2xsUG9zaXRpb24iLCJzY3JvbGxQb3NpdGlvbnMiLCJzY3JvbGxUb09wdGlvbnMiLCJwb3NpdGlvbkVsIiwiaXNJZFNlbGVjdG9yIiwiZ2V0RWxlbWVudEJ5SWQiLCJvZmZzZXQiLCJkb2NSZWN0IiwiZG9jdW1lbnRFbGVtZW50IiwiZWxSZWN0IiwiYmVoYXZpb3IiLCJnZXRFbGVtZW50UG9zaXRpb24iLCJzY3JvbGxUbyIsInBhZ2VYT2Zmc2V0IiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb1Bvc2l0aW9uIiwic3RhcnRlZCIsImluc3RhbGxlZEFwcHMiLCJhZGRSb3V0ZSIsInBhcmVudE9yUm91dGUiLCJyb3V0ZSIsImlzUm91dGVOYW1lIiwiZ2V0UmVjb3JkTWF0Y2hlciIsInJlbW92ZVJvdXRlIiwicmVjb3JkTWF0Y2hlciIsImhhc1JvdXRlIiwiZ2V0Um91dGVzIiwicm91dGVNYXRjaGVyIiwiYmVmb3JlRWFjaCIsImJlZm9yZVJlc29sdmUiLCJhZnRlckVhY2giLCJpc1JlYWR5Iiwicm91dGVyIiwiUm91dGVyTGluayIsIlJvdXRlclZpZXciLCIkcm91dGVyIiwicmVhY3RpdmVSb3V0ZSIsInJvdXRlcktleSIsInJvdXRlTG9jYXRpb25LZXkiLCJ1bm1vdW50QXBwIiwicm91dGVySWQiLCJsaWIiLCJzZXR1cERldnRvb2xzUGx1Z2luIiwibGFiZWwiLCJhcGkiLCJvbiIsImluc3BlY3RDb21wb25lbnQiLCJwYXlsb2FkIiwiaW5zdGFuY2VEYXRhIiwiZWRpdGFibGUiLCJmb3JtYXRSb3V0ZUxvY2F0aW9uIiwibm90aWZ5Q29tcG9uZW50VXBkYXRlIiwibmF2aWdhdGlvbnNMYXllcklkIiwiYWRkVGltZWxpbmVMYXllciIsImNvbG9yIiwiYWRkVGltZWxpbmVFdmVudCIsImxheWVySWQiLCJsb2dUeXBlIiwiZm9ybWF0RGlzcGxheSIsIl9jdXN0b20iLCJyZWFkT25seSIsIm1lc3NhZ2UiLCJ0b29sdGlwIiwic3RhdHVzIiwicm91dGVySW5zcGVjdG9ySWQiLCJhZGRJbnNwZWN0b3IiLCJpY29uIiwidHJlZUZpbHRlclBsYWNlaG9sZGVyIiwiZ2V0SW5zcGVjdG9yVHJlZSIsImluc3BlY3RvcklkIiwiaXNSb3V0ZU1hdGNoaW5nIiwiX192ZF9tYXRjaCIsInJvb3ROb2RlcyIsImZvcm1hdFJvdXRlUmVjb3JkRm9ySW5zcGVjdG9yIiwiZ2V0SW5zcGVjdG9yU3RhdGUiLCJmaW5kIiwibm9kZUlkIiwiZm9ybWF0Um91dGVSZWNvcmRNYXRjaGVyRm9yU3RhdGVJbnNwZWN0b3IiLCJhZGREZXZ0b29scyIsImhvc3QiLCJwYXRobmFtZSIsImNyZWF0ZVdlYkhpc3RvcnkiLCJsZWF2ZUd1YXJkIiwiYWN0aXZlUmVjb3JkIiwibWF0Y2hlZFJvdXRlS2V5IiwicmVnaXN0ZXJHdWFyZCIsInVwZGF0ZUd1YXJkIiwiaGFzU3ltYm9sIiwiUG9seVN5bWJvbCIsInZpZXdEZXB0aEtleSIsIm5ld1BhcmFtcyIsIlRSQUlMSU5HX1NMQVNIX1JFIiwic2VhcmNoU3RyaW5nIiwic2VhcmNoUG9zIiwiaGFzaFBvcyIsInJlc29sdmVSZWxhdGl2ZVBhdGgiLCJzdHJpcEJhc2UiLCJhbGlhc09mIiwiaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtc1ZhbHVlIiwiaXNFcXVpdmFsZW50QXJyYXkiLCJldmVyeSIsInRvUG9zaXRpb24iLCJzZWdtZW50IiwiZnJvbVNlZ21lbnRzIiwidG9TZWdtZW50cyIsIkJFRk9SRV9IQVNIX1JFIiwiY3JlYXRlQmFzZUxvY2F0aW9uIiwicHJvdG9jb2wiLCJjcmVhdGVDdXJyZW50TG9jYXRpb24iLCJzZWFyY2giLCJwYXRoRnJvbUhhc2giLCJidWlsZFN0YXRlIiwicmVwbGFjZWQiLCJjb21wdXRlU2Nyb2xsIiwiaGlzdG9yeU5hdmlnYXRpb24iLCJoaXN0b3J5U3RhdGUiLCJjaGFuZ2VMb2NhdGlvbiIsImhhc2hJbmRleCIsImN1cnJlbnRTdGF0ZSIsInVzZUhpc3RvcnlTdGF0ZU5hdmlnYXRpb24iLCJiYXNlRWwiLCJnZXRBdHRyaWJ1dGUiLCJub3JtYWxpemVCYXNlIiwiaGlzdG9yeUxpc3RlbmVycyIsInRlYXJkb3ducyIsInBhdXNlU3RhdGUiLCJwb3BTdGF0ZUhhbmRsZXIiLCJmcm9tU3RhdGUiLCJsaXN0ZW5lciIsInVua25vd24iLCJiZWZvcmVVbmxvYWRMaXN0ZW5lciIsInJlcGxhY2VTdGF0ZSIsInBhdXNlTGlzdGVuZXJzIiwidGVhcmRvd24iLCJ1c2VIaXN0b3J5TGlzdGVuZXJzIiwiTmF2aWdhdGlvbkZhaWx1cmVUeXBlIiwiTmF2aWdhdGlvbkZhaWx1cmVTeW1ib2wiLCJwcm9wZXJ0aWVzVG9Mb2ciLCJzdHJpbmdpZnlSb3V0ZSIsIkJBU0VfUEFSQU1fUEFUVEVSTiIsIkJBU0VfUEFUSF9QQVJTRVJfT1BUSU9OUyIsInNlbnNpdGl2ZSIsInN0cmljdCIsIlJFR0VYX0NIQVJTX1JFIiwiY29tcGFyZVNjb3JlQXJyYXkiLCJkaWZmIiwiY29tcGFyZVBhdGhQYXJzZXJTY29yZSIsImFTY29yZSIsInNjb3JlIiwiYlNjb3JlIiwiUk9PVF9UT0tFTiIsIlZBTElEX1BBUkFNX1JFIiwiY3JlYXRlUm91dGVSZWNvcmRNYXRjaGVyIiwicGFyc2VyIiwiZXh0cmFPcHRpb25zIiwic2VnbWVudFNjb3JlcyIsInRva2VuSW5kZXgiLCJ0b2tlbiIsInN1YlNlZ21lbnRTY29yZSIsInJlcGVhdGFibGUiLCJvcHRpb25hbCIsInJlZ2V4cCIsInJlIiwic3ViUGF0dGVybiIsInBhcnNlIiwiYXZvaWREdXBsaWNhdGVkU2xhc2giLCJlbmRzV2l0aCIsInBhcmFtIiwidG9rZW5zVG9QYXJzZXIiLCJjcmFzaCIsImJ1ZmZlciIsInByZXZpb3VzU3RhdGUiLCJ0b2tlbnMiLCJmaW5hbGl6ZVNlZ21lbnQiLCJjaGFyIiwiY3VzdG9tUmUiLCJjb25zdW1lQnVmZmVyIiwiYWRkQ2hhclRvQnVmZmVyIiwidG9rZW5pemVQYXRoIiwiYWxpYXMiLCJnbG9iYWxPcHRpb25zIiwibWF0Y2hlcnMiLCJtYXRjaGVyTWFwIiwib3JpZ2luYWxSZWNvcmQiLCJpc1Jvb3RBZGQiLCJtYWluTm9ybWFsaXplZFJlY29yZCIsIm5vcm1hbGl6ZVJlY29yZFByb3BzIiwiaW5zdGFuY2VzIiwibm9ybWFsaXplUm91dGVSZWNvcmQiLCJvcmlnaW5hbE1hdGNoZXIiLCJub3JtYWxpemVkUmVjb3JkcyIsIm5vcm1hbGl6ZWRSZWNvcmQiLCJwYXJlbnRQYXRoIiwiY29ubmVjdGluZ1NsYXNoIiwiaXNBbGlhc1JlY29yZCIsImluc2VydE1hdGNoZXIiLCJtYXRjaGVyUmVmIiwicGFyYW1zRnJvbUxvY2F0aW9uIiwicGFyZW50TWF0Y2hlciIsIm1lcmdlTWV0YUZpZWxkcyIsInByb3BzT2JqZWN0IiwiZGVmYXVsdHMiLCJwYXJ0aWFsT3B0aW9ucyIsIkhBU0hfUkUiLCJBTVBFUlNBTkRfUkUiLCJTTEFTSF9SRSIsIkVRVUFMX1JFIiwiSU1fUkUiLCJQTFVTX1JFIiwiRU5DX0JSQUNLRVRfT1BFTl9SRSIsIkVOQ19CUkFDS0VUX0NMT1NFX1JFIiwiRU5DX0JBQ0tUSUNLX1JFIiwiRU5DX1BJUEVfUkUiLCJFTkNfU1BBQ0VfUkUiLCJlbmNvZGVVUkkiLCJlbmNvZGVRdWVyeVZhbHVlIiwiZW5jb2RlUGF0aCIsImRlY29kZVVSSUNvbXBvbmVudCIsInNlYXJjaFBhcmFtcyIsInNlYXJjaFBhcmFtIiwiZXFQb3MiLCJjdXJyZW50VmFsdWUiLCJub3JtYWxpemVkUXVlcnkiLCJoYW5kbGVycyIsInJlbW92ZUZyb21MaXN0IiwiZW50ZXJDYWxsYmFja0FycmF5IiwidmFsaWQiLCJndWFyZFJldHVybiIsImd1YXJkQ2FsbCIsImd1YXJkVHlwZSIsInJhd0NvbXBvbmVudCIsImlzUm91dGVDb21wb25lbnQiLCJjb21wb25lbnRQcm9taXNlIiwicmVzb2x2ZWQiLCJyZXNvbHZlZENvbXBvbmVudCIsInVzZUxpbmsiLCJhY3RpdmVSZWNvcmRJbmRleCIsInJvdXRlTWF0Y2hlZCIsImN1cnJlbnRNYXRjaGVkIiwicGFyZW50UmVjb3JkUGF0aCIsImdldE9yaWdpbmFsUGF0aCIsImlzQWN0aXZlIiwib3V0ZXIiLCJpbm5lciIsImlubmVyVmFsdWUiLCJvdXRlclZhbHVlIiwiaW5jbHVkZXNQYXJhbXMiLCJpc0V4YWN0QWN0aXZlIiwiZ3VhcmRFdmVudCIsInJlcXVpcmVkIiwiYWN0aXZlQ2xhc3MiLCJleGFjdEFjdGl2ZUNsYXNzIiwiY3VzdG9tIiwiYXJpYUN1cnJlbnRWYWx1ZSIsImxpbmsiLCJlbENsYXNzIiwiZ2V0TGlua0NsYXNzIiwibGlua0FjdGl2ZUNsYXNzIiwibGlua0V4YWN0QWN0aXZlQ2xhc3MiLCJkZWZhdWx0UHJldmVudGVkIiwicHJvcENsYXNzIiwiZ2xvYmFsQ2xhc3MiLCJkZWZhdWx0Q2xhc3MiLCJpbmplY3RlZFJvdXRlIiwiZGVwdGgiLCJtYXRjaGVkUm91dGVSZWYiLCJ2aWV3UmVmIiwib2xkSW5zdGFuY2UiLCJWaWV3Q29tcG9uZW50IiwiY3VycmVudE5hbWUiLCJyb3V0ZVByb3BzT3B0aW9uIiwicm91dGVQcm9wcyIsImNvbW1vbmpzR2xvYmFsIiwiY3JlYXRlQ29tbW9uanNNb2R1bGUiLCJiYXNlZGlyIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcXVpcmUiLCJjb21tb25qc1JlcXVpcmUiLCJlbnYiLCJuYXZpZ2F0b3IiLCJfX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fIiwiX2NvbnN0IiwiQXBpSG9va0V2ZW50cyIsIkhvb2tzIiwiYXBpJDEiLCJfX2NyZWF0ZUJpbmRpbmciLCJrMiIsIl9fZXhwb3J0U3RhciIsInBsdWdpbkRlc2NyaXB0b3IiLCJzZXR1cEZuIiwiU0VUVVBfREVWVE9PTFNfUExVR0lOIiwiX19WVUVfREVWVE9PTFNfUExVR0lOU19fIiwicm91dGVMb2NhdGlvbiIsImNvcHkiLCJmaWVsZHMiLCJtb2RpZmllckZvcktleSIsInRhZ3MiLCJ0ZXh0Q29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJFWFRSQUNUX1JFR0VYUF9SRSIsImRlY29kZWRQYXRoIiwicHJvbWlzZSIsImNyZWF0ZVJvdXRlciIsImNyZWF0ZVdlYkhhc2hIaXN0b3J5IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJnIiwiQXBwIl0sIm1hcHBpbmdzIjoib0dBNHpCQSxTQUFrQkEsR0FDZCxJQUFJQyxFQUNBQyxFQWFKLE9BWkksSUFBQUMsWUFBV0gsSUFDWEMsRUFBU0QsRUFDVEUsRUFJTUUsU0FHTkgsRUFBU0QsRUFBZ0JLLElBQ3pCSCxFQUFTRixFQUFnQk0sS0FFdEIsSUFBSUMsR0FBZ0JOLEVBQVFDLEdBQVEsSUFBQUMsWUFBV0gsS0FBcUJBLEVBQWdCTSxNLFlBM0UvRixTQUFtQkUsR0FDZixPQUFPLElBQUlDLEdBQWNELEksd0NBckY3QixTQUFpQkUsR0FDYixPQUFPQyxHQUFXRCxJQUFVRSxHQUFXRixJLHFEQUszQyxTQUFpQkEsR0FFYixPQURBLElBQUFHLEtBQUlILEVBQU8sWUFBdUIsR0FDM0JBLEcsOEJBeURYLFNBQW1CSSxHQUNmLE9BQU9ILEdBQVdHLEdBQ1pBLEVBQ0EsSUFBSUMsTUFBTUQsRUFBZ0JFLEssa0NBckRwQyxTQUFhTixHQUNULE9BQU9PLEdBQVVQLEksb0NBbEVyQixTQUF5QlEsR0FDckIsT0FBT0MsR0FBcUJE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QWUwN0IsRUFBU3hyRCxPQUFPOEwsWUFBYSxDQUFFaE8sTUFBTyxXQUU3RDRFLE9BQU9vdEIsZUFBZTA3QixFQUFTLGFBQWMsQ0FBRTF0RCxPQUFPLEssTUNMdkQsYUFDQSxZQUNBLFksb0RBSUEsSUFBQXc0QixXQUFVcTNCLFdBQUt0akMsSUFBSSt4QixXQUFRMXhCLE1BQU0sVSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRU1QVFlfT0JKLCBpc0FycmF5LCBpc01hcCwgaXNJbnRlZ2VyS2V5LCBpc1N5bWJvbCwgZXh0ZW5kLCBoYXNPd24sIGlzT2JqZWN0LCBoYXNDaGFuZ2VkLCBjYXBpdGFsaXplLCB0b1Jhd1R5cGUsIGRlZiwgaXNGdW5jdGlvbiwgTk9PUCB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3QgdGFyZ2V0TWFwID0gbmV3IFdlYWtNYXAoKTtcclxuY29uc3QgZWZmZWN0U3RhY2sgPSBbXTtcclxubGV0IGFjdGl2ZUVmZmVjdDtcclxuY29uc3QgSVRFUkFURV9LRVkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ2l0ZXJhdGUnIDogJycpO1xyXG5jb25zdCBNQVBfS0VZX0lURVJBVEVfS0VZID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdNYXAga2V5IGl0ZXJhdGUnIDogJycpO1xyXG5mdW5jdGlvbiBpc0VmZmVjdChmbikge1xyXG4gICAgcmV0dXJuIGZuICYmIGZuLl9pc0VmZmVjdCA9PT0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBlZmZlY3QoZm4sIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcclxuICAgIGlmIChpc0VmZmVjdChmbikpIHtcclxuICAgICAgICBmbiA9IGZuLnJhdztcclxuICAgIH1cclxuICAgIGNvbnN0IGVmZmVjdCA9IGNyZWF0ZVJlYWN0aXZlRWZmZWN0KGZuLCBvcHRpb25zKTtcclxuICAgIGlmICghb3B0aW9ucy5sYXp5KSB7XHJcbiAgICAgICAgZWZmZWN0KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZWZmZWN0O1xyXG59XHJcbmZ1bmN0aW9uIHN0b3AoZWZmZWN0KSB7XHJcbiAgICBpZiAoZWZmZWN0LmFjdGl2ZSkge1xyXG4gICAgICAgIGNsZWFudXAoZWZmZWN0KTtcclxuICAgICAgICBpZiAoZWZmZWN0Lm9wdGlvbnMub25TdG9wKSB7XHJcbiAgICAgICAgICAgIGVmZmVjdC5vcHRpb25zLm9uU3RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlZmZlY3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxubGV0IHVpZCA9IDA7XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlRWZmZWN0KGZuLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCBlZmZlY3QgPSBmdW5jdGlvbiByZWFjdGl2ZUVmZmVjdCgpIHtcclxuICAgICAgICBpZiAoIWVmZmVjdC5hY3RpdmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuc2NoZWR1bGVyID8gdW5kZWZpbmVkIDogZm4oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFlZmZlY3RTdGFjay5pbmNsdWRlcyhlZmZlY3QpKSB7XHJcbiAgICAgICAgICAgIGNsZWFudXAoZWZmZWN0KTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZVRyYWNraW5nKCk7XHJcbiAgICAgICAgICAgICAgICBlZmZlY3RTdGFjay5wdXNoKGVmZmVjdCk7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVFZmZlY3QgPSBlZmZlY3Q7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIGVmZmVjdFN0YWNrLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgcmVzZXRUcmFja2luZygpO1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlRWZmZWN0ID0gZWZmZWN0U3RhY2tbZWZmZWN0U3RhY2subGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZWZmZWN0LmlkID0gdWlkKys7XHJcbiAgICBlZmZlY3QuYWxsb3dSZWN1cnNlID0gISFvcHRpb25zLmFsbG93UmVjdXJzZTtcclxuICAgIGVmZmVjdC5faXNFZmZlY3QgPSB0cnVlO1xyXG4gICAgZWZmZWN0LmFjdGl2ZSA9IHRydWU7XHJcbiAgICBlZmZlY3QucmF3ID0gZm47XHJcbiAgICBlZmZlY3QuZGVwcyA9IFtdO1xyXG4gICAgZWZmZWN0Lm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgcmV0dXJuIGVmZmVjdDtcclxufVxyXG5mdW5jdGlvbiBjbGVhbnVwKGVmZmVjdCkge1xyXG4gICAgY29uc3QgeyBkZXBzIH0gPSBlZmZlY3Q7XHJcbiAgICBpZiAoZGVwcy5sZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZGVwc1tpXS5kZWxldGUoZWZmZWN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVwcy5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG59XHJcbmxldCBzaG91bGRUcmFjayA9IHRydWU7XHJcbmNvbnN0IHRyYWNrU3RhY2sgPSBbXTtcclxuZnVuY3Rpb24gcGF1c2VUcmFja2luZygpIHtcclxuICAgIHRyYWNrU3RhY2sucHVzaChzaG91bGRUcmFjayk7XHJcbiAgICBzaG91bGRUcmFjayA9IGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGVuYWJsZVRyYWNraW5nKCkge1xyXG4gICAgdHJhY2tTdGFjay5wdXNoKHNob3VsZFRyYWNrKTtcclxuICAgIHNob3VsZFRyYWNrID0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiByZXNldFRyYWNraW5nKCkge1xyXG4gICAgY29uc3QgbGFzdCA9IHRyYWNrU3RhY2sucG9wKCk7XHJcbiAgICBzaG91bGRUcmFjayA9IGxhc3QgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBsYXN0O1xyXG59XHJcbmZ1bmN0aW9uIHRyYWNrKHRhcmdldCwgdHlwZSwga2V5KSB7XHJcbiAgICBpZiAoIXNob3VsZFRyYWNrIHx8IGFjdGl2ZUVmZmVjdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IGRlcHNNYXAgPSB0YXJnZXRNYXAuZ2V0KHRhcmdldCk7XHJcbiAgICBpZiAoIWRlcHNNYXApIHtcclxuICAgICAgICB0YXJnZXRNYXAuc2V0KHRhcmdldCwgKGRlcHNNYXAgPSBuZXcgTWFwKCkpKTtcclxuICAgIH1cclxuICAgIGxldCBkZXAgPSBkZXBzTWFwLmdldChrZXkpO1xyXG4gICAgaWYgKCFkZXApIHtcclxuICAgICAgICBkZXBzTWFwLnNldChrZXksIChkZXAgPSBuZXcgU2V0KCkpKTtcclxuICAgIH1cclxuICAgIGlmICghZGVwLmhhcyhhY3RpdmVFZmZlY3QpKSB7XHJcbiAgICAgICAgZGVwLmFkZChhY3RpdmVFZmZlY3QpO1xyXG4gICAgICAgIGFjdGl2ZUVmZmVjdC5kZXBzLnB1c2goZGVwKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGFjdGl2ZUVmZmVjdC5vcHRpb25zLm9uVHJhY2spIHtcclxuICAgICAgICAgICAgYWN0aXZlRWZmZWN0Lm9wdGlvbnMub25UcmFjayh7XHJcbiAgICAgICAgICAgICAgICBlZmZlY3Q6IGFjdGl2ZUVmZmVjdCxcclxuICAgICAgICAgICAgICAgIHRhcmdldCxcclxuICAgICAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgICAgICBrZXlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHRyaWdnZXIodGFyZ2V0LCB0eXBlLCBrZXksIG5ld1ZhbHVlLCBvbGRWYWx1ZSwgb2xkVGFyZ2V0KSB7XHJcbiAgICBjb25zdCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xyXG4gICAgaWYgKCFkZXBzTWFwKSB7XHJcbiAgICAgICAgLy8gbmV2ZXIgYmVlbiB0cmFja2VkXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZWZmZWN0cyA9IG5ldyBTZXQoKTtcclxuICAgIGNvbnN0IGFkZCA9IChlZmZlY3RzVG9BZGQpID0+IHtcclxuICAgICAgICBpZiAoZWZmZWN0c1RvQWRkKSB7XHJcbiAgICAgICAgICAgIGVmZmVjdHNUb0FkZC5mb3JFYWNoKGVmZmVjdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0ICE9PSBhY3RpdmVFZmZlY3QgfHwgZWZmZWN0LmFsbG93UmVjdXJzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuYWRkKGVmZmVjdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAodHlwZSA9PT0gXCJjbGVhclwiIC8qIENMRUFSICovKSB7XHJcbiAgICAgICAgLy8gY29sbGVjdGlvbiBiZWluZyBjbGVhcmVkXHJcbiAgICAgICAgLy8gdHJpZ2dlciBhbGwgZWZmZWN0cyBmb3IgdGFyZ2V0XHJcbiAgICAgICAgZGVwc01hcC5mb3JFYWNoKGFkZCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChrZXkgPT09ICdsZW5ndGgnICYmIGlzQXJyYXkodGFyZ2V0KSkge1xyXG4gICAgICAgIGRlcHNNYXAuZm9yRWFjaCgoZGVwLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2xlbmd0aCcgfHwga2V5ID49IG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBhZGQoZGVwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gc2NoZWR1bGUgcnVucyBmb3IgU0VUIHwgQUREIHwgREVMRVRFXHJcbiAgICAgICAgaWYgKGtleSAhPT0gdm9pZCAwKSB7XHJcbiAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldChrZXkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWxzbyBydW4gZm9yIGl0ZXJhdGlvbiBrZXkgb24gQUREIHwgREVMRVRFIHwgTWFwLlNFVFxyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiYWRkXCIgLyogQUREICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoTUFQX0tFWV9JVEVSQVRFX0tFWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzSW50ZWdlcktleShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IGluZGV4IGFkZGVkIHRvIGFycmF5IC0+IGxlbmd0aCBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KCdsZW5ndGgnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRlbGV0ZVwiIC8qIERFTEVURSAqLzpcclxuICAgICAgICAgICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInNldFwiIC8qIFNFVCAqLzpcclxuICAgICAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBydW4gPSAoZWZmZWN0KSA9PiB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBlZmZlY3Qub3B0aW9ucy5vblRyaWdnZXIpIHtcclxuICAgICAgICAgICAgZWZmZWN0Lm9wdGlvbnMub25UcmlnZ2VyKHtcclxuICAgICAgICAgICAgICAgIGVmZmVjdCxcclxuICAgICAgICAgICAgICAgIHRhcmdldCxcclxuICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgb2xkVGFyZ2V0XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZWZmZWN0Lm9wdGlvbnMuc2NoZWR1bGVyKSB7XHJcbiAgICAgICAgICAgIGVmZmVjdC5vcHRpb25zLnNjaGVkdWxlcihlZmZlY3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWZmZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGVmZmVjdHMuZm9yRWFjaChydW4pO1xyXG59XG5cbmNvbnN0IGJ1aWx0SW5TeW1ib2xzID0gbmV3IFNldChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhTeW1ib2wpXHJcbiAgICAubWFwKGtleSA9PiBTeW1ib2xba2V5XSlcclxuICAgIC5maWx0ZXIoaXNTeW1ib2wpKTtcclxuY29uc3QgZ2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIoKTtcclxuY29uc3Qgc2hhbGxvd0dldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlR2V0dGVyKGZhbHNlLCB0cnVlKTtcclxuY29uc3QgcmVhZG9ubHlHZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcih0cnVlKTtcclxuY29uc3Qgc2hhbGxvd1JlYWRvbmx5R2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIodHJ1ZSwgdHJ1ZSk7XHJcbmNvbnN0IGFycmF5SW5zdHJ1bWVudGF0aW9ucyA9IHt9O1xyXG5bJ2luY2x1ZGVzJywgJ2luZGV4T2YnLCAnbGFzdEluZGV4T2YnXS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICBjb25zdCBtZXRob2QgPSBBcnJheS5wcm90b3R5cGVba2V5XTtcclxuICAgIGFycmF5SW5zdHJ1bWVudGF0aW9uc1trZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcclxuICAgICAgICBjb25zdCBhcnIgPSB0b1Jhdyh0aGlzKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRyYWNrKGFyciwgXCJnZXRcIiAvKiBHRVQgKi8sIGkgKyAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHdlIHJ1biB0aGUgbWV0aG9kIHVzaW5nIHRoZSBvcmlnaW5hbCBhcmdzIGZpcnN0ICh3aGljaCBtYXkgYmUgcmVhY3RpdmUpXHJcbiAgICAgICAgY29uc3QgcmVzID0gbWV0aG9kLmFwcGx5KGFyciwgYXJncyk7XHJcbiAgICAgICAgaWYgKHJlcyA9PT0gLTEgfHwgcmVzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAvLyBpZiB0aGF0IGRpZG4ndCB3b3JrLCBydW4gaXQgYWdhaW4gdXNpbmcgcmF3IHZhbHVlcy5cclxuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseShhcnIsIGFyZ3MubWFwKHRvUmF3KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pO1xyXG5bJ3B1c2gnLCAncG9wJywgJ3NoaWZ0JywgJ3Vuc2hpZnQnLCAnc3BsaWNlJ10uZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgY29uc3QgbWV0aG9kID0gQXJyYXkucHJvdG90eXBlW2tleV07XHJcbiAgICBhcnJheUluc3RydW1lbnRhdGlvbnNba2V5XSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XHJcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IG1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH07XHJcbn0pO1xyXG5mdW5jdGlvbiBjcmVhdGVHZXR0ZXIoaXNSZWFkb25seSA9IGZhbHNlLCBzaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBnZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIElTX1JFQUNUSVZFICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaXNSZWFkb25seTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWRvbmx5XCIgLyogSVNfUkVBRE9OTFkgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlzUmVhZG9ubHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIgLyogUkFXICovICYmXHJcbiAgICAgICAgICAgIHJlY2VpdmVyID09PSAoaXNSZWFkb25seSA/IHJlYWRvbmx5TWFwIDogcmVhY3RpdmVNYXApLmdldCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRhcmdldElzQXJyYXkgPSBpc0FycmF5KHRhcmdldCk7XHJcbiAgICAgICAgaWYgKHRhcmdldElzQXJyYXkgJiYgaGFzT3duKGFycmF5SW5zdHJ1bWVudGF0aW9ucywga2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQoYXJyYXlJbnN0cnVtZW50YXRpb25zLCBrZXksIHJlY2VpdmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzID0gUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcclxuICAgICAgICBpZiAoaXNTeW1ib2woa2V5KVxyXG4gICAgICAgICAgICA/IGJ1aWx0SW5TeW1ib2xzLmhhcyhrZXkpXHJcbiAgICAgICAgICAgIDoga2V5ID09PSBgX19wcm90b19fYCB8fCBrZXkgPT09IGBfX3ZfaXNSZWZgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaXNSZWFkb25seSkge1xyXG4gICAgICAgICAgICB0cmFjayh0YXJnZXQsIFwiZ2V0XCIgLyogR0VUICovLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2hhbGxvdykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNSZWYocmVzKSkge1xyXG4gICAgICAgICAgICAvLyByZWYgdW53cmFwcGluZyAtIGRvZXMgbm90IGFwcGx5IGZvciBBcnJheSArIGludGVnZXIga2V5LlxyXG4gICAgICAgICAgICBjb25zdCBzaG91bGRVbndyYXAgPSAhdGFyZ2V0SXNBcnJheSB8fCAhaXNJbnRlZ2VyS2V5KGtleSk7XHJcbiAgICAgICAgICAgIHJldHVybiBzaG91bGRVbndyYXAgPyByZXMudmFsdWUgOiByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc09iamVjdChyZXMpKSB7XHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgcmV0dXJuZWQgdmFsdWUgaW50byBhIHByb3h5IGFzIHdlbGwuIHdlIGRvIHRoZSBpc09iamVjdCBjaGVja1xyXG4gICAgICAgICAgICAvLyBoZXJlIHRvIGF2b2lkIGludmFsaWQgdmFsdWUgd2FybmluZy4gQWxzbyBuZWVkIHRvIGxhenkgYWNjZXNzIHJlYWRvbmx5XHJcbiAgICAgICAgICAgIC8vIGFuZCByZWFjdGl2ZSBoZXJlIHRvIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY3kuXHJcbiAgICAgICAgICAgIHJldHVybiBpc1JlYWRvbmx5ID8gcmVhZG9ubHkocmVzKSA6IHJlYWN0aXZlKHJlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IHNldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlU2V0dGVyKCk7XHJcbmNvbnN0IHNoYWxsb3dTZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZVNldHRlcih0cnVlKTtcclxuZnVuY3Rpb24gY3JlYXRlU2V0dGVyKHNoYWxsb3cgPSBmYWxzZSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSB7XHJcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcclxuICAgICAgICBpZiAoIXNoYWxsb3cpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpICYmIGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaGFkS2V5ID0gaXNBcnJheSh0YXJnZXQpICYmIGlzSW50ZWdlcktleShrZXkpXHJcbiAgICAgICAgICAgID8gTnVtYmVyKGtleSkgPCB0YXJnZXQubGVuZ3RoXHJcbiAgICAgICAgICAgIDogaGFzT3duKHRhcmdldCwga2V5KTtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LnNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKTtcclxuICAgICAgICAvLyBkb24ndCB0cmlnZ2VyIGlmIHRhcmdldCBpcyBzb21ldGhpbmcgdXAgaW4gdGhlIHByb3RvdHlwZSBjaGFpbiBvZiBvcmlnaW5hbFxyXG4gICAgICAgIGlmICh0YXJnZXQgPT09IHRvUmF3KHJlY2VpdmVyKSkge1xyXG4gICAgICAgICAgICBpZiAoIWhhZEtleSkge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIgLyogQUREICovLCBrZXksIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcInNldFwiIC8qIFNFVCAqLywga2V5LCB2YWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XHJcbiAgICBjb25zdCBoYWRLZXkgPSBoYXNPd24odGFyZ2V0LCBrZXkpO1xyXG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpO1xyXG4gICAgaWYgKHJlc3VsdCAmJiBoYWRLZXkpIHtcclxuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJkZWxldGVcIiAvKiBERUxFVEUgKi8sIGtleSwgdW5kZWZpbmVkLCBvbGRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIGhhcyh0YXJnZXQsIGtleSkge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5oYXModGFyZ2V0LCBrZXkpO1xyXG4gICAgaWYgKCFpc1N5bWJvbChrZXkpIHx8ICFidWlsdEluU3ltYm9scy5oYXMoa2V5KSkge1xyXG4gICAgICAgIHRyYWNrKHRhcmdldCwgXCJoYXNcIiAvKiBIQVMgKi8sIGtleSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIG93bktleXModGFyZ2V0KSB7XHJcbiAgICB0cmFjayh0YXJnZXQsIFwiaXRlcmF0ZVwiIC8qIElURVJBVEUgKi8sIGlzQXJyYXkodGFyZ2V0KSA/ICdsZW5ndGgnIDogSVRFUkFURV9LRVkpO1xyXG4gICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xyXG59XHJcbmNvbnN0IG11dGFibGVIYW5kbGVycyA9IHtcclxuICAgIGdldCxcclxuICAgIHNldCxcclxuICAgIGRlbGV0ZVByb3BlcnR5LFxyXG4gICAgaGFzLFxyXG4gICAgb3duS2V5c1xyXG59O1xyXG5jb25zdCByZWFkb25seUhhbmRsZXJzID0ge1xyXG4gICAgZ2V0OiByZWFkb25seUdldCxcclxuICAgIHNldCh0YXJnZXQsIGtleSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBTZXQgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCwgdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgRGVsZXRlIG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59O1xyXG5jb25zdCBzaGFsbG93UmVhY3RpdmVIYW5kbGVycyA9IGV4dGVuZCh7fSwgbXV0YWJsZUhhbmRsZXJzLCB7XHJcbiAgICBnZXQ6IHNoYWxsb3dHZXQsXHJcbiAgICBzZXQ6IHNoYWxsb3dTZXRcclxufSk7XHJcbi8vIFByb3BzIGhhbmRsZXJzIGFyZSBzcGVjaWFsIGluIHRoZSBzZW5zZSB0aGF0IGl0IHNob3VsZCBub3QgdW53cmFwIHRvcC1sZXZlbFxyXG4vLyByZWZzIChpbiBvcmRlciB0byBhbGxvdyByZWZzIHRvIGJlIGV4cGxpY2l0bHkgcGFzc2VkIGRvd24pLCBidXQgc2hvdWxkXHJcbi8vIHJldGFpbiB0aGUgcmVhY3Rpdml0eSBvZiB0aGUgbm9ybWFsIHJlYWRvbmx5IG9iamVjdC5cclxuY29uc3Qgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMgPSBleHRlbmQoe30sIHJlYWRvbmx5SGFuZGxlcnMsIHtcclxuICAgIGdldDogc2hhbGxvd1JlYWRvbmx5R2V0XHJcbn0pO1xuXG5jb25zdCB0b1JlYWN0aXZlID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgPyByZWFjdGl2ZSh2YWx1ZSkgOiB2YWx1ZTtcclxuY29uc3QgdG9SZWFkb25seSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhZG9ubHkodmFsdWUpIDogdmFsdWU7XHJcbmNvbnN0IHRvU2hhbGxvdyA9ICh2YWx1ZSkgPT4gdmFsdWU7XHJcbmNvbnN0IGdldFByb3RvID0gKHYpID0+IFJlZmxlY3QuZ2V0UHJvdG90eXBlT2Yodik7XHJcbmZ1bmN0aW9uIGdldCQxKHRhcmdldCwga2V5LCBpc1JlYWRvbmx5ID0gZmFsc2UsIGlzU2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICAvLyAjMTc3MjogcmVhZG9ubHkocmVhY3RpdmUoTWFwKSkgc2hvdWxkIHJldHVybiByZWFkb25seSArIHJlYWN0aXZlIHZlcnNpb25cclxuICAgIC8vIG9mIHRoZSB2YWx1ZVxyXG4gICAgdGFyZ2V0ID0gdGFyZ2V0W1wiX192X3Jhd1wiIC8qIFJBVyAqL107XHJcbiAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xyXG4gICAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcclxuICAgIGlmIChrZXkgIT09IHJhd0tleSkge1xyXG4gICAgICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJnZXRcIiAvKiBHRVQgKi8sIGtleSk7XHJcbiAgICB9XHJcbiAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiZ2V0XCIgLyogR0VUICovLCByYXdLZXkpO1xyXG4gICAgY29uc3QgeyBoYXMgfSA9IGdldFByb3RvKHJhd1RhcmdldCk7XHJcbiAgICBjb25zdCB3cmFwID0gaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiBpc1NoYWxsb3cgPyB0b1NoYWxsb3cgOiB0b1JlYWN0aXZlO1xyXG4gICAgaWYgKGhhcy5jYWxsKHJhd1RhcmdldCwga2V5KSkge1xyXG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQoa2V5KSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChoYXMuY2FsbChyYXdUYXJnZXQsIHJhd0tleSkpIHtcclxuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXQuZ2V0KHJhd0tleSkpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGhhcyQxKGtleSwgaXNSZWFkb25seSA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiIC8qIFJBVyAqL107XHJcbiAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xyXG4gICAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcclxuICAgIGlmIChrZXkgIT09IHJhd0tleSkge1xyXG4gICAgICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiAvKiBIQVMgKi8sIGtleSk7XHJcbiAgICB9XHJcbiAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaGFzXCIgLyogSEFTICovLCByYXdLZXkpO1xyXG4gICAgcmV0dXJuIGtleSA9PT0gcmF3S2V5XHJcbiAgICAgICAgPyB0YXJnZXQuaGFzKGtleSlcclxuICAgICAgICA6IHRhcmdldC5oYXMoa2V5KSB8fCB0YXJnZXQuaGFzKHJhd0tleSk7XHJcbn1cclxuZnVuY3Rpb24gc2l6ZSh0YXJnZXQsIGlzUmVhZG9ubHkgPSBmYWxzZSkge1xyXG4gICAgdGFyZ2V0ID0gdGFyZ2V0W1wiX192X3Jhd1wiIC8qIFJBVyAqL107XHJcbiAgICAhaXNSZWFkb25seSAmJiB0cmFjayh0b1Jhdyh0YXJnZXQpLCBcIml0ZXJhdGVcIiAvKiBJVEVSQVRFICovLCBJVEVSQVRFX0tFWSk7XHJcbiAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCAnc2l6ZScsIHRhcmdldCk7XHJcbn1cclxuZnVuY3Rpb24gYWRkKHZhbHVlKSB7XHJcbiAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xyXG4gICAgY29uc3QgcHJvdG8gPSBnZXRQcm90byh0YXJnZXQpO1xyXG4gICAgY29uc3QgaGFkS2V5ID0gcHJvdG8uaGFzLmNhbGwodGFyZ2V0LCB2YWx1ZSk7XHJcbiAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuYWRkKHZhbHVlKTtcclxuICAgIGlmICghaGFkS2V5KSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIgLyogQUREICovLCB2YWx1ZSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBzZXQkMShrZXksIHZhbHVlKSB7XHJcbiAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xyXG4gICAgY29uc3QgeyBoYXMsIGdldCB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcclxuICAgIGxldCBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XHJcbiAgICBpZiAoIWhhZEtleSkge1xyXG4gICAgICAgIGtleSA9IHRvUmF3KGtleSk7XHJcbiAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBvbGRWYWx1ZSA9IGdldC5jYWxsKHRhcmdldCwga2V5KTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICBpZiAoIWhhZEtleSkge1xyXG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiIC8qIEFERCAqLywga2V5LCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcclxuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJzZXRcIiAvKiBTRVQgKi8sIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gZGVsZXRlRW50cnkoa2V5KSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcclxuICAgIGNvbnN0IHsgaGFzLCBnZXQgfSA9IGdldFByb3RvKHRhcmdldCk7XHJcbiAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xyXG4gICAgaWYgKCFoYWRLZXkpIHtcclxuICAgICAgICBrZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgICAgIGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgb2xkVmFsdWUgPSBnZXQgPyBnZXQuY2FsbCh0YXJnZXQsIGtleSkgOiB1bmRlZmluZWQ7XHJcbiAgICAvLyBmb3J3YXJkIHRoZSBvcGVyYXRpb24gYmVmb3JlIHF1ZXVlaW5nIHJlYWN0aW9uc1xyXG4gICAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmRlbGV0ZShrZXkpO1xyXG4gICAgaWYgKGhhZEtleSkge1xyXG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImRlbGV0ZVwiIC8qIERFTEVURSAqLywga2V5LCB1bmRlZmluZWQsIG9sZFZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gY2xlYXIoKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcclxuICAgIGNvbnN0IGhhZEl0ZW1zID0gdGFyZ2V0LnNpemUgIT09IDA7XHJcbiAgICBjb25zdCBvbGRUYXJnZXQgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICA/IGlzTWFwKHRhcmdldClcclxuICAgICAgICAgICAgPyBuZXcgTWFwKHRhcmdldClcclxuICAgICAgICAgICAgOiBuZXcgU2V0KHRhcmdldClcclxuICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgIC8vIGZvcndhcmQgdGhlIG9wZXJhdGlvbiBiZWZvcmUgcXVldWVpbmcgcmVhY3Rpb25zXHJcbiAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuY2xlYXIoKTtcclxuICAgIGlmIChoYWRJdGVtcykge1xyXG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImNsZWFyXCIgLyogQ0xFQVIgKi8sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvbGRUYXJnZXQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVGb3JFYWNoKGlzUmVhZG9ubHksIGlzU2hhbGxvdykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2ssIHRoaXNBcmcpIHtcclxuICAgICAgICBjb25zdCBvYnNlcnZlZCA9IHRoaXM7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gb2JzZXJ2ZWRbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgICAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IHdyYXAgPSBpc1JlYWRvbmx5ID8gdG9SZWFkb25seSA6IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IHRvUmVhY3RpdmU7XHJcbiAgICAgICAgIWlzUmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcIml0ZXJhdGVcIiAvKiBJVEVSQVRFICovLCBJVEVSQVRFX0tFWSk7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGltcG9ydGFudDogbWFrZSBzdXJlIHRoZSBjYWxsYmFjayBpc1xyXG4gICAgICAgICAgICAvLyAxLiBpbnZva2VkIHdpdGggdGhlIHJlYWN0aXZlIG1hcCBhcyBgdGhpc2AgYW5kIDNyZCBhcmdcclxuICAgICAgICAgICAgLy8gMi4gdGhlIHZhbHVlIHJlY2VpdmVkIHNob3VsZCBiZSBhIGNvcnJlc3BvbmRpbmcgcmVhY3RpdmUvcmVhZG9ubHkuXHJcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHdyYXAodmFsdWUpLCB3cmFwKGtleSksIG9ic2VydmVkKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCBpc1JlYWRvbmx5LCBpc1NoYWxsb3cpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgICAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldElzTWFwID0gaXNNYXAocmF3VGFyZ2V0KTtcclxuICAgICAgICBjb25zdCBpc1BhaXIgPSBtZXRob2QgPT09ICdlbnRyaWVzJyB8fCAobWV0aG9kID09PSBTeW1ib2wuaXRlcmF0b3IgJiYgdGFyZ2V0SXNNYXApO1xyXG4gICAgICAgIGNvbnN0IGlzS2V5T25seSA9IG1ldGhvZCA9PT0gJ2tleXMnICYmIHRhcmdldElzTWFwO1xyXG4gICAgICAgIGNvbnN0IGlubmVySXRlcmF0b3IgPSB0YXJnZXRbbWV0aG9kXSguLi5hcmdzKTtcclxuICAgICAgICBjb25zdCB3cmFwID0gaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiBpc1NoYWxsb3cgPyB0b1NoYWxsb3cgOiB0b1JlYWN0aXZlO1xyXG4gICAgICAgICFpc1JlYWRvbmx5ICYmXHJcbiAgICAgICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJpdGVyYXRlXCIgLyogSVRFUkFURSAqLywgaXNLZXlPbmx5ID8gTUFQX0tFWV9JVEVSQVRFX0tFWSA6IElURVJBVEVfS0VZKTtcclxuICAgICAgICAvLyByZXR1cm4gYSB3cmFwcGVkIGl0ZXJhdG9yIHdoaWNoIHJldHVybnMgb2JzZXJ2ZWQgdmVyc2lvbnMgb2YgdGhlXHJcbiAgICAgICAgLy8gdmFsdWVzIGVtaXR0ZWQgZnJvbSB0aGUgcmVhbCBpdGVyYXRvclxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC8vIGl0ZXJhdG9yIHByb3RvY29sXHJcbiAgICAgICAgICAgIG5leHQoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBpbm5lckl0ZXJhdG9yLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkb25lXHJcbiAgICAgICAgICAgICAgICAgICAgPyB7IHZhbHVlLCBkb25lIH1cclxuICAgICAgICAgICAgICAgICAgICA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGlzUGFpciA/IFt3cmFwKHZhbHVlWzBdKSwgd3JhcCh2YWx1ZVsxXSldIDogd3JhcCh2YWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmVcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyBpdGVyYWJsZSBwcm90b2NvbFxyXG4gICAgICAgICAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUmVhZG9ubHlNZXRob2QodHlwZSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBhcmdzWzBdID8gYG9uIGtleSBcIiR7YXJnc1swXX1cIiBgIDogYGA7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgJHtjYXBpdGFsaXplKHR5cGUpfSBvcGVyYXRpb24gJHtrZXl9ZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCwgdG9SYXcodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHlwZSA9PT0gXCJkZWxldGVcIiAvKiBERUxFVEUgKi8gPyBmYWxzZSA6IHRoaXM7XHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IG11dGFibGVJbnN0cnVtZW50YXRpb25zID0ge1xyXG4gICAgZ2V0KGtleSkge1xyXG4gICAgICAgIHJldHVybiBnZXQkMSh0aGlzLCBrZXkpO1xyXG4gICAgfSxcclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBzaXplKHRoaXMpO1xyXG4gICAgfSxcclxuICAgIGhhczogaGFzJDEsXHJcbiAgICBhZGQsXHJcbiAgICBzZXQ6IHNldCQxLFxyXG4gICAgZGVsZXRlOiBkZWxldGVFbnRyeSxcclxuICAgIGNsZWFyLFxyXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgZmFsc2UpXHJcbn07XHJcbmNvbnN0IHNoYWxsb3dJbnN0cnVtZW50YXRpb25zID0ge1xyXG4gICAgZ2V0KGtleSkge1xyXG4gICAgICAgIHJldHVybiBnZXQkMSh0aGlzLCBrZXksIGZhbHNlLCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gc2l6ZSh0aGlzKTtcclxuICAgIH0sXHJcbiAgICBoYXM6IGhhcyQxLFxyXG4gICAgYWRkLFxyXG4gICAgc2V0OiBzZXQkMSxcclxuICAgIGRlbGV0ZTogZGVsZXRlRW50cnksXHJcbiAgICBjbGVhcixcclxuICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2goZmFsc2UsIHRydWUpXHJcbn07XHJcbmNvbnN0IHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyA9IHtcclxuICAgIGdldChrZXkpIHtcclxuICAgICAgICByZXR1cm4gZ2V0JDEodGhpcywga2V5LCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gc2l6ZSh0aGlzLCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBoYXMoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGhhcyQxLmNhbGwodGhpcywga2V5LCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIgLyogQUREICovKSxcclxuICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiAvKiBTRVQgKi8pLFxyXG4gICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiIC8qIERFTEVURSAqLyksXHJcbiAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiIC8qIENMRUFSICovKSxcclxuICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2godHJ1ZSwgZmFsc2UpXHJcbn07XHJcbmNvbnN0IGl0ZXJhdG9yTWV0aG9kcyA9IFsna2V5cycsICd2YWx1ZXMnLCAnZW50cmllcycsIFN5bWJvbC5pdGVyYXRvcl07XHJcbml0ZXJhdG9yTWV0aG9kcy5mb3JFYWNoKG1ldGhvZCA9PiB7XHJcbiAgICBtdXRhYmxlSW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIHRydWUsIGZhbHNlKTtcclxuICAgIHNoYWxsb3dJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGZhbHNlLCB0cnVlKTtcclxufSk7XHJcbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihpc1JlYWRvbmx5LCBzaGFsbG93KSB7XHJcbiAgICBjb25zdCBpbnN0cnVtZW50YXRpb25zID0gc2hhbGxvd1xyXG4gICAgICAgID8gc2hhbGxvd0luc3RydW1lbnRhdGlvbnNcclxuICAgICAgICA6IGlzUmVhZG9ubHlcclxuICAgICAgICAgICAgPyByZWFkb25seUluc3RydW1lbnRhdGlvbnNcclxuICAgICAgICAgICAgOiBtdXRhYmxlSW5zdHJ1bWVudGF0aW9ucztcclxuICAgIHJldHVybiAodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIElTX1JFQUNUSVZFICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaXNSZWFkb25seTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWRvbmx5XCIgLyogSVNfUkVBRE9OTFkgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlzUmVhZG9ubHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIgLyogUkFXICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBSZWZsZWN0LmdldChoYXNPd24oaW5zdHJ1bWVudGF0aW9ucywga2V5KSAmJiBrZXkgaW4gdGFyZ2V0XHJcbiAgICAgICAgICAgID8gaW5zdHJ1bWVudGF0aW9uc1xyXG4gICAgICAgICAgICA6IHRhcmdldCwga2V5LCByZWNlaXZlcik7XHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IG11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6IGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihmYWxzZSwgZmFsc2UpXHJcbn07XHJcbmNvbnN0IHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6IGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihmYWxzZSwgdHJ1ZSlcclxufTtcclxuY29uc3QgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6IGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCBmYWxzZSlcclxufTtcclxuZnVuY3Rpb24gY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSkge1xyXG4gICAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcclxuICAgIGlmIChyYXdLZXkgIT09IGtleSAmJiBoYXMuY2FsbCh0YXJnZXQsIHJhd0tleSkpIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gdG9SYXdUeXBlKHRhcmdldCk7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGBSZWFjdGl2ZSAke3R5cGV9IGNvbnRhaW5zIGJvdGggdGhlIHJhdyBhbmQgcmVhY3RpdmUgYCArXHJcbiAgICAgICAgICAgIGB2ZXJzaW9ucyBvZiB0aGUgc2FtZSBvYmplY3Qke3R5cGUgPT09IGBNYXBgID8gYCBhcyBrZXlzYCA6IGBgfSwgYCArXHJcbiAgICAgICAgICAgIGB3aGljaCBjYW4gbGVhZCB0byBpbmNvbnNpc3RlbmNpZXMuIGAgK1xyXG4gICAgICAgICAgICBgQXZvaWQgZGlmZmVyZW50aWF0aW5nIGJldHdlZW4gdGhlIHJhdyBhbmQgcmVhY3RpdmUgdmVyc2lvbnMgYCArXHJcbiAgICAgICAgICAgIGBvZiBhbiBvYmplY3QgYW5kIG9ubHkgdXNlIHRoZSByZWFjdGl2ZSB2ZXJzaW9uIGlmIHBvc3NpYmxlLmApO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IHJlYWN0aXZlTWFwID0gbmV3IFdlYWtNYXAoKTtcclxuY29uc3QgcmVhZG9ubHlNYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5mdW5jdGlvbiB0YXJnZXRUeXBlTWFwKHJhd1R5cGUpIHtcclxuICAgIHN3aXRjaCAocmF3VHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ09iamVjdCc6XHJcbiAgICAgICAgY2FzZSAnQXJyYXknOlxyXG4gICAgICAgICAgICByZXR1cm4gMSAvKiBDT01NT04gKi87XHJcbiAgICAgICAgY2FzZSAnTWFwJzpcclxuICAgICAgICBjYXNlICdTZXQnOlxyXG4gICAgICAgIGNhc2UgJ1dlYWtNYXAnOlxyXG4gICAgICAgIGNhc2UgJ1dlYWtTZXQnOlxyXG4gICAgICAgICAgICByZXR1cm4gMiAvKiBDT0xMRUNUSU9OICovO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiAwIC8qIElOVkFMSUQgKi87XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0VGFyZ2V0VHlwZSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlW1wiX192X3NraXBcIiAvKiBTS0lQICovXSB8fCAhT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSlcclxuICAgICAgICA/IDAgLyogSU5WQUxJRCAqL1xyXG4gICAgICAgIDogdGFyZ2V0VHlwZU1hcCh0b1Jhd1R5cGUodmFsdWUpKTtcclxufVxyXG5mdW5jdGlvbiByZWFjdGl2ZSh0YXJnZXQpIHtcclxuICAgIC8vIGlmIHRyeWluZyB0byBvYnNlcnZlIGEgcmVhZG9ubHkgcHJveHksIHJldHVybiB0aGUgcmVhZG9ubHkgdmVyc2lvbi5cclxuICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0W1wiX192X2lzUmVhZG9ubHlcIiAvKiBJU19SRUFET05MWSAqL10pIHtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgZmFsc2UsIG11dGFibGVIYW5kbGVycywgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyk7XHJcbn1cclxuLy8gUmV0dXJuIGEgcmVhY3RpdmUtY29weSBvZiB0aGUgb3JpZ2luYWwgb2JqZWN0LCB3aGVyZSBvbmx5IHRoZSByb290IGxldmVsXHJcbi8vIHByb3BlcnRpZXMgYXJlIHJlYWN0aXZlLCBhbmQgZG9lcyBOT1QgdW53cmFwIHJlZnMgbm9yIHJlY3Vyc2l2ZWx5IGNvbnZlcnRcclxuLy8gcmV0dXJuZWQgcHJvcGVydGllcy5cclxuZnVuY3Rpb24gc2hhbGxvd1JlYWN0aXZlKHRhcmdldCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgZmFsc2UsIHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzLCBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzKTtcclxufVxyXG5mdW5jdGlvbiByZWFkb25seSh0YXJnZXQpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIHRydWUsIHJlYWRvbmx5SGFuZGxlcnMsIHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzKTtcclxufVxyXG4vLyBSZXR1cm4gYSByZWFjdGl2ZS1jb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QsIHdoZXJlIG9ubHkgdGhlIHJvb3QgbGV2ZWxcclxuLy8gcHJvcGVydGllcyBhcmUgcmVhZG9ubHksIGFuZCBkb2VzIE5PVCB1bndyYXAgcmVmcyBub3IgcmVjdXJzaXZlbHkgY29udmVydFxyXG4vLyByZXR1cm5lZCBwcm9wZXJ0aWVzLlxyXG4vLyBUaGlzIGlzIHVzZWQgZm9yIGNyZWF0aW5nIHRoZSBwcm9wcyBwcm94eSBvYmplY3QgZm9yIHN0YXRlZnVsIGNvbXBvbmVudHMuXHJcbmZ1bmN0aW9uIHNoYWxsb3dSZWFkb25seSh0YXJnZXQpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIHRydWUsIHNoYWxsb3dSZWFkb25seUhhbmRsZXJzLCByZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBpc1JlYWRvbmx5LCBiYXNlSGFuZGxlcnMsIGNvbGxlY3Rpb25IYW5kbGVycykge1xyXG4gICAgaWYgKCFpc09iamVjdCh0YXJnZXQpKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYHZhbHVlIGNhbm5vdCBiZSBtYWRlIHJlYWN0aXZlOiAke1N0cmluZyh0YXJnZXQpfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfVxyXG4gICAgLy8gdGFyZ2V0IGlzIGFscmVhZHkgYSBQcm94eSwgcmV0dXJuIGl0LlxyXG4gICAgLy8gZXhjZXB0aW9uOiBjYWxsaW5nIHJlYWRvbmx5KCkgb24gYSByZWFjdGl2ZSBvYmplY3RcclxuICAgIGlmICh0YXJnZXRbXCJfX3ZfcmF3XCIgLyogUkFXICovXSAmJlxyXG4gICAgICAgICEoaXNSZWFkb25seSAmJiB0YXJnZXRbXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIElTX1JFQUNUSVZFICovXSkpIHtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfVxyXG4gICAgLy8gdGFyZ2V0IGFscmVhZHkgaGFzIGNvcnJlc3BvbmRpbmcgUHJveHlcclxuICAgIGNvbnN0IHByb3h5TWFwID0gaXNSZWFkb25seSA/IHJlYWRvbmx5TWFwIDogcmVhY3RpdmVNYXA7XHJcbiAgICBjb25zdCBleGlzdGluZ1Byb3h5ID0gcHJveHlNYXAuZ2V0KHRhcmdldCk7XHJcbiAgICBpZiAoZXhpc3RpbmdQcm94eSkge1xyXG4gICAgICAgIHJldHVybiBleGlzdGluZ1Byb3h5O1xyXG4gICAgfVxyXG4gICAgLy8gb25seSBhIHdoaXRlbGlzdCBvZiB2YWx1ZSB0eXBlcyBjYW4gYmUgb2JzZXJ2ZWQuXHJcbiAgICBjb25zdCB0YXJnZXRUeXBlID0gZ2V0VGFyZ2V0VHlwZSh0YXJnZXQpO1xyXG4gICAgaWYgKHRhcmdldFR5cGUgPT09IDAgLyogSU5WQUxJRCAqLykge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCBwcm94eSA9IG5ldyBQcm94eSh0YXJnZXQsIHRhcmdldFR5cGUgPT09IDIgLyogQ09MTEVDVElPTiAqLyA/IGNvbGxlY3Rpb25IYW5kbGVycyA6IGJhc2VIYW5kbGVycyk7XHJcbiAgICBwcm94eU1hcC5zZXQodGFyZ2V0LCBwcm94eSk7XHJcbiAgICByZXR1cm4gcHJveHk7XHJcbn1cclxuZnVuY3Rpb24gaXNSZWFjdGl2ZSh2YWx1ZSkge1xyXG4gICAgaWYgKGlzUmVhZG9ubHkodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzUmVhY3RpdmUodmFsdWVbXCJfX3ZfcmF3XCIgLyogUkFXICovXSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIElTX1JFQUNUSVZFICovXSk7XHJcbn1cclxuZnVuY3Rpb24gaXNSZWFkb25seSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhZG9ubHlcIiAvKiBJU19SRUFET05MWSAqL10pO1xyXG59XHJcbmZ1bmN0aW9uIGlzUHJveHkodmFsdWUpIHtcclxuICAgIHJldHVybiBpc1JlYWN0aXZlKHZhbHVlKSB8fCBpc1JlYWRvbmx5KHZhbHVlKTtcclxufVxyXG5mdW5jdGlvbiB0b1JhdyhvYnNlcnZlZCkge1xyXG4gICAgcmV0dXJuICgob2JzZXJ2ZWQgJiYgdG9SYXcob2JzZXJ2ZWRbXCJfX3ZfcmF3XCIgLyogUkFXICovXSkpIHx8IG9ic2VydmVkKTtcclxufVxyXG5mdW5jdGlvbiBtYXJrUmF3KHZhbHVlKSB7XHJcbiAgICBkZWYodmFsdWUsIFwiX192X3NraXBcIiAvKiBTS0lQICovLCB0cnVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxuXG5jb25zdCBjb252ZXJ0ID0gKHZhbCkgPT4gaXNPYmplY3QodmFsKSA/IHJlYWN0aXZlKHZhbCkgOiB2YWw7XHJcbmZ1bmN0aW9uIGlzUmVmKHIpIHtcclxuICAgIHJldHVybiBCb29sZWFuKHIgJiYgci5fX3ZfaXNSZWYgPT09IHRydWUpO1xyXG59XHJcbmZ1bmN0aW9uIHJlZih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlZih2YWx1ZSk7XHJcbn1cclxuZnVuY3Rpb24gc2hhbGxvd1JlZih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlZih2YWx1ZSwgdHJ1ZSk7XHJcbn1cclxuY2xhc3MgUmVmSW1wbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihfcmF3VmFsdWUsIF9zaGFsbG93ID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLl9yYXdWYWx1ZSA9IF9yYXdWYWx1ZTtcclxuICAgICAgICB0aGlzLl9zaGFsbG93ID0gX3NoYWxsb3c7XHJcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gX3NoYWxsb3cgPyBfcmF3VmFsdWUgOiBjb252ZXJ0KF9yYXdWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgdHJhY2sodG9SYXcodGhpcyksIFwiZ2V0XCIgLyogR0VUICovLCAndmFsdWUnKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICB9XHJcbiAgICBzZXQgdmFsdWUobmV3VmFsKSB7XHJcbiAgICAgICAgaWYgKGhhc0NoYW5nZWQodG9SYXcobmV3VmFsKSwgdGhpcy5fcmF3VmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gbmV3VmFsO1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHRoaXMuX3NoYWxsb3cgPyBuZXdWYWwgOiBjb252ZXJ0KG5ld1ZhbCk7XHJcbiAgICAgICAgICAgIHRyaWdnZXIodG9SYXcodGhpcyksIFwic2V0XCIgLyogU0VUICovLCAndmFsdWUnLCBuZXdWYWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjcmVhdGVSZWYocmF3VmFsdWUsIHNoYWxsb3cgPSBmYWxzZSkge1xyXG4gICAgaWYgKGlzUmVmKHJhd1ZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiByYXdWYWx1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgUmVmSW1wbChyYXdWYWx1ZSwgc2hhbGxvdyk7XHJcbn1cclxuZnVuY3Rpb24gdHJpZ2dlclJlZihyZWYpIHtcclxuICAgIHRyaWdnZXIodG9SYXcocmVmKSwgXCJzZXRcIiAvKiBTRVQgKi8sICd2YWx1ZScsIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHJlZi52YWx1ZSA6IHZvaWQgMCk7XHJcbn1cclxuZnVuY3Rpb24gdW5yZWYocmVmKSB7XHJcbiAgICByZXR1cm4gaXNSZWYocmVmKSA/IHJlZi52YWx1ZSA6IHJlZjtcclxufVxyXG5jb25zdCBzaGFsbG93VW53cmFwSGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6ICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IHVucmVmKFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikpLFxyXG4gICAgc2V0OiAodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XHJcbiAgICAgICAgaWYgKGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gcHJveHlSZWZzKG9iamVjdFdpdGhSZWZzKSB7XHJcbiAgICByZXR1cm4gaXNSZWFjdGl2ZShvYmplY3RXaXRoUmVmcylcclxuICAgICAgICA/IG9iamVjdFdpdGhSZWZzXHJcbiAgICAgICAgOiBuZXcgUHJveHkob2JqZWN0V2l0aFJlZnMsIHNoYWxsb3dVbndyYXBIYW5kbGVycyk7XHJcbn1cclxuY2xhc3MgQ3VzdG9tUmVmSW1wbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihmYWN0b3J5KSB7XHJcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xyXG4gICAgICAgIGNvbnN0IHsgZ2V0LCBzZXQgfSA9IGZhY3RvcnkoKCkgPT4gdHJhY2sodGhpcywgXCJnZXRcIiAvKiBHRVQgKi8sICd2YWx1ZScpLCAoKSA9PiB0cmlnZ2VyKHRoaXMsIFwic2V0XCIgLyogU0VUICovLCAndmFsdWUnKSk7XHJcbiAgICAgICAgdGhpcy5fZ2V0ID0gZ2V0O1xyXG4gICAgICAgIHRoaXMuX3NldCA9IHNldDtcclxuICAgIH1cclxuICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0KCk7XHJcbiAgICB9XHJcbiAgICBzZXQgdmFsdWUobmV3VmFsKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0KG5ld1ZhbCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY3VzdG9tUmVmKGZhY3RvcnkpIHtcclxuICAgIHJldHVybiBuZXcgQ3VzdG9tUmVmSW1wbChmYWN0b3J5KTtcclxufVxyXG5mdW5jdGlvbiB0b1JlZnMob2JqZWN0KSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc1Byb3h5KG9iamVjdCkpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYHRvUmVmcygpIGV4cGVjdHMgYSByZWFjdGl2ZSBvYmplY3QgYnV0IHJlY2VpdmVkIGEgcGxhaW4gb25lLmApO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmV0ID0gaXNBcnJheShvYmplY3QpID8gbmV3IEFycmF5KG9iamVjdC5sZW5ndGgpIDoge307XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcclxuICAgICAgICByZXRba2V5XSA9IHRvUmVmKG9iamVjdCwga2V5KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cclxuY2xhc3MgT2JqZWN0UmVmSW1wbCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihfb2JqZWN0LCBfa2V5KSB7XHJcbiAgICAgICAgdGhpcy5fb2JqZWN0ID0gX29iamVjdDtcclxuICAgICAgICB0aGlzLl9rZXkgPSBfa2V5O1xyXG4gICAgICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0W3RoaXMuX2tleV07XHJcbiAgICB9XHJcbiAgICBzZXQgdmFsdWUobmV3VmFsKSB7XHJcbiAgICAgICAgdGhpcy5fb2JqZWN0W3RoaXMuX2tleV0gPSBuZXdWYWw7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdG9SZWYob2JqZWN0LCBrZXkpIHtcclxuICAgIHJldHVybiBpc1JlZihvYmplY3Rba2V5XSlcclxuICAgICAgICA/IG9iamVjdFtrZXldXHJcbiAgICAgICAgOiBuZXcgT2JqZWN0UmVmSW1wbChvYmplY3QsIGtleSk7XHJcbn1cblxuY2xhc3MgQ29tcHV0ZWRSZWZJbXBsIHtcclxuICAgIGNvbnN0cnVjdG9yKGdldHRlciwgX3NldHRlciwgaXNSZWFkb25seSkge1xyXG4gICAgICAgIHRoaXMuX3NldHRlciA9IF9zZXR0ZXI7XHJcbiAgICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmVmZmVjdCA9IGVmZmVjdChnZXR0ZXIsIHtcclxuICAgICAgICAgICAgbGF6eTogdHJ1ZSxcclxuICAgICAgICAgICAgc2NoZWR1bGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2RpcnR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXIodG9SYXcodGhpcyksIFwic2V0XCIgLyogU0VUICovLCAndmFsdWUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXNbXCJfX3ZfaXNSZWFkb25seVwiIC8qIElTX1JFQURPTkxZICovXSA9IGlzUmVhZG9ubHk7XHJcbiAgICB9XHJcbiAgICBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2RpcnR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5lZmZlY3QoKTtcclxuICAgICAgICAgICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJhY2sodG9SYXcodGhpcyksIFwiZ2V0XCIgLyogR0VUICovLCAndmFsdWUnKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICB9XHJcbiAgICBzZXQgdmFsdWUobmV3VmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9zZXR0ZXIobmV3VmFsdWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNvbXB1dGVkKGdldHRlck9yT3B0aW9ucykge1xyXG4gICAgbGV0IGdldHRlcjtcclxuICAgIGxldCBzZXR0ZXI7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihnZXR0ZXJPck9wdGlvbnMpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zO1xyXG4gICAgICAgIHNldHRlciA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgICAgICA/ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignV3JpdGUgb3BlcmF0aW9uIGZhaWxlZDogY29tcHV0ZWQgdmFsdWUgaXMgcmVhZG9ubHknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA6IE5PT1A7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBnZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnMuZ2V0O1xyXG4gICAgICAgIHNldHRlciA9IGdldHRlck9yT3B0aW9ucy5zZXQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IENvbXB1dGVkUmVmSW1wbChnZXR0ZXIsIHNldHRlciwgaXNGdW5jdGlvbihnZXR0ZXJPck9wdGlvbnMpIHx8ICFnZXR0ZXJPck9wdGlvbnMuc2V0KTtcclxufVxuXG5leHBvcnQgeyBJVEVSQVRFX0tFWSwgY29tcHV0ZWQsIGN1c3RvbVJlZiwgZWZmZWN0LCBlbmFibGVUcmFja2luZywgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIG1hcmtSYXcsIHBhdXNlVHJhY2tpbmcsIHByb3h5UmVmcywgcmVhY3RpdmUsIHJlYWRvbmx5LCByZWYsIHJlc2V0VHJhY2tpbmcsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCBzdG9wLCB0b1JhdywgdG9SZWYsIHRvUmVmcywgdHJhY2ssIHRyaWdnZXIsIHRyaWdnZXJSZWYsIHVucmVmIH07XG4iLCJpbXBvcnQgeyBwYXVzZVRyYWNraW5nLCByZXNldFRyYWNraW5nLCBpc1JlZiwgdG9SYXcsIHNoYWxsb3dSZWFjdGl2ZSwgdHJpZ2dlciwgaXNSZWFjdGl2ZSwgZWZmZWN0LCBzdG9wLCBpc1Byb3h5LCByZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCB0cmFjaywgcHJveHlSZWZzLCBjb21wdXRlZCBhcyBjb21wdXRlZCQxLCByZWYsIGlzUmVhZG9ubHkgfSBmcm9tICdAdnVlL3JlYWN0aXZpdHknO1xuZXhwb3J0IHsgY3VzdG9tUmVmLCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgbWFya1JhdywgcHJveHlSZWZzLCByZWFjdGl2ZSwgcmVhZG9ubHksIHJlZiwgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVhZG9ubHksIHNoYWxsb3dSZWYsIHRvUmF3LCB0b1JlZiwgdG9SZWZzLCB0cmlnZ2VyUmVmLCB1bnJlZiB9IGZyb20gJ0B2dWUvcmVhY3Rpdml0eSc7XG5pbXBvcnQgeyBpc1N0cmluZywgaXNGdW5jdGlvbiwgaXNQcm9taXNlLCBpc0FycmF5LCBleHRlbmQsIEVNUFRZX09CSiwgdG9IYW5kbGVyS2V5LCB0b051bWJlciwgaHlwaGVuYXRlLCBjYW1lbGl6ZSwgaXNPbiwgaGFzT3duLCBpc01vZGVsTGlzdGVuZXIsIGRlZiwgaXNSZXNlcnZlZFByb3AsIEVNUFRZX0FSUiwgaXNPYmplY3QsIGNhcGl0YWxpemUsIHRvUmF3VHlwZSwgbWFrZU1hcCwgcmVtb3ZlLCBOT09QLCBoYXNDaGFuZ2VkLCBpc1NldCwgaXNNYXAsIGludm9rZUFycmF5Rm5zLCBOTywgZ2V0R2xvYmFsVGhpcywgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVN0eWxlLCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5leHBvcnQgeyBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXkgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmNvbnN0IHN0YWNrID0gW107XHJcbmZ1bmN0aW9uIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZSkge1xyXG4gICAgc3RhY2sucHVzaCh2bm9kZSk7XHJcbn1cclxuZnVuY3Rpb24gcG9wV2FybmluZ0NvbnRleHQoKSB7XHJcbiAgICBzdGFjay5wb3AoKTtcclxufVxyXG5mdW5jdGlvbiB3YXJuKG1zZywgLi4uYXJncykge1xyXG4gICAgLy8gYXZvaWQgcHJvcHMgZm9ybWF0dGluZyBvciB3YXJuIGhhbmRsZXIgdHJhY2tpbmcgZGVwcyB0aGF0IG1pZ2h0IGJlIG11dGF0ZWRcclxuICAgIC8vIGR1cmluZyBwYXRjaCwgbGVhZGluZyB0byBpbmZpbml0ZSByZWN1cnNpb24uXHJcbiAgICBwYXVzZVRyYWNraW5nKCk7XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IHN0YWNrLmxlbmd0aCA/IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLmNvbXBvbmVudCA6IG51bGw7XHJcbiAgICBjb25zdCBhcHBXYXJuSGFuZGxlciA9IGluc3RhbmNlICYmIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLndhcm5IYW5kbGVyO1xyXG4gICAgY29uc3QgdHJhY2UgPSBnZXRDb21wb25lbnRUcmFjZSgpO1xyXG4gICAgaWYgKGFwcFdhcm5IYW5kbGVyKSB7XHJcbiAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGFwcFdhcm5IYW5kbGVyLCBpbnN0YW5jZSwgMTEgLyogQVBQX1dBUk5fSEFORExFUiAqLywgW1xyXG4gICAgICAgICAgICBtc2cgKyBhcmdzLmpvaW4oJycpLFxyXG4gICAgICAgICAgICBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wcm94eSxcclxuICAgICAgICAgICAgdHJhY2VcclxuICAgICAgICAgICAgICAgIC5tYXAoKHsgdm5vZGUgfSkgPT4gYGF0IDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIHZub2RlLnR5cGUpfT5gKVxyXG4gICAgICAgICAgICAgICAgLmpvaW4oJ1xcbicpLFxyXG4gICAgICAgICAgICB0cmFjZVxyXG4gICAgICAgIF0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3Qgd2FybkFyZ3MgPSBbYFtWdWUgd2Fybl06ICR7bXNnfWAsIC4uLmFyZ3NdO1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgIGlmICh0cmFjZS5sZW5ndGggJiZcclxuICAgICAgICAgICAgLy8gYXZvaWQgc3BhbW1pbmcgY29uc29sZSBkdXJpbmcgdGVzdHNcclxuICAgICAgICAgICAgIWZhbHNlKSB7XHJcbiAgICAgICAgICAgIHdhcm5BcmdzLnB1c2goYFxcbmAsIC4uLmZvcm1hdFRyYWNlKHRyYWNlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUud2FybiguLi53YXJuQXJncyk7XHJcbiAgICB9XHJcbiAgICByZXNldFRyYWNraW5nKCk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50VHJhY2UoKSB7XHJcbiAgICBsZXQgY3VycmVudFZOb2RlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XHJcbiAgICBpZiAoIWN1cnJlbnRWTm9kZSkge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIC8vIHdlIGNhbid0IGp1c3QgdXNlIHRoZSBzdGFjayBiZWNhdXNlIGl0IHdpbGwgYmUgaW5jb21wbGV0ZSBkdXJpbmcgdXBkYXRlc1xyXG4gICAgLy8gdGhhdCBkaWQgbm90IHN0YXJ0IGZyb20gdGhlIHJvb3QuIFJlLWNvbnN0cnVjdCB0aGUgcGFyZW50IGNoYWluIHVzaW5nXHJcbiAgICAvLyBpbnN0YW5jZSBwYXJlbnQgcG9pbnRlcnMuXHJcbiAgICBjb25zdCBub3JtYWxpemVkU3RhY2sgPSBbXTtcclxuICAgIHdoaWxlIChjdXJyZW50Vk5vZGUpIHtcclxuICAgICAgICBjb25zdCBsYXN0ID0gbm9ybWFsaXplZFN0YWNrWzBdO1xyXG4gICAgICAgIGlmIChsYXN0ICYmIGxhc3Qudm5vZGUgPT09IGN1cnJlbnRWTm9kZSkge1xyXG4gICAgICAgICAgICBsYXN0LnJlY3Vyc2VDb3VudCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplZFN0YWNrLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdm5vZGU6IGN1cnJlbnRWTm9kZSxcclxuICAgICAgICAgICAgICAgIHJlY3Vyc2VDb3VudDogMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGFyZW50SW5zdGFuY2UgPSBjdXJyZW50Vk5vZGUuY29tcG9uZW50ICYmIGN1cnJlbnRWTm9kZS5jb21wb25lbnQucGFyZW50O1xyXG4gICAgICAgIGN1cnJlbnRWTm9kZSA9IHBhcmVudEluc3RhbmNlICYmIHBhcmVudEluc3RhbmNlLnZub2RlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRTdGFjaztcclxufVxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5mdW5jdGlvbiBmb3JtYXRUcmFjZSh0cmFjZSkge1xyXG4gICAgY29uc3QgbG9ncyA9IFtdO1xyXG4gICAgdHJhY2UuZm9yRWFjaCgoZW50cnksIGkpID0+IHtcclxuICAgICAgICBsb2dzLnB1c2goLi4uKGkgPT09IDAgPyBbXSA6IFtgXFxuYF0pLCAuLi5mb3JtYXRUcmFjZUVudHJ5KGVudHJ5KSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBsb2dzO1xyXG59XHJcbmZ1bmN0aW9uIGZvcm1hdFRyYWNlRW50cnkoeyB2bm9kZSwgcmVjdXJzZUNvdW50IH0pIHtcclxuICAgIGNvbnN0IHBvc3RmaXggPSByZWN1cnNlQ291bnQgPiAwID8gYC4uLiAoJHtyZWN1cnNlQ291bnR9IHJlY3Vyc2l2ZSBjYWxscylgIDogYGA7XHJcbiAgICBjb25zdCBpc1Jvb3QgPSB2bm9kZS5jb21wb25lbnQgPyB2bm9kZS5jb21wb25lbnQucGFyZW50ID09IG51bGwgOiBmYWxzZTtcclxuICAgIGNvbnN0IG9wZW4gPSBgIGF0IDwke2Zvcm1hdENvbXBvbmVudE5hbWUodm5vZGUuY29tcG9uZW50LCB2bm9kZS50eXBlLCBpc1Jvb3QpfWA7XHJcbiAgICBjb25zdCBjbG9zZSA9IGA+YCArIHBvc3RmaXg7XHJcbiAgICByZXR1cm4gdm5vZGUucHJvcHNcclxuICAgICAgICA/IFtvcGVuLCAuLi5mb3JtYXRQcm9wcyh2bm9kZS5wcm9wcyksIGNsb3NlXVxyXG4gICAgICAgIDogW29wZW4gKyBjbG9zZV07XHJcbn1cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuZnVuY3Rpb24gZm9ybWF0UHJvcHMocHJvcHMpIHtcclxuICAgIGNvbnN0IHJlcyA9IFtdO1xyXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcclxuICAgIGtleXMuc2xpY2UoMCwgMykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIHJlcy5wdXNoKC4uLmZvcm1hdFByb3Aoa2V5LCBwcm9wc1trZXldKSk7XHJcbiAgICB9KTtcclxuICAgIGlmIChrZXlzLmxlbmd0aCA+IDMpIHtcclxuICAgICAgICByZXMucHVzaChgIC4uLmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5mdW5jdGlvbiBmb3JtYXRQcm9wKGtleSwgdmFsdWUsIHJhdykge1xyXG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xyXG4gICAgICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PSR7dmFsdWV9YF07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8XHJcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHxcclxuICAgICAgICB2YWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUmVmKHZhbHVlKSkge1xyXG4gICAgICAgIHZhbHVlID0gZm9ybWF0UHJvcChrZXksIHRvUmF3KHZhbHVlLnZhbHVlKSwgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09UmVmPGAsIHZhbHVlLCBgPmBdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gW2Ake2tleX09Zm4ke3ZhbHVlLm5hbWUgPyBgPCR7dmFsdWUubmFtZX0+YCA6IGBgfWBdO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09YCwgdmFsdWVdO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IEVycm9yVHlwZVN0cmluZ3MgPSB7XHJcbiAgICBbXCJiY1wiIC8qIEJFRk9SRV9DUkVBVEUgKi9dOiAnYmVmb3JlQ3JlYXRlIGhvb2snLFxyXG4gICAgW1wiY1wiIC8qIENSRUFURUQgKi9dOiAnY3JlYXRlZCBob29rJyxcclxuICAgIFtcImJtXCIgLyogQkVGT1JFX01PVU5UICovXTogJ2JlZm9yZU1vdW50IGhvb2snLFxyXG4gICAgW1wibVwiIC8qIE1PVU5URUQgKi9dOiAnbW91bnRlZCBob29rJyxcclxuICAgIFtcImJ1XCIgLyogQkVGT1JFX1VQREFURSAqL106ICdiZWZvcmVVcGRhdGUgaG9vaycsXHJcbiAgICBbXCJ1XCIgLyogVVBEQVRFRCAqL106ICd1cGRhdGVkJyxcclxuICAgIFtcImJ1bVwiIC8qIEJFRk9SRV9VTk1PVU5UICovXTogJ2JlZm9yZVVubW91bnQgaG9vaycsXHJcbiAgICBbXCJ1bVwiIC8qIFVOTU9VTlRFRCAqL106ICd1bm1vdW50ZWQgaG9vaycsXHJcbiAgICBbXCJhXCIgLyogQUNUSVZBVEVEICovXTogJ2FjdGl2YXRlZCBob29rJyxcclxuICAgIFtcImRhXCIgLyogREVBQ1RJVkFURUQgKi9dOiAnZGVhY3RpdmF0ZWQgaG9vaycsXHJcbiAgICBbXCJlY1wiIC8qIEVSUk9SX0NBUFRVUkVEICovXTogJ2Vycm9yQ2FwdHVyZWQgaG9vaycsXHJcbiAgICBbXCJydGNcIiAvKiBSRU5ERVJfVFJBQ0tFRCAqL106ICdyZW5kZXJUcmFja2VkIGhvb2snLFxyXG4gICAgW1wicnRnXCIgLyogUkVOREVSX1RSSUdHRVJFRCAqL106ICdyZW5kZXJUcmlnZ2VyZWQgaG9vaycsXHJcbiAgICBbMCAvKiBTRVRVUF9GVU5DVElPTiAqL106ICdzZXR1cCBmdW5jdGlvbicsXHJcbiAgICBbMSAvKiBSRU5ERVJfRlVOQ1RJT04gKi9dOiAncmVuZGVyIGZ1bmN0aW9uJyxcclxuICAgIFsyIC8qIFdBVENIX0dFVFRFUiAqL106ICd3YXRjaGVyIGdldHRlcicsXHJcbiAgICBbMyAvKiBXQVRDSF9DQUxMQkFDSyAqL106ICd3YXRjaGVyIGNhbGxiYWNrJyxcclxuICAgIFs0IC8qIFdBVENIX0NMRUFOVVAgKi9dOiAnd2F0Y2hlciBjbGVhbnVwIGZ1bmN0aW9uJyxcclxuICAgIFs1IC8qIE5BVElWRV9FVkVOVF9IQU5ETEVSICovXTogJ25hdGl2ZSBldmVudCBoYW5kbGVyJyxcclxuICAgIFs2IC8qIENPTVBPTkVOVF9FVkVOVF9IQU5ETEVSICovXTogJ2NvbXBvbmVudCBldmVudCBoYW5kbGVyJyxcclxuICAgIFs3IC8qIFZOT0RFX0hPT0sgKi9dOiAndm5vZGUgaG9vaycsXHJcbiAgICBbOCAvKiBESVJFQ1RJVkVfSE9PSyAqL106ICdkaXJlY3RpdmUgaG9vaycsXHJcbiAgICBbOSAvKiBUUkFOU0lUSU9OX0hPT0sgKi9dOiAndHJhbnNpdGlvbiBob29rJyxcclxuICAgIFsxMCAvKiBBUFBfRVJST1JfSEFORExFUiAqL106ICdhcHAgZXJyb3JIYW5kbGVyJyxcclxuICAgIFsxMSAvKiBBUFBfV0FSTl9IQU5ETEVSICovXTogJ2FwcCB3YXJuSGFuZGxlcicsXHJcbiAgICBbMTIgLyogRlVOQ1RJT05fUkVGICovXTogJ3JlZiBmdW5jdGlvbicsXHJcbiAgICBbMTMgLyogQVNZTkNfQ09NUE9ORU5UX0xPQURFUiAqL106ICdhc3luYyBjb21wb25lbnQgbG9hZGVyJyxcclxuICAgIFsxNCAvKiBTQ0hFRFVMRVIgKi9dOiAnc2NoZWR1bGVyIGZsdXNoLiBUaGlzIGlzIGxpa2VseSBhIFZ1ZSBpbnRlcm5hbHMgYnVnLiAnICtcclxuICAgICAgICAnUGxlYXNlIG9wZW4gYW4gaXNzdWUgYXQgaHR0cHM6Ly9uZXctaXNzdWUudnVlanMub3JnLz9yZXBvPXZ1ZWpzL3Z1ZS1uZXh0J1xyXG59O1xyXG5mdW5jdGlvbiBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSB7XHJcbiAgICBsZXQgcmVzO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXMgPSBhcmdzID8gZm4oLi4uYXJncykgOiBmbigpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5mdW5jdGlvbiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpIHtcclxuICAgIGlmIChpc0Z1bmN0aW9uKGZuKSkge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpO1xyXG4gICAgICAgIGlmIChyZXMgJiYgaXNQcm9taXNlKHJlcykpIHtcclxuICAgICAgICAgICAgcmVzLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YWx1ZXMucHVzaChjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhmbltpXSwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbn1cclxuZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSwgdGhyb3dJbkRldiA9IHRydWUpIHtcclxuICAgIGNvbnN0IGNvbnRleHRWTm9kZSA9IGluc3RhbmNlID8gaW5zdGFuY2Uudm5vZGUgOiBudWxsO1xyXG4gICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgbGV0IGN1ciA9IGluc3RhbmNlLnBhcmVudDtcclxuICAgICAgICAvLyB0aGUgZXhwb3NlZCBpbnN0YW5jZSBpcyB0aGUgcmVuZGVyIHByb3h5IHRvIGtlZXAgaXQgY29uc2lzdGVudCB3aXRoIDIueFxyXG4gICAgICAgIGNvbnN0IGV4cG9zZWRJbnN0YW5jZSA9IGluc3RhbmNlLnByb3h5O1xyXG4gICAgICAgIC8vIGluIHByb2R1Y3Rpb24gdGhlIGhvb2sgcmVjZWl2ZXMgb25seSB0aGUgZXJyb3IgY29kZVxyXG4gICAgICAgIGNvbnN0IGVycm9ySW5mbyA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IEVycm9yVHlwZVN0cmluZ3NbdHlwZV0gOiB0eXBlO1xyXG4gICAgICAgIHdoaWxlIChjdXIpIHtcclxuICAgICAgICAgICAgY29uc3QgZXJyb3JDYXB0dXJlZEhvb2tzID0gY3VyLmVjO1xyXG4gICAgICAgICAgICBpZiAoZXJyb3JDYXB0dXJlZEhvb2tzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVycm9yQ2FwdHVyZWRIb29rcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvckNhcHR1cmVkSG9va3NbaV0oZXJyLCBleHBvc2VkSW5zdGFuY2UsIGVycm9ySW5mbykgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VyID0gY3VyLnBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYXBwLWxldmVsIGhhbmRsaW5nXHJcbiAgICAgICAgY29uc3QgYXBwRXJyb3JIYW5kbGVyID0gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcuZXJyb3JIYW5kbGVyO1xyXG4gICAgICAgIGlmIChhcHBFcnJvckhhbmRsZXIpIHtcclxuICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGFwcEVycm9ySGFuZGxlciwgbnVsbCwgMTAgLyogQVBQX0VSUk9SX0hBTkRMRVIgKi8sIFtlcnIsIGV4cG9zZWRJbnN0YW5jZSwgZXJyb3JJbmZvXSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldik7XHJcbn1cclxuZnVuY3Rpb24gbG9nRXJyb3IoZXJyLCB0eXBlLCBjb250ZXh0Vk5vZGUsIHRocm93SW5EZXYgPSB0cnVlKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY29uc3QgaW5mbyA9IEVycm9yVHlwZVN0cmluZ3NbdHlwZV07XHJcbiAgICAgICAgaWYgKGNvbnRleHRWTm9kZSkge1xyXG4gICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQoY29udGV4dFZOb2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2FybihgVW5oYW5kbGVkIGVycm9yJHtpbmZvID8gYCBkdXJpbmcgZXhlY3V0aW9uIG9mICR7aW5mb31gIDogYGB9YCk7XHJcbiAgICAgICAgaWYgKGNvbnRleHRWTm9kZSkge1xyXG4gICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjcmFzaCBpbiBkZXYgYnkgZGVmYXVsdCBzbyBpdCdzIG1vcmUgbm90aWNlYWJsZVxyXG4gICAgICAgIGlmICh0aHJvd0luRGV2KSB7XHJcbiAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyByZWNvdmVyIGluIHByb2QgdG8gcmVkdWNlIHRoZSBpbXBhY3Qgb24gZW5kLXVzZXJcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9XHJcbn1cblxubGV0IGlzRmx1c2hpbmcgPSBmYWxzZTtcclxubGV0IGlzRmx1c2hQZW5kaW5nID0gZmFsc2U7XHJcbmNvbnN0IHF1ZXVlID0gW107XHJcbmxldCBmbHVzaEluZGV4ID0gMDtcclxuY29uc3QgcGVuZGluZ1ByZUZsdXNoQ2JzID0gW107XHJcbmxldCBhY3RpdmVQcmVGbHVzaENicyA9IG51bGw7XHJcbmxldCBwcmVGbHVzaEluZGV4ID0gMDtcclxuY29uc3QgcGVuZGluZ1Bvc3RGbHVzaENicyA9IFtdO1xyXG5sZXQgYWN0aXZlUG9zdEZsdXNoQ2JzID0gbnVsbDtcclxubGV0IHBvc3RGbHVzaEluZGV4ID0gMDtcclxuY29uc3QgcmVzb2x2ZWRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbmxldCBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcclxubGV0IGN1cnJlbnRQcmVGbHVzaFBhcmVudEpvYiA9IG51bGw7XHJcbmNvbnN0IFJFQ1VSU0lPTl9MSU1JVCA9IDEwMDtcclxuZnVuY3Rpb24gbmV4dFRpY2soZm4pIHtcclxuICAgIGNvbnN0IHAgPSBjdXJyZW50Rmx1c2hQcm9taXNlIHx8IHJlc29sdmVkUHJvbWlzZTtcclxuICAgIHJldHVybiBmbiA/IHAudGhlbih0aGlzID8gZm4uYmluZCh0aGlzKSA6IGZuKSA6IHA7XHJcbn1cclxuZnVuY3Rpb24gcXVldWVKb2Ioam9iKSB7XHJcbiAgICAvLyB0aGUgZGVkdXBlIHNlYXJjaCB1c2VzIHRoZSBzdGFydEluZGV4IGFyZ3VtZW50IG9mIEFycmF5LmluY2x1ZGVzKClcclxuICAgIC8vIGJ5IGRlZmF1bHQgdGhlIHNlYXJjaCBpbmRleCBpbmNsdWRlcyB0aGUgY3VycmVudCBqb2IgdGhhdCBpcyBiZWluZyBydW5cclxuICAgIC8vIHNvIGl0IGNhbm5vdCByZWN1cnNpdmVseSB0cmlnZ2VyIGl0c2VsZiBhZ2Fpbi5cclxuICAgIC8vIGlmIHRoZSBqb2IgaXMgYSB3YXRjaCgpIGNhbGxiYWNrLCB0aGUgc2VhcmNoIHdpbGwgc3RhcnQgd2l0aCBhICsxIGluZGV4IHRvXHJcbiAgICAvLyBhbGxvdyBpdCByZWN1cnNpdmVseSB0cmlnZ2VyIGl0c2VsZiAtIGl0IGlzIHRoZSB1c2VyJ3MgcmVzcG9uc2liaWxpdHkgdG9cclxuICAgIC8vIGVuc3VyZSBpdCBkb2Vzbid0IGVuZCB1cCBpbiBhbiBpbmZpbml0ZSBsb29wLlxyXG4gICAgaWYgKCghcXVldWUubGVuZ3RoIHx8XHJcbiAgICAgICAgIXF1ZXVlLmluY2x1ZGVzKGpvYiwgaXNGbHVzaGluZyAmJiBqb2IuYWxsb3dSZWN1cnNlID8gZmx1c2hJbmRleCArIDEgOiBmbHVzaEluZGV4KSkgJiZcclxuICAgICAgICBqb2IgIT09IGN1cnJlbnRQcmVGbHVzaFBhcmVudEpvYikge1xyXG4gICAgICAgIHF1ZXVlLnB1c2goam9iKTtcclxuICAgICAgICBxdWV1ZUZsdXNoKCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcXVldWVGbHVzaCgpIHtcclxuICAgIGlmICghaXNGbHVzaGluZyAmJiAhaXNGbHVzaFBlbmRpbmcpIHtcclxuICAgICAgICBpc0ZsdXNoUGVuZGluZyA9IHRydWU7XHJcbiAgICAgICAgY3VycmVudEZsdXNoUHJvbWlzZSA9IHJlc29sdmVkUHJvbWlzZS50aGVuKGZsdXNoSm9icyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW52YWxpZGF0ZUpvYihqb2IpIHtcclxuICAgIGNvbnN0IGkgPSBxdWV1ZS5pbmRleE9mKGpvYik7XHJcbiAgICBpZiAoaSA+IC0xKSB7XHJcbiAgICAgICAgcXVldWVbaV0gPSBudWxsO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlQ2IoY2IsIGFjdGl2ZVF1ZXVlLCBwZW5kaW5nUXVldWUsIGluZGV4KSB7XHJcbiAgICBpZiAoIWlzQXJyYXkoY2IpKSB7XHJcbiAgICAgICAgaWYgKCFhY3RpdmVRdWV1ZSB8fFxyXG4gICAgICAgICAgICAhYWN0aXZlUXVldWUuaW5jbHVkZXMoY2IsIGNiLmFsbG93UmVjdXJzZSA/IGluZGV4ICsgMSA6IGluZGV4KSkge1xyXG4gICAgICAgICAgICBwZW5kaW5nUXVldWUucHVzaChjYik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gaWYgY2IgaXMgYW4gYXJyYXksIGl0IGlzIGEgY29tcG9uZW50IGxpZmVjeWNsZSBob29rIHdoaWNoIGNhbiBvbmx5IGJlXHJcbiAgICAgICAgLy8gdHJpZ2dlcmVkIGJ5IGEgam9iLCB3aGljaCBpcyBhbHJlYWR5IGRlZHVwZWQgaW4gdGhlIG1haW4gcXVldWUsIHNvXHJcbiAgICAgICAgLy8gd2UgY2FuIHNraXAgZHVwbGljYXRlIGNoZWNrIGhlcmUgdG8gaW1wcm92ZSBwZXJmXHJcbiAgICAgICAgcGVuZGluZ1F1ZXVlLnB1c2goLi4uY2IpO1xyXG4gICAgfVxyXG4gICAgcXVldWVGbHVzaCgpO1xyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlUHJlRmx1c2hDYihjYikge1xyXG4gICAgcXVldWVDYihjYiwgYWN0aXZlUHJlRmx1c2hDYnMsIHBlbmRpbmdQcmVGbHVzaENicywgcHJlRmx1c2hJbmRleCk7XHJcbn1cclxuZnVuY3Rpb24gcXVldWVQb3N0Rmx1c2hDYihjYikge1xyXG4gICAgcXVldWVDYihjYiwgYWN0aXZlUG9zdEZsdXNoQ2JzLCBwZW5kaW5nUG9zdEZsdXNoQ2JzLCBwb3N0Rmx1c2hJbmRleCk7XHJcbn1cclxuZnVuY3Rpb24gZmx1c2hQcmVGbHVzaENicyhzZWVuLCBwYXJlbnRKb2IgPSBudWxsKSB7XHJcbiAgICBpZiAocGVuZGluZ1ByZUZsdXNoQ2JzLmxlbmd0aCkge1xyXG4gICAgICAgIGN1cnJlbnRQcmVGbHVzaFBhcmVudEpvYiA9IHBhcmVudEpvYjtcclxuICAgICAgICBhY3RpdmVQcmVGbHVzaENicyA9IFsuLi5uZXcgU2V0KHBlbmRpbmdQcmVGbHVzaENicyldO1xyXG4gICAgICAgIHBlbmRpbmdQcmVGbHVzaENicy5sZW5ndGggPSAwO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgc2VlbiA9IHNlZW4gfHwgbmV3IE1hcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByZUZsdXNoSW5kZXggPSAwOyBwcmVGbHVzaEluZGV4IDwgYWN0aXZlUHJlRmx1c2hDYnMubGVuZ3RoOyBwcmVGbHVzaEluZGV4KyspIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGFjdGl2ZVByZUZsdXNoQ2JzW3ByZUZsdXNoSW5kZXhdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhY3RpdmVQcmVGbHVzaENic1twcmVGbHVzaEluZGV4XSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhY3RpdmVQcmVGbHVzaENicyA9IG51bGw7XHJcbiAgICAgICAgcHJlRmx1c2hJbmRleCA9IDA7XHJcbiAgICAgICAgY3VycmVudFByZUZsdXNoUGFyZW50Sm9iID0gbnVsbDtcclxuICAgICAgICAvLyByZWN1cnNpdmVseSBmbHVzaCB1bnRpbCBpdCBkcmFpbnNcclxuICAgICAgICBmbHVzaFByZUZsdXNoQ2JzKHNlZW4sIHBhcmVudEpvYik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbikge1xyXG4gICAgaWYgKHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgZGVkdXBlZCA9IFsuLi5uZXcgU2V0KHBlbmRpbmdQb3N0Rmx1c2hDYnMpXTtcclxuICAgICAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgLy8gIzE5NDcgYWxyZWFkeSBoYXMgYWN0aXZlIHF1ZXVlLCBuZXN0ZWQgZmx1c2hQb3N0Rmx1c2hDYnMgY2FsbFxyXG4gICAgICAgIGlmIChhY3RpdmVQb3N0Rmx1c2hDYnMpIHtcclxuICAgICAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnB1c2goLi4uZGVkdXBlZCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gZGVkdXBlZDtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHNlZW4gPSBzZWVuIHx8IG5ldyBNYXAoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnNvcnQoKGEsIGIpID0+IGdldElkKGEpIC0gZ2V0SWQoYikpO1xyXG4gICAgICAgIGZvciAocG9zdEZsdXNoSW5kZXggPSAwOyBwb3N0Rmx1c2hJbmRleCA8IGFjdGl2ZVBvc3RGbHVzaENicy5sZW5ndGg7IHBvc3RGbHVzaEluZGV4KyspIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGFjdGl2ZVBvc3RGbHVzaENic1twb3N0Rmx1c2hJbmRleF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFjdGl2ZVBvc3RGbHVzaENic1twb3N0Rmx1c2hJbmRleF0oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gbnVsbDtcclxuICAgICAgICBwb3N0Rmx1c2hJbmRleCA9IDA7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgZ2V0SWQgPSAoam9iKSA9PiBqb2IuaWQgPT0gbnVsbCA/IEluZmluaXR5IDogam9iLmlkO1xyXG5mdW5jdGlvbiBmbHVzaEpvYnMoc2Vlbikge1xyXG4gICAgaXNGbHVzaFBlbmRpbmcgPSBmYWxzZTtcclxuICAgIGlzRmx1c2hpbmcgPSB0cnVlO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHNlZW4gPSBzZWVuIHx8IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIGZsdXNoUHJlRmx1c2hDYnMoc2Vlbik7XHJcbiAgICAvLyBTb3J0IHF1ZXVlIGJlZm9yZSBmbHVzaC5cclxuICAgIC8vIFRoaXMgZW5zdXJlcyB0aGF0OlxyXG4gICAgLy8gMS4gQ29tcG9uZW50cyBhcmUgdXBkYXRlZCBmcm9tIHBhcmVudCB0byBjaGlsZC4gKGJlY2F1c2UgcGFyZW50IGlzIGFsd2F5c1xyXG4gICAgLy8gICAgY3JlYXRlZCBiZWZvcmUgdGhlIGNoaWxkIHNvIGl0cyByZW5kZXIgZWZmZWN0IHdpbGwgaGF2ZSBzbWFsbGVyXHJcbiAgICAvLyAgICBwcmlvcml0eSBudW1iZXIpXHJcbiAgICAvLyAyLiBJZiBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgZHVyaW5nIGEgcGFyZW50IGNvbXBvbmVudCdzIHVwZGF0ZSxcclxuICAgIC8vICAgIGl0cyB1cGRhdGUgY2FuIGJlIHNraXBwZWQuXHJcbiAgICAvLyBKb2JzIGNhbiBuZXZlciBiZSBudWxsIGJlZm9yZSBmbHVzaCBzdGFydHMsIHNpbmNlIHRoZXkgYXJlIG9ubHkgaW52YWxpZGF0ZWRcclxuICAgIC8vIGR1cmluZyBleGVjdXRpb24gb2YgYW5vdGhlciBmbHVzaGVkIGpvYi5cclxuICAgIHF1ZXVlLnNvcnQoKGEsIGIpID0+IGdldElkKGEpIC0gZ2V0SWQoYikpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBmb3IgKGZsdXNoSW5kZXggPSAwOyBmbHVzaEluZGV4IDwgcXVldWUubGVuZ3RoOyBmbHVzaEluZGV4KyspIHtcclxuICAgICAgICAgICAgY29uc3Qgam9iID0gcXVldWVbZmx1c2hJbmRleF07XHJcbiAgICAgICAgICAgIGlmIChqb2IpIHtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2Vlbiwgam9iKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhqb2IsIG51bGwsIDE0IC8qIFNDSEVEVUxFUiAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICBmbHVzaEluZGV4ID0gMDtcclxuICAgICAgICBxdWV1ZS5sZW5ndGggPSAwO1xyXG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKHNlZW4pO1xyXG4gICAgICAgIGlzRmx1c2hpbmcgPSBmYWxzZTtcclxuICAgICAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcclxuICAgICAgICAvLyBzb21lIHBvc3RGbHVzaENiIHF1ZXVlZCBqb2JzIVxyXG4gICAgICAgIC8vIGtlZXAgZmx1c2hpbmcgdW50aWwgaXQgZHJhaW5zLlxyXG4gICAgICAgIGlmIChxdWV1ZS5sZW5ndGggfHwgcGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZmx1c2hKb2JzKHNlZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgZm4pIHtcclxuICAgIGlmICghc2Vlbi5oYXMoZm4pKSB7XHJcbiAgICAgICAgc2Vlbi5zZXQoZm4sIDEpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgY291bnQgPSBzZWVuLmdldChmbik7XHJcbiAgICAgICAgaWYgKGNvdW50ID4gUkVDVVJTSU9OX0xJTUlUKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWF4aW11bSByZWN1cnNpdmUgdXBkYXRlcyBleGNlZWRlZC4gYCArXHJcbiAgICAgICAgICAgICAgICBgVGhpcyBtZWFucyB5b3UgaGF2ZSBhIHJlYWN0aXZlIGVmZmVjdCB0aGF0IGlzIG11dGF0aW5nIGl0cyBvd24gYCArXHJcbiAgICAgICAgICAgICAgICBgZGVwZW5kZW5jaWVzIGFuZCB0aHVzIHJlY3Vyc2l2ZWx5IHRyaWdnZXJpbmcgaXRzZWxmLiBQb3NzaWJsZSBzb3VyY2VzIGAgK1xyXG4gICAgICAgICAgICAgICAgYGluY2x1ZGUgY29tcG9uZW50IHRlbXBsYXRlLCByZW5kZXIgZnVuY3Rpb24sIHVwZGF0ZWQgaG9vayBvciBgICtcclxuICAgICAgICAgICAgICAgIGB3YXRjaGVyIHNvdXJjZSBmdW5jdGlvbi5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNlZW4uc2V0KGZuLCBjb3VudCArIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxubGV0IGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcclxuY29uc3QgaG1yRGlydHlDb21wb25lbnRzID0gbmV3IFNldCgpO1xyXG4vLyBFeHBvc2UgdGhlIEhNUiBydW50aW1lIG9uIHRoZSBnbG9iYWwgb2JqZWN0XHJcbi8vIFRoaXMgbWFrZXMgaXQgZW50aXJlbHkgdHJlZS1zaGFrYWJsZSB3aXRob3V0IHBvbGx1dGluZyB0aGUgZXhwb3J0cyBhbmQgbWFrZXNcclxuLy8gaXQgZWFzaWVyIHRvIGJlIHVzZWQgaW4gdG9vbGluZ3MgbGlrZSB2dWUtbG9hZGVyXHJcbi8vIE5vdGU6IGZvciBhIGNvbXBvbmVudCB0byBiZSBlbGlnaWJsZSBmb3IgSE1SIGl0IGFsc28gbmVlZHMgdGhlIF9faG1ySWQgb3B0aW9uXHJcbi8vIHRvIGJlIHNldCBzbyB0aGF0IGl0cyBpbnN0YW5jZXMgY2FuIGJlIHJlZ2lzdGVyZWQgLyByZW1vdmVkLlxyXG5pZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICh0cnVlICkpIHtcclxuICAgIGNvbnN0IGdsb2JhbE9iamVjdCA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgPyBnbG9iYWxcclxuICAgICAgICA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICA/IHNlbGZcclxuICAgICAgICAgICAgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICAgICAgPyB3aW5kb3dcclxuICAgICAgICAgICAgICAgIDoge307XHJcbiAgICBnbG9iYWxPYmplY3QuX19WVUVfSE1SX1JVTlRJTUVfXyA9IHtcclxuICAgICAgICBjcmVhdGVSZWNvcmQ6IHRyeVdyYXAoY3JlYXRlUmVjb3JkKSxcclxuICAgICAgICByZXJlbmRlcjogdHJ5V3JhcChyZXJlbmRlciksXHJcbiAgICAgICAgcmVsb2FkOiB0cnlXcmFwKHJlbG9hZClcclxuICAgIH07XHJcbn1cclxuY29uc3QgbWFwID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiByZWdpc3RlckhNUihpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgaWQgPSBpbnN0YW5jZS50eXBlLl9faG1ySWQ7XHJcbiAgICBsZXQgcmVjb3JkID0gbWFwLmdldChpZCk7XHJcbiAgICBpZiAoIXJlY29yZCkge1xyXG4gICAgICAgIGNyZWF0ZVJlY29yZChpZCk7XHJcbiAgICAgICAgcmVjb3JkID0gbWFwLmdldChpZCk7XHJcbiAgICB9XHJcbiAgICByZWNvcmQuYWRkKGluc3RhbmNlKTtcclxufVxyXG5mdW5jdGlvbiB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XHJcbiAgICBtYXAuZ2V0KGluc3RhbmNlLnR5cGUuX19obXJJZCkuZGVsZXRlKGluc3RhbmNlKTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVSZWNvcmQoaWQpIHtcclxuICAgIGlmIChtYXAuaGFzKGlkKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIG1hcC5zZXQoaWQsIG5ldyBTZXQoKSk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiByZXJlbmRlcihpZCwgbmV3UmVuZGVyKSB7XHJcbiAgICBjb25zdCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIGlmICghcmVjb3JkKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIC8vIEFycmF5LmZyb20gY3JlYXRlcyBhIHNuYXBzaG90IHdoaWNoIGF2b2lkcyB0aGUgc2V0IGJlaW5nIG11dGF0ZWQgZHVyaW5nXHJcbiAgICAvLyB1cGRhdGVzXHJcbiAgICBBcnJheS5mcm9tKHJlY29yZCkuZm9yRWFjaChpbnN0YW5jZSA9PiB7XHJcbiAgICAgICAgaWYgKG5ld1JlbmRlcikge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSBuZXdSZW5kZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluc3RhbmNlLnJlbmRlckNhY2hlID0gW107XHJcbiAgICAgICAgLy8gdGhpcyBmbGFnIGZvcmNlcyBjaGlsZCBjb21wb25lbnRzIHdpdGggc2xvdCBjb250ZW50IHRvIHVwZGF0ZVxyXG4gICAgICAgIGlzSG1yVXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xyXG4gICAgICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHJlbG9hZChpZCwgbmV3Q29tcCkge1xyXG4gICAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XHJcbiAgICBpZiAoIXJlY29yZClcclxuICAgICAgICByZXR1cm47XHJcbiAgICAvLyBBcnJheS5mcm9tIGNyZWF0ZXMgYSBzbmFwc2hvdCB3aGljaCBhdm9pZHMgdGhlIHNldCBiZWluZyBtdXRhdGVkIGR1cmluZ1xyXG4gICAgLy8gdXBkYXRlc1xyXG4gICAgQXJyYXkuZnJvbShyZWNvcmQpLmZvckVhY2goaW5zdGFuY2UgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbXAgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgICAgIGlmICghaG1yRGlydHlDb21wb25lbnRzLmhhcyhjb21wKSkge1xyXG4gICAgICAgICAgICAvLyAxLiBVcGRhdGUgZXhpc3RpbmcgY29tcCBkZWZpbml0aW9uIHRvIG1hdGNoIG5ldyBvbmVcclxuICAgICAgICAgICAgbmV3Q29tcCA9IGlzQ2xhc3NDb21wb25lbnQobmV3Q29tcCkgPyBuZXdDb21wLl9fdmNjT3B0cyA6IG5ld0NvbXA7XHJcbiAgICAgICAgICAgIGV4dGVuZChjb21wLCBuZXdDb21wKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29tcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG5ld0NvbXApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNvbXBba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAyLiBNYXJrIGNvbXBvbmVudCBkaXJ0eS4gVGhpcyBmb3JjZXMgdGhlIHJlbmRlcmVyIHRvIHJlcGxhY2UgdGhlIGNvbXBvbmVudFxyXG4gICAgICAgICAgICAvLyBvbiBwYXRjaC5cclxuICAgICAgICAgICAgaG1yRGlydHlDb21wb25lbnRzLmFkZChjb21wKTtcclxuICAgICAgICAgICAgLy8gMy4gTWFrZSBzdXJlIHRvIHVubWFyayB0aGUgY29tcG9uZW50IGFmdGVyIHRoZSByZWxvYWQuXHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdEZsdXNoQ2IoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaG1yRGlydHlDb21wb25lbnRzLmRlbGV0ZShjb21wKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgLy8gNC4gRm9yY2UgdGhlIHBhcmVudCBpbnN0YW5jZSB0byByZS1yZW5kZXIuIFRoaXMgd2lsbCBjYXVzZSBhbGwgdXBkYXRlZFxyXG4gICAgICAgICAgICAvLyBjb21wb25lbnRzIHRvIGJlIHVubW91bnRlZCBhbmQgcmUtbW91bnRlZC4gUXVldWUgdGhlIHVwZGF0ZSBzbyB0aGF0IHdlXHJcbiAgICAgICAgICAgIC8vIGRvbid0IGVuZCB1cCBmb3JjaW5nIHRoZSBzYW1lIHBhcmVudCB0byByZS1yZW5kZXIgbXVsdGlwbGUgdGltZXMuXHJcbiAgICAgICAgICAgIHF1ZXVlSm9iKGluc3RhbmNlLnBhcmVudC51cGRhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LnJlbG9hZCkge1xyXG4gICAgICAgICAgICAvLyByb290IGluc3RhbmNlIG1vdW50ZWQgdmlhIGNyZWF0ZUFwcCgpIGhhcyBhIHJlbG9hZCBtZXRob2RcclxuICAgICAgICAgICAgaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgLy8gcm9vdCBpbnN0YW5jZSBpbnNpZGUgdHJlZSBjcmVhdGVkIHZpYSByYXcgcmVuZGVyKCkuIEZvcmNlIHJlbG9hZC5cclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbSE1SXSBSb290IG9yIG1hbnVhbGx5IG1vdW50ZWQgaW5zdGFuY2UgbW9kaWZpZWQuIEZ1bGwgcmVsb2FkIHJlcXVpcmVkLicpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHRyeVdyYXAoZm4pIHtcclxuICAgIHJldHVybiAoaWQsIGFyZykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmbihpZCwgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBbSE1SXSBTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgVnVlIGNvbXBvbmVudCBob3QtcmVsb2FkLiBgICtcclxuICAgICAgICAgICAgICAgIGBGdWxsIHJlbG9hZCByZXF1aXJlZC5gKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XG5cbmxldCBkZXZ0b29scztcclxuZnVuY3Rpb24gc2V0RGV2dG9vbHNIb29rKGhvb2spIHtcclxuICAgIGRldnRvb2xzID0gaG9vaztcclxufVxyXG5mdW5jdGlvbiBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKSB7XHJcbiAgICAvLyBUT0RPIHF1ZXVlIGlmIGRldnRvb2xzIGlzIHVuZGVmaW5lZFxyXG4gICAgaWYgKCFkZXZ0b29scylcclxuICAgICAgICByZXR1cm47XHJcbiAgICBkZXZ0b29scy5lbWl0KFwiYXBwOmluaXRcIiAvKiBBUFBfSU5JVCAqLywgYXBwLCB2ZXJzaW9uLCB7XHJcbiAgICAgICAgRnJhZ21lbnQsXHJcbiAgICAgICAgVGV4dCxcclxuICAgICAgICBDb21tZW50LFxyXG4gICAgICAgIFN0YXRpY1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZGV2dG9vbHNVbm1vdW50QXBwKGFwcCkge1xyXG4gICAgaWYgKCFkZXZ0b29scylcclxuICAgICAgICByZXR1cm47XHJcbiAgICBkZXZ0b29scy5lbWl0KFwiYXBwOnVubW91bnRcIiAvKiBBUFBfVU5NT1VOVCAqLywgYXBwKTtcclxufVxyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudEFkZGVkID0gLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6YWRkZWRcIiAvKiBDT01QT05FTlRfQURERUQgKi8pO1xyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDp1cGRhdGVkXCIgLyogQ09NUE9ORU5UX1VQREFURUQgKi8pO1xyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDpyZW1vdmVkXCIgLyogQ09NUE9ORU5UX1JFTU9WRUQgKi8pO1xyXG5mdW5jdGlvbiBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soaG9vaykge1xyXG4gICAgcmV0dXJuIChjb21wb25lbnQpID0+IHtcclxuICAgICAgICBpZiAoIWRldnRvb2xzKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZGV2dG9vbHMuZW1pdChob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudC5wYXJlbnQgPyBjb21wb25lbnQucGFyZW50LnVpZCA6IHVuZGVmaW5lZCk7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGRldnRvb2xzQ29tcG9uZW50RW1pdChjb21wb25lbnQsIGV2ZW50LCBwYXJhbXMpIHtcclxuICAgIGlmICghZGV2dG9vbHMpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgZGV2dG9vbHMuZW1pdChcImNvbXBvbmVudDplbWl0XCIgLyogQ09NUE9ORU5UX0VNSVQgKi8sIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCwgY29tcG9uZW50LCBldmVudCwgcGFyYW1zKTtcclxufVxuXG5mdW5jdGlvbiBlbWl0KGluc3RhbmNlLCBldmVudCwgLi4ucmF3QXJncykge1xyXG4gICAgY29uc3QgcHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcyB8fCBFTVBUWV9PQko7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY29uc3QgeyBlbWl0c09wdGlvbnMsIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10gfSA9IGluc3RhbmNlO1xyXG4gICAgICAgIGlmIChlbWl0c09wdGlvbnMpIHtcclxuICAgICAgICAgICAgaWYgKCEoZXZlbnQgaW4gZW1pdHNPcHRpb25zKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wc09wdGlvbnMgfHwgISh0b0hhbmRsZXJLZXkoZXZlbnQpIGluIHByb3BzT3B0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgZW1pdHRlZCBldmVudCBcIiR7ZXZlbnR9XCIgYnV0IGl0IGlzIG5laXRoZXIgZGVjbGFyZWQgaW4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGB0aGUgZW1pdHMgb3B0aW9uIG5vciBhcyBhbiBcIiR7dG9IYW5kbGVyS2V5KGV2ZW50KX1cIiBwcm9wLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gZW1pdHNPcHRpb25zW2V2ZW50XTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbGlkYXRvcikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gdmFsaWRhdG9yKC4uLnJhd0FyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBJbnZhbGlkIGV2ZW50IGFyZ3VtZW50czogZXZlbnQgdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGV2ZW50IFwiJHtldmVudH1cIi5gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgYXJncyA9IHJhd0FyZ3M7XHJcbiAgICBjb25zdCBpc01vZGVsTGlzdGVuZXIgPSBldmVudC5zdGFydHNXaXRoKCd1cGRhdGU6Jyk7XHJcbiAgICAvLyBmb3Igdi1tb2RlbCB1cGRhdGU6eHh4IGV2ZW50cywgYXBwbHkgbW9kaWZpZXJzIG9uIGFyZ3NcclxuICAgIGNvbnN0IG1vZGVsQXJnID0gaXNNb2RlbExpc3RlbmVyICYmIGV2ZW50LnNsaWNlKDcpO1xyXG4gICAgaWYgKG1vZGVsQXJnICYmIG1vZGVsQXJnIGluIHByb3BzKSB7XHJcbiAgICAgICAgY29uc3QgbW9kaWZpZXJzS2V5ID0gYCR7bW9kZWxBcmcgPT09ICdtb2RlbFZhbHVlJyA/ICdtb2RlbCcgOiBtb2RlbEFyZ31Nb2RpZmllcnNgO1xyXG4gICAgICAgIGNvbnN0IHsgbnVtYmVyLCB0cmltIH0gPSBwcm9wc1ttb2RpZmllcnNLZXldIHx8IEVNUFRZX09CSjtcclxuICAgICAgICBpZiAodHJpbSkge1xyXG4gICAgICAgICAgICBhcmdzID0gcmF3QXJncy5tYXAoYSA9PiBhLnRyaW0oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG51bWJlcikge1xyXG4gICAgICAgICAgICBhcmdzID0gcmF3QXJncy5tYXAodG9OdW1iZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgZGV2dG9vbHNDb21wb25lbnRFbWl0KGluc3RhbmNlLCBldmVudCwgYXJncyk7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY29uc3QgbG93ZXJDYXNlRXZlbnQgPSBldmVudC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChsb3dlckNhc2VFdmVudCAhPT0gZXZlbnQgJiYgcHJvcHNbdG9IYW5kbGVyS2V5KGxvd2VyQ2FzZUV2ZW50KV0pIHtcclxuICAgICAgICAgICAgd2FybihgRXZlbnQgXCIke2xvd2VyQ2FzZUV2ZW50fVwiIGlzIGVtaXR0ZWQgaW4gY29tcG9uZW50IGAgK1xyXG4gICAgICAgICAgICAgICAgYCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgaW5zdGFuY2UudHlwZSl9IGJ1dCB0aGUgaGFuZGxlciBpcyByZWdpc3RlcmVkIGZvciBcIiR7ZXZlbnR9XCIuIGAgK1xyXG4gICAgICAgICAgICAgICAgYE5vdGUgdGhhdCBIVE1MIGF0dHJpYnV0ZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUgYW5kIHlvdSBjYW5ub3QgdXNlIGAgK1xyXG4gICAgICAgICAgICAgICAgYHYtb24gdG8gbGlzdGVuIHRvIGNhbWVsQ2FzZSBldmVudHMgd2hlbiB1c2luZyBpbi1ET00gdGVtcGxhdGVzLiBgICtcclxuICAgICAgICAgICAgICAgIGBZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcIiR7aHlwaGVuYXRlKGV2ZW50KX1cIiBpbnN0ZWFkIG9mIFwiJHtldmVudH1cIi5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBjb252ZXJ0IGhhbmRsZXIgbmFtZSB0byBjYW1lbENhc2UuIFNlZSBpc3N1ZSAjMjI0OVxyXG4gICAgbGV0IGhhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGNhbWVsaXplKGV2ZW50KSk7XHJcbiAgICBsZXQgaGFuZGxlciA9IHByb3BzW2hhbmRsZXJOYW1lXTtcclxuICAgIC8vIGZvciB2LW1vZGVsIHVwZGF0ZTp4eHggZXZlbnRzLCBhbHNvIHRyaWdnZXIga2ViYWItY2FzZSBlcXVpdmFsZW50XHJcbiAgICAvLyBmb3IgcHJvcHMgcGFzc2VkIHZpYSBrZWJhYi1jYXNlXHJcbiAgICBpZiAoIWhhbmRsZXIgJiYgaXNNb2RlbExpc3RlbmVyKSB7XHJcbiAgICAgICAgaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoaHlwaGVuYXRlKGV2ZW50KSk7XHJcbiAgICAgICAgaGFuZGxlciA9IHByb3BzW2hhbmRsZXJOYW1lXTtcclxuICAgIH1cclxuICAgIGlmIChoYW5kbGVyKSB7XHJcbiAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaGFuZGxlciwgaW5zdGFuY2UsIDYgLyogQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVIgKi8sIGFyZ3MpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgb25jZUhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSArIGBPbmNlYF07XHJcbiAgICBpZiAob25jZUhhbmRsZXIpIHtcclxuICAgICAgICBpZiAoIWluc3RhbmNlLmVtaXR0ZWQpIHtcclxuICAgICAgICAgICAgKGluc3RhbmNlLmVtaXR0ZWQgPSB7fSlbaGFuZGxlck5hbWVdID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhvbmNlSGFuZGxlciwgaW5zdGFuY2UsIDYgLyogQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVIgKi8sIGFyZ3MpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcclxuICAgIGlmICghYXBwQ29udGV4dC5kZW9wdCAmJiBjb21wLl9fZW1pdHMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBjb21wLl9fZW1pdHM7XHJcbiAgICB9XHJcbiAgICBjb25zdCByYXcgPSBjb21wLmVtaXRzO1xyXG4gICAgbGV0IG5vcm1hbGl6ZWQgPSB7fTtcclxuICAgIC8vIGFwcGx5IG1peGluL2V4dGVuZHMgcHJvcHNcclxuICAgIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XHJcbiAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xyXG4gICAgICAgIGNvbnN0IGV4dGVuZEVtaXRzID0gKHJhdykgPT4ge1xyXG4gICAgICAgICAgICBoYXNFeHRlbmRzID0gdHJ1ZTtcclxuICAgICAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhyYXcsIGFwcENvbnRleHQsIHRydWUpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICghYXNNaXhpbiAmJiBhcHBDb250ZXh0Lm1peGlucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgYXBwQ29udGV4dC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb21wLmV4dGVuZHMpIHtcclxuICAgICAgICAgICAgZXh0ZW5kRW1pdHMoY29tcC5leHRlbmRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbXAubWl4aW5zKSB7XHJcbiAgICAgICAgICAgIGNvbXAubWl4aW5zLmZvckVhY2goZXh0ZW5kRW1pdHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghcmF3ICYmICFoYXNFeHRlbmRzKSB7XHJcbiAgICAgICAgcmV0dXJuIChjb21wLl9fZW1pdHMgPSBudWxsKTtcclxuICAgIH1cclxuICAgIGlmIChpc0FycmF5KHJhdykpIHtcclxuICAgICAgICByYXcuZm9yRWFjaChrZXkgPT4gKG5vcm1hbGl6ZWRba2V5XSA9IG51bGwpKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGV4dGVuZChub3JtYWxpemVkLCByYXcpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChjb21wLl9fZW1pdHMgPSBub3JtYWxpemVkKTtcclxufVxyXG4vLyBDaGVjayBpZiBhbiBpbmNvbWluZyBwcm9wIGtleSBpcyBhIGRlY2xhcmVkIGVtaXQgZXZlbnQgbGlzdGVuZXIuXHJcbi8vIGUuZy4gV2l0aCBgZW1pdHM6IHsgY2xpY2s6IG51bGwgfWAsIHByb3BzIG5hbWVkIGBvbkNsaWNrYCBhbmQgYG9uY2xpY2tgIGFyZVxyXG4vLyBib3RoIGNvbnNpZGVyZWQgbWF0Y2hlZCBsaXN0ZW5lcnMuXHJcbmZ1bmN0aW9uIGlzRW1pdExpc3RlbmVyKG9wdGlvbnMsIGtleSkge1xyXG4gICAgaWYgKCFvcHRpb25zIHx8ICFpc09uKGtleSkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBrZXkgPSBrZXkucmVwbGFjZSgvT25jZSQvLCAnJyk7XHJcbiAgICByZXR1cm4gKGhhc093bihvcHRpb25zLCBrZXlbMl0udG9Mb3dlckNhc2UoKSArIGtleS5zbGljZSgzKSkgfHxcclxuICAgICAgICBoYXNPd24ob3B0aW9ucywga2V5LnNsaWNlKDIpKSk7XHJcbn1cblxuLy8gbWFyayB0aGUgY3VycmVudCByZW5kZXJpbmcgaW5zdGFuY2UgZm9yIGFzc2V0IHJlc29sdXRpb24gKGUuZy5cclxuLy8gcmVzb2x2ZUNvbXBvbmVudCwgcmVzb2x2ZURpcmVjdGl2ZSkgZHVyaW5nIHJlbmRlclxyXG5sZXQgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gbnVsbDtcclxuZnVuY3Rpb24gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKSB7XHJcbiAgICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBpbnN0YW5jZTtcclxufVxyXG4vLyBkZXYgb25seSBmbGFnIHRvIHRyYWNrIHdoZXRoZXIgJGF0dHJzIHdhcyB1c2VkIGR1cmluZyByZW5kZXIuXHJcbi8vIElmICRhdHRycyB3YXMgdXNlZCBkdXJpbmcgcmVuZGVyIHRoZW4gdGhlIHdhcm5pbmcgZm9yIGZhaWxlZCBhdHRyc1xyXG4vLyBmYWxsdGhyb3VnaCBjYW4gYmUgc3VwcHJlc3NlZC5cclxubGV0IGFjY2Vzc2VkQXR0cnMgPSBmYWxzZTtcclxuZnVuY3Rpb24gbWFya0F0dHJzQWNjZXNzZWQoKSB7XHJcbiAgICBhY2Nlc3NlZEF0dHJzID0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB7IHR5cGU6IENvbXBvbmVudCwgdm5vZGUsIHByb3h5LCB3aXRoUHJveHksIHByb3BzLCBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdLCBzbG90cywgYXR0cnMsIGVtaXQsIHJlbmRlciwgcmVuZGVyQ2FjaGUsIGRhdGEsIHNldHVwU3RhdGUsIGN0eCB9ID0gaW5zdGFuY2U7XHJcbiAgICBsZXQgcmVzdWx0O1xyXG4gICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgZmFsbHRocm91Z2hBdHRycztcclxuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi8pIHtcclxuICAgICAgICAgICAgLy8gd2l0aFByb3h5IGlzIGEgcHJveHkgd2l0aCBhIGRpZmZlcmVudCBgaGFzYCB0cmFwIG9ubHkgZm9yXHJcbiAgICAgICAgICAgIC8vIHJ1bnRpbWUtY29tcGlsZWQgcmVuZGVyIGZ1bmN0aW9ucyB1c2luZyBgd2l0aGAgYmxvY2suXHJcbiAgICAgICAgICAgIGNvbnN0IHByb3h5VG9Vc2UgPSB3aXRoUHJveHkgfHwgcHJveHk7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKHJlbmRlci5jYWxsKHByb3h5VG9Vc2UsIHByb3h5VG9Vc2UsIHJlbmRlckNhY2hlLCBwcm9wcywgc2V0dXBTdGF0ZSwgZGF0YSwgY3R4KSk7XHJcbiAgICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBhdHRycztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uYWxcclxuICAgICAgICAgICAgY29uc3QgcmVuZGVyID0gQ29tcG9uZW50O1xyXG4gICAgICAgICAgICAvLyBpbiBkZXYsIG1hcmsgYXR0cnMgYWNjZXNzZWQgaWYgb3B0aW9uYWwgcHJvcHMgKGF0dHJzID09PSBwcm9wcylcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBhdHRycyA9PT0gcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0ID0gbm9ybWFsaXplVk5vZGUocmVuZGVyLmxlbmd0aCA+IDFcclxuICAgICAgICAgICAgICAgID8gcmVuZGVyKHByb3BzLCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICAgICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhdHRycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2xvdHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgOiB7IGF0dHJzLCBzbG90cywgZW1pdCB9KVxyXG4gICAgICAgICAgICAgICAgOiByZW5kZXIocHJvcHMsIG51bGwgLyogd2Uga25vdyBpdCBkb2Vzbid0IG5lZWQgaXQgKi8pKTtcclxuICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IENvbXBvbmVudC5wcm9wc1xyXG4gICAgICAgICAgICAgICAgPyBhdHRyc1xyXG4gICAgICAgICAgICAgICAgOiBnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2goYXR0cnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhdHRyIG1lcmdpbmdcclxuICAgICAgICAvLyBpbiBkZXYgbW9kZSwgY29tbWVudHMgYXJlIHByZXNlcnZlZCwgYW5kIGl0J3MgcG9zc2libGUgZm9yIGEgdGVtcGxhdGVcclxuICAgICAgICAvLyB0byBoYXZlIGNvbW1lbnRzIGFsb25nIHNpZGUgdGhlIHJvb3QgZWxlbWVudCB3aGljaCBtYWtlcyBpdCBhIGZyYWdtZW50XHJcbiAgICAgICAgbGV0IHJvb3QgPSByZXN1bHQ7XHJcbiAgICAgICAgbGV0IHNldFJvb3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICA7XHJcbiAgICAgICAgICAgIFtyb290LCBzZXRSb290XSA9IGdldENoaWxkUm9vdChyZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQ29tcG9uZW50LmluaGVyaXRBdHRycyAhPT0gZmFsc2UgJiYgZmFsbHRocm91Z2hBdHRycykge1xyXG4gICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZmFsbHRocm91Z2hBdHRycyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSByb290O1xyXG4gICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICAgICAgICAgICAgICBzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wc09wdGlvbnMgJiYga2V5cy5zb21lKGlzTW9kZWxMaXN0ZW5lcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSB2LW1vZGVsIGxpc3RlbmVyIChvblVwZGF0ZTp4eHgpIGhhcyBhIGNvcnJlc3BvbmRpbmcgZGVjbGFyZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvcCwgaXQgaW5kaWNhdGVzIHRoaXMgY29tcG9uZW50IGV4cGVjdHMgdG8gaGFuZGxlIHYtbW9kZWwgYW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IHNob3VsZCBub3QgZmFsbHRocm91Z2guXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbGF0ZWQ6ICMxNTQzLCAjMTY0MywgIzE5ODlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGZpbHRlck1vZGVsTGlzdGVuZXJzKGZhbGx0aHJvdWdoQXR0cnMsIHByb3BzT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIGZhbGx0aHJvdWdoQXR0cnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFhY2Nlc3NlZEF0dHJzICYmIHJvb3QudHlwZSAhPT0gQ29tbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbEF0dHJzID0gT2JqZWN0LmtleXMoYXR0cnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50QXR0cnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBleHRyYUF0dHJzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhbGxBdHRycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYWxsQXR0cnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc09uKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSB2LW1vZGVsIGhhbmRsZXJzIHdoZW4gdGhleSBmYWlsIHRvIGZhbGx0aHJvdWdoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGBvbmAsIGxvd2VyY2FzZSBmaXJzdCBsZXR0ZXIgdG8gcmVmbGVjdCBldmVudCBjYXNpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhY2N1cmF0ZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRBdHRycy5wdXNoKGtleVsyXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cnMucHVzaChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRyYUF0dHJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBFeHRyYW5lb3VzIG5vbi1wcm9wcyBhdHRyaWJ1dGVzIChgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke2V4dHJhQXR0cnMuam9pbignLCAnKX0pIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYHdlcmUgcGFzc2VkIHRvIGNvbXBvbmVudCBidXQgY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgaW5oZXJpdGVkIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYGJlY2F1c2UgY29tcG9uZW50IHJlbmRlcnMgZnJhZ21lbnQgb3IgdGV4dCByb290IG5vZGVzLmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRBdHRycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgRXh0cmFuZW91cyBub24tZW1pdHMgZXZlbnQgbGlzdGVuZXJzIChgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke2V2ZW50QXR0cnMuam9pbignLCAnKX0pIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYHdlcmUgcGFzc2VkIHRvIGNvbXBvbmVudCBidXQgY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgaW5oZXJpdGVkIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYGJlY2F1c2UgY29tcG9uZW50IHJlbmRlcnMgZnJhZ21lbnQgb3IgdGV4dCByb290IG5vZGVzLiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBJZiB0aGUgbGlzdGVuZXIgaXMgaW50ZW5kZWQgdG8gYmUgYSBjb21wb25lbnQgY3VzdG9tIGV2ZW50IGxpc3RlbmVyIG9ubHksIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYGRlY2xhcmUgaXQgdXNpbmcgdGhlIFwiZW1pdHNcIiBvcHRpb24uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGluaGVyaXQgZGlyZWN0aXZlc1xyXG4gICAgICAgIGlmICh2bm9kZS5kaXJzKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzRWxlbWVudFJvb3Qocm9vdCkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFJ1bnRpbWUgZGlyZWN0aXZlIHVzZWQgb24gY29tcG9uZW50IHdpdGggbm9uLWVsZW1lbnQgcm9vdCBub2RlLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgVGhlIGRpcmVjdGl2ZXMgd2lsbCBub3QgZnVuY3Rpb24gYXMgaW50ZW5kZWQuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcm9vdC5kaXJzID0gcm9vdC5kaXJzID8gcm9vdC5kaXJzLmNvbmNhdCh2bm9kZS5kaXJzKSA6IHZub2RlLmRpcnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGluaGVyaXQgdHJhbnNpdGlvbiBkYXRhXHJcbiAgICAgICAgaWYgKHZub2RlLnRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IGluc2lkZSA8VHJhbnNpdGlvbj4gcmVuZGVycyBub24tZWxlbWVudCByb290IG5vZGUgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYHRoYXQgY2Fubm90IGJlIGFuaW1hdGVkLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJvb3QudHJhbnNpdGlvbiA9IHZub2RlLnRyYW5zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2V0Um9vdCkge1xyXG4gICAgICAgICAgICBzZXRSb290KHJvb3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcm9vdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMSAvKiBSRU5ERVJfRlVOQ1RJT04gKi8pO1xyXG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xyXG4gICAgfVxyXG4gICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gbnVsbDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqIEluIGRldiBtb2RlLCB0ZW1wbGF0ZSByb290IGxldmVsIGNvbW1lbnRzIGFyZSByZW5kZXJlZCwgd2hpY2ggdHVybnMgdGhlXHJcbiAqIHRlbXBsYXRlIGludG8gYSBmcmFnbWVudCByb290LCBidXQgd2UgbmVlZCB0byBsb2NhdGUgdGhlIHNpbmdsZSBlbGVtZW50XHJcbiAqIHJvb3QgZm9yIGF0dHJzIGFuZCBzY29wZSBpZCBwcm9jZXNzaW5nLlxyXG4gKi9cclxuY29uc3QgZ2V0Q2hpbGRSb290ID0gKHZub2RlKSA9PiB7XHJcbiAgICBpZiAodm5vZGUudHlwZSAhPT0gRnJhZ21lbnQpIHtcclxuICAgICAgICByZXR1cm4gW3Zub2RlLCB1bmRlZmluZWRdO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmF3Q2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcclxuICAgIGNvbnN0IGR5bmFtaWNDaGlsZHJlbiA9IHZub2RlLmR5bmFtaWNDaGlsZHJlbjtcclxuICAgIGNvbnN0IGNoaWxkUm9vdCA9IGZpbHRlclNpbmdsZVJvb3QocmF3Q2hpbGRyZW4pO1xyXG4gICAgaWYgKCFjaGlsZFJvb3QpIHtcclxuICAgICAgICByZXR1cm4gW3Zub2RlLCB1bmRlZmluZWRdO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaW5kZXggPSByYXdDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCk7XHJcbiAgICBjb25zdCBkeW5hbWljSW5kZXggPSBkeW5hbWljQ2hpbGRyZW4gPyBkeW5hbWljQ2hpbGRyZW4uaW5kZXhPZihjaGlsZFJvb3QpIDogLTE7XHJcbiAgICBjb25zdCBzZXRSb290ID0gKHVwZGF0ZWRSb290KSA9PiB7XHJcbiAgICAgICAgcmF3Q2hpbGRyZW5baW5kZXhdID0gdXBkYXRlZFJvb3Q7XHJcbiAgICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xyXG4gICAgICAgICAgICBpZiAoZHluYW1pY0luZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbltkeW5hbWljSW5kZXhdID0gdXBkYXRlZFJvb3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodXBkYXRlZFJvb3QucGF0Y2hGbGFnID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gWy4uLmR5bmFtaWNDaGlsZHJlbiwgdXBkYXRlZFJvb3RdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBbbm9ybWFsaXplVk5vZGUoY2hpbGRSb290KSwgc2V0Um9vdF07XHJcbn07XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gZmlsdGVyU2luZ2xlUm9vdChjaGlsZHJlbikge1xyXG4gICAgY29uc3QgZmlsdGVyZWQgPSBjaGlsZHJlbi5maWx0ZXIoY2hpbGQgPT4ge1xyXG4gICAgICAgIHJldHVybiAhKGlzVk5vZGUoY2hpbGQpICYmXHJcbiAgICAgICAgICAgIGNoaWxkLnR5cGUgPT09IENvbW1lbnQgJiZcclxuICAgICAgICAgICAgY2hpbGQuY2hpbGRyZW4gIT09ICd2LWlmJyk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBmaWx0ZXJlZC5sZW5ndGggPT09IDEgJiYgaXNWTm9kZShmaWx0ZXJlZFswXSkgPyBmaWx0ZXJlZFswXSA6IG51bGw7XHJcbn1cclxuY29uc3QgZ2V0RnVuY3Rpb25hbEZhbGx0aHJvdWdoID0gKGF0dHJzKSA9PiB7XHJcbiAgICBsZXQgcmVzO1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcclxuICAgICAgICBpZiAoa2V5ID09PSAnY2xhc3MnIHx8IGtleSA9PT0gJ3N0eWxlJyB8fCBpc09uKGtleSkpIHtcclxuICAgICAgICAgICAgKHJlcyB8fCAocmVzID0ge30pKVtrZXldID0gYXR0cnNba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59O1xyXG5jb25zdCBmaWx0ZXJNb2RlbExpc3RlbmVycyA9IChhdHRycywgcHJvcHMpID0+IHtcclxuICAgIGNvbnN0IHJlcyA9IHt9O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcclxuICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpIHx8ICEoa2V5LnNsaWNlKDkpIGluIHByb3BzKSkge1xyXG4gICAgICAgICAgICByZXNba2V5XSA9IGF0dHJzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufTtcclxuY29uc3QgaXNFbGVtZW50Um9vdCA9ICh2bm9kZSkgPT4ge1xyXG4gICAgcmV0dXJuICh2bm9kZS5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLyB8fFxyXG4gICAgICAgIHZub2RlLnNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyB8fFxyXG4gICAgICAgIHZub2RlLnR5cGUgPT09IENvbW1lbnQgLy8gcG90ZW50aWFsIHYtaWYgYnJhbmNoIHN3aXRjaFxyXG4gICAgKTtcclxufTtcclxuZnVuY3Rpb24gc2hvdWxkVXBkYXRlQ29tcG9uZW50KHByZXZWTm9kZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpIHtcclxuICAgIGNvbnN0IHsgcHJvcHM6IHByZXZQcm9wcywgY2hpbGRyZW46IHByZXZDaGlsZHJlbiwgY29tcG9uZW50IH0gPSBwcmV2Vk5vZGU7XHJcbiAgICBjb25zdCB7IHByb3BzOiBuZXh0UHJvcHMsIGNoaWxkcmVuOiBuZXh0Q2hpbGRyZW4sIHBhdGNoRmxhZyB9ID0gbmV4dFZOb2RlO1xyXG4gICAgY29uc3QgZW1pdHMgPSBjb21wb25lbnQuZW1pdHNPcHRpb25zO1xyXG4gICAgLy8gUGFyZW50IGNvbXBvbmVudCdzIHJlbmRlciBmdW5jdGlvbiB3YXMgaG90LXVwZGF0ZWQuIFNpbmNlIHRoaXMgbWF5IGhhdmVcclxuICAgIC8vIGNhdXNlZCB0aGUgY2hpbGQgY29tcG9uZW50J3Mgc2xvdHMgY29udGVudCB0byBoYXZlIGNoYW5nZWQsIHdlIG5lZWQgdG9cclxuICAgIC8vIGZvcmNlIHRoZSBjaGlsZCB0byB1cGRhdGUgYXMgd2VsbC5cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgKHByZXZDaGlsZHJlbiB8fCBuZXh0Q2hpbGRyZW4pICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIGZvcmNlIGNoaWxkIHVwZGF0ZSBmb3IgcnVudGltZSBkaXJlY3RpdmUgb3IgdHJhbnNpdGlvbiBvbiBjb21wb25lbnQgdm5vZGUuXHJcbiAgICBpZiAobmV4dFZOb2RlLmRpcnMgfHwgbmV4dFZOb2RlLnRyYW5zaXRpb24pIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpbWl6ZWQgJiYgcGF0Y2hGbGFnID4gMCkge1xyXG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiAxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi8pIHtcclxuICAgICAgICAgICAgLy8gc2xvdCBjb250ZW50IHRoYXQgcmVmZXJlbmNlcyB2YWx1ZXMgdGhhdCBtaWdodCBoYXZlIGNoYW5nZWQsXHJcbiAgICAgICAgICAgIC8vIGUuZy4gaW4gYSB2LWZvclxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi8pIHtcclxuICAgICAgICAgICAgaWYgKCFwcmV2UHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIW5leHRQcm9wcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBwcmVzZW5jZSBvZiB0aGlzIGZsYWcgaW5kaWNhdGVzIHByb3BzIGFyZSBhbHdheXMgbm9uLW51bGxcclxuICAgICAgICAgICAgcmV0dXJuIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwYXRjaEZsYWcgJiA4IC8qIFBST1BTICovKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGR5bmFtaWNQcm9wcyA9IG5leHRWTm9kZS5keW5hbWljUHJvcHM7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Byb3BzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBkeW5hbWljUHJvcHNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dFByb3BzW2tleV0gIT09IHByZXZQcm9wc1trZXldICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIWlzRW1pdExpc3RlbmVyKGVtaXRzLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyB0aGlzIHBhdGggaXMgb25seSB0YWtlbiBieSBtYW51YWxseSB3cml0dGVuIHJlbmRlciBmdW5jdGlvbnNcclxuICAgICAgICAvLyBzbyBwcmVzZW5jZSBvZiBhbnkgY2hpbGRyZW4gbGVhZHMgdG8gYSBmb3JjZWQgdXBkYXRlXHJcbiAgICAgICAgaWYgKHByZXZDaGlsZHJlbiB8fCBuZXh0Q2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgaWYgKCFuZXh0Q2hpbGRyZW4gfHwgIW5leHRDaGlsZHJlbi4kc3RhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJldlByb3BzID09PSBuZXh0UHJvcHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXByZXZQcm9wcykge1xyXG4gICAgICAgICAgICByZXR1cm4gISFuZXh0UHJvcHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbmV4dFByb3BzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0cyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0c09wdGlvbnMpIHtcclxuICAgIGNvbnN0IG5leHRLZXlzID0gT2JqZWN0LmtleXMobmV4dFByb3BzKTtcclxuICAgIGlmIChuZXh0S2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKHByZXZQcm9wcykubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5leHRLZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gbmV4dEtleXNbaV07XHJcbiAgICAgICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJlxyXG4gICAgICAgICAgICAhaXNFbWl0TGlzdGVuZXIoZW1pdHNPcHRpb25zLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiB1cGRhdGVIT0NIb3N0RWwoeyB2bm9kZSwgcGFyZW50IH0sIGVsIC8vIEhvc3ROb2RlXHJcbikge1xyXG4gICAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQuc3ViVHJlZSA9PT0gdm5vZGUpIHtcclxuICAgICAgICAodm5vZGUgPSBwYXJlbnQudm5vZGUpLmVsID0gZWw7XHJcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcclxuICAgIH1cclxufVxuXG5jb25zdCBpc1N1c3BlbnNlID0gKHR5cGUpID0+IHR5cGUuX19pc1N1c3BlbnNlO1xyXG4vLyBTdXNwZW5zZSBleHBvc2VzIGEgY29tcG9uZW50LWxpa2UgQVBJLCBhbmQgaXMgdHJlYXRlZCBsaWtlIGEgY29tcG9uZW50XHJcbi8vIGluIHRoZSBjb21waWxlciwgYnV0IGludGVybmFsbHkgaXQncyBhIHNwZWNpYWwgYnVpbHQtaW4gdHlwZSB0aGF0IGhvb2tzXHJcbi8vIGRpcmVjdGx5IGludG8gdGhlIHJlbmRlcmVyLlxyXG5jb25zdCBTdXNwZW5zZUltcGwgPSB7XHJcbiAgICAvLyBJbiBvcmRlciB0byBtYWtlIFN1c3BlbnNlIHRyZWUtc2hha2FibGUsIHdlIG5lZWQgdG8gYXZvaWQgaW1wb3J0aW5nIGl0XHJcbiAgICAvLyBkaXJlY3RseSBpbiB0aGUgcmVuZGVyZXIuIFRoZSByZW5kZXJlciBjaGVja3MgZm9yIHRoZSBfX2lzU3VzcGVuc2UgZmxhZ1xyXG4gICAgLy8gb24gYSB2bm9kZSdzIHR5cGUgYW5kIGNhbGxzIHRoZSBgcHJvY2Vzc2AgbWV0aG9kLCBwYXNzaW5nIGluIHJlbmRlcmVyXHJcbiAgICAvLyBpbnRlcm5hbHMuXHJcbiAgICBfX2lzU3VzcGVuc2U6IHRydWUsXHJcbiAgICBwcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQsIFxyXG4gICAgLy8gcGxhdGZvcm0tc3BlY2lmaWMgaW1wbCBwYXNzZWQgZnJvbSByZW5kZXJlclxyXG4gICAgcmVuZGVyZXJJbnRlcm5hbHMpIHtcclxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBtb3VudFN1c3BlbnNlKG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0Y2hTdXNwZW5zZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIGlzU1ZHLCByZW5kZXJlckludGVybmFscyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGh5ZHJhdGU6IGh5ZHJhdGVTdXNwZW5zZSxcclxuICAgIGNyZWF0ZTogY3JlYXRlU3VzcGVuc2VCb3VuZGFyeVxyXG59O1xyXG4vLyBGb3JjZS1jYXN0ZWQgcHVibGljIHR5cGluZyBmb3IgaCBhbmQgVFNYIHByb3BzIGluZmVyZW5jZVxyXG5jb25zdCBTdXNwZW5zZSA9ICggU3VzcGVuc2VJbXBsXHJcbiAgICApO1xyXG5mdW5jdGlvbiBtb3VudFN1c3BlbnNlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpIHtcclxuICAgIGNvbnN0IHsgcDogcGF0Y2gsIG86IHsgY3JlYXRlRWxlbWVudCB9IH0gPSByZW5kZXJlckludGVybmFscztcclxuICAgIGNvbnN0IGhpZGRlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3Qgc3VzcGVuc2UgPSAodm5vZGUuc3VzcGVuc2UgPSBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KHZub2RlLCBwYXJlbnRTdXNwZW5zZSwgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIsIGhpZGRlbkNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscykpO1xyXG4gICAgLy8gc3RhcnQgbW91bnRpbmcgdGhlIGNvbnRlbnQgc3VidHJlZSBpbiBhbiBvZmYtZG9tIGNvbnRhaW5lclxyXG4gICAgcGF0Y2gobnVsbCwgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSB2bm9kZS5zc0NvbnRlbnQpLCBoaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgIC8vIG5vdyBjaGVjayBpZiB3ZSBoYXZlIGVuY291bnRlcmVkIGFueSBhc3luYyBkZXBzXHJcbiAgICBpZiAoc3VzcGVuc2UuZGVwcyA+IDApIHtcclxuICAgICAgICAvLyBoYXMgYXN5bmNcclxuICAgICAgICAvLyBtb3VudCB0aGUgZmFsbGJhY2sgdHJlZVxyXG4gICAgICAgIHBhdGNoKG51bGwsIHZub2RlLnNzRmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XHJcbiAgICAgICAgaXNTVkcpO1xyXG4gICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgdm5vZGUuc3NGYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBTdXNwZW5zZSBoYXMgbm8gYXN5bmMgZGVwcy4gSnVzdCByZXNvbHZlLlxyXG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwYXRjaFN1c3BlbnNlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgaXNTVkcsIHsgcDogcGF0Y2gsIHVtOiB1bm1vdW50LCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9KSB7XHJcbiAgICBjb25zdCBzdXNwZW5zZSA9IChuMi5zdXNwZW5zZSA9IG4xLnN1c3BlbnNlKTtcclxuICAgIHN1c3BlbnNlLnZub2RlID0gbjI7XHJcbiAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgY29uc3QgbmV3QnJhbmNoID0gbjIuc3NDb250ZW50O1xyXG4gICAgY29uc3QgbmV3RmFsbGJhY2sgPSBuMi5zc0ZhbGxiYWNrO1xyXG4gICAgY29uc3QgeyBhY3RpdmVCcmFuY2gsIHBlbmRpbmdCcmFuY2gsIGlzSW5GYWxsYmFjaywgaXNIeWRyYXRpbmcgfSA9IHN1c3BlbnNlO1xyXG4gICAgaWYgKHBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbmV3QnJhbmNoO1xyXG4gICAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBwZW5kaW5nQnJhbmNoKSkge1xyXG4gICAgICAgICAgICAvLyBzYW1lIHJvb3QgdHlwZSBidXQgY29udGVudCBtYXkgaGF2ZSBjaGFuZ2VkLlxyXG4gICAgICAgICAgICBwYXRjaChwZW5kaW5nQnJhbmNoLCBuZXdCcmFuY2gsIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNJbkZhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaChhY3RpdmVCcmFuY2gsIG5ld0ZhbGxiYWNrLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxyXG4gICAgICAgICAgICAgICAgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRvZ2dsZWQgYmVmb3JlIHBlbmRpbmcgdHJlZSBpcyByZXNvbHZlZFxyXG4gICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQrKztcclxuICAgICAgICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0b2dnbGVkIGJlZm9yZSBoeWRyYXRpb24gaXMgZmluaXNoZWQsIHRoZSBjdXJyZW50IERPTSB0cmVlIGlzXHJcbiAgICAgICAgICAgICAgICAvLyBubyBsb25nZXIgdmFsaWQuIHNldCBpdCBhcyB0aGUgYWN0aXZlIGJyYW5jaCBzbyBpdCB3aWxsIGJlIHVubW91bnRlZFxyXG4gICAgICAgICAgICAgICAgLy8gd2hlbiByZXNvbHZlZFxyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IHBlbmRpbmdCcmFuY2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KHBlbmRpbmdCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGluY3JlbWVudCBwZW5kaW5nIElELiB0aGlzIGlzIHVzZWQgdG8gaW52YWxpZGF0ZSBhc3luYyBjYWxsYmFja3NcclxuICAgICAgICAgICAgLy8gcmVzZXQgc3VzcGVuc2Ugc3RhdGVcclxuICAgICAgICAgICAgc3VzcGVuc2UuZGVwcyA9IDA7XHJcbiAgICAgICAgICAgIC8vIGRpc2NhcmQgZWZmZWN0cyBmcm9tIHBlbmRpbmcgYnJhbmNoXHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMubGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgLy8gZGlzY2FyZCBwcmV2aW91cyBjb250YWluZXJcclxuICAgICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGlmIChpc0luRmFsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgaW4gZmFsbGJhY2sgc3RhdGVcclxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2goYWN0aXZlQnJhbmNoLCBuZXdGYWxsYmFjaywgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcclxuICAgICAgICAgICAgICAgICAgICBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYWN0aXZlQnJhbmNoICYmIGlzU2FtZVZOb2RlVHlwZShuZXdCcmFuY2gsIGFjdGl2ZUJyYW5jaCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIHRvZ2dsZWQgXCJiYWNrXCIgdG8gY3VycmVudCBhY3RpdmUgYnJhbmNoXHJcbiAgICAgICAgICAgICAgICBwYXRjaChhY3RpdmVCcmFuY2gsIG5ld0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHJlc29sdmVcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2hlZCB0byBhIDNyZCBicmFuY2hcclxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBhY3RpdmVCcmFuY2gpKSB7XHJcbiAgICAgICAgICAgIC8vIHJvb3QgZGlkIG5vdCBjaGFuZ2UsIGp1c3Qgbm9ybWFsIHBhdGNoXHJcbiAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3QnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0JyYW5jaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyByb290IG5vZGUgdG9nZ2xlZFxyXG4gICAgICAgICAgICAvLyBpbnZva2UgQHBlbmRpbmcgZXZlbnRcclxuICAgICAgICAgICAgY29uc3Qgb25QZW5kaW5nID0gbjIucHJvcHMgJiYgbjIucHJvcHMub25QZW5kaW5nO1xyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvblBlbmRpbmcpKSB7XHJcbiAgICAgICAgICAgICAgICBvblBlbmRpbmcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBtb3VudCBwZW5kaW5nIGJyYW5jaCBpbiBvZmYtZG9tIGNvbnRhaW5lclxyXG4gICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbmV3QnJhbmNoO1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQrKztcclxuICAgICAgICAgICAgcGF0Y2gobnVsbCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gaW5jb21pbmcgYnJhbmNoIGhhcyBubyBhc3luYyBkZXBzLCByZXNvbHZlIG5vdy5cclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdGltZW91dCwgcGVuZGluZ0lkIH0gPSBzdXNwZW5zZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aW1lb3V0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UucGVuZGluZ0lkID09PSBwZW5kaW5nSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGltZW91dCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5sZXQgaGFzV2FybmVkID0gZmFsc2U7XHJcbmZ1bmN0aW9uIGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudCwgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIsIGhpZGRlbkNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaXNIeWRyYXRpbmcgPSBmYWxzZSkge1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFmYWxzZSAmJiAhaGFzV2FybmVkKSB7XHJcbiAgICAgICAgaGFzV2FybmVkID0gdHJ1ZTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlIGBjb25zb2xlLmluZm9gIGNhbm5vdCBiZSBudWxsIGVycm9yXHJcbiAgICAgICAgY29uc29sZVtjb25zb2xlLmluZm8gPyAnaW5mbycgOiAnbG9nJ10oYDxTdXNwZW5zZT4gaXMgYW4gZXhwZXJpbWVudGFsIGZlYXR1cmUgYW5kIGl0cyBBUEkgd2lsbCBsaWtlbHkgY2hhbmdlLmApO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyBwOiBwYXRjaCwgbTogbW92ZSwgdW06IHVubW91bnQsIG46IG5leHQsIG86IHsgcGFyZW50Tm9kZSwgcmVtb3ZlIH0gfSA9IHJlbmRlcmVySW50ZXJuYWxzO1xyXG4gICAgY29uc3QgdGltZW91dCA9IHRvTnVtYmVyKHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnRpbWVvdXQpO1xyXG4gICAgY29uc3Qgc3VzcGVuc2UgPSB7XHJcbiAgICAgICAgdm5vZGUsXHJcbiAgICAgICAgcGFyZW50LFxyXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcclxuICAgICAgICBpc1NWRyxcclxuICAgICAgICBjb250YWluZXIsXHJcbiAgICAgICAgaGlkZGVuQ29udGFpbmVyLFxyXG4gICAgICAgIGFuY2hvcixcclxuICAgICAgICBkZXBzOiAwLFxyXG4gICAgICAgIHBlbmRpbmdJZDogMCxcclxuICAgICAgICB0aW1lb3V0OiB0eXBlb2YgdGltZW91dCA9PT0gJ251bWJlcicgPyB0aW1lb3V0IDogLTEsXHJcbiAgICAgICAgYWN0aXZlQnJhbmNoOiBudWxsLFxyXG4gICAgICAgIHBlbmRpbmdCcmFuY2g6IG51bGwsXHJcbiAgICAgICAgaXNJbkZhbGxiYWNrOiB0cnVlLFxyXG4gICAgICAgIGlzSHlkcmF0aW5nLFxyXG4gICAgICAgIGlzVW5tb3VudGVkOiBmYWxzZSxcclxuICAgICAgICBlZmZlY3RzOiBbXSxcclxuICAgICAgICByZXNvbHZlKHJlc3VtZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcmVzdW1lICYmICFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzdXNwZW5zZS5yZXNvbHZlKCkgaXMgY2FsbGVkIHdpdGhvdXQgYSBwZW5kaW5nIGJyYW5jaC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdXNwZW5zZS5pc1VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc3VzcGVuc2UucmVzb2x2ZSgpIGlzIGNhbGxlZCBvbiBhbiBhbHJlYWR5IHVubW91bnRlZCBzdXNwZW5zZSBib3VuZGFyeS5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IHZub2RlLCBhY3RpdmVCcmFuY2gsIHBlbmRpbmdCcmFuY2gsIHBlbmRpbmdJZCwgZWZmZWN0cywgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIgfSA9IHN1c3BlbnNlO1xyXG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuaXNIeWRyYXRpbmcpIHtcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLmlzSHlkcmF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIXJlc3VtZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVsYXlFbnRlciA9IGFjdGl2ZUJyYW5jaCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdCcmFuY2gudHJhbnNpdGlvbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdCcmFuY2gudHJhbnNpdGlvbi5tb2RlID09PSAnb3V0LWluJztcclxuICAgICAgICAgICAgICAgIGlmIChkZWxheUVudGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdJZCA9PT0gc3VzcGVuc2UucGVuZGluZ0lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlKHBlbmRpbmdCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCAwIC8qIEVOVEVSICovKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGluaXRpYWwgYW5jaG9yIG9uIG1vdW50XHJcbiAgICAgICAgICAgICAgICBsZXQgeyBhbmNob3IgfSA9IHN1c3BlbnNlO1xyXG4gICAgICAgICAgICAgICAgLy8gdW5tb3VudCBjdXJyZW50IGFjdGl2ZSB0cmVlXHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIGZhbGxiYWNrIHRyZWUgd2FzIG1vdW50ZWQsIGl0IG1heSBoYXZlIGJlZW4gbW92ZWRcclxuICAgICAgICAgICAgICAgICAgICAvLyBhcyBwYXJ0IG9mIGEgcGFyZW50IHN1c3BlbnNlLiBnZXQgdGhlIGxhdGVzdCBhbmNob3IgZm9yIGluc2VydGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IG5leHQoYWN0aXZlQnJhbmNoKTtcclxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50KGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRlbGF5RW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGNvbnRlbnQgZnJvbSBvZmYtZG9tIGNvbnRhaW5lciB0byBhY3R1YWwgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZShwZW5kaW5nQnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgMCAvKiBFTlRFUiAqLyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBwZW5kaW5nQnJhbmNoKTtcclxuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG51bGw7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmlzSW5GYWxsYmFjayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyBmbHVzaCBidWZmZXJlZCBlZmZlY3RzXHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZXJlIGlzIGEgcGVuZGluZyBwYXJlbnQgc3VzcGVuc2VcclxuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHN1c3BlbnNlLnBhcmVudDtcclxuICAgICAgICAgICAgbGV0IGhhc1VucmVzb2x2ZWRBbmNlc3RvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICB3aGlsZSAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50LnBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBmb3VuZCBhIHBlbmRpbmcgcGFyZW50IHN1c3BlbnNlLCBtZXJnZSBidWZmZXJlZCBwb3N0IGpvYnNcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRvIHRoYXQgcGFyZW50XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmVmZmVjdHMucHVzaCguLi5lZmZlY3RzKTtcclxuICAgICAgICAgICAgICAgICAgICBoYXNVbnJlc29sdmVkQW5jZXN0b3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBubyBwZW5kaW5nIHBhcmVudCBzdXNwZW5zZSwgZmx1c2ggYWxsIGpvYnNcclxuICAgICAgICAgICAgaWYgKCFoYXNVbnJlc29sdmVkQW5jZXN0b3IpIHtcclxuICAgICAgICAgICAgICAgIHF1ZXVlUG9zdEZsdXNoQ2IoZWZmZWN0cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cyA9IFtdO1xyXG4gICAgICAgICAgICAvLyBpbnZva2UgQHJlc29sdmUgZXZlbnRcclxuICAgICAgICAgICAgY29uc3Qgb25SZXNvbHZlID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25SZXNvbHZlO1xyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvblJlc29sdmUpKSB7XHJcbiAgICAgICAgICAgICAgICBvblJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZmFsbGJhY2soZmFsbGJhY2tWTm9kZSkge1xyXG4gICAgICAgICAgICBpZiAoIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IHZub2RlLCBhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyLCBpc1NWRyB9ID0gc3VzcGVuc2U7XHJcbiAgICAgICAgICAgIC8vIGludm9rZSBAZmFsbGJhY2sgZXZlbnRcclxuICAgICAgICAgICAgY29uc3Qgb25GYWxsYmFjayA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uRmFsbGJhY2s7XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uRmFsbGJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICBvbkZhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dChhY3RpdmVCcmFuY2gpO1xyXG4gICAgICAgICAgICBjb25zdCBtb3VudEZhbGxiYWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzdXNwZW5zZS5pc0luRmFsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBtb3VudCB0aGUgZmFsbGJhY2sgdHJlZVxyXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgZmFsbGJhY2tWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcclxuICAgICAgICAgICAgICAgIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgZmFsbGJhY2tWTm9kZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5RW50ZXIgPSBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24gJiYgZmFsbGJhY2tWTm9kZS50cmFuc2l0aW9uLm1vZGUgPT09ICdvdXQtaW4nO1xyXG4gICAgICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9IG1vdW50RmFsbGJhY2s7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdW5tb3VudCBjdXJyZW50IGFjdGl2ZSBicmFuY2hcclxuICAgICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gbm8gc3VzcGVuc2Ugc28gdW5tb3VudCBob29rcyBmaXJlIG5vd1xyXG4gICAgICAgICAgICB0cnVlIC8vIHNob3VsZFJlbW92ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoIWRlbGF5RW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50RmFsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbW92ZShjb250YWluZXIsIGFuY2hvciwgdHlwZSkge1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiZcclxuICAgICAgICAgICAgICAgIG1vdmUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgdHlwZSk7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5leHQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiYgbmV4dChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0KSB7XHJcbiAgICAgICAgICAgIGlmICghc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGh5ZHJhdGVkRWwgPSBpbnN0YW5jZS52bm9kZS5lbDtcclxuICAgICAgICAgICAgc3VzcGVuc2UuZGVwcysrO1xyXG4gICAgICAgICAgICBpbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgLmFzeW5jRGVwLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAwIC8qIFNFVFVQX0ZVTkNUSU9OICovKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jU2V0dXBSZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gcmV0cnkgd2hlbiB0aGUgc2V0dXAoKSBwcm9taXNlIHJlc29sdmVzLlxyXG4gICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBoYXZlIGJlZW4gdW5tb3VudGVkIGJlZm9yZSByZXNvbHZlLlxyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNVbm1vdW50ZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgIT09IGluc3RhbmNlLnN1c3BlbnNlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5kZXBzLS07XHJcbiAgICAgICAgICAgICAgICAvLyByZXRyeSBmcm9tIHRoaXMgY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hc3luY1Jlc29sdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdm5vZGUgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgYXN5bmNTZXR1cFJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaHlkcmF0ZWRFbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIG1heSBoYXZlIGJlZW4gcmVwbGFjZWQgaWYgYW4gdXBkYXRlIGhhcHBlbmVkIGJlZm9yZSB0aGVcclxuICAgICAgICAgICAgICAgICAgICAvLyBhc3luYyBkZXAgaXMgcmVzb2x2ZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgdm5vZGUuZWwgPSBoeWRyYXRlZEVsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAhaHlkcmF0ZWRFbCAmJiBpbnN0YW5jZS5zdWJUcmVlLmVsO1xyXG4gICAgICAgICAgICAgICAgc2V0dXBSZW5kZXJFZmZlY3QoaW5zdGFuY2UsIHZub2RlLCBcclxuICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCBtYXkgaGF2ZSBiZWVuIG1vdmVkIGJlZm9yZSByZXNvbHZlLlxyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBub3QgYSBoeWRyYXRpb24sIGluc3RhbmNlLnN1YlRyZWUgd2lsbCBiZSB0aGUgY29tbWVudFxyXG4gICAgICAgICAgICAgICAgLy8gcGxhY2Vob2xkZXIuXHJcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlKGh5ZHJhdGVkRWwgfHwgaW5zdGFuY2Uuc3ViVHJlZS5lbCksIFxyXG4gICAgICAgICAgICAgICAgLy8gYW5jaG9yIHdpbGwgbm90IGJlIHVzZWQgaWYgdGhpcyBpcyBoeWRyYXRpb24sIHNvIG9ubHkgbmVlZCB0b1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc2lkZXIgdGhlIGNvbW1lbnQgcGxhY2Vob2xkZXIgY2FzZS5cclxuICAgICAgICAgICAgICAgIGh5ZHJhdGVkRWwgPyBudWxsIDogbmV4dChpbnN0YW5jZS5zdWJUcmVlKSwgc3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKHBsYWNlaG9sZGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgdm5vZGUuZWwpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1bm1vdW50KHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSkge1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5pc1VubW91bnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnQoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnQoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBzdXNwZW5zZTtcclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlU3VzcGVuc2Uobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBoeWRyYXRlTm9kZSkge1xyXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbiAgICBjb25zdCBzdXNwZW5zZSA9ICh2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudFN1c3BlbnNlLCBwYXJlbnRDb21wb25lbnQsIG5vZGUucGFyZW50Tm9kZSwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIG51bGwsIGlzU1ZHLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCB0cnVlIC8qIGh5ZHJhdGluZyAqLykpO1xyXG4gICAgLy8gdGhlcmUgYXJlIHR3byBwb3NzaWJsZSBzY2VuYXJpb3MgZm9yIHNlcnZlci1yZW5kZXJlZCBzdXNwZW5zZTpcclxuICAgIC8vIC0gc3VjY2Vzczogc3NyIGNvbnRlbnQgc2hvdWxkIGJlIGZ1bGx5IHJlc29sdmVkXHJcbiAgICAvLyAtIGZhaWx1cmU6IHNzciBjb250ZW50IHNob3VsZCBiZSB0aGUgZmFsbGJhY2sgYnJhbmNoLlxyXG4gICAgLy8gaG93ZXZlciwgb24gdGhlIGNsaWVudCB3ZSBkb24ndCByZWFsbHkga25vdyBpZiBpdCBoYXMgZmFpbGVkIG9yIG5vdFxyXG4gICAgLy8gYXR0ZW1wdCB0byBoeWRyYXRlIHRoZSBET00gYXNzdW1pbmcgaXQgaGFzIHN1Y2NlZWRlZCwgYnV0IHdlIHN0aWxsXHJcbiAgICAvLyBuZWVkIHRvIGNvbnN0cnVjdCBhIHN1c3BlbnNlIGJvdW5kYXJ5IGZpcnN0XHJcbiAgICBjb25zdCByZXN1bHQgPSBoeWRyYXRlTm9kZShub2RlLCAoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCksIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIG9wdGltaXplZCk7XHJcbiAgICBpZiAoc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xyXG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN1c3BlbnNlQ2hpbGRyZW4odm5vZGUpIHtcclxuICAgIGNvbnN0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiB9ID0gdm5vZGU7XHJcbiAgICBsZXQgY29udGVudDtcclxuICAgIGxldCBmYWxsYmFjaztcclxuICAgIGlmIChzaGFwZUZsYWcgJiAzMiAvKiBTTE9UU19DSElMRFJFTiAqLykge1xyXG4gICAgICAgIGNvbnRlbnQgPSBub3JtYWxpemVTdXNwZW5zZVNsb3QoY2hpbGRyZW4uZGVmYXVsdCk7XHJcbiAgICAgICAgZmFsbGJhY2sgPSBub3JtYWxpemVTdXNwZW5zZVNsb3QoY2hpbGRyZW4uZmFsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29udGVudCA9IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChjaGlsZHJlbik7XHJcbiAgICAgICAgZmFsbGJhY2sgPSBub3JtYWxpemVWTm9kZShudWxsKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY29udGVudCxcclxuICAgICAgICBmYWxsYmFja1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZVNsb3Qocykge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24ocykpIHtcclxuICAgICAgICBzID0gcygpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQXJyYXkocykpIHtcclxuICAgICAgICBjb25zdCBzaW5nbGVDaGlsZCA9IGZpbHRlclNpbmdsZVJvb3Qocyk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhc2luZ2xlQ2hpbGQpIHtcclxuICAgICAgICAgICAgd2FybihgPFN1c3BlbnNlPiBzbG90cyBleHBlY3QgYSBzaW5nbGUgcm9vdCBub2RlLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzID0gc2luZ2xlQ2hpbGQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbm9ybWFsaXplVk5vZGUocyk7XHJcbn1cclxuZnVuY3Rpb24gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UoZm4sIHN1c3BlbnNlKSB7XHJcbiAgICBpZiAoc3VzcGVuc2UgJiYgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgIGlmIChpc0FycmF5KGZuKSkge1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goLi4uZm4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKGZuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGZuKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIGJyYW5jaCkge1xyXG4gICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gYnJhbmNoO1xyXG4gICAgY29uc3QgeyB2bm9kZSwgcGFyZW50Q29tcG9uZW50IH0gPSBzdXNwZW5zZTtcclxuICAgIGNvbnN0IGVsID0gKHZub2RlLmVsID0gYnJhbmNoLmVsKTtcclxuICAgIC8vIGluIGNhc2Ugc3VzcGVuc2UgaXMgdGhlIHJvb3Qgbm9kZSBvZiBhIGNvbXBvbmVudCxcclxuICAgIC8vIHJlY3Vyc2l2ZWx5IHVwZGF0ZSB0aGUgSE9DIGVsXHJcbiAgICBpZiAocGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC5zdWJUcmVlID09PSB2bm9kZSkge1xyXG4gICAgICAgIHBhcmVudENvbXBvbmVudC52bm9kZS5lbCA9IGVsO1xyXG4gICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChwYXJlbnRDb21wb25lbnQsIGVsKTtcclxuICAgIH1cclxufVxuXG5sZXQgaXNSZW5kZXJpbmdDb21waWxlZFNsb3QgPSAwO1xyXG5jb25zdCBzZXRDb21waWxlZFNsb3RSZW5kZXJpbmcgPSAobikgPT4gKGlzUmVuZGVyaW5nQ29tcGlsZWRTbG90ICs9IG4pO1xyXG4vKipcclxuICogQ29tcGlsZXIgcnVudGltZSBoZWxwZXIgZm9yIHJlbmRlcmluZyBgPHNsb3QvPmBcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHJlbmRlclNsb3Qoc2xvdHMsIG5hbWUsIHByb3BzID0ge30sIFxyXG4vLyB0aGlzIGlzIG5vdCBhIHVzZXItZmFjaW5nIGZ1bmN0aW9uLCBzbyB0aGUgZmFsbGJhY2sgaXMgYWx3YXlzIGdlbmVyYXRlZCBieVxyXG4vLyB0aGUgY29tcGlsZXIgYW5kIGd1YXJhbnRlZWQgdG8gYmUgYSBmdW5jdGlvbiByZXR1cm5pbmcgYW4gYXJyYXlcclxuZmFsbGJhY2spIHtcclxuICAgIGxldCBzbG90ID0gc2xvdHNbbmFtZV07XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHNsb3QgJiYgc2xvdC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgd2FybihgU1NSLW9wdGltaXplZCBzbG90IGZ1bmN0aW9uIGRldGVjdGVkIGluIGEgbm9uLVNTUi1vcHRpbWl6ZWQgcmVuZGVyIGAgK1xyXG4gICAgICAgICAgICBgZnVuY3Rpb24uIFlvdSBuZWVkIHRvIG1hcmsgdGhpcyBjb21wb25lbnQgd2l0aCAkZHluYW1pYy1zbG90cyBpbiB0aGUgYCArXHJcbiAgICAgICAgICAgIGBwYXJlbnQgdGVtcGxhdGUuYCk7XHJcbiAgICAgICAgc2xvdCA9ICgpID0+IFtdO1xyXG4gICAgfVxyXG4gICAgLy8gYSBjb21waWxlZCBzbG90IGRpc2FibGVzIGJsb2NrIHRyYWNraW5nIGJ5IGRlZmF1bHQgdG8gYXZvaWQgbWFudWFsXHJcbiAgICAvLyBpbnZvY2F0aW9uIGludGVyZmVyaW5nIHdpdGggdGVtcGxhdGUtYmFzZWQgYmxvY2sgdHJhY2tpbmcsIGJ1dCBpblxyXG4gICAgLy8gYHJlbmRlclNsb3RgIHdlIGNhbiBiZSBzdXJlIHRoYXQgaXQncyB0ZW1wbGF0ZS1iYXNlZCBzbyB3ZSBjYW4gZm9yY2VcclxuICAgIC8vIGVuYWJsZSBpdC5cclxuICAgIGlzUmVuZGVyaW5nQ29tcGlsZWRTbG90Kys7XHJcbiAgICBjb25zdCByZW5kZXJlZCA9IChvcGVuQmxvY2soKSxcclxuICAgICAgICBjcmVhdGVCbG9jayhGcmFnbWVudCwgeyBrZXk6IHByb3BzLmtleSB9LCBzbG90ID8gc2xvdChwcm9wcykgOiBmYWxsYmFjayA/IGZhbGxiYWNrKCkgOiBbXSwgc2xvdHMuXyA9PT0gMSAvKiBTVEFCTEUgKi9cclxuICAgICAgICAgICAgPyA2NCAvKiBTVEFCTEVfRlJBR01FTlQgKi9cclxuICAgICAgICAgICAgOiAtMiAvKiBCQUlMICovKSk7XHJcbiAgICBpc1JlbmRlcmluZ0NvbXBpbGVkU2xvdC0tO1xyXG4gICAgcmV0dXJuIHJlbmRlcmVkO1xyXG59XG5cbi8qKlxyXG4gKiBXcmFwIGEgc2xvdCBmdW5jdGlvbiB0byBtZW1vaXplIGN1cnJlbnQgcmVuZGVyaW5nIGluc3RhbmNlXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiB3aXRoQ3R4KGZuLCBjdHggPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcclxuICAgIGlmICghY3R4KVxyXG4gICAgICAgIHJldHVybiBmbjtcclxuICAgIGNvbnN0IHJlbmRlckZuV2l0aENvbnRleHQgPSAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgIC8vIElmIGEgdXNlciBjYWxscyBhIGNvbXBpbGVkIHNsb3QgaW5zaWRlIGEgdGVtcGxhdGUgZXhwcmVzc2lvbiAoIzE3NDUpLCBpdFxyXG4gICAgICAgIC8vIGNhbiBtZXNzIHVwIGJsb2NrIHRyYWNraW5nLCBzbyBieSBkZWZhdWx0IHdlIG5lZWQgdG8gcHVzaCBhIG51bGwgYmxvY2sgdG9cclxuICAgICAgICAvLyBhdm9pZCB0aGF0LiBUaGlzIGlzbid0IG5lY2Vzc2FyeSBpZiByZW5kZXJpbmcgYSBjb21waWxlZCBgPHNsb3Q+YC5cclxuICAgICAgICBpZiAoIWlzUmVuZGVyaW5nQ29tcGlsZWRTbG90KSB7XHJcbiAgICAgICAgICAgIG9wZW5CbG9jayh0cnVlIC8qIG51bGwgYmxvY2sgdGhhdCBkaXNhYmxlcyB0cmFja2luZyAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG93bmVyID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgICAgIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShjdHgpO1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGZuKC4uLmFyZ3MpO1xyXG4gICAgICAgIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShvd25lcik7XHJcbiAgICAgICAgaWYgKCFpc1JlbmRlcmluZ0NvbXBpbGVkU2xvdCkge1xyXG4gICAgICAgICAgICBjbG9zZUJsb2NrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9O1xyXG4gICAgcmVuZGVyRm5XaXRoQ29udGV4dC5fYyA9IHRydWU7XHJcbiAgICByZXR1cm4gcmVuZGVyRm5XaXRoQ29udGV4dDtcclxufVxuXG4vLyBTRkMgc2NvcGVkIHN0eWxlIElEIG1hbmFnZW1lbnQuXHJcbmxldCBjdXJyZW50U2NvcGVJZCA9IG51bGw7XHJcbmNvbnN0IHNjb3BlSWRTdGFjayA9IFtdO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHB1c2hTY29wZUlkKGlkKSB7XHJcbiAgICBzY29wZUlkU3RhY2sucHVzaCgoY3VycmVudFNjb3BlSWQgPSBpZCkpO1xyXG59XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcG9wU2NvcGVJZCgpIHtcclxuICAgIHNjb3BlSWRTdGFjay5wb3AoKTtcclxuICAgIGN1cnJlbnRTY29wZUlkID0gc2NvcGVJZFN0YWNrW3Njb3BlSWRTdGFjay5sZW5ndGggLSAxXSB8fCBudWxsO1xyXG59XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gd2l0aFNjb3BlSWQoaWQpIHtcclxuICAgIHJldHVybiAoKGZuKSA9PiB3aXRoQ3R4KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwdXNoU2NvcGVJZChpZCk7XHJcbiAgICAgICAgY29uc3QgcmVzID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICBwb3BTY29wZUlkKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH0pKTtcclxufVxuXG5mdW5jdGlvbiBpbml0UHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBpc1N0YXRlZnVsLCAvLyByZXN1bHQgb2YgYml0d2lzZSBmbGFnIGNvbXBhcmlzb25cclxuaXNTU1IgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgcHJvcHMgPSB7fTtcclxuICAgIGNvbnN0IGF0dHJzID0ge307XHJcbiAgICBkZWYoYXR0cnMsIEludGVybmFsT2JqZWN0S2V5LCAxKTtcclxuICAgIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycyk7XHJcbiAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgdmFsaWRhdGVQcm9wcyhwcm9wcywgaW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzU3RhdGVmdWwpIHtcclxuICAgICAgICAvLyBzdGF0ZWZ1bFxyXG4gICAgICAgIGluc3RhbmNlLnByb3BzID0gaXNTU1IgPyBwcm9wcyA6IHNoYWxsb3dSZWFjdGl2ZShwcm9wcyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoIWluc3RhbmNlLnR5cGUucHJvcHMpIHtcclxuICAgICAgICAgICAgLy8gZnVuY3Rpb25hbCB3LyBvcHRpb25hbCBwcm9wcywgcHJvcHMgPT09IGF0dHJzXHJcbiAgICAgICAgICAgIGluc3RhbmNlLnByb3BzID0gYXR0cnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBmdW5jdGlvbmFsIHcvIGRlY2xhcmVkIHByb3BzXHJcbiAgICAgICAgICAgIGluc3RhbmNlLnByb3BzID0gcHJvcHM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaW5zdGFuY2UuYXR0cnMgPSBhdHRycztcclxufVxyXG5mdW5jdGlvbiB1cGRhdGVQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHJhd1ByZXZQcm9wcywgb3B0aW1pemVkKSB7XHJcbiAgICBjb25zdCB7IHByb3BzLCBhdHRycywgdm5vZGU6IHsgcGF0Y2hGbGFnIH0gfSA9IGluc3RhbmNlO1xyXG4gICAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xyXG4gICAgY29uc3QgW29wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xyXG4gICAgaWYgKFxyXG4gICAgLy8gYWx3YXlzIGZvcmNlIGZ1bGwgZGlmZiBpbiBkZXZcclxuICAgIC8vIC0gIzE5NDIgaWYgaG1yIGlzIGVuYWJsZWQgd2l0aCBzZmMgY29tcG9uZW50XHJcbiAgICAvLyAtIHZpdGUjODcyIG5vbi1zZmMgY29tcG9uZW50IHVzZWQgYnkgc2ZjIGNvbXBvbmVudFxyXG4gICAgISgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAoaW5zdGFuY2UudHlwZS5fX2htcklkIHx8XHJcbiAgICAgICAgICAgIChpbnN0YW5jZS5wYXJlbnQgJiYgaW5zdGFuY2UucGFyZW50LnR5cGUuX19obXJJZCkpKSAmJlxyXG4gICAgICAgIChvcHRpbWl6ZWQgfHwgcGF0Y2hGbGFnID4gMCkgJiZcclxuICAgICAgICAhKHBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi8pKSB7XHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDggLyogUFJPUFMgKi8pIHtcclxuICAgICAgICAgICAgLy8gQ29tcGlsZXItZ2VuZXJhdGVkIHByb3BzICYgbm8ga2V5cyBjaGFuZ2UsIGp1c3Qgc2V0IHRoZSB1cGRhdGVkXHJcbiAgICAgICAgICAgIC8vIHRoZSBwcm9wcy5cclxuICAgICAgICAgICAgY29uc3QgcHJvcHNUb1VwZGF0ZSA9IGluc3RhbmNlLnZub2RlLmR5bmFtaWNQcm9wcztcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwcm9wc1RvVXBkYXRlW2ldO1xyXG4gICAgICAgICAgICAgICAgLy8gUFJPUFMgZmxhZyBndWFyYW50ZWVzIHJhd1Byb3BzIHRvIGJlIG5vbi1udWxsXHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGF0dHIgLyBwcm9wcyBzZXBhcmF0aW9uIHdhcyBkb25lIG9uIGluaXQgYW5kIHdpbGwgYmUgY29uc2lzdGVudFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHRoaXMgY29kZSBwYXRoLCBzbyBqdXN0IGNoZWNrIGlmIGF0dHJzIGhhdmUgaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc093bihhdHRycywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW1lbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1tjYW1lbGl6ZWRLZXldID0gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCByYXdDdXJyZW50UHJvcHMsIGNhbWVsaXplZEtleSwgdmFsdWUsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBmdWxsIHByb3BzIHVwZGF0ZS5cclxuICAgICAgICBzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpO1xyXG4gICAgICAgIC8vIGluIGNhc2Ugb2YgZHluYW1pYyBwcm9wcywgY2hlY2sgaWYgd2UgbmVlZCB0byBkZWxldGUga2V5cyBmcm9tXHJcbiAgICAgICAgLy8gdGhlIHByb3BzIG9iamVjdFxyXG4gICAgICAgIGxldCBrZWJhYktleTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdDdXJyZW50UHJvcHMpIHtcclxuICAgICAgICAgICAgaWYgKCFyYXdQcm9wcyB8fFxyXG4gICAgICAgICAgICAgICAgLy8gZm9yIGNhbWVsQ2FzZVxyXG4gICAgICAgICAgICAgICAgKCFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoZSBvcmlnaW5hbCBwcm9wcyB3YXMgcGFzc2VkIGluIGFzIGtlYmFiLWNhc2VcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgY29udmVydGVkIHRvIGNhbWVsQ2FzZSAoIzk1NSlcclxuICAgICAgICAgICAgICAgICAgICAoKGtlYmFiS2V5ID0gaHlwaGVuYXRlKGtleSkpID09PSBrZXkgfHwgIWhhc093bihyYXdQcm9wcywga2ViYWJLZXkpKSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd1ByZXZQcm9wcyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgY2FtZWxDYXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChyYXdQcmV2UHJvcHNba2V5XSAhPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3Iga2ViYWItY2FzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3UHJldlByb3BzW2tlYmFiS2V5XSAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCByYXdQcm9wcyB8fCBFTVBUWV9PQkosIGtleSwgdW5kZWZpbmVkLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW4gdGhlIGNhc2Ugb2YgZnVuY3Rpb25hbCBjb21wb25lbnQgdy9vIHByb3BzIGRlY2xhcmF0aW9uLCBwcm9wcyBhbmRcclxuICAgICAgICAvLyBhdHRycyBwb2ludCB0byB0aGUgc2FtZSBvYmplY3Qgc28gaXQgc2hvdWxkIGFscmVhZHkgaGF2ZSBiZWVuIHVwZGF0ZWQuXHJcbiAgICAgICAgaWYgKGF0dHJzICE9PSByYXdDdXJyZW50UHJvcHMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcmF3UHJvcHMgfHwgIWhhc093bihyYXdQcm9wcywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRyc1trZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gdHJpZ2dlciB1cGRhdGVzIGZvciAkYXR0cnMgaW4gY2FzZSBpdCdzIHVzZWQgaW4gY29tcG9uZW50IHNsb3RzXHJcbiAgICB0cmlnZ2VyKGluc3RhbmNlLCBcInNldFwiIC8qIFNFVCAqLywgJyRhdHRycycpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiByYXdQcm9wcykge1xyXG4gICAgICAgIHZhbGlkYXRlUHJvcHMocHJvcHMsIGluc3RhbmNlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpIHtcclxuICAgIGNvbnN0IFtvcHRpb25zLCBuZWVkQ2FzdEtleXNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xyXG4gICAgaWYgKHJhd1Byb3BzKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmF3UHJvcHMpIHtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByYXdQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAvLyBrZXksIHJlZiBhcmUgcmVzZXJ2ZWQgYW5kIG5ldmVyIHBhc3NlZCBkb3duXHJcbiAgICAgICAgICAgIGlmIChpc1Jlc2VydmVkUHJvcChrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBwcm9wIG9wdGlvbiBuYW1lcyBhcmUgY2FtZWxpemVkIGR1cmluZyBub3JtYWxpemF0aW9uLCBzbyB0byBzdXBwb3J0XHJcbiAgICAgICAgICAgIC8vIGtlYmFiIC0+IGNhbWVsIGNvbnZlcnNpb24gaGVyZSB3ZSBuZWVkIHRvIGNhbWVsaXplIHRoZSBrZXkuXHJcbiAgICAgICAgICAgIGxldCBjYW1lbEtleTtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgaGFzT3duKG9wdGlvbnMsIChjYW1lbEtleSA9IGNhbWVsaXplKGtleSkpKSkge1xyXG4gICAgICAgICAgICAgICAgcHJvcHNbY2FtZWxLZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzRW1pdExpc3RlbmVyKGluc3RhbmNlLmVtaXRzT3B0aW9ucywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQW55IG5vbi1kZWNsYXJlZCAoZWl0aGVyIGFzIGEgcHJvcCBvciBhbiBlbWl0dGVkIGV2ZW50KSBwcm9wcyBhcmUgcHV0XHJcbiAgICAgICAgICAgICAgICAvLyBpbnRvIGEgc2VwYXJhdGUgYGF0dHJzYCBvYmplY3QgZm9yIHNwcmVhZGluZy4gTWFrZSBzdXJlIHRvIHByZXNlcnZlXHJcbiAgICAgICAgICAgICAgICAvLyBvcmlnaW5hbCBrZXkgY2FzaW5nXHJcbiAgICAgICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobmVlZENhc3RLZXlzKSB7XHJcbiAgICAgICAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVlZENhc3RLZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IG5lZWRDYXN0S2V5c1tpXTtcclxuICAgICAgICAgICAgcHJvcHNba2V5XSA9IHJlc29sdmVQcm9wVmFsdWUob3B0aW9ucywgcmF3Q3VycmVudFByb3BzLCBrZXksIHJhd0N1cnJlbnRQcm9wc1trZXldLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmVQcm9wVmFsdWUob3B0aW9ucywgcHJvcHMsIGtleSwgdmFsdWUsIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBvcHQgPSBvcHRpb25zW2tleV07XHJcbiAgICBpZiAob3B0ICE9IG51bGwpIHtcclxuICAgICAgICBjb25zdCBoYXNEZWZhdWx0ID0gaGFzT3duKG9wdCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICAvLyBkZWZhdWx0IHZhbHVlc1xyXG4gICAgICAgIGlmIChoYXNEZWZhdWx0ICYmIHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHQ7XHJcbiAgICAgICAgICAgIGlmIChvcHQudHlwZSAhPT0gRnVuY3Rpb24gJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWUocHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYm9vbGVhbiBjYXN0aW5nXHJcbiAgICAgICAgaWYgKG9wdFswIC8qIHNob3VsZENhc3QgKi9dKSB7XHJcbiAgICAgICAgICAgIGlmICghaGFzT3duKHByb3BzLCBrZXkpICYmICFoYXNEZWZhdWx0KSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdFsxIC8qIHNob3VsZENhc3RUcnVlICovXSAmJlxyXG4gICAgICAgICAgICAgICAgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gaHlwaGVuYXRlKGtleSkpKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHNPcHRpb25zKGNvbXAsIGFwcENvbnRleHQsIGFzTWl4aW4gPSBmYWxzZSkge1xyXG4gICAgaWYgKCFhcHBDb250ZXh0LmRlb3B0ICYmIGNvbXAuX19wcm9wcykge1xyXG4gICAgICAgIHJldHVybiBjb21wLl9fcHJvcHM7XHJcbiAgICB9XHJcbiAgICBjb25zdCByYXcgPSBjb21wLnByb3BzO1xyXG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IHt9O1xyXG4gICAgY29uc3QgbmVlZENhc3RLZXlzID0gW107XHJcbiAgICAvLyBhcHBseSBtaXhpbi9leHRlbmRzIHByb3BzXHJcbiAgICBsZXQgaGFzRXh0ZW5kcyA9IGZhbHNlO1xyXG4gICAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcclxuICAgICAgICBjb25zdCBleHRlbmRQcm9wcyA9IChyYXcpID0+IHtcclxuICAgICAgICAgICAgaGFzRXh0ZW5kcyA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnN0IFtwcm9wcywga2V5c10gPSBub3JtYWxpemVQcm9wc09wdGlvbnMocmF3LCBhcHBDb250ZXh0LCB0cnVlKTtcclxuICAgICAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIHByb3BzKTtcclxuICAgICAgICAgICAgaWYgKGtleXMpXHJcbiAgICAgICAgICAgICAgICBuZWVkQ2FzdEtleXMucHVzaCguLi5rZXlzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICghYXNNaXhpbiAmJiBhcHBDb250ZXh0Lm1peGlucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgYXBwQ29udGV4dC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb21wLmV4dGVuZHMpIHtcclxuICAgICAgICAgICAgZXh0ZW5kUHJvcHMoY29tcC5leHRlbmRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbXAubWl4aW5zKSB7XHJcbiAgICAgICAgICAgIGNvbXAubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghcmF3ICYmICFoYXNFeHRlbmRzKSB7XHJcbiAgICAgICAgcmV0dXJuIChjb21wLl9fcHJvcHMgPSBFTVBUWV9BUlIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQXJyYXkocmF3KSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzU3RyaW5nKHJhd1tpXSkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYHByb3BzIG11c3QgYmUgc3RyaW5ncyB3aGVuIHVzaW5nIGFycmF5IHN5bnRheC5gLCByYXdbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBjYW1lbGl6ZShyYXdbaV0pO1xyXG4gICAgICAgICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFtub3JtYWxpemVkS2V5XSA9IEVNUFRZX09CSjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHJhdykge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzT2JqZWN0KHJhdykpIHtcclxuICAgICAgICAgICAgd2FybihgaW52YWxpZCBwcm9wcyBvcHRpb25zYCwgcmF3KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmF3KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xyXG4gICAgICAgICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0ID0gcmF3W2tleV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wID0gKG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPVxyXG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXkob3B0KSB8fCBpc0Z1bmN0aW9uKG9wdCkgPyB7IHR5cGU6IG9wdCB9IDogb3B0KTtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9vbGVhbkluZGV4ID0gZ2V0VHlwZUluZGV4KEJvb2xlYW4sIHByb3AudHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5nSW5kZXggPSBnZXRUeXBlSW5kZXgoU3RyaW5nLCBwcm9wLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BbMCAvKiBzaG91bGRDYXN0ICovXSA9IGJvb2xlYW5JbmRleCA+IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BbMSAvKiBzaG91bGRDYXN0VHJ1ZSAqL10gPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmdJbmRleCA8IDAgfHwgYm9vbGVhbkluZGV4IDwgc3RyaW5nSW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHByb3AgbmVlZHMgYm9vbGVhbiBjYXN0aW5nIG9yIGRlZmF1bHQgdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYm9vbGVhbkluZGV4ID4gLTEgfHwgaGFzT3duKHByb3AsICdkZWZhdWx0JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmVlZENhc3RLZXlzLnB1c2gobm9ybWFsaXplZEtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIChjb21wLl9fcHJvcHMgPSBbbm9ybWFsaXplZCwgbmVlZENhc3RLZXlzXSk7XHJcbn1cclxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wTmFtZShrZXkpIHtcclxuICAgIGlmIChrZXlbMF0gIT09ICckJykge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgSW52YWxpZCBwcm9wIG5hbWU6IFwiJHtrZXl9XCIgaXMgYSByZXNlcnZlZCBwcm9wZXJ0eS5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG4vLyB1c2UgZnVuY3Rpb24gc3RyaW5nIG5hbWUgdG8gY2hlY2sgdHlwZSBjb25zdHJ1Y3RvcnNcclxuLy8gc28gdGhhdCBpdCB3b3JrcyBhY3Jvc3Mgdm1zIC8gaWZyYW1lcy5cclxuZnVuY3Rpb24gZ2V0VHlwZShjdG9yKSB7XHJcbiAgICBjb25zdCBtYXRjaCA9IGN0b3IgJiYgY3Rvci50b1N0cmluZygpLm1hdGNoKC9eXFxzKmZ1bmN0aW9uIChcXHcrKS8pO1xyXG4gICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0gOiAnJztcclxufVxyXG5mdW5jdGlvbiBpc1NhbWVUeXBlKGEsIGIpIHtcclxuICAgIHJldHVybiBnZXRUeXBlKGEpID09PSBnZXRUeXBlKGIpO1xyXG59XHJcbmZ1bmN0aW9uIGdldFR5cGVJbmRleCh0eXBlLCBleHBlY3RlZFR5cGVzKSB7XHJcbiAgICBpZiAoaXNBcnJheShleHBlY3RlZFR5cGVzKSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBleHBlY3RlZFR5cGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1NhbWVUeXBlKGV4cGVjdGVkVHlwZXNbaV0sIHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oZXhwZWN0ZWRUeXBlcykpIHtcclxuICAgICAgICByZXR1cm4gaXNTYW1lVHlwZShleHBlY3RlZFR5cGVzLCB0eXBlKSA/IDAgOiAtMTtcclxuICAgIH1cclxuICAgIHJldHVybiAtMTtcclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMocHJvcHMsIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCByYXdWYWx1ZXMgPSB0b1Jhdyhwcm9wcyk7XHJcbiAgICBjb25zdCBvcHRpb25zID0gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdO1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucykge1xyXG4gICAgICAgIGxldCBvcHQgPSBvcHRpb25zW2tleV07XHJcbiAgICAgICAgaWYgKG9wdCA9PSBudWxsKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB2YWxpZGF0ZVByb3Aoa2V5LCByYXdWYWx1ZXNba2V5XSwgb3B0LCAhaGFzT3duKHJhd1ZhbHVlcywga2V5KSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3AobmFtZSwgdmFsdWUsIHByb3AsIGlzQWJzZW50KSB7XHJcbiAgICBjb25zdCB7IHR5cGUsIHJlcXVpcmVkLCB2YWxpZGF0b3IgfSA9IHByb3A7XHJcbiAgICAvLyByZXF1aXJlZCFcclxuICAgIGlmIChyZXF1aXJlZCAmJiBpc0Fic2VudCkge1xyXG4gICAgICAgIHdhcm4oJ01pc3NpbmcgcmVxdWlyZWQgcHJvcDogXCInICsgbmFtZSArICdcIicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIG1pc3NpbmcgYnV0IG9wdGlvbmFsXHJcbiAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcHJvcC5yZXF1aXJlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIHR5cGUgY2hlY2tcclxuICAgIGlmICh0eXBlICE9IG51bGwgJiYgdHlwZSAhPT0gdHJ1ZSkge1xyXG4gICAgICAgIGxldCBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgdHlwZXMgPSBpc0FycmF5KHR5cGUpID8gdHlwZSA6IFt0eXBlXTtcclxuICAgICAgICBjb25zdCBleHBlY3RlZFR5cGVzID0gW107XHJcbiAgICAgICAgLy8gdmFsdWUgaXMgdmFsaWQgYXMgbG9uZyBhcyBvbmUgb2YgdGhlIHNwZWNpZmllZCB0eXBlcyBtYXRjaFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoICYmICFpc1ZhbGlkOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgeyB2YWxpZCwgZXhwZWN0ZWRUeXBlIH0gPSBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlc1tpXSk7XHJcbiAgICAgICAgICAgIGV4cGVjdGVkVHlwZXMucHVzaChleHBlY3RlZFR5cGUgfHwgJycpO1xyXG4gICAgICAgICAgICBpc1ZhbGlkID0gdmFsaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaXNWYWxpZCkge1xyXG4gICAgICAgICAgICB3YXJuKGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gY3VzdG9tIHZhbGlkYXRvclxyXG4gICAgaWYgKHZhbGlkYXRvciAmJiAhdmFsaWRhdG9yKHZhbHVlKSkge1xyXG4gICAgICAgIHdhcm4oJ0ludmFsaWQgcHJvcDogY3VzdG9tIHZhbGlkYXRvciBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCInICsgbmFtZSArICdcIi4nKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBpc1NpbXBsZVR5cGUgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ1N0cmluZyxOdW1iZXIsQm9vbGVhbixGdW5jdGlvbixTeW1ib2wnKTtcclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlKSB7XHJcbiAgICBsZXQgdmFsaWQ7XHJcbiAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBnZXRUeXBlKHR5cGUpO1xyXG4gICAgaWYgKGlzU2ltcGxlVHlwZShleHBlY3RlZFR5cGUpKSB7XHJcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiB2YWx1ZTtcclxuICAgICAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIC8vIGZvciBwcmltaXRpdmUgd3JhcHBlciBvYmplY3RzXHJcbiAgICAgICAgaWYgKCF2YWxpZCAmJiB0ID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdPYmplY3QnKSB7XHJcbiAgICAgICAgdmFsaWQgPSBpc09iamVjdCh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdBcnJheScpIHtcclxuICAgICAgICB2YWxpZCA9IGlzQXJyYXkodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHZhbGlkLFxyXG4gICAgICAgIGV4cGVjdGVkVHlwZVxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykge1xyXG4gICAgbGV0IG1lc3NhZ2UgPSBgSW52YWxpZCBwcm9wOiB0eXBlIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIiR7bmFtZX1cIi5gICtcclxuICAgICAgICBgIEV4cGVjdGVkICR7ZXhwZWN0ZWRUeXBlcy5tYXAoY2FwaXRhbGl6ZSkuam9pbignLCAnKX1gO1xyXG4gICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZXhwZWN0ZWRUeXBlc1swXTtcclxuICAgIGNvbnN0IHJlY2VpdmVkVHlwZSA9IHRvUmF3VHlwZSh2YWx1ZSk7XHJcbiAgICBjb25zdCBleHBlY3RlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgZXhwZWN0ZWRUeXBlKTtcclxuICAgIGNvbnN0IHJlY2VpdmVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCByZWNlaXZlZFR5cGUpO1xyXG4gICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBzcGVjaWZ5IGV4cGVjdGVkIHZhbHVlXHJcbiAgICBpZiAoZXhwZWN0ZWRUeXBlcy5sZW5ndGggPT09IDEgJiZcclxuICAgICAgICBpc0V4cGxpY2FibGUoZXhwZWN0ZWRUeXBlKSAmJlxyXG4gICAgICAgICFpc0Jvb2xlYW4oZXhwZWN0ZWRUeXBlLCByZWNlaXZlZFR5cGUpKSB7XHJcbiAgICAgICAgbWVzc2FnZSArPSBgIHdpdGggdmFsdWUgJHtleHBlY3RlZFZhbHVlfWA7XHJcbiAgICB9XHJcbiAgICBtZXNzYWdlICs9IGAsIGdvdCAke3JlY2VpdmVkVHlwZX0gYDtcclxuICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gc3BlY2lmeSByZWNlaXZlZCB2YWx1ZVxyXG4gICAgaWYgKGlzRXhwbGljYWJsZShyZWNlaXZlZFR5cGUpKSB7XHJcbiAgICAgICAgbWVzc2FnZSArPSBgd2l0aCB2YWx1ZSAke3JlY2VpdmVkVmFsdWV9LmA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWVzc2FnZTtcclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIHN0eWxlVmFsdWUodmFsdWUsIHR5cGUpIHtcclxuICAgIGlmICh0eXBlID09PSAnU3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiBgXCIke3ZhbHVlfVwiYDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdOdW1iZXInKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke051bWJlcih2YWx1ZSl9YDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBgJHt2YWx1ZX1gO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gaXNFeHBsaWNhYmxlKHR5cGUpIHtcclxuICAgIGNvbnN0IGV4cGxpY2l0VHlwZXMgPSBbJ3N0cmluZycsICdudW1iZXInLCAnYm9vbGVhbiddO1xyXG4gICAgcmV0dXJuIGV4cGxpY2l0VHlwZXMuc29tZShlbGVtID0+IHR5cGUudG9Mb3dlckNhc2UoKSA9PT0gZWxlbSk7XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0Jvb2xlYW4oLi4uYXJncykge1xyXG4gICAgcmV0dXJuIGFyZ3Muc29tZShlbGVtID0+IGVsZW0udG9Mb3dlckNhc2UoKSA9PT0gJ2Jvb2xlYW4nKTtcclxufVxuXG5mdW5jdGlvbiBpbmplY3RIb29rKHR5cGUsIGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSwgcHJlcGVuZCA9IGZhbHNlKSB7XHJcbiAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgY29uc3QgaG9va3MgPSB0YXJnZXRbdHlwZV0gfHwgKHRhcmdldFt0eXBlXSA9IFtdKTtcclxuICAgICAgICAvLyBjYWNoZSB0aGUgZXJyb3IgaGFuZGxpbmcgd3JhcHBlciBmb3IgaW5qZWN0ZWQgaG9va3Mgc28gdGhlIHNhbWUgaG9va1xyXG4gICAgICAgIC8vIGNhbiBiZSBwcm9wZXJseSBkZWR1cGVkIGJ5IHRoZSBzY2hlZHVsZXIuIFwiX193ZWhcIiBzdGFuZHMgZm9yIFwid2l0aCBlcnJvclxyXG4gICAgICAgIC8vIGhhbmRsaW5nXCIuXHJcbiAgICAgICAgY29uc3Qgd3JhcHBlZEhvb2sgPSBob29rLl9fd2VoIHx8XHJcbiAgICAgICAgICAgIChob29rLl9fd2VoID0gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaXNVbm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIHRyYWNraW5nIGluc2lkZSBhbGwgbGlmZWN5Y2xlIGhvb2tzXHJcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGNhbiBwb3RlbnRpYWxseSBiZSBjYWxsZWQgaW5zaWRlIGVmZmVjdHMuXHJcbiAgICAgICAgICAgICAgICBwYXVzZVRyYWNraW5nKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgY3VycmVudEluc3RhbmNlIGR1cmluZyBob29rIGludm9jYXRpb24uXHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGFzc3VtZXMgdGhlIGhvb2sgZG9lcyBub3Qgc3luY2hyb25vdXNseSB0cmlnZ2VyIG90aGVyIGhvb2tzLCB3aGljaFxyXG4gICAgICAgICAgICAgICAgLy8gY2FuIG9ubHkgYmUgZmFsc2Ugd2hlbiB0aGUgdXNlciBkb2VzIHNvbWV0aGluZyByZWFsbHkgZnVua3kuXHJcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UodGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIHRhcmdldCwgdHlwZSwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UobnVsbCk7XHJcbiAgICAgICAgICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBpZiAocHJlcGVuZCkge1xyXG4gICAgICAgICAgICBob29rcy51bnNoaWZ0KHdyYXBwZWRIb29rKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhvb2tzLnB1c2god3JhcHBlZEhvb2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd3JhcHBlZEhvb2s7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCBhcGlOYW1lID0gdG9IYW5kbGVyS2V5KEVycm9yVHlwZVN0cmluZ3NbdHlwZV0ucmVwbGFjZSgvIGhvb2skLywgJycpKTtcclxuICAgICAgICB3YXJuKGAke2FwaU5hbWV9IGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgYCArXHJcbiAgICAgICAgICAgIGBhc3NvY2lhdGVkIHdpdGguIGAgK1xyXG4gICAgICAgICAgICBgTGlmZWN5Y2xlIGluamVjdGlvbiBBUElzIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGV4ZWN1dGlvbiBvZiBzZXR1cCgpLmAgK1xyXG4gICAgICAgICAgICAoIGAgSWYgeW91IGFyZSB1c2luZyBhc3luYyBzZXR1cCgpLCBtYWtlIHN1cmUgdG8gcmVnaXN0ZXIgbGlmZWN5Y2xlIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBob29rcyBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0IHN0YXRlbWVudC5gXHJcbiAgICAgICAgICAgICAgICApKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBjcmVhdGVIb29rID0gKGxpZmVjeWNsZSkgPT4gKGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkgPT4gXHJcbi8vIHBvc3QtY3JlYXRlIGxpZmVjeWNsZSByZWdpc3RyYXRpb25zIGFyZSBub29wcyBkdXJpbmcgU1NSXHJcbiFpc0luU1NSQ29tcG9uZW50U2V0dXAgJiYgaW5qZWN0SG9vayhsaWZlY3ljbGUsIGhvb2ssIHRhcmdldCk7XHJcbmNvbnN0IG9uQmVmb3JlTW91bnQgPSBjcmVhdGVIb29rKFwiYm1cIiAvKiBCRUZPUkVfTU9VTlQgKi8pO1xyXG5jb25zdCBvbk1vdW50ZWQgPSBjcmVhdGVIb29rKFwibVwiIC8qIE1PVU5URUQgKi8pO1xyXG5jb25zdCBvbkJlZm9yZVVwZGF0ZSA9IGNyZWF0ZUhvb2soXCJidVwiIC8qIEJFRk9SRV9VUERBVEUgKi8pO1xyXG5jb25zdCBvblVwZGF0ZWQgPSBjcmVhdGVIb29rKFwidVwiIC8qIFVQREFURUQgKi8pO1xyXG5jb25zdCBvbkJlZm9yZVVubW91bnQgPSBjcmVhdGVIb29rKFwiYnVtXCIgLyogQkVGT1JFX1VOTU9VTlQgKi8pO1xyXG5jb25zdCBvblVubW91bnRlZCA9IGNyZWF0ZUhvb2soXCJ1bVwiIC8qIFVOTU9VTlRFRCAqLyk7XHJcbmNvbnN0IG9uUmVuZGVyVHJpZ2dlcmVkID0gY3JlYXRlSG9vayhcInJ0Z1wiIC8qIFJFTkRFUl9UUklHR0VSRUQgKi8pO1xyXG5jb25zdCBvblJlbmRlclRyYWNrZWQgPSBjcmVhdGVIb29rKFwicnRjXCIgLyogUkVOREVSX1RSQUNLRUQgKi8pO1xyXG5jb25zdCBvbkVycm9yQ2FwdHVyZWQgPSAoaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSA9PiB7XHJcbiAgICBpbmplY3RIb29rKFwiZWNcIiAvKiBFUlJPUl9DQVBUVVJFRCAqLywgaG9vaywgdGFyZ2V0KTtcclxufTtcblxuLy8gU2ltcGxlIGVmZmVjdC5cclxuZnVuY3Rpb24gd2F0Y2hFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gZG9XYXRjaChlZmZlY3QsIG51bGwsIG9wdGlvbnMpO1xyXG59XHJcbi8vIGluaXRpYWwgdmFsdWUgZm9yIHdhdGNoZXJzIHRvIHRyaWdnZXIgb24gdW5kZWZpbmVkIGluaXRpYWwgdmFsdWVzXHJcbmNvbnN0IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA9IHt9O1xyXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0Z1bmN0aW9uKGNiKSkge1xyXG4gICAgICAgIHdhcm4oYFxcYHdhdGNoKGZuLCBvcHRpb25zPylcXGAgc2lnbmF0dXJlIGhhcyBiZWVuIG1vdmVkIHRvIGEgc2VwYXJhdGUgQVBJLiBgICtcclxuICAgICAgICAgICAgYFVzZSBcXGB3YXRjaEVmZmVjdChmbiwgb3B0aW9ucz8pXFxgIGluc3RlYWQuIFxcYHdhdGNoXFxgIG5vdyBvbmx5IGAgK1xyXG4gICAgICAgICAgICBgc3VwcG9ydHMgXFxgd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucz8pIHNpZ25hdHVyZS5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkb1dhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpO1xyXG59XHJcbmZ1bmN0aW9uIGRvV2F0Y2goc291cmNlLCBjYiwgeyBpbW1lZGlhdGUsIGRlZXAsIGZsdXNoLCBvblRyYWNrLCBvblRyaWdnZXIgfSA9IEVNUFRZX09CSiwgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWNiKSB7XHJcbiAgICAgICAgaWYgKGltbWVkaWF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYHdhdGNoKCkgXCJpbW1lZGlhdGVcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgYCArXHJcbiAgICAgICAgICAgICAgICBgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRlZXAgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB3YXJuKGB3YXRjaCgpIFwiZGVlcFwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSBgICtcclxuICAgICAgICAgICAgICAgIGB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHdhcm5JbnZhbGlkU291cmNlID0gKHMpID0+IHtcclxuICAgICAgICB3YXJuKGBJbnZhbGlkIHdhdGNoIHNvdXJjZTogYCwgcywgYEEgd2F0Y2ggc291cmNlIGNhbiBvbmx5IGJlIGEgZ2V0dGVyL2VmZmVjdCBmdW5jdGlvbiwgYSByZWYsIGAgK1xyXG4gICAgICAgICAgICBgYSByZWFjdGl2ZSBvYmplY3QsIG9yIGFuIGFycmF5IG9mIHRoZXNlIHR5cGVzLmApO1xyXG4gICAgfTtcclxuICAgIGxldCBnZXR0ZXI7XHJcbiAgICBsZXQgZm9yY2VUcmlnZ2VyID0gZmFsc2U7XHJcbiAgICBpZiAoaXNSZWYoc291cmNlKSkge1xyXG4gICAgICAgIGdldHRlciA9ICgpID0+IHNvdXJjZS52YWx1ZTtcclxuICAgICAgICBmb3JjZVRyaWdnZXIgPSAhIXNvdXJjZS5fc2hhbGxvdztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUoc291cmNlKSkge1xyXG4gICAgICAgIGdldHRlciA9ICgpID0+IHNvdXJjZTtcclxuICAgICAgICBkZWVwID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzQXJyYXkoc291cmNlKSkge1xyXG4gICAgICAgIGdldHRlciA9ICgpID0+IHNvdXJjZS5tYXAocyA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpc1JlZihzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHMudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWFjdGl2ZShzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYXZlcnNlKHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsV2l0aEVycm9ySGFuZGxpbmcocywgaW5zdGFuY2UsIDIgLyogV0FUQ0hfR0VUVEVSICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XHJcbiAgICAgICAgaWYgKGNiKSB7XHJcbiAgICAgICAgICAgIC8vIGdldHRlciB3aXRoIGNiXHJcbiAgICAgICAgICAgIGdldHRlciA9ICgpID0+IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzb3VyY2UsIGluc3RhbmNlLCAyIC8qIFdBVENIX0dFVFRFUiAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBubyBjYiAtPiBzaW1wbGUgZWZmZWN0XHJcbiAgICAgICAgICAgIGdldHRlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5pc1VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjbGVhbnVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYW51cCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzb3VyY2UsIGluc3RhbmNlLCAzIC8qIFdBVENIX0NBTExCQUNLICovLCBbb25JbnZhbGlkYXRlXSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2V0dGVyID0gTk9PUDtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybkludmFsaWRTb3VyY2Uoc291cmNlKTtcclxuICAgIH1cclxuICAgIGlmIChjYiAmJiBkZWVwKSB7XHJcbiAgICAgICAgY29uc3QgYmFzZUdldHRlciA9IGdldHRlcjtcclxuICAgICAgICBnZXR0ZXIgPSAoKSA9PiB0cmF2ZXJzZShiYXNlR2V0dGVyKCkpO1xyXG4gICAgfVxyXG4gICAgbGV0IGNsZWFudXA7XHJcbiAgICBjb25zdCBvbkludmFsaWRhdGUgPSAoZm4pID0+IHtcclxuICAgICAgICBjbGVhbnVwID0gcnVubmVyLm9wdGlvbnMub25TdG9wID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCA0IC8qIFdBVENIX0NMRUFOVVAgKi8pO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgbGV0IG9sZFZhbHVlID0gaXNBcnJheShzb3VyY2UpID8gW10gOiBJTklUSUFMX1dBVENIRVJfVkFMVUU7XHJcbiAgICBjb25zdCBqb2IgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFydW5uZXIuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNiKSB7XHJcbiAgICAgICAgICAgIC8vIHdhdGNoKHNvdXJjZSwgY2IpXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gcnVubmVyKCk7XHJcbiAgICAgICAgICAgIGlmIChkZWVwIHx8IGZvcmNlVHJpZ2dlciB8fCBoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNsZWFudXAgYmVmb3JlIHJ1bm5pbmcgY2IgYWdhaW5cclxuICAgICAgICAgICAgICAgIGlmIChjbGVhbnVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYW51cCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoY2IsIGluc3RhbmNlLCAzIC8qIFdBVENIX0NBTExCQUNLICovLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFzcyB1bmRlZmluZWQgYXMgdGhlIG9sZCB2YWx1ZSB3aGVuIGl0J3MgY2hhbmdlZCBmb3IgdGhlIGZpcnN0IHRpbWVcclxuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9PT0gSU5JVElBTF9XQVRDSEVSX1ZBTFVFID8gdW5kZWZpbmVkIDogb2xkVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgb25JbnZhbGlkYXRlXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHdhdGNoRWZmZWN0XHJcbiAgICAgICAgICAgIHJ1bm5lcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBpbXBvcnRhbnQ6IG1hcmsgdGhlIGpvYiBhcyBhIHdhdGNoZXIgY2FsbGJhY2sgc28gdGhhdCBzY2hlZHVsZXIga25vd3NcclxuICAgIC8vIGl0IGlzIGFsbG93ZWQgdG8gc2VsZi10cmlnZ2VyICgjMTcyNylcclxuICAgIGpvYi5hbGxvd1JlY3Vyc2UgPSAhIWNiO1xyXG4gICAgbGV0IHNjaGVkdWxlcjtcclxuICAgIGlmIChmbHVzaCA9PT0gJ3N5bmMnKSB7XHJcbiAgICAgICAgc2NoZWR1bGVyID0gam9iO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmx1c2ggPT09ICdwb3N0Jykge1xyXG4gICAgICAgIHNjaGVkdWxlciA9ICgpID0+IHF1ZXVlUG9zdFJlbmRlckVmZmVjdChqb2IsIGluc3RhbmNlICYmIGluc3RhbmNlLnN1c3BlbnNlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGRlZmF1bHQ6ICdwcmUnXHJcbiAgICAgICAgc2NoZWR1bGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlIHx8IGluc3RhbmNlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgcXVldWVQcmVGbHVzaENiKGpvYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3aXRoICdwcmUnIG9wdGlvbiwgdGhlIGZpcnN0IGNhbGwgbXVzdCBoYXBwZW4gYmVmb3JlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQgc28gaXQgaXMgY2FsbGVkIHN5bmNocm9ub3VzbHkuXHJcbiAgICAgICAgICAgICAgICBqb2IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjb25zdCBydW5uZXIgPSBlZmZlY3QoZ2V0dGVyLCB7XHJcbiAgICAgICAgbGF6eTogdHJ1ZSxcclxuICAgICAgICBvblRyYWNrLFxyXG4gICAgICAgIG9uVHJpZ2dlcixcclxuICAgICAgICBzY2hlZHVsZXJcclxuICAgIH0pO1xyXG4gICAgcmVjb3JkSW5zdGFuY2VCb3VuZEVmZmVjdChydW5uZXIpO1xyXG4gICAgLy8gaW5pdGlhbCBydW5cclxuICAgIGlmIChjYikge1xyXG4gICAgICAgIGlmIChpbW1lZGlhdGUpIHtcclxuICAgICAgICAgICAgam9iKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBvbGRWYWx1ZSA9IHJ1bm5lcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsdXNoID09PSAncG9zdCcpIHtcclxuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QocnVubmVyLCBpbnN0YW5jZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBydW5uZXIoKTtcclxuICAgIH1cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgc3RvcChydW5uZXIpO1xyXG4gICAgICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICByZW1vdmUoaW5zdGFuY2UuZWZmZWN0cywgcnVubmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbi8vIHRoaXMuJHdhdGNoXHJcbmZ1bmN0aW9uIGluc3RhbmNlV2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucykge1xyXG4gICAgY29uc3QgcHVibGljVGhpcyA9IHRoaXMucHJveHk7XHJcbiAgICBjb25zdCBnZXR0ZXIgPSBpc1N0cmluZyhzb3VyY2UpXHJcbiAgICAgICAgPyAoKSA9PiBwdWJsaWNUaGlzW3NvdXJjZV1cclxuICAgICAgICA6IHNvdXJjZS5iaW5kKHB1YmxpY1RoaXMpO1xyXG4gICAgcmV0dXJuIGRvV2F0Y2goZ2V0dGVyLCBjYi5iaW5kKHB1YmxpY1RoaXMpLCBvcHRpb25zLCB0aGlzKTtcclxufVxyXG5mdW5jdGlvbiB0cmF2ZXJzZSh2YWx1ZSwgc2VlbiA9IG5ldyBTZXQoKSkge1xyXG4gICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgc2Vlbi5oYXModmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgc2Vlbi5hZGQodmFsdWUpO1xyXG4gICAgaWYgKGlzUmVmKHZhbHVlKSkge1xyXG4gICAgICAgIHRyYXZlcnNlKHZhbHVlLnZhbHVlLCBzZWVuKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0cmF2ZXJzZSh2YWx1ZVtpXSwgc2Vlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTZXQodmFsdWUpIHx8IGlzTWFwKHZhbHVlKSkge1xyXG4gICAgICAgIHZhbHVlLmZvckVhY2goKHYpID0+IHtcclxuICAgICAgICAgICAgdHJhdmVyc2Uodiwgc2Vlbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0cmF2ZXJzZSh2YWx1ZVtrZXldLCBzZWVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cblxuZnVuY3Rpb24gdXNlVHJhbnNpdGlvblN0YXRlKCkge1xyXG4gICAgY29uc3Qgc3RhdGUgPSB7XHJcbiAgICAgICAgaXNNb3VudGVkOiBmYWxzZSxcclxuICAgICAgICBpc0xlYXZpbmc6IGZhbHNlLFxyXG4gICAgICAgIGlzVW5tb3VudGluZzogZmFsc2UsXHJcbiAgICAgICAgbGVhdmluZ1ZOb2RlczogbmV3IE1hcCgpXHJcbiAgICB9O1xyXG4gICAgb25Nb3VudGVkKCgpID0+IHtcclxuICAgICAgICBzdGF0ZS5pc01vdW50ZWQgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xyXG4gICAgICAgIHN0YXRlLmlzVW5tb3VudGluZyA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBzdGF0ZTtcclxufVxyXG5jb25zdCBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvciA9IFtGdW5jdGlvbiwgQXJyYXldO1xyXG5jb25zdCBCYXNlVHJhbnNpdGlvbkltcGwgPSB7XHJcbiAgICBuYW1lOiBgQmFzZVRyYW5zaXRpb25gLFxyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICBtb2RlOiBTdHJpbmcsXHJcbiAgICAgICAgYXBwZWFyOiBCb29sZWFuLFxyXG4gICAgICAgIHBlcnNpc3RlZDogQm9vbGVhbixcclxuICAgICAgICAvLyBlbnRlclxyXG4gICAgICAgIG9uQmVmb3JlRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uQWZ0ZXJFbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25FbnRlckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgLy8gbGVhdmVcclxuICAgICAgICBvbkJlZm9yZUxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkFmdGVyTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uTGVhdmVDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIC8vIGFwcGVhclxyXG4gICAgICAgIG9uQmVmb3JlQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25BZnRlckFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25BcHBlYXJDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yXHJcbiAgICB9LFxyXG4gICAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcclxuICAgICAgICBsZXQgcHJldlRyYW5zaXRpb25LZXk7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ICYmIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihzbG90cy5kZWZhdWx0KCksIHRydWUpO1xyXG4gICAgICAgICAgICBpZiAoIWNoaWxkcmVuIHx8ICFjaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB3YXJuIG11bHRpcGxlIGVsZW1lbnRzXHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgd2FybignPHRyYW5zaXRpb24+IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBzaW5nbGUgZWxlbWVudCBvciBjb21wb25lbnQuIFVzZSAnICtcclxuICAgICAgICAgICAgICAgICAgICAnPHRyYW5zaXRpb24tZ3JvdXA+IGZvciBsaXN0cy4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB0aGVyZSdzIG5vIG5lZWQgdG8gdHJhY2sgcmVhY3Rpdml0eSBmb3IgdGhlc2UgcHJvcHMgc28gdXNlIHRoZSByYXdcclxuICAgICAgICAgICAgLy8gcHJvcHMgZm9yIGEgYml0IGJldHRlciBwZXJmXHJcbiAgICAgICAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xyXG4gICAgICAgICAgICBjb25zdCB7IG1vZGUgfSA9IHJhd1Byb3BzO1xyXG4gICAgICAgICAgICAvLyBjaGVjayBtb2RlXHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbW9kZSAmJiAhWydpbi1vdXQnLCAnb3V0LWluJywgJ2RlZmF1bHQnXS5pbmNsdWRlcyhtb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgaW52YWxpZCA8dHJhbnNpdGlvbj4gbW9kZTogJHttb2RlfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGF0IHRoaXMgcG9pbnQgY2hpbGRyZW4gaGFzIGEgZ3VhcmFudGVlZCBsZW5ndGggb2YgMS5cclxuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlblswXTtcclxuICAgICAgICAgICAgaWYgKHN0YXRlLmlzTGVhdmluZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGluIHRoZSBjYXNlIG9mIDx0cmFuc2l0aW9uPjxrZWVwLWFsaXZlLz48L3RyYW5zaXRpb24+LCB3ZSBuZWVkIHRvXHJcbiAgICAgICAgICAgIC8vIGNvbXBhcmUgdGhlIHR5cGUgb2YgdGhlIGtlcHQtYWxpdmUgY2hpbGRyZW4uXHJcbiAgICAgICAgICAgIGNvbnN0IGlubmVyQ2hpbGQgPSBnZXRLZWVwQWxpdmVDaGlsZChjaGlsZCk7XHJcbiAgICAgICAgICAgIGlmICghaW5uZXJDaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGVudGVySG9va3MgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKGlubmVyQ2hpbGQsIHJhd1Byb3BzLCBzdGF0ZSwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoaW5uZXJDaGlsZCwgZW50ZXJIb29rcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9sZENoaWxkID0gaW5zdGFuY2Uuc3ViVHJlZTtcclxuICAgICAgICAgICAgY29uc3Qgb2xkSW5uZXJDaGlsZCA9IG9sZENoaWxkICYmIGdldEtlZXBBbGl2ZUNoaWxkKG9sZENoaWxkKTtcclxuICAgICAgICAgICAgbGV0IHRyYW5zaXRpb25LZXlDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZ2V0VHJhbnNpdGlvbktleSB9ID0gaW5uZXJDaGlsZC50eXBlO1xyXG4gICAgICAgICAgICBpZiAoZ2V0VHJhbnNpdGlvbktleSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0VHJhbnNpdGlvbktleSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZUcmFuc2l0aW9uS2V5ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2VHJhbnNpdGlvbktleSA9IGtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleSAhPT0gcHJldlRyYW5zaXRpb25LZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2VHJhbnNpdGlvbktleSA9IGtleTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uS2V5Q2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaGFuZGxlIG1vZGVcclxuICAgICAgICAgICAgaWYgKG9sZElubmVyQ2hpbGQgJiZcclxuICAgICAgICAgICAgICAgIG9sZElubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCAmJlxyXG4gICAgICAgICAgICAgICAgKCFpc1NhbWVWTm9kZVR5cGUoaW5uZXJDaGlsZCwgb2xkSW5uZXJDaGlsZCkgfHwgdHJhbnNpdGlvbktleUNoYW5nZWQpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nSG9va3MgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKG9sZElubmVyQ2hpbGQsIHJhd1Byb3BzLCBzdGF0ZSwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIG9sZCB0cmVlJ3MgaG9va3MgaW4gY2FzZSBvZiBkeW5hbWljIHRyYW5zaXRpb25cclxuICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhvbGRJbm5lckNoaWxkLCBsZWF2aW5nSG9va3MpO1xyXG4gICAgICAgICAgICAgICAgLy8gc3dpdGNoaW5nIGJldHdlZW4gZGlmZmVyZW50IHZpZXdzXHJcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ291dC1pbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pc0xlYXZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiBwbGFjZWhvbGRlciBub2RlIGFuZCBxdWV1ZSB1cGRhdGUgd2hlbiBsZWF2ZSBmaW5pc2hlc1xyXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdIb29rcy5hZnRlckxlYXZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pc0xlYXZpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtb2RlID09PSAnaW4tb3V0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdIb29rcy5kZWxheUxlYXZlID0gKGVsLCBlYXJseVJlbW92ZSwgZGVsYXllZExlYXZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIG9sZElubmVyQ2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVbU3RyaW5nKG9sZElubmVyQ2hpbGQua2V5KV0gPSBvbGRJbm5lckNoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlYXJseSByZW1vdmFsIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFybHlSZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVudGVySG9va3MuZGVsYXllZExlYXZlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZSA9IGRlbGF5ZWRMZWF2ZTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59O1xyXG4vLyBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2VcclxuLy8gYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcclxuY29uc3QgQmFzZVRyYW5zaXRpb24gPSBCYXNlVHJhbnNpdGlvbkltcGw7XHJcbmZ1bmN0aW9uIGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKSB7XHJcbiAgICBjb25zdCB7IGxlYXZpbmdWTm9kZXMgfSA9IHN0YXRlO1xyXG4gICAgbGV0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGxlYXZpbmdWTm9kZXMuZ2V0KHZub2RlLnR5cGUpO1xyXG4gICAgaWYgKCFsZWF2aW5nVk5vZGVzQ2FjaGUpIHtcclxuICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgICAgIGxlYXZpbmdWTm9kZXMuc2V0KHZub2RlLnR5cGUsIGxlYXZpbmdWTm9kZXNDYWNoZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVhdmluZ1ZOb2Rlc0NhY2hlO1xyXG59XHJcbi8vIFRoZSB0cmFuc2l0aW9uIGhvb2tzIGFyZSBhdHRhY2hlZCB0byB0aGUgdm5vZGUgYXMgdm5vZGUudHJhbnNpdGlvblxyXG4vLyBhbmQgd2lsbCBiZSBjYWxsZWQgYXQgYXBwcm9wcmlhdGUgdGltaW5nIGluIHRoZSByZW5kZXJlci5cclxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgeyBhcHBlYXIsIG1vZGUsIHBlcnNpc3RlZCA9IGZhbHNlLCBvbkJlZm9yZUVudGVyLCBvbkVudGVyLCBvbkFmdGVyRW50ZXIsIG9uRW50ZXJDYW5jZWxsZWQsIG9uQmVmb3JlTGVhdmUsIG9uTGVhdmUsIG9uQWZ0ZXJMZWF2ZSwgb25MZWF2ZUNhbmNlbGxlZCwgb25CZWZvcmVBcHBlYXIsIG9uQXBwZWFyLCBvbkFmdGVyQXBwZWFyLCBvbkFwcGVhckNhbmNlbGxlZCB9ID0gcHJvcHM7XHJcbiAgICBjb25zdCBrZXkgPSBTdHJpbmcodm5vZGUua2V5KTtcclxuICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKTtcclxuICAgIGNvbnN0IGNhbGxIb29rID0gKGhvb2ssIGFyZ3MpID0+IHtcclxuICAgICAgICBob29rICYmXHJcbiAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA5IC8qIFRSQU5TSVRJT05fSE9PSyAqLywgYXJncyk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaG9va3MgPSB7XHJcbiAgICAgICAgbW9kZSxcclxuICAgICAgICBwZXJzaXN0ZWQsXHJcbiAgICAgICAgYmVmb3JlRW50ZXIoZWwpIHtcclxuICAgICAgICAgICAgbGV0IGhvb2sgPSBvbkJlZm9yZUVudGVyO1xyXG4gICAgICAgICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcGVhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvb2sgPSBvbkJlZm9yZUFwcGVhciB8fCBvbkJlZm9yZUVudGVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGZvciBzYW1lIGVsZW1lbnQgKHYtc2hvdylcclxuICAgICAgICAgICAgaWYgKGVsLl9sZWF2ZUNiKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5fbGVhdmVDYih0cnVlIC8qIGNhbmNlbGxlZCAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZm9yIHRvZ2dsZWQgZWxlbWVudCB3aXRoIHNhbWUga2V5ICh2LWlmKVxyXG4gICAgICAgICAgICBjb25zdCBsZWF2aW5nVk5vZGUgPSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XTtcclxuICAgICAgICAgICAgaWYgKGxlYXZpbmdWTm9kZSAmJlxyXG4gICAgICAgICAgICAgICAgaXNTYW1lVk5vZGVUeXBlKHZub2RlLCBsZWF2aW5nVk5vZGUpICYmXHJcbiAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGUuZWwuX2xlYXZlQ2IpIHtcclxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIGVhcmx5IHJlbW92YWwgKG5vdCBjYW5jZWxsZWQpXHJcbiAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGUuZWwuX2xlYXZlQ2IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWxsSG9vayhob29rLCBbZWxdKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudGVyKGVsKSB7XHJcbiAgICAgICAgICAgIGxldCBob29rID0gb25FbnRlcjtcclxuICAgICAgICAgICAgbGV0IGFmdGVySG9vayA9IG9uQWZ0ZXJFbnRlcjtcclxuICAgICAgICAgICAgbGV0IGNhbmNlbEhvb2sgPSBvbkVudGVyQ2FuY2VsbGVkO1xyXG4gICAgICAgICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcGVhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvb2sgPSBvbkFwcGVhciB8fCBvbkVudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVySG9vayA9IG9uQWZ0ZXJBcHBlYXIgfHwgb25BZnRlckVudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbEhvb2sgPSBvbkFwcGVhckNhbmNlbGxlZCB8fCBvbkVudGVyQ2FuY2VsbGVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgZG9uZSA9IChlbC5fZW50ZXJDYiA9IChjYW5jZWxsZWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChjYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsSG9vayhjYW5jZWxIb29rLCBbZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKGFmdGVySG9vaywgW2VsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaG9va3MuZGVsYXllZExlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9va3MuZGVsYXllZExlYXZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbC5fZW50ZXJDYiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChob29rKSB7XHJcbiAgICAgICAgICAgICAgICBob29rKGVsLCBkb25lKTtcclxuICAgICAgICAgICAgICAgIGlmIChob29rLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsZWF2ZShlbCwgcmVtb3ZlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IFN0cmluZyh2bm9kZS5rZXkpO1xyXG4gICAgICAgICAgICBpZiAoZWwuX2VudGVyQ2IpIHtcclxuICAgICAgICAgICAgICAgIGVsLl9lbnRlckNiKHRydWUgLyogY2FuY2VsbGVkICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RhdGUuaXNVbm1vdW50aW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FsbEhvb2sob25CZWZvcmVMZWF2ZSwgW2VsXSk7XHJcbiAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgZG9uZSA9IChlbC5fbGVhdmVDYiA9IChjYW5jZWxsZWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbEhvb2sob25BZnRlckxlYXZlLCBbZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldID09PSB2bm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldID0gdm5vZGU7XHJcbiAgICAgICAgICAgIGlmIChvbkxlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICBvbkxlYXZlKGVsLCBkb25lKTtcclxuICAgICAgICAgICAgICAgIGlmIChvbkxlYXZlLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjbG9uZSh2bm9kZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBob29rcztcclxufVxyXG4vLyB0aGUgcGxhY2Vob2xkZXIgcmVhbGx5IG9ubHkgaGFuZGxlcyBvbmUgc3BlY2lhbCBjYXNlOiBLZWVwQWxpdmVcclxuLy8gaW4gdGhlIGNhc2Ugb2YgYSBLZWVwQWxpdmUgaW4gYSBsZWF2ZSBwaGFzZSB3ZSBuZWVkIHRvIHJldHVybiBhIEtlZXBBbGl2ZVxyXG4vLyBwbGFjZWhvbGRlciB3aXRoIGVtcHR5IGNvbnRlbnQgdG8gYXZvaWQgdGhlIEtlZXBBbGl2ZSBpbnN0YW5jZSBmcm9tIGJlaW5nXHJcbi8vIHVubW91bnRlZC5cclxuZnVuY3Rpb24gZW1wdHlQbGFjZWhvbGRlcih2bm9kZSkge1xyXG4gICAgaWYgKGlzS2VlcEFsaXZlKHZub2RlKSkge1xyXG4gICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRLZWVwQWxpdmVDaGlsZCh2bm9kZSkge1xyXG4gICAgcmV0dXJuIGlzS2VlcEFsaXZlKHZub2RlKVxyXG4gICAgICAgID8gdm5vZGUuY2hpbGRyZW5cclxuICAgICAgICAgICAgPyB2bm9kZS5jaGlsZHJlblswXVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZFxyXG4gICAgICAgIDogdm5vZGU7XHJcbn1cclxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCBob29rcykge1xyXG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovICYmIHZub2RlLmNvbXBvbmVudCkge1xyXG4gICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgaG9va3MpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgIHZub2RlLnNzQ29udGVudC50cmFuc2l0aW9uID0gaG9va3MuY2xvbmUodm5vZGUuc3NDb250ZW50KTtcclxuICAgICAgICB2bm9kZS5zc0ZhbGxiYWNrLnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0ZhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZub2RlLnRyYW5zaXRpb24gPSBob29rcztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGRyZW4sIGtlZXBDb21tZW50ID0gZmFsc2UpIHtcclxuICAgIGxldCByZXQgPSBbXTtcclxuICAgIGxldCBrZXllZEZyYWdtZW50Q291bnQgPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgLy8gaGFuZGxlIGZyYWdtZW50IGNoaWxkcmVuIGNhc2UsIGUuZy4gdi1mb3JcclxuICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkLnBhdGNoRmxhZyAmIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLylcclxuICAgICAgICAgICAgICAgIGtleWVkRnJhZ21lbnRDb3VudCsrO1xyXG4gICAgICAgICAgICByZXQgPSByZXQuY29uY2F0KGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihjaGlsZC5jaGlsZHJlbiwga2VlcENvbW1lbnQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29tbWVudCBwbGFjZWhvbGRlcnMgc2hvdWxkIGJlIHNraXBwZWQsIGUuZy4gdi1pZlxyXG4gICAgICAgIGVsc2UgaWYgKGtlZXBDb21tZW50IHx8IGNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0LnB1c2goY2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vICMxMTI2IGlmIGEgdHJhbnNpdGlvbiBjaGlsZHJlbiBsaXN0IGNvbnRhaW5zIG11bHRpcGxlIHN1YiBmcmFnbWVudHMsIHRoZXNlXHJcbiAgICAvLyBmcmFnbWVudHMgd2lsbCBiZSBtZXJnZWQgaW50byBhIGZsYXQgY2hpbGRyZW4gYXJyYXkuIFNpbmNlIGVhY2ggdi1mb3JcclxuICAgIC8vIGZyYWdtZW50IG1heSBjb250YWluIGRpZmZlcmVudCBzdGF0aWMgYmluZGluZ3MgaW5zaWRlLCB3ZSBuZWVkIHRvIGRlLXRvcFxyXG4gICAgLy8gdGhlc2UgY2hpbGRyZW4gdG8gZm9yY2UgZnVsbCBkaWZmcyB0byBlbnN1cmUgY29ycmVjdCBiZWhhdmlvci5cclxuICAgIGlmIChrZXllZEZyYWdtZW50Q291bnQgPiAxKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmV0W2ldLnBhdGNoRmxhZyA9IC0yIC8qIEJBSUwgKi87XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG5jb25zdCBpc0tlZXBBbGl2ZSA9ICh2bm9kZSkgPT4gdm5vZGUudHlwZS5fX2lzS2VlcEFsaXZlO1xyXG5jb25zdCBLZWVwQWxpdmVJbXBsID0ge1xyXG4gICAgbmFtZTogYEtlZXBBbGl2ZWAsXHJcbiAgICAvLyBNYXJrZXIgZm9yIHNwZWNpYWwgaGFuZGxpbmcgaW5zaWRlIHRoZSByZW5kZXJlci4gV2UgYXJlIG5vdCB1c2luZyBhID09PVxyXG4gICAgLy8gY2hlY2sgZGlyZWN0bHkgb24gS2VlcEFsaXZlIGluIHRoZSByZW5kZXJlciwgYmVjYXVzZSBpbXBvcnRpbmcgaXQgZGlyZWN0bHlcclxuICAgIC8vIHdvdWxkIHByZXZlbnQgaXQgZnJvbSBiZWluZyB0cmVlLXNoYWtlbi5cclxuICAgIF9faXNLZWVwQWxpdmU6IHRydWUsXHJcbiAgICBpbmhlcml0UmVmOiB0cnVlLFxyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICBpbmNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcclxuICAgICAgICBleGNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcclxuICAgICAgICBtYXg6IFtTdHJpbmcsIE51bWJlcl1cclxuICAgIH0sXHJcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XHJcbiAgICAgICAgY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgY29uc3Qga2V5cyA9IG5ldyBTZXQoKTtcclxuICAgICAgICBsZXQgY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgICAgICBjb25zdCBwYXJlbnRTdXNwZW5zZSA9IGluc3RhbmNlLnN1c3BlbnNlO1xyXG4gICAgICAgIC8vIEtlZXBBbGl2ZSBjb21tdW5pY2F0ZXMgd2l0aCB0aGUgaW5zdGFudGlhdGVkIHJlbmRlcmVyIHZpYSB0aGVcclxuICAgICAgICAvLyBjdHggd2hlcmUgdGhlIHJlbmRlcmVyIHBhc3NlcyBpbiBpdHMgaW50ZXJuYWxzLFxyXG4gICAgICAgIC8vIGFuZCB0aGUgS2VlcEFsaXZlIGluc3RhbmNlIGV4cG9zZXMgYWN0aXZhdGUvZGVhY3RpdmF0ZSBpbXBsZW1lbnRhdGlvbnMuXHJcbiAgICAgICAgLy8gVGhlIHdob2xlIHBvaW50IG9mIHRoaXMgaXMgdG8gYXZvaWQgaW1wb3J0aW5nIEtlZXBBbGl2ZSBkaXJlY3RseSBpbiB0aGVcclxuICAgICAgICAvLyByZW5kZXJlciB0byBmYWNpbGl0YXRlIHRyZWUtc2hha2luZy5cclxuICAgICAgICBjb25zdCBzaGFyZWRDb250ZXh0ID0gaW5zdGFuY2UuY3R4O1xyXG4gICAgICAgIGNvbnN0IHsgcmVuZGVyZXI6IHsgcDogcGF0Y2gsIG06IG1vdmUsIHVtOiBfdW5tb3VudCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSB9ID0gc2hhcmVkQ29udGV4dDtcclxuICAgICAgICBjb25zdCBzdG9yYWdlQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgc2hhcmVkQ29udGV4dC5hY3RpdmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgIG1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCAwIC8qIEVOVEVSICovLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIC8vIGluIGNhc2UgcHJvcHMgaGF2ZSBjaGFuZ2VkXHJcbiAgICAgICAgICAgIHBhdGNoKGluc3RhbmNlLnZub2RlLCB2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5pc0RlYWN0aXZhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlLmEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgdm5vZGVIb29rID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25Wbm9kZU1vdW50ZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodm5vZGVIb29rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UucGFyZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNoYXJlZENvbnRleHQuZGVhY3RpdmF0ZSA9ICh2bm9kZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgbW92ZSh2bm9kZSwgc3RvcmFnZUNvbnRhaW5lciwgbnVsbCwgMSAvKiBMRUFWRSAqLywgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UuZGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgdm5vZGVIb29rID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25Wbm9kZVVubW91bnRlZDtcclxuICAgICAgICAgICAgICAgIGlmICh2bm9kZUhvb2spIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBpbnN0YW5jZS5wYXJlbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmlzRGVhY3RpdmF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmdW5jdGlvbiB1bm1vdW50KHZub2RlKSB7XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBzaGFwZUZsYWcgc28gaXQgY2FuIGJlIHByb3Blcmx5IHVubW91bnRlZFxyXG4gICAgICAgICAgICByZXNldFNoYXBlRmxhZyh2bm9kZSk7XHJcbiAgICAgICAgICAgIF91bm1vdW50KHZub2RlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBwcnVuZUNhY2hlKGZpbHRlcikge1xyXG4gICAgICAgICAgICBjYWNoZS5mb3JFYWNoKCh2bm9kZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gZ2V0TmFtZSh2bm9kZS50eXBlKTtcclxuICAgICAgICAgICAgICAgIGlmIChuYW1lICYmICghZmlsdGVyIHx8ICFmaWx0ZXIobmFtZSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBwcnVuZUNhY2hlRW50cnkoa2V5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChrZXkpO1xyXG4gICAgICAgICAgICBpZiAoIWN1cnJlbnQgfHwgY2FjaGVkLnR5cGUgIT09IGN1cnJlbnQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjYWNoZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIGluc3RhbmNlIHNob3VsZCBubyBsb25nZXIgYmUga2VwdC1hbGl2ZS5cclxuICAgICAgICAgICAgICAgIC8vIHdlIGNhbid0IHVubW91bnQgaXQgbm93IGJ1dCBpdCBtaWdodCBiZSBsYXRlciwgc28gcmVzZXQgaXRzIGZsYWcgbm93LlxyXG4gICAgICAgICAgICAgICAgcmVzZXRTaGFwZUZsYWcoY3VycmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FjaGUuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgICAgIGtleXMuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHBydW5lIGNhY2hlIG9uIGluY2x1ZGUvZXhjbHVkZSBwcm9wIGNoYW5nZVxyXG4gICAgICAgIHdhdGNoKCgpID0+IFtwcm9wcy5pbmNsdWRlLCBwcm9wcy5leGNsdWRlXSwgKFtpbmNsdWRlLCBleGNsdWRlXSkgPT4ge1xyXG4gICAgICAgICAgICBpbmNsdWRlICYmIHBydW5lQ2FjaGUobmFtZSA9PiBtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKTtcclxuICAgICAgICAgICAgZXhjbHVkZSAmJiBwcnVuZUNhY2hlKG5hbWUgPT4gIW1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpO1xyXG4gICAgICAgIH0sIFxyXG4gICAgICAgIC8vIHBydW5lIHBvc3QtcmVuZGVyIGFmdGVyIGBjdXJyZW50YCBoYXMgYmVlbiB1cGRhdGVkXHJcbiAgICAgICAgeyBmbHVzaDogJ3Bvc3QnIH0pO1xyXG4gICAgICAgIC8vIGNhY2hlIHN1YiB0cmVlIGFmdGVyIHJlbmRlclxyXG4gICAgICAgIGxldCBwZW5kaW5nQ2FjaGVLZXkgPSBudWxsO1xyXG4gICAgICAgIGNvbnN0IGNhY2hlU3VidHJlZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgLy8gZml4ICMxNjIxLCB0aGUgcGVuZGluZ0NhY2hlS2V5IGNvdWxkIGJlIDBcclxuICAgICAgICAgICAgaWYgKHBlbmRpbmdDYWNoZUtleSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjYWNoZS5zZXQocGVuZGluZ0NhY2hlS2V5LCBnZXRJbm5lckNoaWxkKGluc3RhbmNlLnN1YlRyZWUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgb25Nb3VudGVkKGNhY2hlU3VidHJlZSk7XHJcbiAgICAgICAgb25VcGRhdGVkKGNhY2hlU3VidHJlZSk7XHJcbiAgICAgICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcclxuICAgICAgICAgICAgY2FjaGUuZm9yRWFjaChjYWNoZWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBzdWJUcmVlLCBzdXNwZW5zZSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2bm9kZSA9IGdldElubmVyQ2hpbGQoc3ViVHJlZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkLnR5cGUgPT09IHZub2RlLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50IGluc3RhbmNlIHdpbGwgYmUgdW5tb3VudGVkIGFzIHBhcnQgb2Yga2VlcC1hbGl2ZSdzIHVubW91bnRcclxuICAgICAgICAgICAgICAgICAgICByZXNldFNoYXBlRmxhZyh2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IGludm9rZSBpdHMgZGVhY3RpdmF0ZWQgaG9vayBoZXJlXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGEgPSB2bm9kZS5jb21wb25lbnQuZGE7XHJcbiAgICAgICAgICAgICAgICAgICAgZGEgJiYgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRhLCBzdXNwZW5zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjYWNoZWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBwZW5kaW5nQ2FjaGVLZXkgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoIXNsb3RzLmRlZmF1bHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zdCByYXdWTm9kZSA9IGNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEtlZXBBbGl2ZSBzaG91bGQgY29udGFpbiBleGFjdGx5IG9uZSBjb21wb25lbnQgY2hpbGQuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZHJlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghaXNWTm9kZShyYXdWTm9kZSkgfHxcclxuICAgICAgICAgICAgICAgICghKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDQgLyogU1RBVEVGVUxfQ09NUE9ORU5UICovKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICEocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSkpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCB2bm9kZSA9IGdldElubmVyQ2hpbGQocmF3Vk5vZGUpO1xyXG4gICAgICAgICAgICBjb25zdCBjb21wID0gdm5vZGUudHlwZTtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGdldE5hbWUoY29tcCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgaW5jbHVkZSwgZXhjbHVkZSwgbWF4IH0gPSBwcm9wcztcclxuICAgICAgICAgICAgaWYgKChpbmNsdWRlICYmICghbmFtZSB8fCAhbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSkpIHx8XHJcbiAgICAgICAgICAgICAgICAoZXhjbHVkZSAmJiBuYW1lICYmIG1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gdm5vZGU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gdm5vZGUua2V5ID09IG51bGwgPyBjb21wIDogdm5vZGUua2V5O1xyXG4gICAgICAgICAgICBjb25zdCBjYWNoZWRWTm9kZSA9IGNhY2hlLmdldChrZXkpO1xyXG4gICAgICAgICAgICAvLyBjbG9uZSB2bm9kZSBpZiBpdCdzIHJldXNlZCBiZWNhdXNlIHdlIGFyZSBnb2luZyB0byBtdXRhdGUgaXRcclxuICAgICAgICAgICAgaWYgKHZub2RlLmVsKSB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZSA9IGNsb25lVk5vZGUodm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJhd1ZOb2RlLnNzQ29udGVudCA9IHZub2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICMxNTEzIGl0J3MgcG9zc2libGUgZm9yIHRoZSByZXR1cm5lZCB2bm9kZSB0byBiZSBjbG9uZWQgZHVlIHRvIGF0dHJcclxuICAgICAgICAgICAgLy8gZmFsbHRocm91Z2ggb3Igc2NvcGVJZCwgc28gdGhlIHZub2RlIGhlcmUgbWF5IG5vdCBiZSB0aGUgZmluYWwgdm5vZGVcclxuICAgICAgICAgICAgLy8gdGhhdCBpcyBtb3VudGVkLiBJbnN0ZWFkIG9mIGNhY2hpbmcgaXQgZGlyZWN0bHksIHdlIHN0b3JlIHRoZSBwZW5kaW5nXHJcbiAgICAgICAgICAgIC8vIGtleSBhbmQgY2FjaGUgYGluc3RhbmNlLnN1YlRyZWVgICh0aGUgbm9ybWFsaXplZCB2bm9kZSkgaW5cclxuICAgICAgICAgICAgLy8gYmVmb3JlTW91bnQvYmVmb3JlVXBkYXRlIGhvb2tzLlxyXG4gICAgICAgICAgICBwZW5kaW5nQ2FjaGVLZXkgPSBrZXk7XHJcbiAgICAgICAgICAgIGlmIChjYWNoZWRWTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29weSBvdmVyIG1vdW50ZWQgc3RhdGVcclxuICAgICAgICAgICAgICAgIHZub2RlLmVsID0gY2FjaGVkVk5vZGUuZWw7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS5jb21wb25lbnQgPSBjYWNoZWRWTm9kZS5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IHVwZGF0ZSB0cmFuc2l0aW9uIGhvb2tzIG9uIHN1YlRyZWVcclxuICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIHZub2RlLnRyYW5zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgdm5vZGUgYmVpbmcgbW91bnRlZCBhcyBmcmVzaFxyXG4gICAgICAgICAgICAgICAgdm5vZGUuc2hhcGVGbGFnIHw9IDUxMiAvKiBDT01QT05FTlRfS0VQVF9BTElWRSAqLztcclxuICAgICAgICAgICAgICAgIC8vIG1ha2UgdGhpcyBrZXkgdGhlIGZyZXNoZXN0XHJcbiAgICAgICAgICAgICAgICBrZXlzLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgICAgICAgICAga2V5cy5hZGQoa2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGtleXMuYWRkKGtleSk7XHJcbiAgICAgICAgICAgICAgICAvLyBwcnVuZSBvbGRlc3QgZW50cnlcclxuICAgICAgICAgICAgICAgIGlmIChtYXggJiYga2V5cy5zaXplID4gcGFyc2VJbnQobWF4LCAxMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoa2V5cy52YWx1ZXMoKS5uZXh0KCkudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGF2b2lkIHZub2RlIGJlaW5nIHVubW91bnRlZFxyXG4gICAgICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gMjU2IC8qIENPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLztcclxuICAgICAgICAgICAgY3VycmVudCA9IHZub2RlO1xyXG4gICAgICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufTtcclxuLy8gZXhwb3J0IHRoZSBwdWJsaWMgdHlwZSBmb3IgaC90c3ggaW5mZXJlbmNlXHJcbi8vIGFsc28gdG8gYXZvaWQgaW5saW5lIGltcG9ydCgpIGluIGdlbmVyYXRlZCBkLnRzIGZpbGVzXHJcbmNvbnN0IEtlZXBBbGl2ZSA9IEtlZXBBbGl2ZUltcGw7XHJcbmZ1bmN0aW9uIGdldE5hbWUoY29tcCkge1xyXG4gICAgcmV0dXJuIGNvbXAuZGlzcGxheU5hbWUgfHwgY29tcC5uYW1lO1xyXG59XHJcbmZ1bmN0aW9uIG1hdGNoZXMocGF0dGVybiwgbmFtZSkge1xyXG4gICAgaWYgKGlzQXJyYXkocGF0dGVybikpIHtcclxuICAgICAgICByZXR1cm4gcGF0dGVybi5zb21lKChwKSA9PiBtYXRjaGVzKHAsIG5hbWUpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzU3RyaW5nKHBhdHRlcm4pKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4uc3BsaXQoJywnKS5pbmRleE9mKG5hbWUpID4gLTE7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwYXR0ZXJuLnRlc3QpIHtcclxuICAgICAgICByZXR1cm4gcGF0dGVybi50ZXN0KG5hbWUpO1xyXG4gICAgfVxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBvbkFjdGl2YXRlZChob29rLCB0YXJnZXQpIHtcclxuICAgIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImFcIiAvKiBBQ1RJVkFURUQgKi8sIHRhcmdldCk7XHJcbn1cclxuZnVuY3Rpb24gb25EZWFjdGl2YXRlZChob29rLCB0YXJnZXQpIHtcclxuICAgIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImRhXCIgLyogREVBQ1RJVkFURUQgKi8sIHRhcmdldCk7XHJcbn1cclxuZnVuY3Rpb24gcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIHR5cGUsIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkge1xyXG4gICAgLy8gY2FjaGUgdGhlIGRlYWN0aXZhdGUgYnJhbmNoIGNoZWNrIHdyYXBwZXIgZm9yIGluamVjdGVkIGhvb2tzIHNvIHRoZSBzYW1lXHJcbiAgICAvLyBob29rIGNhbiBiZSBwcm9wZXJseSBkZWR1cGVkIGJ5IHRoZSBzY2hlZHVsZXIuIFwiX193ZGNcIiBzdGFuZHMgZm9yIFwid2l0aFxyXG4gICAgLy8gZGVhY3RpdmF0aW9uIGNoZWNrXCIuXHJcbiAgICBjb25zdCB3cmFwcGVkSG9vayA9IGhvb2suX193ZGMgfHxcclxuICAgICAgICAoaG9vay5fX3dkYyA9ICgpID0+IHtcclxuICAgICAgICAgICAgLy8gb25seSBmaXJlIHRoZSBob29rIGlmIHRoZSB0YXJnZXQgaW5zdGFuY2UgaXMgTk9UIGluIGEgZGVhY3RpdmF0ZWQgYnJhbmNoLlxyXG4gICAgICAgICAgICBsZXQgY3VycmVudCA9IHRhcmdldDtcclxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50LmlzRGVhY3RpdmF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaG9vaygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgaW5qZWN0SG9vayh0eXBlLCB3cmFwcGVkSG9vaywgdGFyZ2V0KTtcclxuICAgIC8vIEluIGFkZGl0aW9uIHRvIHJlZ2lzdGVyaW5nIGl0IG9uIHRoZSB0YXJnZXQgaW5zdGFuY2UsIHdlIHdhbGsgdXAgdGhlIHBhcmVudFxyXG4gICAgLy8gY2hhaW4gYW5kIHJlZ2lzdGVyIGl0IG9uIGFsbCBhbmNlc3RvciBpbnN0YW5jZXMgdGhhdCBhcmUga2VlcC1hbGl2ZSByb290cy5cclxuICAgIC8vIFRoaXMgYXZvaWRzIHRoZSBuZWVkIHRvIHdhbGsgdGhlIGVudGlyZSBjb21wb25lbnQgdHJlZSB3aGVuIGludm9raW5nIHRoZXNlXHJcbiAgICAvLyBob29rcywgYW5kIG1vcmUgaW1wb3J0YW50bHksIGF2b2lkcyB0aGUgbmVlZCB0byB0cmFjayBjaGlsZCBjb21wb25lbnRzIGluXHJcbiAgICAvLyBhcnJheXMuXHJcbiAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0YXJnZXQucGFyZW50O1xyXG4gICAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQucGFyZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChpc0tlZXBBbGl2ZShjdXJyZW50LnBhcmVudC52bm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIGluamVjdFRvS2VlcEFsaXZlUm9vdCh3cmFwcGVkSG9vaywgdHlwZSwgdGFyZ2V0LCBjdXJyZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGluamVjdFRvS2VlcEFsaXZlUm9vdChob29rLCB0eXBlLCB0YXJnZXQsIGtlZXBBbGl2ZVJvb3QpIHtcclxuICAgIC8vIGluamVjdEhvb2sgd3JhcHMgdGhlIG9yaWdpbmFsIGZvciBlcnJvciBoYW5kbGluZywgc28gbWFrZSBzdXJlIHRvIHJlbW92ZVxyXG4gICAgLy8gdGhlIHdyYXBwZWQgdmVyc2lvbi5cclxuICAgIGNvbnN0IGluamVjdGVkID0gaW5qZWN0SG9vayh0eXBlLCBob29rLCBrZWVwQWxpdmVSb290LCB0cnVlIC8qIHByZXBlbmQgKi8pO1xyXG4gICAgb25Vbm1vdW50ZWQoKCkgPT4ge1xyXG4gICAgICAgIHJlbW92ZShrZWVwQWxpdmVSb290W3R5cGVdLCBpbmplY3RlZCk7XHJcbiAgICB9LCB0YXJnZXQpO1xyXG59XHJcbmZ1bmN0aW9uIHJlc2V0U2hhcGVGbGFnKHZub2RlKSB7XHJcbiAgICBsZXQgc2hhcGVGbGFnID0gdm5vZGUuc2hhcGVGbGFnO1xyXG4gICAgaWYgKHNoYXBlRmxhZyAmIDI1NiAvKiBDT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi8pIHtcclxuICAgICAgICBzaGFwZUZsYWcgLT0gMjU2IC8qIENPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLztcclxuICAgIH1cclxuICAgIGlmIChzaGFwZUZsYWcgJiA1MTIgLyogQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi8pIHtcclxuICAgICAgICBzaGFwZUZsYWcgLT0gNTEyIC8qIENPTVBPTkVOVF9LRVBUX0FMSVZFICovO1xyXG4gICAgfVxyXG4gICAgdm5vZGUuc2hhcGVGbGFnID0gc2hhcGVGbGFnO1xyXG59XHJcbmZ1bmN0aW9uIGdldElubmVyQ2hpbGQodm5vZGUpIHtcclxuICAgIHJldHVybiB2bm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8gPyB2bm9kZS5zc0NvbnRlbnQgOiB2bm9kZTtcclxufVxuXG5jb25zdCBpc0ludGVybmFsS2V5ID0gKGtleSkgPT4ga2V5WzBdID09PSAnXycgfHwga2V5ID09PSAnJHN0YWJsZSc7XHJcbmNvbnN0IG5vcm1hbGl6ZVNsb3RWYWx1ZSA9ICh2YWx1ZSkgPT4gaXNBcnJheSh2YWx1ZSlcclxuICAgID8gdmFsdWUubWFwKG5vcm1hbGl6ZVZOb2RlKVxyXG4gICAgOiBbbm9ybWFsaXplVk5vZGUodmFsdWUpXTtcclxuY29uc3Qgbm9ybWFsaXplU2xvdCA9IChrZXksIHJhd1Nsb3QsIGN0eCkgPT4gd2l0aEN0eCgocHJvcHMpID0+IHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAgICAgd2FybihgU2xvdCBcIiR7a2V5fVwiIGludm9rZWQgb3V0c2lkZSBvZiB0aGUgcmVuZGVyIGZ1bmN0aW9uOiBgICtcclxuICAgICAgICAgICAgYHRoaXMgd2lsbCBub3QgdHJhY2sgZGVwZW5kZW5jaWVzIHVzZWQgaW4gdGhlIHNsb3QuIGAgK1xyXG4gICAgICAgICAgICBgSW52b2tlIHRoZSBzbG90IGZ1bmN0aW9uIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbm9ybWFsaXplU2xvdFZhbHVlKHJhd1Nsb3QocHJvcHMpKTtcclxufSwgY3R4KTtcclxuY29uc3Qgbm9ybWFsaXplT2JqZWN0U2xvdHMgPSAocmF3U2xvdHMsIHNsb3RzKSA9PiB7XHJcbiAgICBjb25zdCBjdHggPSByYXdTbG90cy5fY3R4O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3U2xvdHMpIHtcclxuICAgICAgICBpZiAoaXNJbnRlcm5hbEtleShrZXkpKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Nsb3RzW2tleV07XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHNsb3RzW2tleV0gPSBub3JtYWxpemVTbG90KGtleSwgdmFsdWUsIGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgTm9uLWZ1bmN0aW9uIHZhbHVlIGVuY291bnRlcmVkIGZvciBzbG90IFwiJHtrZXl9XCIuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBQcmVmZXIgZnVuY3Rpb24gc2xvdHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU2xvdFZhbHVlKHZhbHVlKTtcclxuICAgICAgICAgICAgc2xvdHNba2V5XSA9ICgpID0+IG5vcm1hbGl6ZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5jb25zdCBub3JtYWxpemVWTm9kZVNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbikgPT4ge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNLZWVwQWxpdmUoaW5zdGFuY2Uudm5vZGUpKSB7XHJcbiAgICAgICAgd2FybihgTm9uLWZ1bmN0aW9uIHZhbHVlIGVuY291bnRlcmVkIGZvciBkZWZhdWx0IHNsb3QuIGAgK1xyXG4gICAgICAgICAgICBgUHJlZmVyIGZ1bmN0aW9uIHNsb3RzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuYCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU2xvdFZhbHVlKGNoaWxkcmVuKTtcclxuICAgIGluc3RhbmNlLnNsb3RzLmRlZmF1bHQgPSAoKSA9PiBub3JtYWxpemVkO1xyXG59O1xyXG5jb25zdCBpbml0U2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XHJcbiAgICBpZiAoaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgMzIgLyogU0xPVFNfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcclxuICAgICAgICBpZiAodHlwZSkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5zbG90cyA9IGNoaWxkcmVuO1xyXG4gICAgICAgICAgICAvLyBtYWtlIGNvbXBpbGVyIG1hcmtlciBub24tZW51bWVyYWJsZVxyXG4gICAgICAgICAgICBkZWYoY2hpbGRyZW4sICdfJywgdHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBub3JtYWxpemVPYmplY3RTbG90cyhjaGlsZHJlbiwgKGluc3RhbmNlLnNsb3RzID0ge30pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpbnN0YW5jZS5zbG90cyA9IHt9O1xyXG4gICAgICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgICAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGVmKGluc3RhbmNlLnNsb3RzLCBJbnRlcm5hbE9iamVjdEtleSwgMSk7XHJcbn07XHJcbmNvbnN0IHVwZGF0ZVNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbikgPT4ge1xyXG4gICAgY29uc3QgeyB2bm9kZSwgc2xvdHMgfSA9IGluc3RhbmNlO1xyXG4gICAgbGV0IG5lZWREZWxldGlvbkNoZWNrID0gdHJ1ZTtcclxuICAgIGxldCBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSBFTVBUWV9PQko7XHJcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMzIgLyogU0xPVFNfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcclxuICAgICAgICBpZiAodHlwZSkge1xyXG4gICAgICAgICAgICAvLyBjb21waWxlZCBzbG90cy5cclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc0htclVwZGF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQYXJlbnQgd2FzIEhNUiB1cGRhdGVkIHNvIHNsb3QgY29udGVudCBtYXkgaGF2ZSBjaGFuZ2VkLlxyXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdXBkYXRlIHNsb3RzIGFuZCBtYXJrIGluc3RhbmNlIGZvciBobXIgYXMgd2VsbFxyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHNsb3RzLCBjaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gMSAvKiBTVEFCTEUgKi8pIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGVkIEFORCBzdGFibGUuXHJcbiAgICAgICAgICAgICAgICAvLyBubyBuZWVkIHRvIHVwZGF0ZSwgYW5kIHNraXAgc3RhbGUgc2xvdHMgcmVtb3ZhbC5cclxuICAgICAgICAgICAgICAgIG5lZWREZWxldGlvbkNoZWNrID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb21waWxlZCBidXQgZHluYW1pYyAodi1pZi92LWZvciBvbiBzbG90cykgLSB1cGRhdGUgc2xvdHMsIGJ1dCBza2lwXHJcbiAgICAgICAgICAgICAgICAvLyBub3JtYWxpemF0aW9uLlxyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHNsb3RzLCBjaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5lZWREZWxldGlvbkNoZWNrID0gIWNoaWxkcmVuLiRzdGFibGU7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCBzbG90cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IGNoaWxkcmVuO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICAvLyBub24gc2xvdCBvYmplY3QgY2hpbGRyZW4gKGRpcmVjdCB2YWx1ZSkgcGFzc2VkIHRvIGEgY29tcG9uZW50XHJcbiAgICAgICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xyXG4gICAgICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IHsgZGVmYXVsdDogMSB9O1xyXG4gICAgfVxyXG4gICAgLy8gZGVsZXRlIHN0YWxlIHNsb3RzXHJcbiAgICBpZiAobmVlZERlbGV0aW9uQ2hlY2spIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xyXG4gICAgICAgICAgICBpZiAoIWlzSW50ZXJuYWxLZXkoa2V5KSAmJiAhKGtleSBpbiBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgc2xvdHNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcblxuLyoqXHJcblJ1bnRpbWUgaGVscGVyIGZvciBhcHBseWluZyBkaXJlY3RpdmVzIHRvIGEgdm5vZGUuIEV4YW1wbGUgdXNhZ2U6XHJcblxuY29uc3QgY29tcCA9IHJlc29sdmVDb21wb25lbnQoJ2NvbXAnKVxyXG5jb25zdCBmb28gPSByZXNvbHZlRGlyZWN0aXZlKCdmb28nKVxyXG5jb25zdCBiYXIgPSByZXNvbHZlRGlyZWN0aXZlKCdiYXInKVxyXG5cbnJldHVybiB3aXRoRGlyZWN0aXZlcyhoKGNvbXApLCBbXHJcbiAgW2ZvbywgdGhpcy54XSxcclxuICBbYmFyLCB0aGlzLnldXHJcbl0pXHJcbiovXHJcbmNvbnN0IGlzQnVpbHRJbkRpcmVjdGl2ZSA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnYmluZCxjbG9hayxlbHNlLWlmLGVsc2UsZm9yLGh0bWwsaWYsbW9kZWwsb24sb25jZSxwcmUsc2hvdyxzbG90LHRleHQnKTtcclxuZnVuY3Rpb24gdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWUpIHtcclxuICAgIGlmIChpc0J1aWx0SW5EaXJlY3RpdmUobmFtZSkpIHtcclxuICAgICAgICB3YXJuKCdEbyBub3QgdXNlIGJ1aWx0LWluIGRpcmVjdGl2ZSBpZHMgYXMgY3VzdG9tIGRpcmVjdGl2ZSBpZDogJyArIG5hbWUpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBZGRzIGRpcmVjdGl2ZXMgdG8gYSBWTm9kZS5cclxuICovXHJcbmZ1bmN0aW9uIHdpdGhEaXJlY3RpdmVzKHZub2RlLCBkaXJlY3RpdmVzKSB7XHJcbiAgICBjb25zdCBpbnRlcm5hbEluc3RhbmNlID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgaWYgKGludGVybmFsSW5zdGFuY2UgPT09IG51bGwpIHtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2Fybihgd2l0aERpcmVjdGl2ZXMgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgcmVuZGVyIGZ1bmN0aW9ucy5gKTtcclxuICAgICAgICByZXR1cm4gdm5vZGU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IGludGVybmFsSW5zdGFuY2UucHJveHk7XHJcbiAgICBjb25zdCBiaW5kaW5ncyA9IHZub2RlLmRpcnMgfHwgKHZub2RlLmRpcnMgPSBbXSk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcmVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgW2RpciwgdmFsdWUsIGFyZywgbW9kaWZpZXJzID0gRU1QVFlfT0JKXSA9IGRpcmVjdGl2ZXNbaV07XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGlyKSkge1xyXG4gICAgICAgICAgICBkaXIgPSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGVkOiBkaXIsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVkOiBkaXJcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYmluZGluZ3MucHVzaCh7XHJcbiAgICAgICAgICAgIGRpcixcclxuICAgICAgICAgICAgaW5zdGFuY2UsXHJcbiAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICBvbGRWYWx1ZTogdm9pZCAwLFxyXG4gICAgICAgICAgICBhcmcsXHJcbiAgICAgICAgICAgIG1vZGlmaWVyc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZub2RlO1xyXG59XHJcbmZ1bmN0aW9uIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIHByZXZWTm9kZSwgaW5zdGFuY2UsIG5hbWUpIHtcclxuICAgIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycztcclxuICAgIGNvbnN0IG9sZEJpbmRpbmdzID0gcHJldlZOb2RlICYmIHByZXZWTm9kZS5kaXJzO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5kaW5ncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGJpbmRpbmcgPSBiaW5kaW5nc1tpXTtcclxuICAgICAgICBpZiAob2xkQmluZGluZ3MpIHtcclxuICAgICAgICAgICAgYmluZGluZy5vbGRWYWx1ZSA9IG9sZEJpbmRpbmdzW2ldLnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBob29rID0gYmluZGluZy5kaXJbbmFtZV07XHJcbiAgICAgICAgaWYgKGhvb2spIHtcclxuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDggLyogRElSRUNUSVZFX0hPT0sgKi8sIFtcclxuICAgICAgICAgICAgICAgIHZub2RlLmVsLFxyXG4gICAgICAgICAgICAgICAgYmluZGluZyxcclxuICAgICAgICAgICAgICAgIHZub2RlLFxyXG4gICAgICAgICAgICAgICAgcHJldlZOb2RlXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBjcmVhdGVBcHBDb250ZXh0KCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBhcHA6IG51bGwsXHJcbiAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICAgIGlzTmF0aXZlVGFnOiBOTyxcclxuICAgICAgICAgICAgcGVyZm9ybWFuY2U6IGZhbHNlLFxyXG4gICAgICAgICAgICBnbG9iYWxQcm9wZXJ0aWVzOiB7fSxcclxuICAgICAgICAgICAgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzOiB7fSxcclxuICAgICAgICAgICAgaXNDdXN0b21FbGVtZW50OiBOTyxcclxuICAgICAgICAgICAgZXJyb3JIYW5kbGVyOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIHdhcm5IYW5kbGVyOiB1bmRlZmluZWRcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1peGluczogW10sXHJcbiAgICAgICAgY29tcG9uZW50czoge30sXHJcbiAgICAgICAgZGlyZWN0aXZlczoge30sXHJcbiAgICAgICAgcHJvdmlkZXM6IE9iamVjdC5jcmVhdGUobnVsbClcclxuICAgIH07XHJcbn1cclxubGV0IHVpZCA9IDA7XHJcbmZ1bmN0aW9uIGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVBcHAocm9vdENvbXBvbmVudCwgcm9vdFByb3BzID0gbnVsbCkge1xyXG4gICAgICAgIGlmIChyb290UHJvcHMgIT0gbnVsbCAmJiAhaXNPYmplY3Qocm9vdFByb3BzKSkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2Fybihgcm9vdCBwcm9wcyBwYXNzZWQgdG8gYXBwLm1vdW50KCkgbXVzdCBiZSBhbiBvYmplY3QuYCk7XHJcbiAgICAgICAgICAgIHJvb3RQcm9wcyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVBcHBDb250ZXh0KCk7XHJcbiAgICAgICAgY29uc3QgaW5zdGFsbGVkUGx1Z2lucyA9IG5ldyBTZXQoKTtcclxuICAgICAgICBsZXQgaXNNb3VudGVkID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgYXBwID0gKGNvbnRleHQuYXBwID0ge1xyXG4gICAgICAgICAgICBfdWlkOiB1aWQrKyxcclxuICAgICAgICAgICAgX2NvbXBvbmVudDogcm9vdENvbXBvbmVudCxcclxuICAgICAgICAgICAgX3Byb3BzOiByb290UHJvcHMsXHJcbiAgICAgICAgICAgIF9jb250YWluZXI6IG51bGwsXHJcbiAgICAgICAgICAgIF9jb250ZXh0OiBjb250ZXh0LFxyXG4gICAgICAgICAgICB2ZXJzaW9uLFxyXG4gICAgICAgICAgICBnZXQgY29uZmlnKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29uZmlnO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQgY29uZmlnKHYpIHtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBhcHAuY29uZmlnIGNhbm5vdCBiZSByZXBsYWNlZC4gTW9kaWZ5IGluZGl2aWR1YWwgb3B0aW9ucyBpbnN0ZWFkLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1c2UocGx1Z2luLCAuLi5vcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFsbGVkUGx1Z2lucy5oYXMocGx1Z2luKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGBQbHVnaW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRhcmdldCBhcHAuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwbHVnaW4gJiYgaXNGdW5jdGlvbihwbHVnaW4uaW5zdGFsbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5pbnN0YWxsKGFwcCwgLi4ub3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHBsdWdpbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbihhcHAsIC4uLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQSBwbHVnaW4gbXVzdCBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhbiBvYmplY3Qgd2l0aCBhbiBcImluc3RhbGxcIiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYGZ1bmN0aW9uLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWl4aW4obWl4aW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0Lm1peGlucy5pbmNsdWRlcyhtaXhpbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5taXhpbnMucHVzaChtaXhpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdsb2JhbCBtaXhpbiB3aXRoIHByb3BzL2VtaXRzIGRlLW9wdGltaXplcyBwcm9wcy9lbWl0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3JtYWxpemF0aW9uIGNhY2hpbmcuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaXhpbi5wcm9wcyB8fCBtaXhpbi5lbWl0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kZW9wdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oJ01peGluIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0YXJnZXQgYXBwJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWl4aW4ubmFtZSA/IGA6ICR7bWl4aW4ubmFtZX1gIDogJycpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKCdNaXhpbnMgYXJlIG9ubHkgYXZhaWxhYmxlIGluIGJ1aWxkcyBzdXBwb3J0aW5nIE9wdGlvbnMgQVBJJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb21wb25lbnQobmFtZSwgY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWUsIGNvbnRleHQuY29uZmlnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29udGV4dC5jb21wb25lbnRzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5jb21wb25lbnRzW25hbWVdID0gY29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghZGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgRGlyZWN0aXZlIFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdID0gZGlyZWN0aXZlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbW91bnQocm9vdENvbnRhaW5lciwgaXNIeWRyYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUocm9vdENvbXBvbmVudCwgcm9vdFByb3BzKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSBhcHAgY29udGV4dCBvbiB0aGUgcm9vdCBWTm9kZS5cclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgYmUgc2V0IG9uIHRoZSByb290IGluc3RhbmNlIG9uIGluaXRpYWwgbW91bnQuXHJcbiAgICAgICAgICAgICAgICAgICAgdm5vZGUuYXBwQ29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSE1SIHJvb3QgcmVsb2FkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlbG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcihjbG9uZVZOb2RlKHZub2RlKSwgcm9vdENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0h5ZHJhdGUgJiYgaHlkcmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoeWRyYXRlKHZub2RlLCByb290Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcih2bm9kZSwgcm9vdENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzTW91bnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLl9jb250YWluZXIgPSByb290Q29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvb3RDb250YWluZXIuX192dWVfYXBwX18gPSBhcHA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2bm9kZS5jb21wb25lbnQucHJveHk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBBcHAgaGFzIGFscmVhZHkgYmVlbiBtb3VudGVkLlxcbmAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgSWYgeW91IHdhbnQgdG8gcmVtb3VudCB0aGUgc2FtZSBhcHAsIG1vdmUgeW91ciBhcHAgY3JlYXRpb24gbG9naWMgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpbnRvIGEgZmFjdG9yeSBmdW5jdGlvbiBhbmQgY3JlYXRlIGZyZXNoIGFwcCBpbnN0YW5jZXMgZm9yIGVhY2ggYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBtb3VudCAtIGUuZy4gXFxgY29uc3QgY3JlYXRlTXlBcHAgPSAoKSA9PiBjcmVhdGVBcHAoQXBwKVxcYGApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1bm1vdW50KCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcihudWxsLCBhcHAuX2NvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNVbm1vdW50QXBwKGFwcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ2Fubm90IHVubW91bnQgYW4gYXBwIHRoYXQgaXMgbm90IG1vdW50ZWQuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBrZXkgaW4gY29udGV4dC5wcm92aWRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEFwcCBhbHJlYWR5IHByb3ZpZGVzIHByb3BlcnR5IHdpdGgga2V5IFwiJHtTdHJpbmcoa2V5KX1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBJdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggdGhlIG5ldyB2YWx1ZS5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFR5cGVTY3JpcHQgZG9lc24ndCBhbGxvdyBzeW1ib2xzIGFzIGluZGV4IHR5cGVcclxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjQ1ODdcclxuICAgICAgICAgICAgICAgIGNvbnRleHQucHJvdmlkZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBhcHA7XHJcbiAgICB9O1xyXG59XG5cbmxldCBoYXNNaXNtYXRjaCA9IGZhbHNlO1xyXG5jb25zdCBpc1NWR0NvbnRhaW5lciA9IChjb250YWluZXIpID0+IC9zdmcvLnRlc3QoY29udGFpbmVyLm5hbWVzcGFjZVVSSSkgJiYgY29udGFpbmVyLnRhZ05hbWUgIT09ICdmb3JlaWduT2JqZWN0JztcclxuY29uc3QgaXNDb21tZW50ID0gKG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDggLyogQ09NTUVOVCAqLztcclxuLy8gTm90ZTogaHlkcmF0aW9uIGlzIERPTS1zcGVjaWZpY1xyXG4vLyBCdXQgd2UgaGF2ZSB0byBwbGFjZSBpdCBpbiBjb3JlIGR1ZSB0byB0aWdodCBjb3VwbGluZyB3aXRoIGNvcmUgLSBzcGxpdHRpbmdcclxuLy8gaXQgb3V0IGNyZWF0ZXMgYSB0b24gb2YgdW5uZWNlc3NhcnkgY29tcGxleGl0eS5cclxuLy8gSHlkcmF0aW9uIGFsc28gZGVwZW5kcyBvbiBzb21lIHJlbmRlcmVyIGludGVybmFsIGxvZ2ljIHdoaWNoIG5lZWRzIHRvIGJlXHJcbi8vIHBhc3NlZCBpbiB2aWEgYXJndW1lbnRzLlxyXG5mdW5jdGlvbiBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMocmVuZGVyZXJJbnRlcm5hbHMpIHtcclxuICAgIGNvbnN0IHsgbXQ6IG1vdW50Q29tcG9uZW50LCBwOiBwYXRjaCwgbzogeyBwYXRjaFByb3AsIG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCByZW1vdmUsIGluc2VydCwgY3JlYXRlQ29tbWVudCB9IH0gPSByZW5kZXJlckludGVybmFscztcclxuICAgIGNvbnN0IGh5ZHJhdGUgPSAodm5vZGUsIGNvbnRhaW5lcikgPT4ge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWNvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgICAgICAgd2FybihgQXR0ZW1wdGluZyB0byBoeWRyYXRlIGV4aXN0aW5nIG1hcmt1cCBidXQgY29udGFpbmVyIGlzIGVtcHR5LiBgICtcclxuICAgICAgICAgICAgICAgIGBQZXJmb3JtaW5nIGZ1bGwgbW91bnQgaW5zdGVhZC5gKTtcclxuICAgICAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaGFzTWlzbWF0Y2ggPSBmYWxzZTtcclxuICAgICAgICBoeWRyYXRlTm9kZShjb250YWluZXIuZmlyc3RDaGlsZCwgdm5vZGUsIG51bGwsIG51bGwpO1xyXG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XHJcbiAgICAgICAgaWYgKGhhc01pc21hdGNoICYmICFmYWxzZSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzIGVycm9yIHNob3VsZCBzaG93IHVwIGluIHByb2R1Y3Rpb25cclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgSHlkcmF0aW9uIGNvbXBsZXRlZCBidXQgY29udGFpbnMgbWlzbWF0Y2hlcy5gKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaHlkcmF0ZU5vZGUgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaXNGcmFnbWVudFN0YXJ0ID0gaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gJ1snO1xyXG4gICAgICAgIGNvbnN0IG9uTWlzbWF0Y2ggPSAoKSA9PiBoYW5kbGVNaXNtYXRjaChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNGcmFnbWVudFN0YXJ0KTtcclxuICAgICAgICBjb25zdCB7IHR5cGUsIHJlZiwgc2hhcGVGbGFnIH0gPSB2bm9kZTtcclxuICAgICAgICBjb25zdCBkb21UeXBlID0gbm9kZS5ub2RlVHlwZTtcclxuICAgICAgICB2bm9kZS5lbCA9IG5vZGU7XHJcbiAgICAgICAgbGV0IG5leHROb2RlID0gbnVsbDtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBUZXh0OlxyXG4gICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDMgLyogVEVYVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuZGF0YSAhPT0gdm5vZGUuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYEh5ZHJhdGlvbiB0ZXh0IG1pc21hdGNoOmAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcXG4tIENsaWVudDogJHtKU09OLnN0cmluZ2lmeShub2RlLmRhdGEpfWAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcXG4tIFNlcnZlcjogJHtKU09OLnN0cmluZ2lmeSh2bm9kZS5jaGlsZHJlbil9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGF0YSA9IHZub2RlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWVudDpcclxuICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSA4IC8qIENPTU1FTlQgKi8gfHwgaXNGcmFnbWVudFN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU3RhdGljOlxyXG4gICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDEgLyogRUxFTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIGFuY2hvciwgYWRvcHQgY29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3RhdGljIHZub2RlIGhhcyBpdHMgY29udGVudCBzdHJpcHBlZCBkdXJpbmcgYnVpbGQsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRvcHQgaXQgZnJvbSB0aGUgc2VydmVyLXJlbmRlcmVkIEhUTUwuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVlZFRvQWRvcHRDb250ZW50ID0gIXZub2RlLmNoaWxkcmVuLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZub2RlLnN0YXRpY0NvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWRUb0Fkb3B0Q29udGVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLmNoaWxkcmVuICs9IG5leHROb2RlLm91dGVySFRNTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IHZub2RlLnN0YXRpY0NvdW50IC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0Tm9kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZyYWdtZW50OlxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0ZyYWdtZW50U3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUZyYWdtZW50KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDEgLyogRUxFTUVOVCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS50eXBlICE9PSBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUVsZW1lbnQobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHNldHRpbmcgdXAgdGhlIHJlbmRlciBlZmZlY3QsIGlmIHRoZSBpbml0aWFsIHZub2RlIGFscmVhZHlcclxuICAgICAgICAgICAgICAgICAgICAvLyBoYXMgLmVsIHNldCwgdGhlIGNvbXBvbmVudCB3aWxsIHBlcmZvcm0gaHlkcmF0aW9uIGluc3RlYWQgb2YgbW91bnRcclxuICAgICAgICAgICAgICAgICAgICAvLyBvbiBpdHMgc3ViLXRyZWUuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoeWRyYXRlQ29tcG9uZW50ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VudENvbXBvbmVudCh2bm9kZSwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWR0NvbnRhaW5lcihjb250YWluZXIpLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXN5bmMgY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9hZEFzeW5jID0gdm5vZGUudHlwZS5fX2FzeW5jTG9hZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2FkQXN5bmMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEFzeW5jKCkudGhlbihoeWRyYXRlQ29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGVDb21wb25lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBiZSBhc3luYywgc28gaW4gdGhlIGNhc2Ugb2YgZnJhZ21lbnRzIHdlIGNhbm5vdCByZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gY29tcG9uZW50J3MgcmVuZGVyZWQgb3V0cHV0IHRvIGRldGVybWluZSB0aGUgZW5kIG9mIHRoZSBmcmFnbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RlYWQsIHdlIGRvIGEgbG9va2FoZWFkIHRvIGZpbmQgdGhlIGVuZCBhbmNob3Igbm9kZS5cclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IGlzRnJhZ21lbnRTdGFydFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvcihub2RlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gOCAvKiBDT01NRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIHNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gdm5vZGUudHlwZS5oeWRyYXRlKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWR0NvbnRhaW5lcihwYXJlbnROb2RlKG5vZGUpKSwgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZU5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybignSW52YWxpZCBIb3N0Vk5vZGUgdHlwZTonLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVmICE9IG51bGwgJiYgcGFyZW50Q29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHZub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5leHROb2RlO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGh5ZHJhdGVFbGVtZW50ID0gKGVsLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xyXG4gICAgICAgIGNvbnN0IHsgcHJvcHMsIHBhdGNoRmxhZywgc2hhcGVGbGFnLCBkaXJzIH0gPSB2bm9kZTtcclxuICAgICAgICAvLyBza2lwIHByb3BzICYgY2hpbGRyZW4gaWYgdGhpcyBpcyBob2lzdGVkIHN0YXRpYyBub2Rlc1xyXG4gICAgICAgIGlmIChwYXRjaEZsYWcgIT09IC0xIC8qIEhPSVNURUQgKi8pIHtcclxuICAgICAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2NyZWF0ZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBwcm9wc1xyXG4gICAgICAgICAgICBpZiAocHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghb3B0aW1pemVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKHBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi8gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hGbGFnICYgMzIgLyogSFlEUkFURV9FVkVOVFMgKi8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Jlc2VydmVkUHJvcChrZXkpICYmIGlzT24oa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcHMub25DbGljaykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZhc3QgcGF0aCBmb3IgY2xpY2sgbGlzdGVuZXJzICh3aGljaCBpcyBtb3N0IG9mdGVuKSB0byBhdm9pZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGluZyB0aHJvdWdoIHByb3BzLlxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoUHJvcChlbCwgJ29uQ2xpY2snLCBudWxsLCBwcm9wcy5vbkNsaWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB2bm9kZSAvIGRpcmVjdGl2ZSBob29rc1xyXG4gICAgICAgICAgICBsZXQgdm5vZGVIb29rcztcclxuICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9va3MsIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdiZWZvcmVNb3VudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgodm5vZGVIb29rcyA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fCBkaXJzKSB7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm5vZGVIb29rcyAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdtb3VudGVkJyk7XHJcbiAgICAgICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY2hpbGRyZW5cclxuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovICYmXHJcbiAgICAgICAgICAgICAgICAvLyBza2lwIGlmIGVsZW1lbnQgaGFzIGlubmVySFRNTCAvIHRleHRDb250ZW50XHJcbiAgICAgICAgICAgICAgICAhKHByb3BzICYmIChwcm9wcy5pbm5lckhUTUwgfHwgcHJvcHMudGV4dENvbnRlbnQpKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4oZWwuZmlyc3RDaGlsZCwgdm5vZGUsIGVsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaGFzV2FybmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYEh5ZHJhdGlvbiBjaGlsZHJlbiBtaXNtYXRjaCBpbiA8JHt2bm9kZS50eXBlfT46IGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYHNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIG1vcmUgY2hpbGQgbm9kZXMgdGhhbiBjbGllbnQgdmRvbS5gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzV2FybmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIFNTUmVkIERPTSBjb250YWlucyBtb3JlIG5vZGVzIHRoYW4gaXQgc2hvdWxkLiBSZW1vdmUgdGhlbS5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXIgPSBuZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQgPSBuZXh0Lm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZShjdXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDggLyogVEVYVF9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsLnRleHRDb250ZW50ICE9PSB2bm9kZS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgSHlkcmF0aW9uIHRleHQgY29udGVudCBtaXNtYXRjaCBpbiA8JHt2bm9kZS50eXBlfT46XFxuYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgLSBDbGllbnQ6ICR7ZWwudGV4dENvbnRlbnR9XFxuYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgLSBTZXJ2ZXI6ICR7dm5vZGUuY2hpbGRyZW59YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSB2bm9kZS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWwubmV4dFNpYmxpbmc7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaHlkcmF0ZUNoaWxkcmVuID0gKG5vZGUsIHBhcmVudFZOb2RlLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXBhcmVudFZOb2RlLmR5bmFtaWNDaGlsZHJlbjtcclxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIGNvbnN0IGwgPSBjaGlsZHJlbi5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZub2RlID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICA/IGNoaWxkcmVuW2ldXHJcbiAgICAgICAgICAgICAgICA6IChjaGlsZHJlbltpXSA9IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKSk7XHJcbiAgICAgICAgICAgIGlmIChub2RlKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gaHlkcmF0ZU5vZGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXNXYXJuZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggaW4gPCR7Y29udGFpbmVyLnRhZ05hbWUudG9Mb3dlckNhc2UoKX0+OiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYHNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIGZld2VyIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzV2FybmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHRoZSBTU1JlZCBET00gZGlkbid0IGNvbnRhaW4gZW5vdWdoIG5vZGVzLiBNb3VudCB0aGUgbWlzc2luZyBvbmVzLlxyXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIoY29udGFpbmVyKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaHlkcmF0ZUZyYWdtZW50ID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xyXG4gICAgICAgIGNvbnN0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4obmV4dFNpYmxpbmcobm9kZSksIHZub2RlLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCk7XHJcbiAgICAgICAgaWYgKG5leHQgJiYgaXNDb21tZW50KG5leHQpICYmIG5leHQuZGF0YSA9PT0gJ10nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0U2libGluZygodm5vZGUuYW5jaG9yID0gbmV4dCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZnJhZ21lbnQgZGlkbid0IGh5ZHJhdGUgc3VjY2Vzc2Z1bGx5LCBzaW5jZSB3ZSBkaWRuJ3QgZ2V0IGEgZW5kIGFuY2hvclxyXG4gICAgICAgICAgICAvLyBiYWNrLiBUaGlzIHNob3VsZCBoYXZlIGxlZCB0byBub2RlL2NoaWxkcmVuIG1pc21hdGNoIHdhcm5pbmdzLlxyXG4gICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBhbmNob3IgaXMgbWlzc2luZywgd2UgbmVlZCB0byBjcmVhdGUgb25lIGFuZCBpbnNlcnQgaXRcclxuICAgICAgICAgICAgaW5zZXJ0KCh2bm9kZS5hbmNob3IgPSBjcmVhdGVDb21tZW50KGBdYCkpLCBjb250YWluZXIsIG5leHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV4dDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaGFuZGxlTWlzbWF0Y2ggPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzRnJhZ21lbnQpID0+IHtcclxuICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIHdhcm4oYEh5ZHJhdGlvbiBub2RlIG1pc21hdGNoOlxcbi0gQ2xpZW50IHZub2RlOmAsIHZub2RlLnR5cGUsIGBcXG4tIFNlcnZlciByZW5kZXJlZCBET006YCwgbm9kZSwgbm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBURVhUICovXHJcbiAgICAgICAgICAgICAgICA/IGAodGV4dClgXHJcbiAgICAgICAgICAgICAgICA6IGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09ICdbJ1xyXG4gICAgICAgICAgICAgICAgICAgID8gYChzdGFydCBvZiBmcmFnbWVudClgXHJcbiAgICAgICAgICAgICAgICAgICAgOiBgYCk7XHJcbiAgICAgICAgdm5vZGUuZWwgPSBudWxsO1xyXG4gICAgICAgIGlmIChpc0ZyYWdtZW50KSB7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBleGNlc3NpdmUgZnJhZ21lbnQgbm9kZXNcclxuICAgICAgICAgICAgY29uc3QgZW5kID0gbG9jYXRlQ2xvc2luZ0FzeW5jQW5jaG9yKG5vZGUpO1xyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dCAhPT0gZW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKG5leHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbmV4dCA9IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XHJcbiAgICAgICAgcmVtb3ZlKG5vZGUpO1xyXG4gICAgICAgIHBhdGNoKG51bGwsIHZub2RlLCBjb250YWluZXIsIG5leHQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHQ29udGFpbmVyKGNvbnRhaW5lcikpO1xyXG4gICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvciA9IChub2RlKSA9PiB7XHJcbiAgICAgICAgbGV0IG1hdGNoID0gMDtcclxuICAgICAgICB3aGlsZSAobm9kZSkge1xyXG4gICAgICAgICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgIGlmIChub2RlICYmIGlzQ29tbWVudChub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gJ1snKVxyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKys7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhID09PSAnXScpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2gtLTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV07XHJcbn1cblxubGV0IHN1cHBvcnRlZDtcclxubGV0IHBlcmY7XHJcbmZ1bmN0aW9uIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xyXG4gICAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcclxuICAgICAgICBwZXJmLm1hcmsoYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWApO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGVuZE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcclxuICAgIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRUYWcgPSBgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YDtcclxuICAgICAgICBjb25zdCBlbmRUYWcgPSBzdGFydFRhZyArIGA6ZW5kYDtcclxuICAgICAgICBwZXJmLm1hcmsoZW5kVGFnKTtcclxuICAgICAgICBwZXJmLm1lYXN1cmUoYDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIGluc3RhbmNlLnR5cGUpfT4gJHt0eXBlfWAsIHN0YXJ0VGFnLCBlbmRUYWcpO1xyXG4gICAgICAgIHBlcmYuY2xlYXJNYXJrcyhzdGFydFRhZyk7XHJcbiAgICAgICAgcGVyZi5jbGVhck1hcmtzKGVuZFRhZyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKSB7XHJcbiAgICBpZiAoc3VwcG9ydGVkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gc3VwcG9ydGVkO1xyXG4gICAgfVxyXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBlcmZvcm1hbmNlKSB7XHJcbiAgICAgICAgc3VwcG9ydGVkID0gdHJ1ZTtcclxuICAgICAgICBwZXJmID0gd2luZG93LnBlcmZvcm1hbmNlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc3VwcG9ydGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xyXG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcclxufVxuXG4vKipcclxuICogVGhpcyBpcyBvbmx5IGNhbGxlZCBpbiBlc20tYnVuZGxlciBidWlsZHMuXHJcbiAqIEl0IGlzIGNhbGxlZCB3aGVuIGEgcmVuZGVyZXIgaXMgY3JlYXRlZCwgaW4gYGJhc2VDcmVhdGVSZW5kZXJlcmAgc28gdGhhdFxyXG4gKiBpbXBvcnRpbmcgcnVudGltZS1jb3JlIGlzIHNpZGUtZWZmZWN0cyBmcmVlLlxyXG4gKlxyXG4gKiBpc3RhbmJ1bC1pZ25vcmUtbmV4dFxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdEZlYXR1cmVGbGFncygpIHtcclxuICAgIGxldCBuZWVkV2FybiA9IGZhbHNlO1xyXG4gICAgaWYgKHR5cGVvZiBfX1ZVRV9PUFRJT05TX0FQSV9fICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICBuZWVkV2FybiA9IHRydWU7XHJcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX09QVElPTlNfQVBJX18gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09ICdib29sZWFuJykge1xyXG4gICAgICAgIG5lZWRXYXJuID0gdHJ1ZTtcclxuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfUFJPRF9ERVZUT09MU19fID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG5lZWRXYXJuKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGBZb3UgYXJlIHJ1bm5pbmcgdGhlIGVzbS1idW5kbGVyIGJ1aWxkIG9mIFZ1ZS4gSXQgaXMgcmVjb21tZW5kZWQgdG8gYCArXHJcbiAgICAgICAgICAgIGBjb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGV4cGxpY2l0bHkgcmVwbGFjZSBmZWF0dXJlIGZsYWcgZ2xvYmFscyBgICtcclxuICAgICAgICAgICAgYHdpdGggYm9vbGVhbiBsaXRlcmFscyB0byBnZXQgcHJvcGVyIHRyZWUtc2hha2luZyBpbiB0aGUgZmluYWwgYnVuZGxlLiBgICtcclxuICAgICAgICAgICAgYFNlZSBodHRwOi8vbGluay52dWVqcy5vcmcvZmVhdHVyZS1mbGFncyBmb3IgbW9yZSBkZXRhaWxzLmApO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IHByb2RFZmZlY3RPcHRpb25zID0ge1xyXG4gICAgc2NoZWR1bGVyOiBxdWV1ZUpvYixcclxuICAgIC8vICMxODAxLCAjMjA0MyBjb21wb25lbnQgcmVuZGVyIGVmZmVjdHMgc2hvdWxkIGFsbG93IHJlY3Vyc2l2ZSB1cGRhdGVzXHJcbiAgICBhbGxvd1JlY3Vyc2U6IHRydWVcclxufTtcclxuZnVuY3Rpb24gY3JlYXRlRGV2RWZmZWN0T3B0aW9ucyhpbnN0YW5jZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBzY2hlZHVsZXI6IHF1ZXVlSm9iLFxyXG4gICAgICAgIGFsbG93UmVjdXJzZTogdHJ1ZSxcclxuICAgICAgICBvblRyYWNrOiBpbnN0YW5jZS5ydGMgPyBlID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0YywgZSkgOiB2b2lkIDAsXHJcbiAgICAgICAgb25UcmlnZ2VyOiBpbnN0YW5jZS5ydGcgPyBlID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0ZywgZSkgOiB2b2lkIDBcclxuICAgIH07XHJcbn1cclxuY29uc3QgcXVldWVQb3N0UmVuZGVyRWZmZWN0ID0gIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlXHJcbiAgICA7XHJcbmNvbnN0IHNldFJlZiA9IChyYXdSZWYsIG9sZFJhd1JlZiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUpID0+IHtcclxuICAgIGlmIChpc0FycmF5KHJhd1JlZikpIHtcclxuICAgICAgICByYXdSZWYuZm9yRWFjaCgociwgaSkgPT4gc2V0UmVmKHIsIG9sZFJhd1JlZiAmJiAoaXNBcnJheShvbGRSYXdSZWYpID8gb2xkUmF3UmVmW2ldIDogb2xkUmF3UmVmKSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgdmFsdWU7XHJcbiAgICBpZiAoIXZub2RlKSB7XHJcbiAgICAgICAgdmFsdWUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDQgLyogU1RBVEVGVUxfQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gdm5vZGUuY29tcG9uZW50LnByb3h5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFsdWUgPSB2bm9kZS5lbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IGk6IG93bmVyLCByOiByZWYgfSA9IHJhd1JlZjtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIW93bmVyKSB7XHJcbiAgICAgICAgd2FybihgTWlzc2luZyByZWYgb3duZXIgY29udGV4dC4gcmVmIGNhbm5vdCBiZSB1c2VkIG9uIGhvaXN0ZWQgdm5vZGVzLiBgICtcclxuICAgICAgICAgICAgYEEgdm5vZGUgd2l0aCByZWYgbXVzdCBiZSBjcmVhdGVkIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uLmApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IG9sZFJlZiA9IG9sZFJhd1JlZiAmJiBvbGRSYXdSZWYucjtcclxuICAgIGNvbnN0IHJlZnMgPSBvd25lci5yZWZzID09PSBFTVBUWV9PQkogPyAob3duZXIucmVmcyA9IHt9KSA6IG93bmVyLnJlZnM7XHJcbiAgICBjb25zdCBzZXR1cFN0YXRlID0gb3duZXIuc2V0dXBTdGF0ZTtcclxuICAgIC8vIHVuc2V0IG9sZCByZWZcclxuICAgIGlmIChvbGRSZWYgIT0gbnVsbCAmJiBvbGRSZWYgIT09IHJlZikge1xyXG4gICAgICAgIGlmIChpc1N0cmluZyhvbGRSZWYpKSB7XHJcbiAgICAgICAgICAgIHJlZnNbb2xkUmVmXSA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChoYXNPd24oc2V0dXBTdGF0ZSwgb2xkUmVmKSkge1xyXG4gICAgICAgICAgICAgICAgc2V0dXBTdGF0ZVtvbGRSZWZdID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc1JlZihvbGRSZWYpKSB7XHJcbiAgICAgICAgICAgIG9sZFJlZi52YWx1ZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGlzU3RyaW5nKHJlZikpIHtcclxuICAgICAgICBjb25zdCBkb1NldCA9ICgpID0+IHtcclxuICAgICAgICAgICAgcmVmc1tyZWZdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChoYXNPd24oc2V0dXBTdGF0ZSwgcmVmKSkge1xyXG4gICAgICAgICAgICAgICAgc2V0dXBTdGF0ZVtyZWZdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vICMxNzg5OiBmb3Igbm9uLW51bGwgdmFsdWVzLCBzZXQgdGhlbSBhZnRlciByZW5kZXJcclxuICAgICAgICAvLyBudWxsIHZhbHVlcyBtZWFucyB0aGlzIGlzIHVubW91bnQgYW5kIGl0IHNob3VsZCBub3Qgb3ZlcndyaXRlIGFub3RoZXJcclxuICAgICAgICAvLyByZWYgd2l0aCB0aGUgc2FtZSBrZXlcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgZG9TZXQuaWQgPSAtMTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRvU2V0LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb1NldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUmVmKHJlZikpIHtcclxuICAgICAgICBjb25zdCBkb1NldCA9ICgpID0+IHtcclxuICAgICAgICAgICAgcmVmLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgZG9TZXQuaWQgPSAtMTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRvU2V0LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb1NldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocmVmKSkge1xyXG4gICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhyZWYsIHBhcmVudENvbXBvbmVudCwgMTIgLyogRlVOQ1RJT05fUkVGICovLCBbXHJcbiAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICByZWZzXHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKCdJbnZhbGlkIHRlbXBsYXRlIHJlZiB0eXBlOicsIHZhbHVlLCBgKCR7dHlwZW9mIHZhbHVlfSlgKTtcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIFRoZSBjcmVhdGVSZW5kZXJlciBmdW5jdGlvbiBhY2NlcHRzIHR3byBnZW5lcmljIGFyZ3VtZW50czpcclxuICogSG9zdE5vZGUgYW5kIEhvc3RFbGVtZW50LCBjb3JyZXNwb25kaW5nIHRvIE5vZGUgYW5kIEVsZW1lbnQgdHlwZXMgaW4gdGhlXHJcbiAqIGhvc3QgZW52aXJvbm1lbnQuIEZvciBleGFtcGxlLCBmb3IgcnVudGltZS1kb20sIEhvc3ROb2RlIHdvdWxkIGJlIHRoZSBET01cclxuICogYE5vZGVgIGludGVyZmFjZSBhbmQgSG9zdEVsZW1lbnQgd291bGQgYmUgdGhlIERPTSBgRWxlbWVudGAgaW50ZXJmYWNlLlxyXG4gKlxyXG4gKiBDdXN0b20gcmVuZGVyZXJzIGNhbiBwYXNzIGluIHRoZSBwbGF0Zm9ybSBzcGVjaWZpYyB0eXBlcyBsaWtlIHRoaXM6XHJcbiAqXHJcbiAqIGBgYCBqc1xyXG4gKiBjb25zdCB7IHJlbmRlciwgY3JlYXRlQXBwIH0gPSBjcmVhdGVSZW5kZXJlcjxOb2RlLCBFbGVtZW50Pih7XHJcbiAqICAgcGF0Y2hQcm9wLFxyXG4gKiAgIC4uLm5vZGVPcHNcclxuICogfSlcclxuICogYGBgXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJlcihvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpO1xyXG59XHJcbi8vIFNlcGFyYXRlIEFQSSBmb3IgY3JlYXRpbmcgaHlkcmF0aW9uLWVuYWJsZWQgcmVuZGVyZXIuXHJcbi8vIEh5ZHJhdGlvbiBsb2dpYyBpcyBvbmx5IHVzZWQgd2hlbiBjYWxsaW5nIHRoaXMgZnVuY3Rpb24sIG1ha2luZyBpdFxyXG4vLyB0cmVlLXNoYWthYmxlLlxyXG5mdW5jdGlvbiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMsIGNyZWF0ZUh5ZHJhdGlvbkZ1bmN0aW9ucyk7XHJcbn1cclxuLy8gaW1wbGVtZW50YXRpb25cclxuZnVuY3Rpb24gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMsIGNyZWF0ZUh5ZHJhdGlvbkZucykge1xyXG4gICAgLy8gY29tcGlsZS10aW1lIGZlYXR1cmUgZmxhZ3MgY2hlY2tcclxuICAgIHtcclxuICAgICAgICBpbml0RmVhdHVyZUZsYWdzKCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IGluc2VydDogaG9zdEluc2VydCwgcmVtb3ZlOiBob3N0UmVtb3ZlLCBwYXRjaFByb3A6IGhvc3RQYXRjaFByb3AsIGZvcmNlUGF0Y2hQcm9wOiBob3N0Rm9yY2VQYXRjaFByb3AsIGNyZWF0ZUVsZW1lbnQ6IGhvc3RDcmVhdGVFbGVtZW50LCBjcmVhdGVUZXh0OiBob3N0Q3JlYXRlVGV4dCwgY3JlYXRlQ29tbWVudDogaG9zdENyZWF0ZUNvbW1lbnQsIHNldFRleHQ6IGhvc3RTZXRUZXh0LCBzZXRFbGVtZW50VGV4dDogaG9zdFNldEVsZW1lbnRUZXh0LCBwYXJlbnROb2RlOiBob3N0UGFyZW50Tm9kZSwgbmV4dFNpYmxpbmc6IGhvc3ROZXh0U2libGluZywgc2V0U2NvcGVJZDogaG9zdFNldFNjb3BlSWQgPSBOT09QLCBjbG9uZU5vZGU6IGhvc3RDbG9uZU5vZGUsIGluc2VydFN0YXRpY0NvbnRlbnQ6IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50IH0gPSBvcHRpb25zO1xyXG4gICAgLy8gTm90ZTogZnVuY3Rpb25zIGluc2lkZSB0aGlzIGNsb3N1cmUgc2hvdWxkIHVzZSBgY29uc3QgeHh4ID0gKCkgPT4ge31gXHJcbiAgICAvLyBzdHlsZSBpbiBvcmRlciB0byBwcmV2ZW50IGJlaW5nIGlubGluZWQgYnkgbWluaWZpZXJzLlxyXG4gICAgY29uc3QgcGF0Y2ggPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciA9IG51bGwsIHBhcmVudENvbXBvbmVudCA9IG51bGwsIHBhcmVudFN1c3BlbnNlID0gbnVsbCwgaXNTVkcgPSBmYWxzZSwgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcclxuICAgICAgICAvLyBwYXRjaGluZyAmIG5vdCBzYW1lIHR5cGUsIHVubW91bnQgb2xkIHRyZWVcclxuICAgICAgICBpZiAobjEgJiYgIWlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XHJcbiAgICAgICAgICAgIGFuY2hvciA9IGdldE5leHRIb3N0Tm9kZShuMSk7XHJcbiAgICAgICAgICAgIHVubW91bnQobjEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICBuMSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuMi5wYXRjaEZsYWcgPT09IC0yIC8qIEJBSUwgKi8pIHtcclxuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG4yLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcgfSA9IG4yO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFRleHQ6XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzVGV4dChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzQ29tbWVudE5vZGUobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTdGF0aWM6XHJcbiAgICAgICAgICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdW50U3RhdGljTm9kZShuMiwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoU3RhdGljTm9kZShuMSwgbjIsIGNvbnRhaW5lciwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRnJhZ21lbnQ6XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzRnJhZ21lbnQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRWxlbWVudChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0NvbXBvbmVudChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZS5wcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQsIGludGVybmFscyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICggc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZS5wcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQsIGludGVybmFscyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKCdJbnZhbGlkIFZOb2RlIHR5cGU6JywgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2V0IHJlZlxyXG4gICAgICAgIGlmIChyZWYgIT0gbnVsbCAmJiBwYXJlbnRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgc2V0UmVmKHJlZiwgbjEgJiYgbjEucmVmLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuMik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHByb2Nlc3NUZXh0ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcclxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KChuMi5lbCA9IGhvc3RDcmVhdGVUZXh0KG4yLmNoaWxkcmVuKSksIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsID0gKG4yLmVsID0gbjEuZWwpO1xyXG4gICAgICAgICAgICBpZiAobjIuY2hpbGRyZW4gIT09IG4xLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBob3N0U2V0VGV4dChlbCwgbjIuY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHByb2Nlc3NDb21tZW50Tm9kZSA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgaG9zdEluc2VydCgobjIuZWwgPSBob3N0Q3JlYXRlQ29tbWVudChuMi5jaGlsZHJlbiB8fCAnJykpLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB0aGVyZSdzIG5vIHN1cHBvcnQgZm9yIGR5bmFtaWMgY29tbWVudHNcclxuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbW91bnRTdGF0aWNOb2RlID0gKG4yLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpID0+IHtcclxuICAgICAgICBbbjIuZWwsIG4yLmFuY2hvcl0gPSBob3N0SW5zZXJ0U3RhdGljQ29udGVudChuMi5jaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERldiAvIEhNUiBvbmx5XHJcbiAgICAgKi9cclxuICAgIGNvbnN0IHBhdGNoU3RhdGljTm9kZSA9IChuMSwgbjIsIGNvbnRhaW5lciwgaXNTVkcpID0+IHtcclxuICAgICAgICAvLyBzdGF0aWMgbm9kZXMgYXJlIG9ubHkgcGF0Y2hlZCBkdXJpbmcgZGV2IGZvciBITVJcclxuICAgICAgICBpZiAobjIuY2hpbGRyZW4gIT09IG4xLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IGhvc3ROZXh0U2libGluZyhuMS5hbmNob3IpO1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmdcclxuICAgICAgICAgICAgcmVtb3ZlU3RhdGljTm9kZShuMSk7XHJcbiAgICAgICAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KG4yLmNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcclxuICAgICAgICAgICAgbjIuYW5jaG9yID0gbjEuYW5jaG9yO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERldiAvIEhNUiBvbmx5XHJcbiAgICAgKi9cclxuICAgIGNvbnN0IG1vdmVTdGF0aWNOb2RlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xyXG4gICAgICAgIGxldCBjdXIgPSB2bm9kZS5lbDtcclxuICAgICAgICBjb25zdCBlbmQgPSB2bm9kZS5hbmNob3I7XHJcbiAgICAgICAgd2hpbGUgKGN1ciAmJiBjdXIgIT09IGVuZCkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGN1cik7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoY3VyLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIGN1ciA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RJbnNlcnQoZW5kLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZXYgLyBITVIgb25seVxyXG4gICAgICovXHJcbiAgICBjb25zdCByZW1vdmVTdGF0aWNOb2RlID0gKHZub2RlKSA9PiB7XHJcbiAgICAgICAgbGV0IGN1ciA9IHZub2RlLmVsO1xyXG4gICAgICAgIHdoaWxlIChjdXIgJiYgY3VyICE9PSB2bm9kZS5hbmNob3IpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV4dCA9IGhvc3ROZXh0U2libGluZyhjdXIpO1xyXG4gICAgICAgICAgICBob3N0UmVtb3ZlKGN1cik7XHJcbiAgICAgICAgICAgIGN1ciA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RSZW1vdmUodm5vZGUuYW5jaG9yKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9jZXNzRWxlbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgaXNTVkcgPSBpc1NWRyB8fCBuMi50eXBlID09PSAnc3ZnJztcclxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBtb3VudEVsZW1lbnQobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGNoRWxlbWVudChuMSwgbjIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudEVsZW1lbnQgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgbGV0IGVsO1xyXG4gICAgICAgIGxldCB2bm9kZUhvb2s7XHJcbiAgICAgICAgY29uc3QgeyB0eXBlLCBwcm9wcywgc2hhcGVGbGFnLCB0cmFuc2l0aW9uLCBzY29wZUlkLCBwYXRjaEZsYWcsIGRpcnMgfSA9IHZub2RlO1xyXG4gICAgICAgIGlmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIHZub2RlLmVsICYmXHJcbiAgICAgICAgICAgIGhvc3RDbG9uZU5vZGUgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICBwYXRjaEZsYWcgPT09IC0xIC8qIEhPSVNURUQgKi8pIHtcclxuICAgICAgICAgICAgLy8gSWYgYSB2bm9kZSBoYXMgbm9uLW51bGwgZWwsIGl0IG1lYW5zIGl0J3MgYmVpbmcgcmV1c2VkLlxyXG4gICAgICAgICAgICAvLyBPbmx5IHN0YXRpYyB2bm9kZXMgY2FuIGJlIHJldXNlZCwgc28gaXRzIG1vdW50ZWQgRE9NIG5vZGVzIHNob3VsZCBiZVxyXG4gICAgICAgICAgICAvLyBleGFjdGx5IHRoZSBzYW1lLCBhbmQgd2UgY2FuIHNpbXBseSBkbyBhIGNsb25lIGhlcmUuXHJcbiAgICAgICAgICAgIC8vIG9ubHkgZG8gdGhpcyBpbiBwcm9kdWN0aW9uIHNpbmNlIGNsb25lZCB0cmVlcyBjYW5ub3QgYmUgSE1SIHVwZGF0ZWQuXHJcbiAgICAgICAgICAgIGVsID0gdm5vZGUuZWwgPSBob3N0Q2xvbmVOb2RlKHZub2RlLmVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsID0gdm5vZGUuZWwgPSBob3N0Q3JlYXRlRWxlbWVudCh2bm9kZS50eXBlLCBpc1NWRywgcHJvcHMgJiYgcHJvcHMuaXMpO1xyXG4gICAgICAgICAgICAvLyBtb3VudCBjaGlsZHJlbiBmaXJzdCwgc2luY2Ugc29tZSBwcm9wcyBtYXkgcmVseSBvbiBjaGlsZCBjb250ZW50XHJcbiAgICAgICAgICAgIC8vIGJlaW5nIGFscmVhZHkgcmVuZGVyZWQsIGUuZy4gYDxzZWxlY3QgdmFsdWU+YFxyXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIHZub2RlLmNoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgbW91bnRDaGlsZHJlbih2bm9kZS5jaGlsZHJlbiwgZWwsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHICYmIHR5cGUgIT09ICdmb3JlaWduT2JqZWN0Jywgb3B0aW1pemVkIHx8ICEhdm5vZGUuZHluYW1pY0NoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGlycykge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnY3JlYXRlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHByb3BzXHJcbiAgICAgICAgICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBudWxsLCBwcm9wc1trZXldLCBpc1NWRywgdm5vZGUuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gc2NvcGVJZFxyXG4gICAgICAgICAgICBzZXRTY29wZUlkKGVsLCBzY29wZUlkLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnX192bm9kZScsIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB2bm9kZSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWwsICdfX3Z1ZVBhcmVudENvbXBvbmVudCcsIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBwYXJlbnRDb21wb25lbnQsXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnYmVmb3JlTW91bnQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gIzE1ODMgRm9yIGluc2lkZSBzdXNwZW5zZSArIHN1c3BlbnNlIG5vdCByZXNvbHZlZCBjYXNlLCBlbnRlciBob29rIHNob3VsZCBjYWxsIHdoZW4gc3VzcGVuc2UgcmVzb2x2ZWRcclxuICAgICAgICAvLyAjMTY4OSBGb3IgaW5zaWRlIHN1c3BlbnNlICsgc3VzcGVuc2UgcmVzb2x2ZWQgY2FzZSwganVzdCBjYWxsIGl0XHJcbiAgICAgICAgY29uc3QgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSAoIXBhcmVudFN1c3BlbnNlIHx8IChwYXJlbnRTdXNwZW5zZSAmJiAhcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCkpICYmXHJcbiAgICAgICAgICAgIHRyYW5zaXRpb24gJiZcclxuICAgICAgICAgICAgIXRyYW5zaXRpb24ucGVyc2lzdGVkO1xyXG4gICAgICAgIGlmIChuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgIGlmICgodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8XHJcbiAgICAgICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzIHx8XHJcbiAgICAgICAgICAgIGRpcnMpIHtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzICYmIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xyXG4gICAgICAgICAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdtb3VudGVkJyk7XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc2V0U2NvcGVJZCA9IChlbCwgc2NvcGVJZCwgdm5vZGUsIHBhcmVudENvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChzY29wZUlkKSB7XHJcbiAgICAgICAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzY29wZUlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmVudENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBjb25zdCB0cmVlT3duZXJJZCA9IHBhcmVudENvbXBvbmVudC50eXBlLl9fc2NvcGVJZDtcclxuICAgICAgICAgICAgLy8gdm5vZGUncyBvd24gc2NvcGVJZCBhbmQgdGhlIGN1cnJlbnQgcGF0Y2hlZCBjb21wb25lbnQncyBzY29wZUlkIGlzXHJcbiAgICAgICAgICAgIC8vIGRpZmZlcmVudCAtIHRoaXMgaXMgYSBzbG90IGNvbnRlbnQgbm9kZS5cclxuICAgICAgICAgICAgaWYgKHRyZWVPd25lcklkICYmIHRyZWVPd25lcklkICE9PSBzY29wZUlkKSB7XHJcbiAgICAgICAgICAgICAgICBob3N0U2V0U2NvcGVJZChlbCwgdHJlZU93bmVySWQgKyAnLXMnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgc3ViVHJlZSA9IHBhcmVudENvbXBvbmVudC5zdWJUcmVlO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHN1YlRyZWUudHlwZSA9PT0gRnJhZ21lbnQpIHtcclxuICAgICAgICAgICAgICAgIHN1YlRyZWUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclNpbmdsZVJvb3Qoc3ViVHJlZS5jaGlsZHJlbikgfHwgc3ViVHJlZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodm5vZGUgPT09IHN1YlRyZWUpIHtcclxuICAgICAgICAgICAgICAgIHNldFNjb3BlSWQoZWwsIHBhcmVudENvbXBvbmVudC52bm9kZS5zY29wZUlkLCBwYXJlbnRDb21wb25lbnQudm5vZGUsIHBhcmVudENvbXBvbmVudC5wYXJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkLCBzdGFydCA9IDApID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IChjaGlsZHJlbltpXSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjaGlsZHJlbltpXSlcclxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pKTtcclxuICAgICAgICAgICAgcGF0Y2gobnVsbCwgY2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcGF0Y2hFbGVtZW50ID0gKG4xLCBuMiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVsID0gKG4yLmVsID0gbjEuZWwpO1xyXG4gICAgICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBkaXJzIH0gPSBuMjtcclxuICAgICAgICAvLyAjMTQyNiB0YWtlIHRoZSBvbGQgdm5vZGUncyBwYXRjaCBmbGFnIGludG8gYWNjb3VudCBzaW5jZSB1c2VyIG1heSBjbG9uZSBhXHJcbiAgICAgICAgLy8gY29tcGlsZXItZ2VuZXJhdGVkIHZub2RlLCB3aGljaCBkZS1vcHRzIHRvIEZVTExfUFJPUFNcclxuICAgICAgICBwYXRjaEZsYWcgfD0gbjEucGF0Y2hGbGFnICYgMTYgLyogRlVMTF9QUk9QUyAqLztcclxuICAgICAgICBjb25zdCBvbGRQcm9wcyA9IG4xLnByb3BzIHx8IEVNUFRZX09CSjtcclxuICAgICAgICBjb25zdCBuZXdQcm9wcyA9IG4yLnByb3BzIHx8IEVNUFRZX09CSjtcclxuICAgICAgICBsZXQgdm5vZGVIb29rO1xyXG4gICAgICAgIGlmICgodm5vZGVIb29rID0gbmV3UHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCBuMiwgbjEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGlycykge1xyXG4gICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKG4yLCBuMSwgcGFyZW50Q29tcG9uZW50LCAnYmVmb3JlVXBkYXRlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgKHRydWUgKSAmJiBpc0htclVwZGF0aW5nKSB7XHJcbiAgICAgICAgICAgIC8vIEhNUiB1cGRhdGVkLCBmb3JjZSBmdWxsIGRpZmZcclxuICAgICAgICAgICAgcGF0Y2hGbGFnID0gMDtcclxuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIHRoZSBwcmVzZW5jZSBvZiBhIHBhdGNoRmxhZyBtZWFucyB0aGlzIGVsZW1lbnQncyByZW5kZXIgY29kZSB3YXNcclxuICAgICAgICAgICAgLy8gZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciBhbmQgY2FuIHRha2UgdGhlIGZhc3QgcGF0aC5cclxuICAgICAgICAgICAgLy8gaW4gdGhpcyBwYXRoIG9sZCBub2RlIGFuZCBuZXcgbm9kZSBhcmUgZ3VhcmFudGVlZCB0byBoYXZlIHRoZSBzYW1lIHNoYXBlXHJcbiAgICAgICAgICAgIC8vIChpLmUuIGF0IHRoZSBleGFjdCBzYW1lIHBvc2l0aW9uIGluIHRoZSBzb3VyY2UgdGVtcGxhdGUpXHJcbiAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiAxNiAvKiBGVUxMX1BST1BTICovKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBlbGVtZW50IHByb3BzIGNvbnRhaW4gZHluYW1pYyBrZXlzLCBmdWxsIGRpZmYgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICBwYXRjaFByb3BzKGVsLCBuMiwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjbGFzc1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBmbGFnIGlzIG1hdGNoZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgZHluYW1pYyBjbGFzcyBiaW5kaW5ncy5cclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiAyIC8qIENMQVNTICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFByb3BzLmNsYXNzICE9PSBuZXdQcm9wcy5jbGFzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCAnY2xhc3MnLCBudWxsLCBuZXdQcm9wcy5jbGFzcywgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHN0eWxlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBkeW5hbWljIHN0eWxlIGJpbmRpbmdzXHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgNCAvKiBTVFlMRSAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsICdzdHlsZScsIG9sZFByb3BzLnN0eWxlLCBuZXdQcm9wcy5zdHlsZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gcHJvcHNcclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgZmxhZyBpcyBtYXRjaGVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGR5bmFtaWMgcHJvcC9hdHRyIGJpbmRpbmdzXHJcbiAgICAgICAgICAgICAgICAvLyBvdGhlciB0aGFuIGNsYXNzIGFuZCBzdHlsZS4gVGhlIGtleXMgb2YgZHluYW1pYyBwcm9wL2F0dHJzIGFyZSBzYXZlZCBmb3JcclxuICAgICAgICAgICAgICAgIC8vIGZhc3RlciBpdGVyYXRpb24uXHJcbiAgICAgICAgICAgICAgICAvLyBOb3RlIGR5bmFtaWMga2V5cyBsaWtlIDpbZm9vXT1cImJhclwiIHdpbGwgY2F1c2UgdGhpcyBvcHRpbWl6YXRpb24gdG9cclxuICAgICAgICAgICAgICAgIC8vIGJhaWwgb3V0IGFuZCBnbyB0aHJvdWdoIGEgZnVsbCBkaWZmIGJlY2F1c2Ugd2UgbmVlZCB0byB1bnNldCB0aGUgb2xkIGtleVxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDggLyogUFJPUFMgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZmxhZyBpcyBwcmVzZW50IHRoZW4gZHluYW1pY1Byb3BzIG11c3QgYmUgbm9uLW51bGxcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wc1RvVXBkYXRlID0gbjIuZHluYW1pY1Byb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwcm9wc1RvVXBkYXRlW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2ID0gb2xkUHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ld1Byb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSBwcmV2IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaG9zdEZvcmNlUGF0Y2hQcm9wICYmIGhvc3RGb3JjZVBhdGNoUHJvcChlbCwga2V5KSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgcHJldiwgbmV4dCwgaXNTVkcsIG4xLmNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHRleHRcclxuICAgICAgICAgICAgLy8gVGhpcyBmbGFnIGlzIG1hdGNoZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgb25seSBkeW5hbWljIHRleHQgY2hpbGRyZW4uXHJcbiAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiAxIC8qIFRFWFQgKi8pIHtcclxuICAgICAgICAgICAgICAgIGlmIChuMS5jaGlsZHJlbiAhPT0gbjIuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIG4yLmNoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghb3B0aW1pemVkICYmIGR5bmFtaWNDaGlsZHJlbiA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIHVub3B0aW1pemVkLCBmdWxsIGRpZmZcclxuICAgICAgICAgICAgcGF0Y2hQcm9wcyhlbCwgbjIsIG9sZFByb3BzLCBuZXdQcm9wcywgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhcmVDaGlsZHJlblNWRyA9IGlzU1ZHICYmIG4yLnR5cGUgIT09ICdmb3JlaWduT2JqZWN0JztcclxuICAgICAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihuMS5keW5hbWljQ2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiwgZWwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGFyZUNoaWxkcmVuU1ZHKTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgKHRydWUgKSAmJlxyXG4gICAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50ICYmXHJcbiAgICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQudHlwZS5fX2htcklkKSB7XHJcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIW9wdGltaXplZCkge1xyXG4gICAgICAgICAgICAvLyBmdWxsIGRpZmZcclxuICAgICAgICAgICAgcGF0Y2hDaGlsZHJlbihuMSwgbjIsIGVsLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBhcmVDaGlsZHJlblNWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgodm5vZGVIb29rID0gbmV3UHJvcHMub25Wbm9kZVVwZGF0ZWQpIHx8IGRpcnMpIHtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIG4yLCBuMSk7XHJcbiAgICAgICAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sobjIsIG4xLCBwYXJlbnRDb21wb25lbnQsICd1cGRhdGVkJyk7XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gVGhlIGZhc3QgcGF0aCBmb3IgYmxvY2tzLlxyXG4gICAgY29uc3QgcGF0Y2hCbG9ja0NoaWxkcmVuID0gKG9sZENoaWxkcmVuLCBuZXdDaGlsZHJlbiwgZmFsbGJhY2tDb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBvbGRWTm9kZSA9IG9sZENoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdWTm9kZSA9IG5ld0NoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIGNvbnRhaW5lciAocGFyZW50IGVsZW1lbnQpIGZvciB0aGUgcGF0Y2guXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IFxyXG4gICAgICAgICAgICAvLyAtIEluIHRoZSBjYXNlIG9mIGEgRnJhZ21lbnQsIHdlIG5lZWQgdG8gcHJvdmlkZSB0aGUgYWN0dWFsIHBhcmVudFxyXG4gICAgICAgICAgICAvLyBvZiB0aGUgRnJhZ21lbnQgaXRzZWxmIHNvIGl0IGNhbiBtb3ZlIGl0cyBjaGlsZHJlbi5cclxuICAgICAgICAgICAgb2xkVk5vZGUudHlwZSA9PT0gRnJhZ21lbnQgfHxcclxuICAgICAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgZGlmZmVyZW50IG5vZGVzLCB0aGVyZSBpcyBnb2luZyB0byBiZSBhIHJlcGxhY2VtZW50XHJcbiAgICAgICAgICAgICAgICAvLyB3aGljaCBhbHNvIHJlcXVpcmVzIHRoZSBjb3JyZWN0IHBhcmVudCBjb250YWluZXJcclxuICAgICAgICAgICAgICAgICFpc1NhbWVWTm9kZVR5cGUob2xkVk5vZGUsIG5ld1ZOb2RlKSB8fFxyXG4gICAgICAgICAgICAgICAgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIGNvbXBvbmVudCwgaXQgY291bGQgY29udGFpbiBhbnl0aGluZy5cclxuICAgICAgICAgICAgICAgIG9sZFZOb2RlLnNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovIHx8XHJcbiAgICAgICAgICAgICAgICBvbGRWTm9kZS5zaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqL1xyXG4gICAgICAgICAgICAgICAgPyBob3N0UGFyZW50Tm9kZShvbGRWTm9kZS5lbClcclxuICAgICAgICAgICAgICAgIDogLy8gSW4gb3RoZXIgY2FzZXMsIHRoZSBwYXJlbnQgY29udGFpbmVyIGlzIG5vdCBhY3R1YWxseSB1c2VkIHNvIHdlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBwYXNzIHRoZSBibG9jayBlbGVtZW50IGhlcmUgdG8gYXZvaWQgYSBET00gcGFyZW50Tm9kZSBjYWxsLlxyXG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrQ29udGFpbmVyO1xyXG4gICAgICAgICAgICBwYXRjaChvbGRWTm9kZSwgbmV3Vk5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaFByb3BzID0gKGVsLCB2bm9kZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3UHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIC8vIGVtcHR5IHN0cmluZyBpcyBub3QgdmFsaWQgcHJvcFxyXG4gICAgICAgICAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHByZXYgfHxcclxuICAgICAgICAgICAgICAgICAgICAoaG9zdEZvcmNlUGF0Y2hQcm9wICYmIGhvc3RGb3JjZVBhdGNoUHJvcChlbCwga2V5KSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIGlzU1ZHLCB2bm9kZS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2xkUHJvcHMgIT09IEVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2xkUHJvcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcm9wKGtleSkgJiYgIShrZXkgaW4gbmV3UHJvcHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgb2xkUHJvcHNba2V5XSwgbnVsbCwgaXNTVkcsIHZub2RlLmNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9jZXNzRnJhZ21lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZyYWdtZW50U3RhcnRBbmNob3IgPSAobjIuZWwgPSBuMSA/IG4xLmVsIDogaG9zdENyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICBjb25zdCBmcmFnbWVudEVuZEFuY2hvciA9IChuMi5hbmNob3IgPSBuMSA/IG4xLmFuY2hvciA6IGhvc3RDcmVhdGVUZXh0KCcnKSk7XHJcbiAgICAgICAgbGV0IHsgcGF0Y2hGbGFnLCBkeW5hbWljQ2hpbGRyZW4gfSA9IG4yO1xyXG4gICAgICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XHJcbiAgICAgICAgICAgIG9wdGltaXplZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNIbXJVcGRhdGluZykge1xyXG4gICAgICAgICAgICAvLyBITVIgdXBkYXRlZCwgZm9yY2UgZnVsbCBkaWZmXHJcbiAgICAgICAgICAgIHBhdGNoRmxhZyA9IDA7XHJcbiAgICAgICAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGZyYWdtZW50U3RhcnRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgaG9zdEluc2VydChmcmFnbWVudEVuZEFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICAvLyBhIGZyYWdtZW50IGNhbiBvbmx5IGhhdmUgYXJyYXkgY2hpbGRyZW5cclxuICAgICAgICAgICAgLy8gc2luY2UgdGhleSBhcmUgZWl0aGVyIGdlbmVyYXRlZCBieSB0aGUgY29tcGlsZXIsIG9yIGltcGxpY2l0bHkgY3JlYXRlZFxyXG4gICAgICAgICAgICAvLyBmcm9tIGFycmF5cy5cclxuICAgICAgICAgICAgbW91bnRDaGlsZHJlbihuMi5jaGlsZHJlbiwgY29udGFpbmVyLCBmcmFnbWVudEVuZEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocGF0Y2hGbGFnID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgcGF0Y2hGbGFnICYgNjQgLyogU1RBQkxFX0ZSQUdNRU5UICovICYmXHJcbiAgICAgICAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIC8vIGEgc3RhYmxlIGZyYWdtZW50ICh0ZW1wbGF0ZSByb290IG9yIDx0ZW1wbGF0ZSB2LWZvcj4pIGRvZXNuJ3QgbmVlZCB0b1xyXG4gICAgICAgICAgICAgICAgLy8gcGF0Y2ggY2hpbGRyZW4gb3JkZXIsIGJ1dCBpdCBtYXkgY29udGFpbiBkeW5hbWljQ2hpbGRyZW4uXHJcbiAgICAgICAgICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4objEuZHluYW1pY0NoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4sIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBwYXJlbnRDb21wb25lbnQgJiYgcGFyZW50Q29tcG9uZW50LnR5cGUuX19obXJJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgLy8gIzIwODAgaWYgdGhlIHN0YWJsZSBmcmFnbWVudCBoYXMgYSBrZXksIGl0J3MgYSA8dGVtcGxhdGUgdi1mb3I+IHRoYXQgbWF5XHJcbiAgICAgICAgICAgICAgICAvLyAgZ2V0IG1vdmVkIGFyb3VuZC4gTWFrZSBzdXJlIGFsbCByb290IGxldmVsIHZub2RlcyBpbmhlcml0IGVsLlxyXG4gICAgICAgICAgICAgICAgLy8gIzIxMzQgb3IgaWYgaXQncyBhIGNvbXBvbmVudCByb290LCBpdCBtYXkgYWxzbyBnZXQgbW92ZWQgYXJvdW5kXHJcbiAgICAgICAgICAgICAgICAvLyBhcyB0aGUgY29tcG9uZW50IGlzIGJlaW5nIG1vdmVkLlxyXG4gICAgICAgICAgICAgICAgbjIua2V5ICE9IG51bGwgfHxcclxuICAgICAgICAgICAgICAgICAgICAocGFyZW50Q29tcG9uZW50ICYmIG4yID09PSBwYXJlbnRDb21wb25lbnQuc3ViVHJlZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgdHJ1ZSAvKiBzaGFsbG93ICovKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGtleWVkIC8gdW5rZXllZCwgb3IgbWFudWFsIGZyYWdtZW50cy5cclxuICAgICAgICAgICAgICAgIC8vIGZvciBrZXllZCAmIHVua2V5ZWQsIHNpbmNlIHRoZXkgYXJlIGNvbXBpbGVyIGdlbmVyYXRlZCBmcm9tIHYtZm9yLFxyXG4gICAgICAgICAgICAgICAgLy8gZWFjaCBjaGlsZCBpcyBndWFyYW50ZWVkIHRvIGJlIGEgYmxvY2sgc28gdGhlIGZyYWdtZW50IHdpbGwgbmV2ZXJcclxuICAgICAgICAgICAgICAgIC8vIGhhdmUgZHluYW1pY0NoaWxkcmVuLlxyXG4gICAgICAgICAgICAgICAgcGF0Y2hDaGlsZHJlbihuMSwgbjIsIGNvbnRhaW5lciwgZnJhZ21lbnRFbmRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHByb2Nlc3NDb21wb25lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChuMi5zaGFwZUZsYWcgJiA1MTIgLyogQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC5jdHguYWN0aXZhdGUobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1vdW50Q29tcG9uZW50KG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG1vdW50Q29tcG9uZW50ID0gKGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IChpbml0aWFsVk5vZGUuY29tcG9uZW50ID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UoaW5pdGlhbFZOb2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKSk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAodHJ1ZSApICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xyXG4gICAgICAgICAgICByZWdpc3RlckhNUihpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGluaXRpYWxWTm9kZSk7XHJcbiAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGluamVjdCByZW5kZXJlciBpbnRlcm5hbHMgZm9yIGtlZXBBbGl2ZVxyXG4gICAgICAgIGlmIChpc0tlZXBBbGl2ZShpbml0aWFsVk5vZGUpKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmN0eC5yZW5kZXJlciA9IGludGVybmFscztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcmVzb2x2ZSBwcm9wcyBhbmQgc2xvdHMgZm9yIHNldHVwIGNvbnRleHRcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGluaXRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0dXBDb21wb25lbnQoaW5zdGFuY2UpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGluaXRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2V0dXAoKSBpcyBhc3luYy4gVGhpcyBjb21wb25lbnQgcmVsaWVzIG9uIGFzeW5jIGxvZ2ljIHRvIGJlIHJlc29sdmVkXHJcbiAgICAgICAgLy8gYmVmb3JlIHByb2NlZWRpbmdcclxuICAgICAgICBpZiAoIGluc3RhbmNlLmFzeW5jRGVwKSB7XHJcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnJlZ2lzdGVyRGVwKGluc3RhbmNlLCBzZXR1cFJlbmRlckVmZmVjdCk7XHJcbiAgICAgICAgICAgIC8vIEdpdmUgaXQgYSBwbGFjZWhvbGRlciBpZiB0aGlzIGlzIG5vdCBoeWRyYXRpb25cclxuICAgICAgICAgICAgLy8gVE9ETyBoYW5kbGUgc2VsZi1kZWZpbmVkIGZhbGxiYWNrXHJcbiAgICAgICAgICAgIGlmICghaW5pdGlhbFZOb2RlLmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IChpbnN0YW5jZS5zdWJUcmVlID0gY3JlYXRlVk5vZGUoQ29tbWVudCkpO1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG51bGwsIHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXR1cFJlbmRlckVmZmVjdChpbnN0YW5jZSwgaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcclxuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVwZGF0ZUNvbXBvbmVudCA9IChuMSwgbjIsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gKG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudCk7XHJcbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCkpIHtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuYXN5bmNEZXAgJiZcclxuICAgICAgICAgICAgICAgICFpbnN0YW5jZS5hc3luY1Jlc29sdmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhc3luYyAmIHN0aWxsIHBlbmRpbmcgLSBqdXN0IHVwZGF0ZSBwcm9wcyBhbmQgc2xvdHNcclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBjb21wb25lbnQncyByZWFjdGl2ZSBlZmZlY3QgZm9yIHJlbmRlciBpc24ndCBzZXQtdXAgeWV0XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KG4yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbjIsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIG5vcm1hbCB1cGRhdGVcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLm5leHQgPSBuMjtcclxuICAgICAgICAgICAgICAgIC8vIGluIGNhc2UgdGhlIGNoaWxkIGNvbXBvbmVudCBpcyBhbHNvIHF1ZXVlZCwgcmVtb3ZlIGl0IHRvIGF2b2lkXHJcbiAgICAgICAgICAgICAgICAvLyBkb3VibGUgdXBkYXRpbmcgdGhlIHNhbWUgY2hpbGQgY29tcG9uZW50IGluIHRoZSBzYW1lIGZsdXNoLlxyXG4gICAgICAgICAgICAgICAgaW52YWxpZGF0ZUpvYihpbnN0YW5jZS51cGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGFuY2UudXBkYXRlIGlzIHRoZSByZWFjdGl2ZSBlZmZlY3QgcnVubmVyLlxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG5vIHVwZGF0ZSBuZWVkZWQuIGp1c3QgY29weSBvdmVyIHByb3BlcnRpZXNcclxuICAgICAgICAgICAgbjIuY29tcG9uZW50ID0gbjEuY29tcG9uZW50O1xyXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS52bm9kZSA9IG4yO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBzZXR1cFJlbmRlckVmZmVjdCA9IChpbnN0YW5jZSwgaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICAvLyBjcmVhdGUgcmVhY3RpdmUgZWZmZWN0IGZvciByZW5kZXJpbmdcclxuICAgICAgICBpbnN0YW5jZS51cGRhdGUgPSBlZmZlY3QoZnVuY3Rpb24gY29tcG9uZW50RWZmZWN0KCkge1xyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZWwsIHByb3BzIH0gPSBpbml0aWFsVk5vZGU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGJtLCBtLCBwYXJlbnQgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlTW91bnQgaG9va1xyXG4gICAgICAgICAgICAgICAgaWYgKGJtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYm0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gb25Wbm9kZUJlZm9yZU1vdW50XHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIGluaXRpYWxWTm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyByZW5kZXJcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHN1YlRyZWUgPSAoaW5zdGFuY2Uuc3ViVHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZWwgJiYgaHlkcmF0ZU5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGh5ZHJhdGVgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgaGFzIGFkb3B0ZWQgaG9zdCBub2RlIC0gcGVyZm9ybSBoeWRyYXRpb24gaW5zdGVhZCBvZiBtb3VudC5cclxuICAgICAgICAgICAgICAgICAgICBoeWRyYXRlTm9kZShpbml0aWFsVk5vZGUuZWwsIHN1YlRyZWUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgc3ViVHJlZSwgY29udGFpbmVyLCBhbmNob3IsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxWTm9kZS5lbCA9IHN1YlRyZWUuZWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBtb3VudGVkIGhvb2tcclxuICAgICAgICAgICAgICAgIGlmIChtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KG0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVNb3VudGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgaW5pdGlhbFZOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBhY3RpdmF0ZWQgaG9vayBmb3Iga2VlcC1hbGl2ZSByb290cy5cclxuICAgICAgICAgICAgICAgIC8vICMxNzQyIGFjdGl2YXRlZCBob29rIG11c3QgYmUgYWNjZXNzZWQgYWZ0ZXIgZmlyc3QgcmVuZGVyXHJcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGUgaG9vayBtYXkgYmUgaW5qZWN0ZWQgYnkgYSBjaGlsZCBrZWVwLWFsaXZlXHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGEgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGEgJiZcclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsVk5vZGUuc2hhcGVGbGFnICYgMjU2IC8qIENPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChhLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5pc01vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlQ29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRyaWdnZXJlZCBieSBtdXRhdGlvbiBvZiBjb21wb25lbnQncyBvd24gc3RhdGUgKG5leHQ6IG51bGwpXHJcbiAgICAgICAgICAgICAgICAvLyBPUiBwYXJlbnQgY2FsbGluZyBwcm9jZXNzQ29tcG9uZW50IChuZXh0OiBWTm9kZSlcclxuICAgICAgICAgICAgICAgIGxldCB7IG5leHQsIGJ1LCB1LCBwYXJlbnQsIHZub2RlIH0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGxldCBvcmlnaW5OZXh0ID0gbmV4dDtcclxuICAgICAgICAgICAgICAgIGxldCB2bm9kZUhvb2s7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KG5leHQgfHwgaW5zdGFuY2Uudm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0LmVsID0gdm5vZGUuZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuZXh0LCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dCA9IHZub2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlVXBkYXRlIGhvb2tcclxuICAgICAgICAgICAgICAgIGlmIChidSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJ1KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVCZWZvcmVVcGRhdGVcclxuICAgICAgICAgICAgICAgIGlmICgodm5vZGVIb29rID0gbmV4dC5wcm9wcyAmJiBuZXh0LnByb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyByZW5kZXJcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldlRyZWUgPSBpbnN0YW5jZS5zdWJUcmVlO1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSA9IG5leHRUcmVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwYXRjaChwcmV2VHJlZSwgbmV4dFRyZWUsIFxyXG4gICAgICAgICAgICAgICAgLy8gcGFyZW50IG1heSBoYXZlIGNoYW5nZWQgaWYgaXQncyBpbiBhIHRlbGVwb3J0XHJcbiAgICAgICAgICAgICAgICBob3N0UGFyZW50Tm9kZShwcmV2VHJlZS5lbCksIFxyXG4gICAgICAgICAgICAgICAgLy8gYW5jaG9yIG1heSBoYXZlIGNoYW5nZWQgaWYgaXQncyBpbiBhIGZyYWdtZW50XHJcbiAgICAgICAgICAgICAgICBnZXROZXh0SG9zdE5vZGUocHJldlRyZWUpLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5leHQuZWwgPSBuZXh0VHJlZS5lbDtcclxuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5OZXh0ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VsZi10cmlnZ2VyZWQgdXBkYXRlLiBJbiBjYXNlIG9mIEhPQywgdXBkYXRlIHBhcmVudCBjb21wb25lbnRcclxuICAgICAgICAgICAgICAgICAgICAvLyB2bm9kZSBlbC4gSE9DIGlzIGluZGljYXRlZCBieSBwYXJlbnQgaW5zdGFuY2UncyBzdWJUcmVlIHBvaW50aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gY2hpbGQgY29tcG9uZW50J3Mgdm5vZGVcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIG5leHRUcmVlLmVsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZWQgaG9va1xyXG4gICAgICAgICAgICAgICAgaWYgKHUpIHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QodSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gb25Wbm9kZVVwZGF0ZWRcclxuICAgICAgICAgICAgICAgIGlmICgodm5vZGVIb29rID0gbmV4dC5wcm9wcyAmJiBuZXh0LnByb3BzLm9uVm5vZGVVcGRhdGVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgbmV4dCwgdm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gY3JlYXRlRGV2RWZmZWN0T3B0aW9ucyhpbnN0YW5jZSkgOiBwcm9kRWZmZWN0T3B0aW9ucyk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyID0gKGluc3RhbmNlLCBuZXh0Vk5vZGUsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIG5leHRWTm9kZS5jb21wb25lbnQgPSBpbnN0YW5jZTtcclxuICAgICAgICBjb25zdCBwcmV2UHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcztcclxuICAgICAgICBpbnN0YW5jZS52bm9kZSA9IG5leHRWTm9kZTtcclxuICAgICAgICBpbnN0YW5jZS5uZXh0ID0gbnVsbDtcclxuICAgICAgICB1cGRhdGVQcm9wcyhpbnN0YW5jZSwgbmV4dFZOb2RlLnByb3BzLCBwcmV2UHJvcHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgdXBkYXRlU2xvdHMoaW5zdGFuY2UsIG5leHRWTm9kZS5jaGlsZHJlbik7XHJcbiAgICAgICAgLy8gcHJvcHMgdXBkYXRlIG1heSBoYXZlIHRyaWdnZXJlZCBwcmUtZmx1c2ggd2F0Y2hlcnMuXHJcbiAgICAgICAgLy8gZmx1c2ggdGhlbSBiZWZvcmUgdGhlIHJlbmRlciB1cGRhdGUuXHJcbiAgICAgICAgZmx1c2hQcmVGbHVzaENicyh1bmRlZmluZWQsIGluc3RhbmNlLnVwZGF0ZSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcGF0Y2hDaGlsZHJlbiA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcclxuICAgICAgICBjb25zdCBjMSA9IG4xICYmIG4xLmNoaWxkcmVuO1xyXG4gICAgICAgIGNvbnN0IHByZXZTaGFwZUZsYWcgPSBuMSA/IG4xLnNoYXBlRmxhZyA6IDA7XHJcbiAgICAgICAgY29uc3QgYzIgPSBuMi5jaGlsZHJlbjtcclxuICAgICAgICBjb25zdCB7IHBhdGNoRmxhZywgc2hhcGVGbGFnIH0gPSBuMjtcclxuICAgICAgICAvLyBmYXN0IHBhdGhcclxuICAgICAgICBpZiAocGF0Y2hGbGFnID4gMCkge1xyXG4gICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGNvdWxkIGJlIGVpdGhlciBmdWxseS1rZXllZCBvciBtaXhlZCAoc29tZSBrZXllZCBzb21lIG5vdClcclxuICAgICAgICAgICAgICAgIC8vIHByZXNlbmNlIG9mIHBhdGNoRmxhZyBtZWFucyBjaGlsZHJlbiBhcmUgZ3VhcmFudGVlZCB0byBiZSBhcnJheXNcclxuICAgICAgICAgICAgICAgIHBhdGNoS2V5ZWRDaGlsZHJlbihjMSwgYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwYXRjaEZsYWcgJiAyNTYgLyogVU5LRVlFRF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gdW5rZXllZFxyXG4gICAgICAgICAgICAgICAgcGF0Y2hVbmtleWVkQ2hpbGRyZW4oYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2hpbGRyZW4gaGFzIDMgcG9zc2liaWxpdGllczogdGV4dCwgYXJyYXkgb3Igbm8gY2hpbGRyZW4uXHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDggLyogVEVYVF9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAvLyB0ZXh0IGNoaWxkcmVuIGZhc3QgcGF0aFxyXG4gICAgICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjMiAhPT0gYzEpIHtcclxuICAgICAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChjb250YWluZXIsIGMyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gcHJldiBjaGlsZHJlbiB3YXMgYXJyYXlcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHR3byBhcnJheXMsIGNhbm5vdCBhc3N1bWUgYW55dGhpbmcsIGRvIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoS2V5ZWRDaGlsZHJlbihjMSwgYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIG5ldyBjaGlsZHJlbiwganVzdCB1bm1vdW50IG9sZFxyXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBwcmV2IGNoaWxkcmVuIHdhcyB0ZXh0IE9SIG51bGxcclxuICAgICAgICAgICAgICAgIC8vIG5ldyBjaGlsZHJlbiBpcyBhcnJheSBPUiBudWxsXHJcbiAgICAgICAgICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDggLyogVEVYVF9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChjb250YWluZXIsICcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG1vdW50IG5ldyBpZiBhcnJheVxyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91bnRDaGlsZHJlbihjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBhdGNoVW5rZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjMSA9IGMxIHx8IEVNUFRZX0FSUjtcclxuICAgICAgICBjMiA9IGMyIHx8IEVNUFRZX0FSUjtcclxuICAgICAgICBjb25zdCBvbGRMZW5ndGggPSBjMS5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgbmV3TGVuZ3RoID0gYzIubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGNvbW1vbkxlbmd0aCA9IE1hdGgubWluKG9sZExlbmd0aCwgbmV3TGVuZ3RoKTtcclxuICAgICAgICBsZXQgaTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29tbW9uTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gKGMyW2ldID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2ldKVxyXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltpXSkpO1xyXG4gICAgICAgICAgICBwYXRjaChjMVtpXSwgbmV4dENoaWxkLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2xkTGVuZ3RoID4gbmV3TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBvbGRcclxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGMxLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlLCBmYWxzZSwgY29tbW9uTGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG1vdW50IG5ld1xyXG4gICAgICAgICAgICBtb3VudENoaWxkcmVuKGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCwgY29tbW9uTGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gY2FuIGJlIGFsbC1rZXllZCBvciBtaXhlZFxyXG4gICAgY29uc3QgcGF0Y2hLZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgY29uc3QgbDIgPSBjMi5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGUxID0gYzEubGVuZ3RoIC0gMTsgLy8gcHJldiBlbmRpbmcgaW5kZXhcclxuICAgICAgICBsZXQgZTIgPSBsMiAtIDE7IC8vIG5leHQgZW5kaW5nIGluZGV4XHJcbiAgICAgICAgLy8gMS4gc3luYyBmcm9tIHN0YXJ0XHJcbiAgICAgICAgLy8gKGEgYikgY1xyXG4gICAgICAgIC8vIChhIGIpIGQgZVxyXG4gICAgICAgIHdoaWxlIChpIDw9IGUxICYmIGkgPD0gZTIpIHtcclxuICAgICAgICAgICAgY29uc3QgbjEgPSBjMVtpXTtcclxuICAgICAgICAgICAgY29uc3QgbjIgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXHJcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XHJcbiAgICAgICAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2gobjEsIG4yLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAyLiBzeW5jIGZyb20gZW5kXHJcbiAgICAgICAgLy8gYSAoYiBjKVxyXG4gICAgICAgIC8vIGQgZSAoYiBjKVxyXG4gICAgICAgIHdoaWxlIChpIDw9IGUxICYmIGkgPD0gZTIpIHtcclxuICAgICAgICAgICAgY29uc3QgbjEgPSBjMVtlMV07XHJcbiAgICAgICAgICAgIGNvbnN0IG4yID0gKGMyW2UyXSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltlMl0pXHJcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2UyXSkpO1xyXG4gICAgICAgICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoKG4xLCBuMiwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGUxLS07XHJcbiAgICAgICAgICAgIGUyLS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDMuIGNvbW1vbiBzZXF1ZW5jZSArIG1vdW50XHJcbiAgICAgICAgLy8gKGEgYilcclxuICAgICAgICAvLyAoYSBiKSBjXHJcbiAgICAgICAgLy8gaSA9IDIsIGUxID0gMSwgZTIgPSAyXHJcbiAgICAgICAgLy8gKGEgYilcclxuICAgICAgICAvLyBjIChhIGIpXHJcbiAgICAgICAgLy8gaSA9IDAsIGUxID0gLTEsIGUyID0gMFxyXG4gICAgICAgIGlmIChpID4gZTEpIHtcclxuICAgICAgICAgICAgaWYgKGkgPD0gZTIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQb3MgPSBlMiArIDE7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0UG9zIDwgbDIgPyBjMltuZXh0UG9zXS5lbCA6IHBhcmVudEFuY2hvcjtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpIDw9IGUyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgKGMyW2ldID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gNC4gY29tbW9uIHNlcXVlbmNlICsgdW5tb3VudFxyXG4gICAgICAgIC8vIChhIGIpIGNcclxuICAgICAgICAvLyAoYSBiKVxyXG4gICAgICAgIC8vIGkgPSAyLCBlMSA9IDIsIGUyID0gMVxyXG4gICAgICAgIC8vIGEgKGIgYylcclxuICAgICAgICAvLyAoYiBjKVxyXG4gICAgICAgIC8vIGkgPSAwLCBlMSA9IDAsIGUyID0gLTFcclxuICAgICAgICBlbHNlIGlmIChpID4gZTIpIHtcclxuICAgICAgICAgICAgd2hpbGUgKGkgPD0gZTEpIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnQoYzFbaV0sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDUuIHVua25vd24gc2VxdWVuY2VcclxuICAgICAgICAvLyBbaSAuLi4gZTEgKyAxXTogYSBiIFtjIGQgZV0gZiBnXHJcbiAgICAgICAgLy8gW2kgLi4uIGUyICsgMV06IGEgYiBbZSBkIGMgaF0gZiBnXHJcbiAgICAgICAgLy8gaSA9IDIsIGUxID0gNCwgZTIgPSA1XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHMxID0gaTsgLy8gcHJldiBzdGFydGluZyBpbmRleFxyXG4gICAgICAgICAgICBjb25zdCBzMiA9IGk7IC8vIG5leHQgc3RhcnRpbmcgaW5kZXhcclxuICAgICAgICAgICAgLy8gNS4xIGJ1aWxkIGtleTppbmRleCBtYXAgZm9yIG5ld0NoaWxkcmVuXHJcbiAgICAgICAgICAgIGNvbnN0IGtleVRvTmV3SW5kZXhNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IHMyOyBpIDw9IGUyOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDaGlsZCA9IChjMltpXSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltpXSkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRDaGlsZC5rZXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYga2V5VG9OZXdJbmRleE1hcC5oYXMobmV4dENoaWxkLmtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgRHVwbGljYXRlIGtleXMgZm91bmQgZHVyaW5nIHVwZGF0ZTpgLCBKU09OLnN0cmluZ2lmeShuZXh0Q2hpbGQua2V5KSwgYE1ha2Ugc3VyZSBrZXlzIGFyZSB1bmlxdWUuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGtleVRvTmV3SW5kZXhNYXAuc2V0KG5leHRDaGlsZC5rZXksIGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIDUuMiBsb29wIHRocm91Z2ggb2xkIGNoaWxkcmVuIGxlZnQgdG8gYmUgcGF0Y2hlZCBhbmQgdHJ5IHRvIHBhdGNoXHJcbiAgICAgICAgICAgIC8vIG1hdGNoaW5nIG5vZGVzICYgcmVtb3ZlIG5vZGVzIHRoYXQgYXJlIG5vIGxvbmdlciBwcmVzZW50XHJcbiAgICAgICAgICAgIGxldCBqO1xyXG4gICAgICAgICAgICBsZXQgcGF0Y2hlZCA9IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvQmVQYXRjaGVkID0gZTIgLSBzMiArIDE7XHJcbiAgICAgICAgICAgIGxldCBtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyB1c2VkIHRvIHRyYWNrIHdoZXRoZXIgYW55IG5vZGUgaGFzIG1vdmVkXHJcbiAgICAgICAgICAgIGxldCBtYXhOZXdJbmRleFNvRmFyID0gMDtcclxuICAgICAgICAgICAgLy8gd29ya3MgYXMgTWFwPG5ld0luZGV4LCBvbGRJbmRleD5cclxuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IG9sZEluZGV4IGlzIG9mZnNldCBieSArMVxyXG4gICAgICAgICAgICAvLyBhbmQgb2xkSW5kZXggPSAwIGlzIGEgc3BlY2lhbCB2YWx1ZSBpbmRpY2F0aW5nIHRoZSBuZXcgbm9kZSBoYXNcclxuICAgICAgICAgICAgLy8gbm8gY29ycmVzcG9uZGluZyBvbGQgbm9kZS5cclxuICAgICAgICAgICAgLy8gdXNlZCBmb3IgZGV0ZXJtaW5pbmcgbG9uZ2VzdCBzdGFibGUgc3Vic2VxdWVuY2VcclxuICAgICAgICAgICAgY29uc3QgbmV3SW5kZXhUb09sZEluZGV4TWFwID0gbmV3IEFycmF5KHRvQmVQYXRjaGVkKTtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRvQmVQYXRjaGVkOyBpKyspXHJcbiAgICAgICAgICAgICAgICBuZXdJbmRleFRvT2xkSW5kZXhNYXBbaV0gPSAwO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBzMTsgaSA8PSBlMTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2Q2hpbGQgPSBjMVtpXTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaGVkID49IHRvQmVQYXRjaGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsIG5ldyBjaGlsZHJlbiBoYXZlIGJlZW4gcGF0Y2hlZCBzbyB0aGlzIGNhbiBvbmx5IGJlIGEgcmVtb3ZhbFxyXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnQocHJldkNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBuZXdJbmRleDtcclxuICAgICAgICAgICAgICAgIGlmIChwcmV2Q2hpbGQua2V5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCA9IGtleVRvTmV3SW5kZXhNYXAuZ2V0KHByZXZDaGlsZC5rZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8ga2V5LWxlc3Mgbm9kZSwgdHJ5IHRvIGxvY2F0ZSBhIGtleS1sZXNzIG5vZGUgb2YgdGhlIHNhbWUgdHlwZVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IHMyOyBqIDw9IGUyOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtqIC0gczJdID09PSAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1NhbWVWTm9kZVR5cGUocHJldkNoaWxkLCBjMltqXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0luZGV4ID0gajtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50KHByZXZDaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmRleFRvT2xkSW5kZXhNYXBbbmV3SW5kZXggLSBzMl0gPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPj0gbWF4TmV3SW5kZXhTb0Zhcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhOZXdJbmRleFNvRmFyID0gbmV3SW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKHByZXZDaGlsZCwgYzJbbmV3SW5kZXhdLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoZWQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA1LjMgbW92ZSBhbmQgbW91bnRcclxuICAgICAgICAgICAgLy8gZ2VuZXJhdGUgbG9uZ2VzdCBzdGFibGUgc3Vic2VxdWVuY2Ugb25seSB3aGVuIG5vZGVzIGhhdmUgbW92ZWRcclxuICAgICAgICAgICAgY29uc3QgaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UgPSBtb3ZlZFxyXG4gICAgICAgICAgICAgICAgPyBnZXRTZXF1ZW5jZShuZXdJbmRleFRvT2xkSW5kZXhNYXApXHJcbiAgICAgICAgICAgICAgICA6IEVNUFRZX0FSUjtcclxuICAgICAgICAgICAgaiA9IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIC8vIGxvb3BpbmcgYmFja3dhcmRzIHNvIHRoYXQgd2UgY2FuIHVzZSBsYXN0IHBhdGNoZWQgbm9kZSBhcyBhbmNob3JcclxuICAgICAgICAgICAgZm9yIChpID0gdG9CZVBhdGNoZWQgLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gczIgKyBpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbbmV4dEluZGV4XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHRJbmRleCArIDEgPCBsMiA/IGMyW25leHRJbmRleCArIDFdLmVsIDogcGFyZW50QW5jaG9yO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdW50IG5ld1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5leHRDaGlsZCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1vdmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBpZjpcclxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBpcyBubyBzdGFibGUgc3Vic2VxdWVuY2UgKGUuZy4gYSByZXZlcnNlKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9SIGN1cnJlbnQgbm9kZSBpcyBub3QgYW1vbmcgdGhlIHN0YWJsZSBzZXF1ZW5jZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChqIDwgMCB8fCBpICE9PSBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZVtqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlKG5leHRDaGlsZCwgY29udGFpbmVyLCBhbmNob3IsIDIgLyogUkVPUkRFUiAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqLS07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG1vdmUgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSwgcGFyZW50U3VzcGVuc2UgPSBudWxsKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBlbCwgdHlwZSwgdHJhbnNpdGlvbiwgY2hpbGRyZW4sIHNoYXBlRmxhZyB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgIG1vdmUodm5vZGUuY29tcG9uZW50LnN1YlRyZWUsIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCBzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgdm5vZGUuc3VzcGVuc2UubW92ZShjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLykge1xyXG4gICAgICAgICAgICB0eXBlLm1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnRlcm5hbHMpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIG1vdmUoY2hpbGRyZW5baV0sIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaG9zdEluc2VydCh2bm9kZS5hbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzdGF0aWMgbm9kZSBtb3ZlIGNhbiBvbmx5IGhhcHBlbiB3aGVuIGZvcmNlIHVwZGF0aW5nIEhNUlxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgdHlwZSA9PT0gU3RhdGljKSB7XHJcbiAgICAgICAgICAgIG1vdmVTdGF0aWNOb2RlKHZub2RlLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2luZ2xlIG5vZGVzXHJcbiAgICAgICAgY29uc3QgbmVlZFRyYW5zaXRpb24gPSBtb3ZlVHlwZSAhPT0gMiAvKiBSRU9SREVSICovICYmXHJcbiAgICAgICAgICAgIHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyAmJlxyXG4gICAgICAgICAgICB0cmFuc2l0aW9uO1xyXG4gICAgICAgIGlmIChuZWVkVHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAobW92ZVR5cGUgPT09IDAgLyogRU5URVIgKi8pIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xyXG4gICAgICAgICAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHRyYW5zaXRpb24uZW50ZXIoZWwpLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlLCBhZnRlckxlYXZlIH0gPSB0cmFuc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlID0gKCkgPT4gaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlYXZlKGVsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlckxlYXZlICYmIGFmdGVyTGVhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVsYXlMZWF2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5TGVhdmUoZWwsIHJlbW92ZSwgcGVyZm9ybUxlYXZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVubW91bnQgPSAodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB0eXBlLCBwcm9wcywgcmVmLCBjaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBzaGFwZUZsYWcsIHBhdGNoRmxhZywgZGlycyB9ID0gdm5vZGU7XHJcbiAgICAgICAgLy8gdW5zZXQgcmVmXHJcbiAgICAgICAgaWYgKHJlZiAhPSBudWxsICYmIHBhcmVudENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBzZXRSZWYocmVmLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDI1NiAvKiBDT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi8pIHtcclxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LmN0eC5kZWFjdGl2YXRlKHZub2RlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzaG91bGRJbnZva2VEaXJzID0gc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmIGRpcnM7XHJcbiAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVVbm1vdW50KSkge1xyXG4gICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgIHVubW91bnRDb21wb25lbnQodm5vZGUuY29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKCBzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgICAgIHZub2RlLnN1c3BlbnNlLnVubW91bnQocGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2hvdWxkSW52b2tlRGlycykge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnYmVmb3JlVW5tb3VudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4gJiZcclxuICAgICAgICAgICAgICAgIC8vICMxMTUzOiBmYXN0IHBhdGggc2hvdWxkIG5vdCBiZSB0YWtlbiBmb3Igbm9uLXN0YWJsZSAodi1mb3IpIGZyYWdtZW50c1xyXG4gICAgICAgICAgICAgICAgKHR5cGUgIT09IEZyYWdtZW50IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKHBhdGNoRmxhZyA+IDAgJiYgcGF0Y2hGbGFnICYgNjQgLyogU1RBQkxFX0ZSQUdNRU5UICovKSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGZhc3QgcGF0aCBmb3IgYmxvY2sgbm9kZXM6IG9ubHkgbmVlZCB0byB1bm1vdW50IGR5bmFtaWMgY2hpbGRyZW4uXHJcbiAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oZHluYW1pY0NoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKHR5cGUgPT09IEZyYWdtZW50ICYmXHJcbiAgICAgICAgICAgICAgICAocGF0Y2hGbGFnICYgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hGbGFnICYgMjU2IC8qIFVOS0VZRURfRlJBR01FTlQgKi8pKSB8fFxyXG4gICAgICAgICAgICAgICAgKCFvcHRpbWl6ZWQgJiYgc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFuIHVubW91bnRlZCB0ZWxlcG9ydCBzaG91bGQgYWx3YXlzIHJlbW92ZSBpdHMgY2hpbGRyZW4gaWYgbm90IGRpc2FibGVkXHJcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLyAmJlxyXG4gICAgICAgICAgICAgICAgKGRvUmVtb3ZlIHx8ICFpc1RlbGVwb3J0RGlzYWJsZWQodm5vZGUucHJvcHMpKSkge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudHlwZS5yZW1vdmUodm5vZGUsIGludGVybmFscyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmUodm5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZVVubW91bnRlZCkgfHwgc2hvdWxkSW52b2tlRGlycykge1xyXG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgc2hvdWxkSW52b2tlRGlycyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ3VubW91bnRlZCcpO1xyXG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHJlbW92ZSA9IHZub2RlID0+IHtcclxuICAgICAgICBjb25zdCB7IHR5cGUsIGVsLCBhbmNob3IsIHRyYW5zaXRpb24gfSA9IHZub2RlO1xyXG4gICAgICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xyXG4gICAgICAgICAgICByZW1vdmVGcmFnbWVudChlbCwgYW5jaG9yKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHR5cGUgPT09IFN0YXRpYykge1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0aWNOb2RlKHZub2RlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwZXJmb3JtUmVtb3ZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBob3N0UmVtb3ZlKGVsKTtcclxuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkICYmIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSkge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5hZnRlckxlYXZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gJiZcclxuICAgICAgICAgICAgdHJhbnNpdGlvbiAmJlxyXG4gICAgICAgICAgICAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBsZWF2ZSwgZGVsYXlMZWF2ZSB9ID0gdHJhbnNpdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4gbGVhdmUoZWwsIHBlcmZvcm1SZW1vdmUpO1xyXG4gICAgICAgICAgICBpZiAoZGVsYXlMZWF2ZSkge1xyXG4gICAgICAgICAgICAgICAgZGVsYXlMZWF2ZSh2bm9kZS5lbCwgcGVyZm9ybVJlbW92ZSwgcGVyZm9ybUxlYXZlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwZXJmb3JtUmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHJlbW92ZUZyYWdtZW50ID0gKGN1ciwgZW5kKSA9PiB7XHJcbiAgICAgICAgLy8gRm9yIGZyYWdtZW50cywgZGlyZWN0bHkgcmVtb3ZlIGFsbCBjb250YWluZWQgRE9NIG5vZGVzLlxyXG4gICAgICAgIC8vIChmcmFnbWVudCBjaGlsZCBub2RlcyBjYW5ub3QgaGF2ZSB0cmFuc2l0aW9uKVxyXG4gICAgICAgIGxldCBuZXh0O1xyXG4gICAgICAgIHdoaWxlIChjdXIgIT09IGVuZCkge1xyXG4gICAgICAgICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGN1cik7XHJcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoY3VyKTtcclxuICAgICAgICAgICAgY3VyID0gbmV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaG9zdFJlbW92ZShlbmQpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHVubW91bnRDb21wb25lbnQgPSAoaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSkgPT4ge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgKHRydWUgKSAmJiBpbnN0YW5jZS50eXBlLl9faG1ySWQpIHtcclxuICAgICAgICAgICAgdW5yZWdpc3RlckhNUihpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgYnVtLCBlZmZlY3RzLCB1cGRhdGUsIHN1YlRyZWUsIHVtIH0gPSBpbnN0YW5jZTtcclxuICAgICAgICAvLyBiZWZvcmVVbm1vdW50IGhvb2tcclxuICAgICAgICBpZiAoYnVtKSB7XHJcbiAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJ1bSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlZmZlY3RzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWZmZWN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc3RvcChlZmZlY3RzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB1cGRhdGUgbWF5IGJlIG51bGwgaWYgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGJlZm9yZSBpdHMgYXN5bmNcclxuICAgICAgICAvLyBzZXR1cCBoYXMgcmVzb2x2ZWQuXHJcbiAgICAgICAgaWYgKHVwZGF0ZSkge1xyXG4gICAgICAgICAgICBzdG9wKHVwZGF0ZSk7XHJcbiAgICAgICAgICAgIHVubW91bnQoc3ViVHJlZSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHVubW91bnRlZCBob29rXHJcbiAgICAgICAgaWYgKHVtKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCh1bSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5pc1VubW91bnRlZCA9IHRydWU7XHJcbiAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIC8vIEEgY29tcG9uZW50IHdpdGggYXN5bmMgZGVwIGluc2lkZSBhIHBlbmRpbmcgc3VzcGVuc2UgaXMgdW5tb3VudGVkIGJlZm9yZVxyXG4gICAgICAgIC8vIGl0cyBhc3luYyBkZXAgcmVzb2x2ZXMuIFRoaXMgc2hvdWxkIHJlbW92ZSB0aGUgZGVwIGZyb20gdGhlIHN1c3BlbnNlLCBhbmRcclxuICAgICAgICAvLyBjYXVzZSB0aGUgc3VzcGVuc2UgdG8gcmVzb2x2ZSBpbW1lZGlhdGVseSBpZiB0aGF0IHdhcyB0aGUgbGFzdCBkZXAuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSAmJlxyXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmXHJcbiAgICAgICAgICAgICFwYXJlbnRTdXNwZW5zZS5pc1VubW91bnRlZCAmJlxyXG4gICAgICAgICAgICBpbnN0YW5jZS5hc3luY0RlcCAmJlxyXG4gICAgICAgICAgICAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCAmJlxyXG4gICAgICAgICAgICBpbnN0YW5jZS5zdXNwZW5zZUlkID09PSBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nSWQpIHtcclxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UuZGVwcy0tO1xyXG4gICAgICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UuZGVwcyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZChpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVubW91bnRDaGlsZHJlbiA9IChjaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUgPSBmYWxzZSwgb3B0aW1pemVkID0gZmFsc2UsIHN0YXJ0ID0gMCkgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHVubW91bnQoY2hpbGRyZW5baV0sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBnZXROZXh0SG9zdE5vZGUgPSB2bm9kZSA9PiB7XHJcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXROZXh0SG9zdE5vZGUodm5vZGUuY29tcG9uZW50LnN1YlRyZWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gdm5vZGUuc3VzcGVuc2UubmV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaG9zdE5leHRTaWJsaW5nKCh2bm9kZS5hbmNob3IgfHwgdm5vZGUuZWwpKTtcclxuICAgIH07XHJcbiAgICBjb25zdCByZW5kZXIgPSAodm5vZGUsIGNvbnRhaW5lcikgPT4ge1xyXG4gICAgICAgIGlmICh2bm9kZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChjb250YWluZXIuX3Zub2RlKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGNvbnRhaW5lci5fdm5vZGUsIG51bGwsIG51bGwsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRjaChjb250YWluZXIuX3Zub2RlIHx8IG51bGwsIHZub2RlLCBjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmbHVzaFBvc3RGbHVzaENicygpO1xyXG4gICAgICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcclxuICAgIH07XHJcbiAgICBjb25zdCBpbnRlcm5hbHMgPSB7XHJcbiAgICAgICAgcDogcGF0Y2gsXHJcbiAgICAgICAgdW06IHVubW91bnQsXHJcbiAgICAgICAgbTogbW92ZSxcclxuICAgICAgICByOiByZW1vdmUsXHJcbiAgICAgICAgbXQ6IG1vdW50Q29tcG9uZW50LFxyXG4gICAgICAgIG1jOiBtb3VudENoaWxkcmVuLFxyXG4gICAgICAgIHBjOiBwYXRjaENoaWxkcmVuLFxyXG4gICAgICAgIHBiYzogcGF0Y2hCbG9ja0NoaWxkcmVuLFxyXG4gICAgICAgIG46IGdldE5leHRIb3N0Tm9kZSxcclxuICAgICAgICBvOiBvcHRpb25zXHJcbiAgICB9O1xyXG4gICAgbGV0IGh5ZHJhdGU7XHJcbiAgICBsZXQgaHlkcmF0ZU5vZGU7XHJcbiAgICBpZiAoY3JlYXRlSHlkcmF0aW9uRm5zKSB7XHJcbiAgICAgICAgW2h5ZHJhdGUsIGh5ZHJhdGVOb2RlXSA9IGNyZWF0ZUh5ZHJhdGlvbkZucyhpbnRlcm5hbHMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZW5kZXIsXHJcbiAgICAgICAgaHlkcmF0ZSxcclxuICAgICAgICBjcmVhdGVBcHA6IGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpXHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGludm9rZVZOb2RlSG9vayhob29rLCBpbnN0YW5jZSwgdm5vZGUsIHByZXZWTm9kZSA9IG51bGwpIHtcclxuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA3IC8qIFZOT0RFX0hPT0sgKi8sIFtcclxuICAgICAgICB2bm9kZSxcclxuICAgICAgICBwcmV2Vk5vZGVcclxuICAgIF0pO1xyXG59XHJcbi8qKlxyXG4gKiAjMTE1NlxyXG4gKiBXaGVuIGEgY29tcG9uZW50IGlzIEhNUi1lbmFibGVkLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGFsbCBzdGF0aWMgbm9kZXNcclxuICogaW5zaWRlIGEgYmxvY2sgYWxzbyBpbmhlcml0IHRoZSBET00gZWxlbWVudCBmcm9tIHRoZSBwcmV2aW91cyB0cmVlIHNvIHRoYXRcclxuICogSE1SIHVwZGF0ZXMgKHdoaWNoIGFyZSBmdWxsIHVwZGF0ZXMpIGNhbiByZXRyaWV2ZSB0aGUgZWxlbWVudCBmb3IgcGF0Y2hpbmcuXHJcbiAqXHJcbiAqICMyMDgwXHJcbiAqIEluc2lkZSBrZXllZCBgdGVtcGxhdGVgIGZyYWdtZW50IHN0YXRpYyBjaGlsZHJlbiwgaWYgYSBmcmFnbWVudCBpcyBtb3ZlZCxcclxuICogdGhlIGNoaWxkcmVuIHdpbGwgYWx3YXlzIG1vdmVkIHNvIHRoYXQgbmVlZCBpbmhlcml0IGVsIGZvcm0gcHJldmlvdXMgbm9kZXNcclxuICogdG8gZW5zdXJlIGNvcnJlY3QgbW92ZWQgcG9zaXRpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgc2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCBjaDEgPSBuMS5jaGlsZHJlbjtcclxuICAgIGNvbnN0IGNoMiA9IG4yLmNoaWxkcmVuO1xyXG4gICAgaWYgKGlzQXJyYXkoY2gxKSAmJiBpc0FycmF5KGNoMikpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoMS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9ubHkgY2FsbGVkIGluIHRoZSBvcHRpbWl6ZWQgcGF0aCBzbyBhcnJheSBjaGlsZHJlbiBhcmVcclxuICAgICAgICAgICAgLy8gZ3VhcmFudGVlZCB0byBiZSB2bm9kZXNcclxuICAgICAgICAgICAgY29uc3QgYzEgPSBjaDFbaV07XHJcbiAgICAgICAgICAgIGxldCBjMiA9IGNoMltpXTtcclxuICAgICAgICAgICAgaWYgKGMyLnNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyAmJiAhYzIuZHluYW1pY0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYzIucGF0Y2hGbGFnIDw9IDAgfHwgYzIucGF0Y2hGbGFnID09PSAzMiAvKiBIWURSQVRFX0VWRU5UUyAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGMyID0gY2gyW2ldID0gY2xvbmVJZk1vdW50ZWQoY2gyW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICBjMi5lbCA9IGMxLmVsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFzaGFsbG93KVxyXG4gICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4oYzEsIGMyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBhbHNvIGluaGVyaXQgZm9yIGNvbW1lbnQgbm9kZXMsIGJ1dCBub3QgcGxhY2Vob2xkZXJzIChlLmcuIHYtaWYgd2hpY2hcclxuICAgICAgICAgICAgLy8gd291bGQgaGF2ZSByZWNlaXZlZCAuZWwgZHVyaW5nIGJsb2NrIHBhdGNoKVxyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGMyLnR5cGUgPT09IENvbW1lbnQgJiYgIWMyLmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjMi5lbCA9IGMxLmVsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xvbmdlc3RfaW5jcmVhc2luZ19zdWJzZXF1ZW5jZVxyXG5mdW5jdGlvbiBnZXRTZXF1ZW5jZShhcnIpIHtcclxuICAgIGNvbnN0IHAgPSBhcnIuc2xpY2UoKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IFswXTtcclxuICAgIGxldCBpLCBqLCB1LCB2LCBjO1xyXG4gICAgY29uc3QgbGVuID0gYXJyLmxlbmd0aDtcclxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGFyckkgPSBhcnJbaV07XHJcbiAgICAgICAgaWYgKGFyckkgIT09IDApIHtcclxuICAgICAgICAgICAgaiA9IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGlmIChhcnJbal0gPCBhcnJJKSB7XHJcbiAgICAgICAgICAgICAgICBwW2ldID0gajtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGkpO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdSA9IDA7XHJcbiAgICAgICAgICAgIHYgPSByZXN1bHQubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgd2hpbGUgKHUgPCB2KSB7XHJcbiAgICAgICAgICAgICAgICBjID0gKCh1ICsgdikgLyAyKSB8IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJyW3Jlc3VsdFtjXV0gPCBhcnJJKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdSA9IGMgKyAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdiA9IGM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFyckkgPCBhcnJbcmVzdWx0W3VdXSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHUgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcFtpXSA9IHJlc3VsdFt1IC0gMV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXN1bHRbdV0gPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdSA9IHJlc3VsdC5sZW5ndGg7XHJcbiAgICB2ID0gcmVzdWx0W3UgLSAxXTtcclxuICAgIHdoaWxlICh1LS0gPiAwKSB7XHJcbiAgICAgICAgcmVzdWx0W3VdID0gdjtcclxuICAgICAgICB2ID0gcFt2XTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cblxuY29uc3QgaXNUZWxlcG9ydCA9ICh0eXBlKSA9PiB0eXBlLl9faXNUZWxlcG9ydDtcclxuY29uc3QgaXNUZWxlcG9ydERpc2FibGVkID0gKHByb3BzKSA9PiBwcm9wcyAmJiAocHJvcHMuZGlzYWJsZWQgfHwgcHJvcHMuZGlzYWJsZWQgPT09ICcnKTtcclxuY29uc3QgcmVzb2x2ZVRhcmdldCA9IChwcm9wcywgc2VsZWN0KSA9PiB7XHJcbiAgICBjb25zdCB0YXJnZXRTZWxlY3RvciA9IHByb3BzICYmIHByb3BzLnRvO1xyXG4gICAgaWYgKGlzU3RyaW5nKHRhcmdldFNlbGVjdG9yKSkge1xyXG4gICAgICAgIGlmICghc2VsZWN0KSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgd2FybihgQ3VycmVudCByZW5kZXJlciBkb2VzIG5vdCBzdXBwb3J0IHN0cmluZyB0YXJnZXQgZm9yIFRlbGVwb3J0cy4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYChtaXNzaW5nIHF1ZXJ5U2VsZWN0b3IgcmVuZGVyZXIgb3B0aW9uKWApO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHNlbGVjdCh0YXJnZXRTZWxlY3Rvcik7XHJcbiAgICAgICAgICAgIGlmICghdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBGYWlsZWQgdG8gbG9jYXRlIFRlbGVwb3J0IHRhcmdldCB3aXRoIHNlbGVjdG9yIFwiJHt0YXJnZXRTZWxlY3Rvcn1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBOb3RlIHRoZSB0YXJnZXQgZWxlbWVudCBtdXN0IGV4aXN0IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQgLSBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYGkuZS4gdGhlIHRhcmdldCBjYW5ub3QgYmUgcmVuZGVyZWQgYnkgdGhlIGNvbXBvbmVudCBpdHNlbGYsIGFuZCBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYGlkZWFsbHkgc2hvdWxkIGJlIG91dHNpZGUgb2YgdGhlIGVudGlyZSBWdWUgY29tcG9uZW50IHRyZWUuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICF0YXJnZXRTZWxlY3RvciAmJiAhaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBJbnZhbGlkIFRlbGVwb3J0IHRhcmdldDogJHt0YXJnZXRTZWxlY3Rvcn1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldFNlbGVjdG9yO1xyXG4gICAgfVxyXG59O1xyXG5jb25zdCBUZWxlcG9ydEltcGwgPSB7XHJcbiAgICBfX2lzVGVsZXBvcnQ6IHRydWUsXHJcbiAgICBwcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQsIGludGVybmFscykge1xyXG4gICAgICAgIGNvbnN0IHsgbWM6IG1vdW50Q2hpbGRyZW4sIHBjOiBwYXRjaENoaWxkcmVuLCBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbiwgbzogeyBpbnNlcnQsIHF1ZXJ5U2VsZWN0b3IsIGNyZWF0ZVRleHQsIGNyZWF0ZUNvbW1lbnQgfSB9ID0gaW50ZXJuYWxzO1xyXG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4yLnByb3BzKTtcclxuICAgICAgICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IG4yO1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIGluc2VydCBhbmNob3JzIGluIHRoZSBtYWluIHZpZXdcclxuICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAobjIuZWwgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICAgICAgICAgID8gY3JlYXRlQ29tbWVudCgndGVsZXBvcnQgc3RhcnQnKVxyXG4gICAgICAgICAgICAgICAgOiBjcmVhdGVUZXh0KCcnKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1haW5BbmNob3IgPSAobjIuYW5jaG9yID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgICAgICAgICA/IGNyZWF0ZUNvbW1lbnQoJ3RlbGVwb3J0IGVuZCcpXHJcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICAgICAgaW5zZXJ0KHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIGluc2VydChtYWluQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IChuMi50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KG4yLnByb3BzLCBxdWVyeVNlbGVjdG9yKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IChuMi50YXJnZXRBbmNob3IgPSBjcmVhdGVUZXh0KCcnKSk7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGluc2VydCh0YXJnZXRBbmNob3IsIHRhcmdldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFkaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgd2FybignSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQgb24gbW91bnQ6JywgdGFyZ2V0LCBgKCR7dHlwZW9mIHRhcmdldH0pYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbW91bnQgPSAoY29udGFpbmVyLCBhbmNob3IpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFRlbGVwb3J0ICphbHdheXMqIGhhcyBBcnJheSBjaGlsZHJlbi4gVGhpcyBpcyBlbmZvcmNlZCBpbiBib3RoIHRoZVxyXG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZXIgYW5kIHZub2RlIGNoaWxkcmVuIG5vcm1hbGl6YXRpb24uXHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3VudENoaWxkcmVuKGNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgbW91bnQoY29udGFpbmVyLCBtYWluQW5jaG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50KHRhcmdldCwgdGFyZ2V0QW5jaG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIGNvbnRlbnRcclxuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcclxuICAgICAgICAgICAgY29uc3QgbWFpbkFuY2hvciA9IChuMi5hbmNob3IgPSBuMS5hbmNob3IpO1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSAobjIudGFyZ2V0ID0gbjEudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gKG4yLnRhcmdldEFuY2hvciA9IG4xLnRhcmdldEFuY2hvcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHdhc0Rpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4xLnByb3BzKTtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudENvbnRhaW5lciA9IHdhc0Rpc2FibGVkID8gY29udGFpbmVyIDogdGFyZ2V0O1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QW5jaG9yID0gd2FzRGlzYWJsZWQgPyBtYWluQW5jaG9yIDogdGFyZ2V0QW5jaG9yO1xyXG4gICAgICAgICAgICBpZiAobjIuZHluYW1pY0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmYXN0IHBhdGggd2hlbiB0aGUgdGVsZXBvcnQgaGFwcGVucyB0byBiZSBhIGJsb2NrIHJvb3RcclxuICAgICAgICAgICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihuMS5keW5hbWljQ2hpbGRyZW4sIG4yLmR5bmFtaWNDaGlsZHJlbiwgY3VycmVudENvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgLy8gZXZlbiBpbiBibG9jayB0cmVlIG1vZGUgd2UgbmVlZCB0byBtYWtlIHN1cmUgYWxsIHJvb3QtbGV2ZWwgbm9kZXNcclxuICAgICAgICAgICAgICAgIC8vIGluIHRoZSB0ZWxlcG9ydCBpbmhlcml0IHByZXZpb3VzIERPTSByZWZlcmVuY2VzIHNvIHRoYXQgdGhleSBjYW5cclxuICAgICAgICAgICAgICAgIC8vIGJlIG1vdmVkIGluIGZ1dHVyZSBwYXRjaGVzLlxyXG4gICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFvcHRpbWl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoQ2hpbGRyZW4objEsIG4yLCBjdXJyZW50Q29udGFpbmVyLCBjdXJyZW50QW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXdhc0Rpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZW5hYmxlZCAtPiBkaXNhYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgaW50byBtYWluIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVUZWxlcG9ydChuMiwgY29udGFpbmVyLCBtYWluQW5jaG9yLCBpbnRlcm5hbHMsIDEgLyogVE9HR0xFICovKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHRhcmdldCBjaGFuZ2VkXHJcbiAgICAgICAgICAgICAgICBpZiAoKG4yLnByb3BzICYmIG4yLnByb3BzLnRvKSAhPT0gKG4xLnByb3BzICYmIG4xLnByb3BzLnRvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUYXJnZXQgPSAobjIudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChuMi5wcm9wcywgcXVlcnlTZWxlY3RvcikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVUZWxlcG9ydChuMiwgbmV4dFRhcmdldCwgbnVsbCwgaW50ZXJuYWxzLCAwIC8qIFRBUkdFVF9DSEFOR0UgKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybignSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQgb24gdXBkYXRlOicsIHRhcmdldCwgYCgke3R5cGVvZiB0YXJnZXR9KWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHdhc0Rpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzYWJsZWQgLT4gZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgaW50byB0ZWxlcG9ydCB0YXJnZXRcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlVGVsZXBvcnQobjIsIHRhcmdldCwgdGFyZ2V0QW5jaG9yLCBpbnRlcm5hbHMsIDEgLyogVE9HR0xFICovKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW1vdmUodm5vZGUsIHsgcjogcmVtb3ZlLCBvOiB7IHJlbW92ZTogaG9zdFJlbW92ZSB9IH0pIHtcclxuICAgICAgICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4sIGFuY2hvciB9ID0gdm5vZGU7XHJcbiAgICAgICAgaG9zdFJlbW92ZShhbmNob3IpO1xyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmUoY2hpbGRyZW5baV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1vdmU6IG1vdmVUZWxlcG9ydCxcclxuICAgIGh5ZHJhdGU6IGh5ZHJhdGVUZWxlcG9ydFxyXG59O1xyXG5mdW5jdGlvbiBtb3ZlVGVsZXBvcnQodm5vZGUsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCB7IG86IHsgaW5zZXJ0IH0sIG06IG1vdmUgfSwgbW92ZVR5cGUgPSAyIC8qIFJFT1JERVIgKi8pIHtcclxuICAgIC8vIG1vdmUgdGFyZ2V0IGFuY2hvciBpZiB0aGlzIGlzIGEgdGFyZ2V0IGNoYW5nZS5cclxuICAgIGlmIChtb3ZlVHlwZSA9PT0gMCAvKiBUQVJHRVRfQ0hBTkdFICovKSB7XHJcbiAgICAgICAgaW5zZXJ0KHZub2RlLnRhcmdldEFuY2hvciwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyBlbCwgYW5jaG9yLCBzaGFwZUZsYWcsIGNoaWxkcmVuLCBwcm9wcyB9ID0gdm5vZGU7XHJcbiAgICBjb25zdCBpc1Jlb3JkZXIgPSBtb3ZlVHlwZSA9PT0gMiAvKiBSRU9SREVSICovO1xyXG4gICAgLy8gbW92ZSBtYWluIHZpZXcgYW5jaG9yIGlmIHRoaXMgaXMgYSByZS1vcmRlci5cclxuICAgIGlmIChpc1Jlb3JkZXIpIHtcclxuICAgICAgICBpbnNlcnQoZWwsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcclxuICAgIH1cclxuICAgIC8vIGlmIHRoaXMgaXMgYSByZS1vcmRlciBhbmQgdGVsZXBvcnQgaXMgZW5hYmxlZCAoY29udGVudCBpcyBpbiB0YXJnZXQpXHJcbiAgICAvLyBkbyBub3QgbW92ZSBjaGlsZHJlbi4gU28gdGhlIG9wcG9zaXRlIGlzOiBvbmx5IG1vdmUgY2hpbGRyZW4gaWYgdGhpc1xyXG4gICAgLy8gaXMgbm90IGEgcmVvcmRlciwgb3IgdGhlIHRlbGVwb3J0IGlzIGRpc2FibGVkXHJcbiAgICBpZiAoIWlzUmVvcmRlciB8fCBpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XHJcbiAgICAgICAgLy8gVGVsZXBvcnQgaGFzIGVpdGhlciBBcnJheSBjaGlsZHJlbiBvciBubyBjaGlsZHJlbi5cclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbW92ZShjaGlsZHJlbltpXSwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIDIgLyogUkVPUkRFUiAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBtb3ZlIG1haW4gdmlldyBhbmNob3IgaWYgdGhpcyBpcyBhIHJlLW9yZGVyLlxyXG4gICAgaWYgKGlzUmVvcmRlcikge1xyXG4gICAgICAgIGluc2VydChhbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlVGVsZXBvcnQobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCwgeyBvOiB7IG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCBxdWVyeVNlbGVjdG9yIH0gfSwgaHlkcmF0ZUNoaWxkcmVuKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSAodm5vZGUudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldCh2bm9kZS5wcm9wcywgcXVlcnlTZWxlY3RvcikpO1xyXG4gICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgIC8vIGlmIG11bHRpcGxlIHRlbGVwb3J0cyByZW5kZXJlZCB0byB0aGUgc2FtZSB0YXJnZXQgZWxlbWVudCwgd2UgbmVlZCB0b1xyXG4gICAgICAgIC8vIHBpY2sgdXAgZnJvbSB3aGVyZSB0aGUgbGFzdCB0ZWxlcG9ydCBmaW5pc2hlZCBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBub2RlXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldC5fbHBhIHx8IHRhcmdldC5maXJzdENoaWxkO1xyXG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICBpZiAoaXNUZWxlcG9ydERpc2FibGVkKHZub2RlLnByb3BzKSkge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKG5leHRTaWJsaW5nKG5vZGUpLCB2bm9kZSwgcGFyZW50Tm9kZShub2RlKSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIHZub2RlLnRhcmdldEFuY2hvciA9IHRhcmdldE5vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICAgICAgICAgIHZub2RlLnRhcmdldEFuY2hvciA9IGh5ZHJhdGVDaGlsZHJlbih0YXJnZXROb2RlLCB2bm9kZSwgdGFyZ2V0LCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRhcmdldC5fbHBhID1cclxuICAgICAgICAgICAgICAgIHZub2RlLnRhcmdldEFuY2hvciAmJiBuZXh0U2libGluZyh2bm9kZS50YXJnZXRBbmNob3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2bm9kZS5hbmNob3IgJiYgbmV4dFNpYmxpbmcodm5vZGUuYW5jaG9yKTtcclxufVxyXG4vLyBGb3JjZS1jYXN0ZWQgcHVibGljIHR5cGluZyBmb3IgaCBhbmQgVFNYIHByb3BzIGluZmVyZW5jZVxyXG5jb25zdCBUZWxlcG9ydCA9IFRlbGVwb3J0SW1wbDtcblxuY29uc3QgQ09NUE9ORU5UUyA9ICdjb21wb25lbnRzJztcclxuY29uc3QgRElSRUNUSVZFUyA9ICdkaXJlY3RpdmVzJztcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiByZXNvbHZlQ29tcG9uZW50KG5hbWUpIHtcclxuICAgIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgbmFtZSkgfHwgbmFtZTtcclxufVxyXG5jb25zdCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UID0gU3ltYm9sKCk7XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQoY29tcG9uZW50KSB7XHJcbiAgICBpZiAoaXNTdHJpbmcoY29tcG9uZW50KSkge1xyXG4gICAgICAgIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgY29tcG9uZW50LCBmYWxzZSkgfHwgY29tcG9uZW50O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gaW52YWxpZCB0eXBlcyB3aWxsIGZhbGx0aHJvdWdoIHRvIGNyZWF0ZVZOb2RlIGFuZCByYWlzZSB3YXJuaW5nXHJcbiAgICAgICAgcmV0dXJuIChjb21wb25lbnQgfHwgTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiByZXNvbHZlRGlyZWN0aXZlKG5hbWUpIHtcclxuICAgIHJldHVybiByZXNvbHZlQXNzZXQoRElSRUNUSVZFUywgbmFtZSk7XHJcbn1cclxuLy8gaW1wbGVtZW50YXRpb25cclxuZnVuY3Rpb24gcmVzb2x2ZUFzc2V0KHR5cGUsIG5hbWUsIHdhcm5NaXNzaW5nID0gdHJ1ZSkge1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfHwgY3VycmVudEluc3RhbmNlO1xyXG4gICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcclxuICAgICAgICAvLyBzZWxmIG5hbWUgaGFzIGhpZ2hlc3QgcHJpb3JpdHlcclxuICAgICAgICBpZiAodHlwZSA9PT0gQ09NUE9ORU5UUykge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxmTmFtZSA9IENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZTtcclxuICAgICAgICAgICAgaWYgKHNlbGZOYW1lICYmXHJcbiAgICAgICAgICAgICAgICAoc2VsZk5hbWUgPT09IG5hbWUgfHxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmTmFtZSA9PT0gY2FtZWxpemUobmFtZSkgfHxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmTmFtZSA9PT0gY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlcyA9IFxyXG4gICAgICAgIC8vIGxvY2FsIHJlZ2lzdHJhdGlvblxyXG4gICAgICAgIC8vIGNoZWNrIGluc3RhbmNlW3R5cGVdIGZpcnN0IGZvciBjb21wb25lbnRzIHdpdGggbWl4aW4gb3IgZXh0ZW5kcy5cclxuICAgICAgICByZXNvbHZlKGluc3RhbmNlW3R5cGVdIHx8IENvbXBvbmVudFt0eXBlXSwgbmFtZSkgfHxcclxuICAgICAgICAgICAgLy8gZ2xvYmFsIHJlZ2lzdHJhdGlvblxyXG4gICAgICAgICAgICByZXNvbHZlKGluc3RhbmNlLmFwcENvbnRleHRbdHlwZV0sIG5hbWUpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2Fybk1pc3NpbmcgJiYgIXJlcykge1xyXG4gICAgICAgICAgICB3YXJuKGBGYWlsZWQgdG8gcmVzb2x2ZSAke3R5cGUuc2xpY2UoMCwgLTEpfTogJHtuYW1lfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgcmVzb2x2ZSR7Y2FwaXRhbGl6ZSh0eXBlLnNsaWNlKDAsIC0xKSl9IGAgK1xyXG4gICAgICAgICAgICBgY2FuIG9ubHkgYmUgdXNlZCBpbiByZW5kZXIoKSBvciBzZXR1cCgpLmApO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmUocmVnaXN0cnksIG5hbWUpIHtcclxuICAgIHJldHVybiAocmVnaXN0cnkgJiZcclxuICAgICAgICAocmVnaXN0cnlbbmFtZV0gfHxcclxuICAgICAgICAgICAgcmVnaXN0cnlbY2FtZWxpemUobmFtZSldIHx8XHJcbiAgICAgICAgICAgIHJlZ2lzdHJ5W2NhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpXSkpO1xyXG59XG5cbmNvbnN0IEZyYWdtZW50ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdGcmFnbWVudCcgOiB1bmRlZmluZWQpO1xyXG5jb25zdCBUZXh0ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdUZXh0JyA6IHVuZGVmaW5lZCk7XHJcbmNvbnN0IENvbW1lbnQgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ0NvbW1lbnQnIDogdW5kZWZpbmVkKTtcclxuY29uc3QgU3RhdGljID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdTdGF0aWMnIDogdW5kZWZpbmVkKTtcclxuLy8gU2luY2Ugdi1pZiBhbmQgdi1mb3IgYXJlIHRoZSB0d28gcG9zc2libGUgd2F5cyBub2RlIHN0cnVjdHVyZSBjYW4gZHluYW1pY2FsbHlcclxuLy8gY2hhbmdlLCBvbmNlIHdlIGNvbnNpZGVyIHYtaWYgYnJhbmNoZXMgYW5kIGVhY2ggdi1mb3IgZnJhZ21lbnQgYSBibG9jaywgd2VcclxuLy8gY2FuIGRpdmlkZSBhIHRlbXBsYXRlIGludG8gbmVzdGVkIGJsb2NrcywgYW5kIHdpdGhpbiBlYWNoIGJsb2NrIHRoZSBub2RlXHJcbi8vIHN0cnVjdHVyZSB3b3VsZCBiZSBzdGFibGUuIFRoaXMgYWxsb3dzIHVzIHRvIHNraXAgbW9zdCBjaGlsZHJlbiBkaWZmaW5nXHJcbi8vIGFuZCBvbmx5IHdvcnJ5IGFib3V0IHRoZSBkeW5hbWljIG5vZGVzIChpbmRpY2F0ZWQgYnkgcGF0Y2ggZmxhZ3MpLlxyXG5jb25zdCBibG9ja1N0YWNrID0gW107XHJcbmxldCBjdXJyZW50QmxvY2sgPSBudWxsO1xyXG4vKipcclxuICogT3BlbiBhIGJsb2NrLlxyXG4gKiBUaGlzIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBgY3JlYXRlQmxvY2tgLiBJdCBjYW5ub3QgYmUgcGFydCBvZiBgY3JlYXRlQmxvY2tgXHJcbiAqIGJlY2F1c2UgdGhlIGNoaWxkcmVuIG9mIHRoZSBibG9jayBhcmUgZXZhbHVhdGVkIGJlZm9yZSBgY3JlYXRlQmxvY2tgIGl0c2VsZlxyXG4gKiBpcyBjYWxsZWQuIFRoZSBnZW5lcmF0ZWQgY29kZSB0eXBpY2FsbHkgbG9va3MgbGlrZSB0aGlzOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAqICAgcmV0dXJuIChvcGVuQmxvY2soKSxjcmVhdGVCbG9jaygnZGl2JywgbnVsbCwgWy4uLl0pKVxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKiBkaXNhYmxlVHJhY2tpbmcgaXMgdHJ1ZSB3aGVuIGNyZWF0aW5nIGEgdi1mb3IgZnJhZ21lbnQgYmxvY2ssIHNpbmNlIGEgdi1mb3JcclxuICogZnJhZ21lbnQgYWx3YXlzIGRpZmZzIGl0cyBjaGlsZHJlbi5cclxuICpcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIG9wZW5CbG9jayhkaXNhYmxlVHJhY2tpbmcgPSBmYWxzZSkge1xyXG4gICAgYmxvY2tTdGFjay5wdXNoKChjdXJyZW50QmxvY2sgPSBkaXNhYmxlVHJhY2tpbmcgPyBudWxsIDogW10pKTtcclxufVxyXG5mdW5jdGlvbiBjbG9zZUJsb2NrKCkge1xyXG4gICAgYmxvY2tTdGFjay5wb3AoKTtcclxuICAgIGN1cnJlbnRCbG9jayA9IGJsb2NrU3RhY2tbYmxvY2tTdGFjay5sZW5ndGggLSAxXSB8fCBudWxsO1xyXG59XHJcbi8vIFdoZXRoZXIgd2Ugc2hvdWxkIGJlIHRyYWNraW5nIGR5bmFtaWMgY2hpbGQgbm9kZXMgaW5zaWRlIGEgYmxvY2suXHJcbi8vIE9ubHkgdHJhY2tzIHdoZW4gdGhpcyB2YWx1ZSBpcyA+IDBcclxuLy8gV2UgYXJlIG5vdCB1c2luZyBhIHNpbXBsZSBib29sZWFuIGJlY2F1c2UgdGhpcyB2YWx1ZSBtYXkgbmVlZCB0byBiZVxyXG4vLyBpbmNyZW1lbnRlZC9kZWNyZW1lbnRlZCBieSBuZXN0ZWQgdXNhZ2Ugb2Ygdi1vbmNlIChzZWUgYmVsb3cpXHJcbmxldCBzaG91bGRUcmFjayA9IDE7XHJcbi8qKlxyXG4gKiBCbG9jayB0cmFja2luZyBzb21ldGltZXMgbmVlZHMgdG8gYmUgZGlzYWJsZWQsIGZvciBleGFtcGxlIGR1cmluZyB0aGVcclxuICogY3JlYXRpb24gb2YgYSB0cmVlIHRoYXQgbmVlZHMgdG8gYmUgY2FjaGVkIGJ5IHYtb25jZS4gVGhlIGNvbXBpbGVyIGdlbmVyYXRlc1xyXG4gKiBjb2RlIGxpa2UgdGhpczpcclxuICpcclxuICogYGBgIGpzXHJcbiAqIF9jYWNoZVsxXSB8fCAoXHJcbiAqICAgc2V0QmxvY2tUcmFja2luZygtMSksXHJcbiAqICAgX2NhY2hlWzFdID0gY3JlYXRlVk5vZGUoLi4uKSxcclxuICogICBzZXRCbG9ja1RyYWNraW5nKDEpLFxyXG4gKiAgIF9jYWNoZVsxXVxyXG4gKiApXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QmxvY2tUcmFja2luZyh2YWx1ZSkge1xyXG4gICAgc2hvdWxkVHJhY2sgKz0gdmFsdWU7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZSBhIGJsb2NrIHJvb3Qgdm5vZGUuIFRha2VzIHRoZSBzYW1lIGV4YWN0IGFyZ3VtZW50cyBhcyBgY3JlYXRlVk5vZGVgLlxyXG4gKiBBIGJsb2NrIHJvb3Qga2VlcHMgdHJhY2sgb2YgZHluYW1pYyBub2RlcyB3aXRoaW4gdGhlIGJsb2NrIGluIHRoZVxyXG4gKiBgZHluYW1pY0NoaWxkcmVuYCBhcnJheS5cclxuICpcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUJsb2NrKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMpIHtcclxuICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcywgdHJ1ZSAvKiBpc0Jsb2NrOiBwcmV2ZW50IGEgYmxvY2sgZnJvbSB0cmFja2luZyBpdHNlbGYgKi8pO1xyXG4gICAgLy8gc2F2ZSBjdXJyZW50IGJsb2NrIGNoaWxkcmVuIG9uIHRoZSBibG9jayB2bm9kZVxyXG4gICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gY3VycmVudEJsb2NrIHx8IEVNUFRZX0FSUjtcclxuICAgIC8vIGNsb3NlIGJsb2NrXHJcbiAgICBjbG9zZUJsb2NrKCk7XHJcbiAgICAvLyBhIGJsb2NrIGlzIGFsd2F5cyBnb2luZyB0byBiZSBwYXRjaGVkLCBzbyB0cmFjayBpdCBhcyBhIGNoaWxkIG9mIGl0c1xyXG4gICAgLy8gcGFyZW50IGJsb2NrXHJcbiAgICBpZiAoc2hvdWxkVHJhY2sgPiAwICYmIGN1cnJlbnRCbG9jaykge1xyXG4gICAgICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2bm9kZTtcclxufVxyXG5mdW5jdGlvbiBpc1ZOb2RlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgPyB2YWx1ZS5fX3ZfaXNWTm9kZSA9PT0gdHJ1ZSA6IGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICBuMi5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLyAmJlxyXG4gICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5oYXMobjIudHlwZSkpIHtcclxuICAgICAgICAvLyBITVIgb25seTogaWYgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBob3QtdXBkYXRlZCwgZm9yY2UgYSByZWxvYWQuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG4xLnR5cGUgPT09IG4yLnR5cGUgJiYgbjEua2V5ID09PSBuMi5rZXk7XHJcbn1cclxubGV0IHZub2RlQXJnc1RyYW5zZm9ybWVyO1xyXG4vKipcclxuICogSW50ZXJuYWwgQVBJIGZvciByZWdpc3RlcmluZyBhbiBhcmd1bWVudHMgdHJhbnNmb3JtIGZvciBjcmVhdGVWTm9kZVxyXG4gKiB1c2VkIGZvciBjcmVhdGluZyBzdHVicyBpbiB0aGUgdGVzdC11dGlsc1xyXG4gKiBJdCBpcyAqaW50ZXJuYWwqIGJ1dCBuZWVkcyB0byBiZSBleHBvc2VkIGZvciB0ZXN0LXV0aWxzIHRvIHBpY2sgdXAgcHJvcGVyXHJcbiAqIHR5cGluZ3NcclxuICovXHJcbmZ1bmN0aW9uIHRyYW5zZm9ybVZOb2RlQXJncyh0cmFuc2Zvcm1lcikge1xyXG4gICAgdm5vZGVBcmdzVHJhbnNmb3JtZXIgPSB0cmFuc2Zvcm1lcjtcclxufVxyXG5jb25zdCBjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtID0gKC4uLmFyZ3MpID0+IHtcclxuICAgIHJldHVybiBfY3JlYXRlVk5vZGUoLi4uKHZub2RlQXJnc1RyYW5zZm9ybWVyXHJcbiAgICAgICAgPyB2bm9kZUFyZ3NUcmFuc2Zvcm1lcihhcmdzLCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpXHJcbiAgICAgICAgOiBhcmdzKSk7XHJcbn07XHJcbmNvbnN0IEludGVybmFsT2JqZWN0S2V5ID0gYF9fdkludGVybmFsYDtcclxuY29uc3Qgbm9ybWFsaXplS2V5ID0gKHsga2V5IH0pID0+IGtleSAhPSBudWxsID8ga2V5IDogbnVsbDtcclxuY29uc3Qgbm9ybWFsaXplUmVmID0gKHsgcmVmIH0pID0+IHtcclxuICAgIHJldHVybiAocmVmICE9IG51bGxcclxuICAgICAgICA/IGlzQXJyYXkocmVmKVxyXG4gICAgICAgICAgICA/IHJlZlxyXG4gICAgICAgICAgICA6IHsgaTogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCByOiByZWYgfVxyXG4gICAgICAgIDogbnVsbCk7XHJcbn07XHJcbmNvbnN0IGNyZWF0ZVZOb2RlID0gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgPyBjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtXHJcbiAgICA6IF9jcmVhdGVWTm9kZSk7XHJcbmZ1bmN0aW9uIF9jcmVhdGVWTm9kZSh0eXBlLCBwcm9wcyA9IG51bGwsIGNoaWxkcmVuID0gbnVsbCwgcGF0Y2hGbGFnID0gMCwgZHluYW1pY1Byb3BzID0gbnVsbCwgaXNCbG9ja05vZGUgPSBmYWxzZSkge1xyXG4gICAgaWYgKCF0eXBlIHx8IHR5cGUgPT09IE5VTExfRFlOQU1JQ19DT01QT05FTlQpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICF0eXBlKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEludmFsaWQgdm5vZGUgdHlwZSB3aGVuIGNyZWF0aW5nIHZub2RlOiAke3R5cGV9LmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0eXBlID0gQ29tbWVudDtcclxuICAgIH1cclxuICAgIGlmIChpc1ZOb2RlKHR5cGUpKSB7XHJcbiAgICAgICAgLy8gY3JlYXRlVk5vZGUgcmVjZWl2aW5nIGFuIGV4aXN0aW5nIHZub2RlLiBUaGlzIGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxyXG4gICAgICAgIC8vIDxjb21wb25lbnQgOmlzPVwidm5vZGVcIi8+XHJcbiAgICAgICAgLy8gIzIwNzggbWFrZSBzdXJlIHRvIG1lcmdlIHJlZnMgZHVyaW5nIHRoZSBjbG9uZSBpbnN0ZWFkIG9mIG92ZXJ3cml0aW5nIGl0XHJcbiAgICAgICAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh0eXBlLCBwcm9wcywgdHJ1ZSAvKiBtZXJnZVJlZjogdHJ1ZSAqLyk7XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKGNsb25lZCwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xvbmVkO1xyXG4gICAgfVxyXG4gICAgLy8gY2xhc3MgY29tcG9uZW50IG5vcm1hbGl6YXRpb24uXHJcbiAgICBpZiAoaXNDbGFzc0NvbXBvbmVudCh0eXBlKSkge1xyXG4gICAgICAgIHR5cGUgPSB0eXBlLl9fdmNjT3B0cztcclxuICAgIH1cclxuICAgIC8vIGNsYXNzICYgc3R5bGUgbm9ybWFsaXphdGlvbi5cclxuICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgIC8vIGZvciByZWFjdGl2ZSBvciBwcm94eSBvYmplY3RzLCB3ZSBuZWVkIHRvIGNsb25lIGl0IHRvIGVuYWJsZSBtdXRhdGlvbi5cclxuICAgICAgICBpZiAoaXNQcm94eShwcm9wcykgfHwgSW50ZXJuYWxPYmplY3RLZXkgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgcHJvcHMgPSBleHRlbmQoe30sIHByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHsgY2xhc3M6IGtsYXNzLCBzdHlsZSB9ID0gcHJvcHM7XHJcbiAgICAgICAgaWYgKGtsYXNzICYmICFpc1N0cmluZyhrbGFzcykpIHtcclxuICAgICAgICAgICAgcHJvcHMuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhrbGFzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc09iamVjdChzdHlsZSkpIHtcclxuICAgICAgICAgICAgLy8gcmVhY3RpdmUgc3RhdGUgb2JqZWN0cyBuZWVkIHRvIGJlIGNsb25lZCBzaW5jZSB0aGV5IGFyZSBsaWtlbHkgdG8gYmVcclxuICAgICAgICAgICAgLy8gbXV0YXRlZFxyXG4gICAgICAgICAgICBpZiAoaXNQcm94eShzdHlsZSkgJiYgIWlzQXJyYXkoc3R5bGUpKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IGV4dGVuZCh7fSwgc3R5bGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByb3BzLnN0eWxlID0gbm9ybWFsaXplU3R5bGUoc3R5bGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGVuY29kZSB0aGUgdm5vZGUgdHlwZSBpbmZvcm1hdGlvbiBpbnRvIGEgYml0bWFwXHJcbiAgICBjb25zdCBzaGFwZUZsYWcgPSBpc1N0cmluZyh0eXBlKVxyXG4gICAgICAgID8gMSAvKiBFTEVNRU5UICovXHJcbiAgICAgICAgOiAgaXNTdXNwZW5zZSh0eXBlKVxyXG4gICAgICAgICAgICA/IDEyOCAvKiBTVVNQRU5TRSAqL1xyXG4gICAgICAgICAgICA6IGlzVGVsZXBvcnQodHlwZSlcclxuICAgICAgICAgICAgICAgID8gNjQgLyogVEVMRVBPUlQgKi9cclxuICAgICAgICAgICAgICAgIDogaXNPYmplY3QodHlwZSlcclxuICAgICAgICAgICAgICAgICAgICA/IDQgLyogU1RBVEVGVUxfQ09NUE9ORU5UICovXHJcbiAgICAgICAgICAgICAgICAgICAgOiBpc0Z1bmN0aW9uKHR5cGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gMiAvKiBGVU5DVElPTkFMX0NPTVBPTkVOVCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDA7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHNoYXBlRmxhZyAmIDQgLyogU1RBVEVGVUxfQ09NUE9ORU5UICovICYmIGlzUHJveHkodHlwZSkpIHtcclxuICAgICAgICB0eXBlID0gdG9SYXcodHlwZSk7XHJcbiAgICAgICAgd2FybihgVnVlIHJlY2VpdmVkIGEgQ29tcG9uZW50IHdoaWNoIHdhcyBtYWRlIGEgcmVhY3RpdmUgb2JqZWN0LiBUaGlzIGNhbiBgICtcclxuICAgICAgICAgICAgYGxlYWQgdG8gdW5uZWNlc3NhcnkgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQsIGFuZCBzaG91bGQgYmUgYXZvaWRlZCBieSBgICtcclxuICAgICAgICAgICAgYG1hcmtpbmcgdGhlIGNvbXBvbmVudCB3aXRoIFxcYG1hcmtSYXdcXGAgb3IgdXNpbmcgXFxgc2hhbGxvd1JlZlxcYCBgICtcclxuICAgICAgICAgICAgYGluc3RlYWQgb2YgXFxgcmVmXFxgLmAsIGBcXG5Db21wb25lbnQgdGhhdCB3YXMgbWFkZSByZWFjdGl2ZTogYCwgdHlwZSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB2bm9kZSA9IHtcclxuICAgICAgICBfX3ZfaXNWTm9kZTogdHJ1ZSxcclxuICAgICAgICBbXCJfX3Zfc2tpcFwiIC8qIFNLSVAgKi9dOiB0cnVlLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgcHJvcHMsXHJcbiAgICAgICAga2V5OiBwcm9wcyAmJiBub3JtYWxpemVLZXkocHJvcHMpLFxyXG4gICAgICAgIHJlZjogcHJvcHMgJiYgbm9ybWFsaXplUmVmKHByb3BzKSxcclxuICAgICAgICBzY29wZUlkOiBjdXJyZW50U2NvcGVJZCxcclxuICAgICAgICBjaGlsZHJlbjogbnVsbCxcclxuICAgICAgICBjb21wb25lbnQ6IG51bGwsXHJcbiAgICAgICAgc3VzcGVuc2U6IG51bGwsXHJcbiAgICAgICAgc3NDb250ZW50OiBudWxsLFxyXG4gICAgICAgIHNzRmFsbGJhY2s6IG51bGwsXHJcbiAgICAgICAgZGlyczogbnVsbCxcclxuICAgICAgICB0cmFuc2l0aW9uOiBudWxsLFxyXG4gICAgICAgIGVsOiBudWxsLFxyXG4gICAgICAgIGFuY2hvcjogbnVsbCxcclxuICAgICAgICB0YXJnZXQ6IG51bGwsXHJcbiAgICAgICAgdGFyZ2V0QW5jaG9yOiBudWxsLFxyXG4gICAgICAgIHN0YXRpY0NvdW50OiAwLFxyXG4gICAgICAgIHNoYXBlRmxhZyxcclxuICAgICAgICBwYXRjaEZsYWcsXHJcbiAgICAgICAgZHluYW1pY1Byb3BzLFxyXG4gICAgICAgIGR5bmFtaWNDaGlsZHJlbjogbnVsbCxcclxuICAgICAgICBhcHBDb250ZXh0OiBudWxsXHJcbiAgICB9O1xyXG4gICAgLy8gdmFsaWRhdGUga2V5XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHZub2RlLmtleSAhPT0gdm5vZGUua2V5KSB7XHJcbiAgICAgICAgd2FybihgVk5vZGUgY3JlYXRlZCB3aXRoIGludmFsaWQga2V5IChOYU4pLiBWTm9kZSB0eXBlOmAsIHZub2RlLnR5cGUpO1xyXG4gICAgfVxyXG4gICAgbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKTtcclxuICAgIC8vIG5vcm1hbGl6ZSBzdXNwZW5zZSBjaGlsZHJlblxyXG4gICAgaWYgKCBzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICBjb25zdCB7IGNvbnRlbnQsIGZhbGxiYWNrIH0gPSBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuKHZub2RlKTtcclxuICAgICAgICB2bm9kZS5zc0NvbnRlbnQgPSBjb250ZW50O1xyXG4gICAgICAgIHZub2RlLnNzRmFsbGJhY2sgPSBmYWxsYmFjaztcclxuICAgIH1cclxuICAgIGlmIChzaG91bGRUcmFjayA+IDAgJiZcclxuICAgICAgICAvLyBhdm9pZCBhIGJsb2NrIG5vZGUgZnJvbSB0cmFja2luZyBpdHNlbGZcclxuICAgICAgICAhaXNCbG9ja05vZGUgJiZcclxuICAgICAgICAvLyBoYXMgY3VycmVudCBwYXJlbnQgYmxvY2tcclxuICAgICAgICBjdXJyZW50QmxvY2sgJiZcclxuICAgICAgICAvLyBwcmVzZW5jZSBvZiBhIHBhdGNoIGZsYWcgaW5kaWNhdGVzIHRoaXMgbm9kZSBuZWVkcyBwYXRjaGluZyBvbiB1cGRhdGVzLlxyXG4gICAgICAgIC8vIGNvbXBvbmVudCBub2RlcyBhbHNvIHNob3VsZCBhbHdheXMgYmUgcGF0Y2hlZCwgYmVjYXVzZSBldmVuIGlmIHRoZVxyXG4gICAgICAgIC8vIGNvbXBvbmVudCBkb2Vzbid0IG5lZWQgdG8gdXBkYXRlLCBpdCBuZWVkcyB0byBwZXJzaXN0IHRoZSBpbnN0YW5jZSBvbiB0b1xyXG4gICAgICAgIC8vIHRoZSBuZXh0IHZub2RlIHNvIHRoYXQgaXQgY2FuIGJlIHByb3Blcmx5IHVubW91bnRlZCBsYXRlci5cclxuICAgICAgICAocGF0Y2hGbGFnID4gMCB8fCBzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykgJiZcclxuICAgICAgICAvLyB0aGUgRVZFTlRTIGZsYWcgaXMgb25seSBmb3IgaHlkcmF0aW9uIGFuZCBpZiBpdCBpcyB0aGUgb25seSBmbGFnLCB0aGVcclxuICAgICAgICAvLyB2bm9kZSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgZHluYW1pYyBkdWUgdG8gaGFuZGxlciBjYWNoaW5nLlxyXG4gICAgICAgIHBhdGNoRmxhZyAhPT0gMzIgLyogSFlEUkFURV9FVkVOVFMgKi8pIHtcclxuICAgICAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm5vZGU7XHJcbn1cclxuZnVuY3Rpb24gY2xvbmVWTm9kZSh2bm9kZSwgZXh0cmFQcm9wcywgbWVyZ2VSZWYgPSBmYWxzZSkge1xyXG4gICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IE5PVCB1c2luZyBzcHJlYWQgb3IgZXh0ZW5kIHRvIGF2b2lkIHRoZSBydW50aW1lXHJcbiAgICAvLyBrZXkgZW51bWVyYXRpb24gY29zdC5cclxuICAgIGNvbnN0IHsgcHJvcHMsIHJlZiwgcGF0Y2hGbGFnIH0gPSB2bm9kZTtcclxuICAgIGNvbnN0IG1lcmdlZFByb3BzID0gZXh0cmFQcm9wcyA/IG1lcmdlUHJvcHMocHJvcHMgfHwge30sIGV4dHJhUHJvcHMpIDogcHJvcHM7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIF9fdl9pc1ZOb2RlOiB0cnVlLFxyXG4gICAgICAgIFtcIl9fdl9za2lwXCIgLyogU0tJUCAqL106IHRydWUsXHJcbiAgICAgICAgdHlwZTogdm5vZGUudHlwZSxcclxuICAgICAgICBwcm9wczogbWVyZ2VkUHJvcHMsXHJcbiAgICAgICAga2V5OiBtZXJnZWRQcm9wcyAmJiBub3JtYWxpemVLZXkobWVyZ2VkUHJvcHMpLFxyXG4gICAgICAgIHJlZjogZXh0cmFQcm9wcyAmJiBleHRyYVByb3BzLnJlZlxyXG4gICAgICAgICAgICA/IC8vICMyMDc4IGluIHRoZSBjYXNlIG9mIDxjb21wb25lbnQgOmlzPVwidm5vZGVcIiByZWY9XCJleHRyYVwiLz5cclxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB2bm9kZSBpdHNlbGYgYWxyZWFkeSBoYXMgYSByZWYsIGNsb25lVk5vZGUgd2lsbCBuZWVkIHRvIG1lcmdlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgcmVmcyBzbyB0aGUgc2luZ2xlIHZub2RlIGNhbiBiZSBzZXQgb24gbXVsdGlwbGUgcmVmc1xyXG4gICAgICAgICAgICAgICAgbWVyZ2VSZWYgJiYgcmVmXHJcbiAgICAgICAgICAgICAgICAgICAgPyBpc0FycmF5KHJlZilcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZWYuY29uY2F0KG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBbcmVmLCBub3JtYWxpemVSZWYoZXh0cmFQcm9wcyldXHJcbiAgICAgICAgICAgICAgICAgICAgOiBub3JtYWxpemVSZWYoZXh0cmFQcm9wcylcclxuICAgICAgICAgICAgOiByZWYsXHJcbiAgICAgICAgc2NvcGVJZDogdm5vZGUuc2NvcGVJZCxcclxuICAgICAgICBjaGlsZHJlbjogdm5vZGUuY2hpbGRyZW4sXHJcbiAgICAgICAgdGFyZ2V0OiB2bm9kZS50YXJnZXQsXHJcbiAgICAgICAgdGFyZ2V0QW5jaG9yOiB2bm9kZS50YXJnZXRBbmNob3IsXHJcbiAgICAgICAgc3RhdGljQ291bnQ6IHZub2RlLnN0YXRpY0NvdW50LFxyXG4gICAgICAgIHNoYXBlRmxhZzogdm5vZGUuc2hhcGVGbGFnLFxyXG4gICAgICAgIC8vIGlmIHRoZSB2bm9kZSBpcyBjbG9uZWQgd2l0aCBleHRyYSBwcm9wcywgd2UgY2FuIG5vIGxvbmdlciBhc3N1bWUgaXRzXHJcbiAgICAgICAgLy8gZXhpc3RpbmcgcGF0Y2ggZmxhZyB0byBiZSByZWxpYWJsZSBhbmQgbmVlZCB0byBhZGQgdGhlIEZVTExfUFJPUFMgZmxhZy5cclxuICAgICAgICAvLyBub3RlOiBwZXJzZXJ2ZSBmbGFnIGZvciBmcmFnbWVudHMgc2luY2UgdGhleSB1c2UgdGhlIGZsYWcgZm9yIGNoaWxkcmVuXHJcbiAgICAgICAgLy8gZmFzdCBwYXRocyBvbmx5LlxyXG4gICAgICAgIHBhdGNoRmxhZzogZXh0cmFQcm9wcyAmJiB2bm9kZS50eXBlICE9PSBGcmFnbWVudFxyXG4gICAgICAgICAgICA/IHBhdGNoRmxhZyA9PT0gLTEgLy8gaG9pc3RlZCBub2RlXHJcbiAgICAgICAgICAgICAgICA/IDE2IC8qIEZVTExfUFJPUFMgKi9cclxuICAgICAgICAgICAgICAgIDogcGF0Y2hGbGFnIHwgMTYgLyogRlVMTF9QUk9QUyAqL1xyXG4gICAgICAgICAgICA6IHBhdGNoRmxhZyxcclxuICAgICAgICBkeW5hbWljUHJvcHM6IHZub2RlLmR5bmFtaWNQcm9wcyxcclxuICAgICAgICBkeW5hbWljQ2hpbGRyZW46IHZub2RlLmR5bmFtaWNDaGlsZHJlbixcclxuICAgICAgICBhcHBDb250ZXh0OiB2bm9kZS5hcHBDb250ZXh0LFxyXG4gICAgICAgIGRpcnM6IHZub2RlLmRpcnMsXHJcbiAgICAgICAgdHJhbnNpdGlvbjogdm5vZGUudHJhbnNpdGlvbixcclxuICAgICAgICAvLyBUaGVzZSBzaG91bGQgdGVjaG5pY2FsbHkgb25seSBiZSBub24tbnVsbCBvbiBtb3VudGVkIFZOb2Rlcy4gSG93ZXZlcixcclxuICAgICAgICAvLyB0aGV5ICpzaG91bGQqIGJlIGNvcGllZCBmb3Iga2VwdC1hbGl2ZSB2bm9kZXMuIFNvIHdlIGp1c3QgYWx3YXlzIGNvcHlcclxuICAgICAgICAvLyB0aGVtIHNpbmNlIHRoZW0gYmVpbmcgbm9uLW51bGwgZHVyaW5nIGEgbW91bnQgZG9lc24ndCBhZmZlY3QgdGhlIGxvZ2ljIGFzXHJcbiAgICAgICAgLy8gdGhleSB3aWxsIHNpbXBseSBiZSBvdmVyd3JpdHRlbi5cclxuICAgICAgICBjb21wb25lbnQ6IHZub2RlLmNvbXBvbmVudCxcclxuICAgICAgICBzdXNwZW5zZTogdm5vZGUuc3VzcGVuc2UsXHJcbiAgICAgICAgc3NDb250ZW50OiB2bm9kZS5zc0NvbnRlbnQgJiYgY2xvbmVWTm9kZSh2bm9kZS5zc0NvbnRlbnQpLFxyXG4gICAgICAgIHNzRmFsbGJhY2s6IHZub2RlLnNzRmFsbGJhY2sgJiYgY2xvbmVWTm9kZSh2bm9kZS5zc0ZhbGxiYWNrKSxcclxuICAgICAgICBlbDogdm5vZGUuZWwsXHJcbiAgICAgICAgYW5jaG9yOiB2bm9kZS5hbmNob3JcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVUZXh0Vk5vZGUodGV4dCA9ICcgJywgZmxhZyA9IDApIHtcclxuICAgIHJldHVybiBjcmVhdGVWTm9kZShUZXh0LCBudWxsLCB0ZXh0LCBmbGFnKTtcclxufVxyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY1ZOb2RlKGNvbnRlbnQsIG51bWJlck9mTm9kZXMpIHtcclxuICAgIC8vIEEgc3RhdGljIHZub2RlIGNhbiBjb250YWluIG11bHRpcGxlIHN0cmluZ2lmaWVkIGVsZW1lbnRzLCBhbmQgdGhlIG51bWJlclxyXG4gICAgLy8gb2YgZWxlbWVudHMgaXMgbmVjZXNzYXJ5IGZvciBoeWRyYXRpb24uXHJcbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKFN0YXRpYywgbnVsbCwgY29udGVudCk7XHJcbiAgICB2bm9kZS5zdGF0aWNDb3VudCA9IG51bWJlck9mTm9kZXM7XHJcbiAgICByZXR1cm4gdm5vZGU7XHJcbn1cclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVDb21tZW50Vk5vZGUodGV4dCA9ICcnLCBcclxuLy8gd2hlbiB1c2VkIGFzIHRoZSB2LWVsc2UgYnJhbmNoLCB0aGUgY29tbWVudCBub2RlIG11c3QgYmUgY3JlYXRlZCBhcyBhXHJcbi8vIGJsb2NrIHRvIGVuc3VyZSBjb3JyZWN0IHVwZGF0ZXMuXHJcbmFzQmxvY2sgPSBmYWxzZSkge1xyXG4gICAgcmV0dXJuIGFzQmxvY2tcclxuICAgICAgICA/IChvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2soQ29tbWVudCwgbnVsbCwgdGV4dCkpXHJcbiAgICAgICAgOiBjcmVhdGVWTm9kZShDb21tZW50LCBudWxsLCB0ZXh0KTtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVWTm9kZShjaGlsZCkge1xyXG4gICAgaWYgKGNoaWxkID09IG51bGwgfHwgdHlwZW9mIGNoaWxkID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAvLyBlbXB0eSBwbGFjZWhvbGRlclxyXG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShDb21tZW50KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzQXJyYXkoY2hpbGQpKSB7XHJcbiAgICAgICAgLy8gZnJhZ21lbnRcclxuICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoRnJhZ21lbnQsIG51bGwsIGNoaWxkKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAvLyBhbHJlYWR5IHZub2RlLCB0aGlzIHNob3VsZCBiZSB0aGUgbW9zdCBjb21tb24gc2luY2UgY29tcGlsZWQgdGVtcGxhdGVzXHJcbiAgICAgICAgLy8gYWx3YXlzIHByb2R1Y2UgYWxsLXZub2RlIGNoaWxkcmVuIGFycmF5c1xyXG4gICAgICAgIHJldHVybiBjaGlsZC5lbCA9PT0gbnVsbCA/IGNoaWxkIDogY2xvbmVWTm9kZShjaGlsZCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBzdHJpbmdzIGFuZCBudW1iZXJzXHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIFN0cmluZyhjaGlsZCkpO1xyXG4gICAgfVxyXG59XHJcbi8vIG9wdGltaXplZCBub3JtYWxpemF0aW9uIGZvciB0ZW1wbGF0ZS1jb21waWxlZCByZW5kZXIgZm5zXHJcbmZ1bmN0aW9uIGNsb25lSWZNb3VudGVkKGNoaWxkKSB7XHJcbiAgICByZXR1cm4gY2hpbGQuZWwgPT09IG51bGwgPyBjaGlsZCA6IGNsb25lVk5vZGUoY2hpbGQpO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbikge1xyXG4gICAgbGV0IHR5cGUgPSAwO1xyXG4gICAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHZub2RlO1xyXG4gICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcclxuICAgICAgICBjaGlsZHJlbiA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHR5cGUgPSAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovIHx8IHNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKSB7XHJcbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSBzbG90IHRvIHBsYWluIGNoaWxkcmVuIGZvciBwbGFpbiBlbGVtZW50IGFuZCBUZWxlcG9ydFxyXG4gICAgICAgICAgICBjb25zdCBzbG90ID0gY2hpbGRyZW4uZGVmYXVsdDtcclxuICAgICAgICAgICAgaWYgKHNsb3QpIHtcclxuICAgICAgICAgICAgICAgIC8vIF9jIG1hcmtlciBpcyBhZGRlZCBieSB3aXRoQ3R4KCkgaW5kaWNhdGluZyB0aGlzIGlzIGEgY29tcGlsZWQgc2xvdFxyXG4gICAgICAgICAgICAgICAgc2xvdC5fYyAmJiBzZXRDb21waWxlZFNsb3RSZW5kZXJpbmcoMSk7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgc2xvdCgpKTtcclxuICAgICAgICAgICAgICAgIHNsb3QuX2MgJiYgc2V0Q29tcGlsZWRTbG90UmVuZGVyaW5nKC0xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0eXBlID0gMzIgLyogU0xPVFNfQ0hJTERSRU4gKi87XHJcbiAgICAgICAgICAgIGNvbnN0IHNsb3RGbGFnID0gY2hpbGRyZW4uXztcclxuICAgICAgICAgICAgaWYgKCFzbG90RmxhZyAmJiAhKEludGVybmFsT2JqZWN0S2V5IGluIGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4uX2N0eCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzbG90RmxhZyA9PT0gMyAvKiBGT1JXQVJERUQgKi8gJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhIGNoaWxkIGNvbXBvbmVudCByZWNlaXZlcyBmb3J3YXJkZWQgc2xvdHMgZnJvbSB0aGUgcGFyZW50LlxyXG4gICAgICAgICAgICAgICAgLy8gaXRzIHNsb3QgdHlwZSBpcyBkZXRlcm1pbmVkIGJ5IGl0cyBwYXJlbnQncyBzbG90IHR5cGUuXHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnZub2RlLnBhdGNoRmxhZyAmIDEwMjQgLyogRFlOQU1JQ19TTE9UUyAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLl8gPSAyIC8qIERZTkFNSUMgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgdm5vZGUucGF0Y2hGbGFnIHw9IDEwMjQgLyogRFlOQU1JQ19TTE9UUyAqLztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLl8gPSAxIC8qIFNUQUJMRSAqLztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgY2hpbGRyZW4gPSB7IGRlZmF1bHQ6IGNoaWxkcmVuLCBfY3R4OiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfTtcclxuICAgICAgICB0eXBlID0gMzIgLyogU0xPVFNfQ0hJTERSRU4gKi87XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjaGlsZHJlbiA9IFN0cmluZyhjaGlsZHJlbik7XHJcbiAgICAgICAgLy8gZm9yY2UgdGVsZXBvcnQgY2hpbGRyZW4gdG8gYXJyYXkgc28gaXQgY2FuIGJlIG1vdmVkIGFyb3VuZFxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLykge1xyXG4gICAgICAgICAgICB0eXBlID0gMTYgLyogQVJSQVlfQ0hJTERSRU4gKi87XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gW2NyZWF0ZVRleHRWTm9kZShjaGlsZHJlbildO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdHlwZSA9IDggLyogVEVYVF9DSElMRFJFTiAqLztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2bm9kZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgdm5vZGUuc2hhcGVGbGFnIHw9IHR5cGU7XHJcbn1cclxuZnVuY3Rpb24gbWVyZ2VQcm9wcyguLi5hcmdzKSB7XHJcbiAgICBjb25zdCByZXQgPSBleHRlbmQoe30sIGFyZ3NbMF0pO1xyXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgdG9NZXJnZSA9IGFyZ3NbaV07XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdG9NZXJnZSkge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnY2xhc3MnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmV0LmNsYXNzICE9PSB0b01lcmdlLmNsYXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0LmNsYXNzID0gbm9ybWFsaXplQ2xhc3MoW3JldC5jbGFzcywgdG9NZXJnZS5jbGFzc10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgICAgICAgICAgcmV0LnN0eWxlID0gbm9ybWFsaXplU3R5bGUoW3JldC5zdHlsZSwgdG9NZXJnZS5zdHlsZV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzT24oa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSByZXRba2V5XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluY29taW5nID0gdG9NZXJnZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nICE9PSBpbmNvbWluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldFtrZXldID0gZXhpc3RpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBbXS5jb25jYXQoZXhpc3RpbmcsIHRvTWVyZ2Vba2V5XSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpbmNvbWluZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXRba2V5XSA9IHRvTWVyZ2Vba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cblxuZnVuY3Rpb24gcHJvdmlkZShrZXksIHZhbHVlKSB7XHJcbiAgICBpZiAoIWN1cnJlbnRJbnN0YW5jZSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybihgcHJvdmlkZSgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzO1xyXG4gICAgICAgIC8vIGJ5IGRlZmF1bHQgYW4gaW5zdGFuY2UgaW5oZXJpdHMgaXRzIHBhcmVudCdzIHByb3ZpZGVzIG9iamVjdFxyXG4gICAgICAgIC8vIGJ1dCB3aGVuIGl0IG5lZWRzIHRvIHByb3ZpZGUgdmFsdWVzIG9mIGl0cyBvd24sIGl0IGNyZWF0ZXMgaXRzXHJcbiAgICAgICAgLy8gb3duIHByb3ZpZGVzIG9iamVjdCB1c2luZyBwYXJlbnQgcHJvdmlkZXMgb2JqZWN0IGFzIHByb3RvdHlwZS5cclxuICAgICAgICAvLyB0aGlzIHdheSBpbiBgaW5qZWN0YCB3ZSBjYW4gc2ltcGx5IGxvb2sgdXAgaW5qZWN0aW9ucyBmcm9tIGRpcmVjdFxyXG4gICAgICAgIC8vIHBhcmVudCBhbmQgbGV0IHRoZSBwcm90b3R5cGUgY2hhaW4gZG8gdGhlIHdvcmsuXHJcbiAgICAgICAgY29uc3QgcGFyZW50UHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucGFyZW50ICYmIGN1cnJlbnRJbnN0YW5jZS5wYXJlbnQucHJvdmlkZXM7XHJcbiAgICAgICAgaWYgKHBhcmVudFByb3ZpZGVzID09PSBwcm92aWRlcykge1xyXG4gICAgICAgICAgICBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcyA9IE9iamVjdC5jcmVhdGUocGFyZW50UHJvdmlkZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUUyBkb2Vzbid0IGFsbG93IHN5bWJvbCBhcyBpbmRleCB0eXBlXHJcbiAgICAgICAgcHJvdmlkZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGluamVjdChrZXksIGRlZmF1bHRWYWx1ZSwgdHJlYXREZWZhdWx0QXNGYWN0b3J5ID0gZmFsc2UpIHtcclxuICAgIC8vIGZhbGxiYWNrIHRvIGBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2VgIHNvIHRoYXQgdGhpcyBjYW4gYmUgY2FsbGVkIGluXHJcbiAgICAvLyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbiAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAvLyAjMjQwMFxyXG4gICAgICAgIC8vIHRvIHN1cHBvcnQgYGFwcC51c2VgIHBsdWdpbnMsXHJcbiAgICAgICAgLy8gZmFsbGJhY2sgdG8gYXBwQ29udGV4dCdzIGBwcm92aWRlc2AgaWYgdGhlIGludGFuY2UgaXMgYXQgcm9vdFxyXG4gICAgICAgIGNvbnN0IHByb3ZpZGVzID0gaW5zdGFuY2UucGFyZW50ID09IG51bGxcclxuICAgICAgICAgICAgPyBpbnN0YW5jZS52bm9kZS5hcHBDb250ZXh0ICYmIGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQucHJvdmlkZXNcclxuICAgICAgICAgICAgOiBpbnN0YW5jZS5wYXJlbnQucHJvdmlkZXM7XHJcbiAgICAgICAgaWYgKHByb3ZpZGVzICYmIGtleSBpbiBwcm92aWRlcykge1xyXG4gICAgICAgICAgICAvLyBUUyBkb2Vzbid0IGFsbG93IHN5bWJvbCBhcyBpbmRleCB0eXBlXHJcbiAgICAgICAgICAgIHJldHVybiBwcm92aWRlc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJlYXREZWZhdWx0QXNGYWN0b3J5ICYmIGlzRnVuY3Rpb24oZGVmYXVsdFZhbHVlKVxyXG4gICAgICAgICAgICAgICAgPyBkZWZhdWx0VmFsdWUoKVxyXG4gICAgICAgICAgICAgICAgOiBkZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBpbmplY3Rpb24gXCIke1N0cmluZyhrZXkpfVwiIG5vdCBmb3VuZC5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBpbmplY3QoKSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBzZXR1cCgpIG9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cy5gKTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkge1xyXG4gICAgY29uc3QgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgcmV0dXJuICh0eXBlLCBrZXkpID0+IHtcclxuICAgICAgICBpZiAoY2FjaGVba2V5XSkge1xyXG4gICAgICAgICAgICB3YXJuKGAke3R5cGV9IHByb3BlcnR5IFwiJHtrZXl9XCIgaXMgYWxyZWFkeSBkZWZpbmVkIGluICR7Y2FjaGVba2V5XX0uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjYWNoZVtrZXldID0gdHlwZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbmxldCBpc0luQmVmb3JlQ3JlYXRlID0gZmFsc2U7XHJcbmZ1bmN0aW9uIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSwgb3B0aW9ucywgZGVmZXJyZWREYXRhID0gW10sIGRlZmVycmVkV2F0Y2ggPSBbXSwgZGVmZXJyZWRQcm92aWRlID0gW10sIGFzTWl4aW4gPSBmYWxzZSkge1xyXG4gICAgY29uc3QgeyBcclxuICAgIC8vIGNvbXBvc2l0aW9uXHJcbiAgICBtaXhpbnMsIGV4dGVuZHM6IGV4dGVuZHNPcHRpb25zLCBcclxuICAgIC8vIHN0YXRlXHJcbiAgICBkYXRhOiBkYXRhT3B0aW9ucywgY29tcHV0ZWQ6IGNvbXB1dGVkT3B0aW9ucywgbWV0aG9kcywgd2F0Y2g6IHdhdGNoT3B0aW9ucywgcHJvdmlkZTogcHJvdmlkZU9wdGlvbnMsIGluamVjdDogaW5qZWN0T3B0aW9ucywgXHJcbiAgICAvLyBhc3NldHNcclxuICAgIGNvbXBvbmVudHMsIGRpcmVjdGl2ZXMsIFxyXG4gICAgLy8gbGlmZWN5Y2xlXHJcbiAgICBiZWZvcmVNb3VudCwgbW91bnRlZCwgYmVmb3JlVXBkYXRlLCB1cGRhdGVkLCBhY3RpdmF0ZWQsIGRlYWN0aXZhdGVkLCBiZWZvcmVEZXN0cm95LCBiZWZvcmVVbm1vdW50LCBkZXN0cm95ZWQsIHVubW91bnRlZCwgcmVuZGVyLCByZW5kZXJUcmFja2VkLCByZW5kZXJUcmlnZ2VyZWQsIGVycm9yQ2FwdHVyZWQgfSA9IG9wdGlvbnM7XHJcbiAgICBjb25zdCBwdWJsaWNUaGlzID0gaW5zdGFuY2UucHJveHk7XHJcbiAgICBjb25zdCBjdHggPSBpbnN0YW5jZS5jdHg7XHJcbiAgICBjb25zdCBnbG9iYWxNaXhpbnMgPSBpbnN0YW5jZS5hcHBDb250ZXh0Lm1peGlucztcclxuICAgIGlmIChhc01peGluICYmIHJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1ApIHtcclxuICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSByZW5kZXI7XHJcbiAgICB9XHJcbiAgICAvLyBhcHBseU9wdGlvbnMgaXMgY2FsbGVkIG5vbi1hcy1taXhpbiBvbmNlIHBlciBpbnN0YW5jZVxyXG4gICAgaWYgKCFhc01peGluKSB7XHJcbiAgICAgICAgaXNJbkJlZm9yZUNyZWF0ZSA9IHRydWU7XHJcbiAgICAgICAgY2FsbFN5bmNIb29rKCdiZWZvcmVDcmVhdGUnLCBcImJjXCIgLyogQkVGT1JFX0NSRUFURSAqLywgb3B0aW9ucywgaW5zdGFuY2UsIGdsb2JhbE1peGlucyk7XHJcbiAgICAgICAgaXNJbkJlZm9yZUNyZWF0ZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vIGdsb2JhbCBtaXhpbnMgYXJlIGFwcGxpZWQgZmlyc3RcclxuICAgICAgICBhcHBseU1peGlucyhpbnN0YW5jZSwgZ2xvYmFsTWl4aW5zLCBkZWZlcnJlZERhdGEsIGRlZmVycmVkV2F0Y2gsIGRlZmVycmVkUHJvdmlkZSk7XHJcbiAgICB9XHJcbiAgICAvLyBleHRlbmRpbmcgYSBiYXNlIGNvbXBvbmVudC4uLlxyXG4gICAgaWYgKGV4dGVuZHNPcHRpb25zKSB7XHJcbiAgICAgICAgYXBwbHlPcHRpb25zKGluc3RhbmNlLCBleHRlbmRzT3B0aW9ucywgZGVmZXJyZWREYXRhLCBkZWZlcnJlZFdhdGNoLCBkZWZlcnJlZFByb3ZpZGUsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgLy8gbG9jYWwgbWl4aW5zXHJcbiAgICBpZiAobWl4aW5zKSB7XHJcbiAgICAgICAgYXBwbHlNaXhpbnMoaW5zdGFuY2UsIG1peGlucywgZGVmZXJyZWREYXRhLCBkZWZlcnJlZFdhdGNoLCBkZWZlcnJlZFByb3ZpZGUpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gY3JlYXRlRHVwbGljYXRlQ2hlY2tlcigpIDogbnVsbDtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCBbcHJvcHNPcHRpb25zXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcclxuICAgICAgICBpZiAocHJvcHNPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzT3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiUHJvcHNcIiAvKiBQUk9QUyAqLywga2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIG9wdGlvbnMgaW5pdGlhbGl6YXRpb24gb3JkZXIgKHRvIGJlIGNvbnNpc3RlbnQgd2l0aCBWdWUgMik6XHJcbiAgICAvLyAtIHByb3BzIChhbHJlYWR5IGRvbmUgb3V0c2lkZSBvZiB0aGlzIGZ1bmN0aW9uKVxyXG4gICAgLy8gLSBpbmplY3RcclxuICAgIC8vIC0gbWV0aG9kc1xyXG4gICAgLy8gLSBkYXRhIChkZWZlcnJlZCBzaW5jZSBpdCByZWxpZXMgb24gYHRoaXNgIGFjY2VzcylcclxuICAgIC8vIC0gY29tcHV0ZWRcclxuICAgIC8vIC0gd2F0Y2ggKGRlZmVycmVkIHNpbmNlIGl0IHJlbGllcyBvbiBgdGhpc2AgYWNjZXNzKVxyXG4gICAgaWYgKGluamVjdE9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoaXNBcnJheShpbmplY3RPcHRpb25zKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluamVjdE9wdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGluamVjdE9wdGlvbnNbaV07XHJcbiAgICAgICAgICAgICAgICBjdHhba2V5XSA9IGluamVjdChrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkluamVjdFwiIC8qIElOSkVDVCAqLywga2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaW5qZWN0T3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0ID0gaW5qZWN0T3B0aW9uc1trZXldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KG9wdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHhba2V5XSA9IGluamVjdChvcHQuZnJvbSB8fCBrZXksIG9wdC5kZWZhdWx0LCB0cnVlIC8qIHRyZWF0IGRlZmF1bHQgZnVuY3Rpb24gYXMgZmFjdG9yeSAqLyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHhba2V5XSA9IGluamVjdChvcHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkluamVjdFwiIC8qIElOSkVDVCAqLywga2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChtZXRob2RzKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWV0aG9kcykge1xyXG4gICAgICAgICAgICBjb25zdCBtZXRob2RIYW5kbGVyID0gbWV0aG9kc1trZXldO1xyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihtZXRob2RIYW5kbGVyKSkge1xyXG4gICAgICAgICAgICAgICAgY3R4W2tleV0gPSBtZXRob2RIYW5kbGVyLmJpbmQocHVibGljVGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiTWV0aG9kc1wiIC8qIE1FVEhPRFMgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBNZXRob2QgXCIke2tleX1cIiBoYXMgdHlwZSBcIiR7dHlwZW9mIG1ldGhvZEhhbmRsZXJ9XCIgaW4gdGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgRGlkIHlvdSByZWZlcmVuY2UgdGhlIGZ1bmN0aW9uIGNvcnJlY3RseT9gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghYXNNaXhpbikge1xyXG4gICAgICAgIGlmIChkZWZlcnJlZERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGRlZmVycmVkRGF0YS5mb3JFYWNoKGRhdGFGbiA9PiByZXNvbHZlRGF0YShpbnN0YW5jZSwgZGF0YUZuLCBwdWJsaWNUaGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhT3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXNvbHZlRGF0YShpbnN0YW5jZSwgZGF0YU9wdGlvbnMsIHB1YmxpY1RoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhd0RhdGEgPSB0b1JhdyhpbnN0YW5jZS5kYXRhKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmF3RGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiRGF0YVwiIC8qIERBVEEgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICAvLyBleHBvc2UgZGF0YSBvbiBjdHggZHVyaW5nIGRldlxyXG4gICAgICAgICAgICAgICAgaWYgKGtleVswXSAhPT0gJyQnICYmIGtleVswXSAhPT0gJ18nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiByYXdEYXRhW2tleV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldDogTk9PUFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZGF0YU9wdGlvbnMpIHtcclxuICAgICAgICBkZWZlcnJlZERhdGEucHVzaChkYXRhT3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBpZiAoY29tcHV0ZWRPcHRpb25zKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29tcHV0ZWRPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdCA9IGNvbXB1dGVkT3B0aW9uc1trZXldO1xyXG4gICAgICAgICAgICBjb25zdCBnZXQgPSBpc0Z1bmN0aW9uKG9wdClcclxuICAgICAgICAgICAgICAgID8gb3B0LmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcylcclxuICAgICAgICAgICAgICAgIDogaXNGdW5jdGlvbihvcHQuZ2V0KVxyXG4gICAgICAgICAgICAgICAgICAgID8gb3B0LmdldC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBOT09QO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGdldCA9PT0gTk9PUCkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgQ29tcHV0ZWQgcHJvcGVydHkgXCIke2tleX1cIiBoYXMgbm8gZ2V0dGVyLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNldCA9ICFpc0Z1bmN0aW9uKG9wdCkgJiYgaXNGdW5jdGlvbihvcHQuc2V0KVxyXG4gICAgICAgICAgICAgICAgPyBvcHQuc2V0LmJpbmQocHVibGljVGhpcylcclxuICAgICAgICAgICAgICAgIDogKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgPyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYFdyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaXMgcmVhZG9ubHkuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDogTk9PUDtcclxuICAgICAgICAgICAgY29uc3QgYyA9IGNvbXB1dGVkKHtcclxuICAgICAgICAgICAgICAgIGdldCxcclxuICAgICAgICAgICAgICAgIHNldFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBjLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgc2V0OiB2ID0+IChjLnZhbHVlID0gdilcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkNvbXB1dGVkXCIgLyogQ09NUFVURUQgKi8sIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAod2F0Y2hPcHRpb25zKSB7XHJcbiAgICAgICAgZGVmZXJyZWRXYXRjaC5wdXNoKHdhdGNoT3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWFzTWl4aW4gJiYgZGVmZXJyZWRXYXRjaC5sZW5ndGgpIHtcclxuICAgICAgICBkZWZlcnJlZFdhdGNoLmZvckVhY2god2F0Y2hPcHRpb25zID0+IHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gd2F0Y2hPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVXYXRjaGVyKHdhdGNoT3B0aW9uc1trZXldLCBjdHgsIHB1YmxpY1RoaXMsIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChwcm92aWRlT3B0aW9ucykge1xyXG4gICAgICAgIGRlZmVycmVkUHJvdmlkZS5wdXNoKHByb3ZpZGVPcHRpb25zKTtcclxuICAgIH1cclxuICAgIGlmICghYXNNaXhpbiAmJiBkZWZlcnJlZFByb3ZpZGUubGVuZ3RoKSB7XHJcbiAgICAgICAgZGVmZXJyZWRQcm92aWRlLmZvckVhY2gocHJvdmlkZU9wdGlvbnMgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwcm92aWRlcyA9IGlzRnVuY3Rpb24ocHJvdmlkZU9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICA/IHByb3ZpZGVPcHRpb25zLmNhbGwocHVibGljVGhpcylcclxuICAgICAgICAgICAgICAgIDogcHJvdmlkZU9wdGlvbnM7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3ZpZGVzKSB7XHJcbiAgICAgICAgICAgICAgICBwcm92aWRlKGtleSwgcHJvdmlkZXNba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIGFzc2V0IG9wdGlvbnMuXHJcbiAgICAvLyBUbyByZWR1Y2UgbWVtb3J5IHVzYWdlLCBvbmx5IGNvbXBvbmVudHMgd2l0aCBtaXhpbnMgb3IgZXh0ZW5kcyB3aWxsIGhhdmVcclxuICAgIC8vIHJlc29sdmVkIGFzc2V0IHJlZ2lzdHJ5IGF0dGFjaGVkIHRvIGluc3RhbmNlLlxyXG4gICAgaWYgKGFzTWl4aW4pIHtcclxuICAgICAgICBpZiAoY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBleHRlbmQoaW5zdGFuY2UuY29tcG9uZW50cyB8fFxyXG4gICAgICAgICAgICAgICAgKGluc3RhbmNlLmNvbXBvbmVudHMgPSBleHRlbmQoe30sIGluc3RhbmNlLnR5cGUuY29tcG9uZW50cykpLCBjb21wb25lbnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpcmVjdGl2ZXMpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKGluc3RhbmNlLmRpcmVjdGl2ZXMgfHxcclxuICAgICAgICAgICAgICAgIChpbnN0YW5jZS5kaXJlY3RpdmVzID0gZXh0ZW5kKHt9LCBpbnN0YW5jZS50eXBlLmRpcmVjdGl2ZXMpKSwgZGlyZWN0aXZlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gbGlmZWN5Y2xlIG9wdGlvbnNcclxuICAgIGlmICghYXNNaXhpbikge1xyXG4gICAgICAgIGNhbGxTeW5jSG9vaygnY3JlYXRlZCcsIFwiY1wiIC8qIENSRUFURUQgKi8sIG9wdGlvbnMsIGluc3RhbmNlLCBnbG9iYWxNaXhpbnMpO1xyXG4gICAgfVxyXG4gICAgaWYgKGJlZm9yZU1vdW50KSB7XHJcbiAgICAgICAgb25CZWZvcmVNb3VudChiZWZvcmVNb3VudC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmIChtb3VudGVkKSB7XHJcbiAgICAgICAgb25Nb3VudGVkKG1vdW50ZWQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoYmVmb3JlVXBkYXRlKSB7XHJcbiAgICAgICAgb25CZWZvcmVVcGRhdGUoYmVmb3JlVXBkYXRlLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKHVwZGF0ZWQpIHtcclxuICAgICAgICBvblVwZGF0ZWQodXBkYXRlZC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmIChhY3RpdmF0ZWQpIHtcclxuICAgICAgICBvbkFjdGl2YXRlZChhY3RpdmF0ZWQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZGVhY3RpdmF0ZWQpIHtcclxuICAgICAgICBvbkRlYWN0aXZhdGVkKGRlYWN0aXZhdGVkLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKGVycm9yQ2FwdHVyZWQpIHtcclxuICAgICAgICBvbkVycm9yQ2FwdHVyZWQoZXJyb3JDYXB0dXJlZC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmIChyZW5kZXJUcmFja2VkKSB7XHJcbiAgICAgICAgb25SZW5kZXJUcmFja2VkKHJlbmRlclRyYWNrZWQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAocmVuZGVyVHJpZ2dlcmVkKSB7XHJcbiAgICAgICAgb25SZW5kZXJUcmlnZ2VyZWQocmVuZGVyVHJpZ2dlcmVkLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBiZWZvcmVEZXN0cm95KSB7XHJcbiAgICAgICAgd2FybihgXFxgYmVmb3JlRGVzdHJveVxcYCBoYXMgYmVlbiByZW5hbWVkIHRvIFxcYGJlZm9yZVVubW91bnRcXGAuYCk7XHJcbiAgICB9XHJcbiAgICBpZiAoYmVmb3JlVW5tb3VudCkge1xyXG4gICAgICAgIG9uQmVmb3JlVW5tb3VudChiZWZvcmVVbm1vdW50LmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBkZXN0cm95ZWQpIHtcclxuICAgICAgICB3YXJuKGBcXGBkZXN0cm95ZWRcXGAgaGFzIGJlZW4gcmVuYW1lZCB0byBcXGB1bm1vdW50ZWRcXGAuYCk7XHJcbiAgICB9XHJcbiAgICBpZiAodW5tb3VudGVkKSB7XHJcbiAgICAgICAgb25Vbm1vdW50ZWQodW5tb3VudGVkLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNhbGxTeW5jSG9vayhuYW1lLCB0eXBlLCBvcHRpb25zLCBpbnN0YW5jZSwgZ2xvYmFsTWl4aW5zKSB7XHJcbiAgICBjYWxsSG9va0Zyb21NaXhpbnMobmFtZSwgdHlwZSwgZ2xvYmFsTWl4aW5zLCBpbnN0YW5jZSk7XHJcbiAgICBjb25zdCB7IGV4dGVuZHM6IGJhc2UsIG1peGlucyB9ID0gb3B0aW9ucztcclxuICAgIGlmIChiYXNlKSB7XHJcbiAgICAgICAgY2FsbEhvb2tGcm9tRXh0ZW5kcyhuYW1lLCB0eXBlLCBiYXNlLCBpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBpZiAobWl4aW5zKSB7XHJcbiAgICAgICAgY2FsbEhvb2tGcm9tTWl4aW5zKG5hbWUsIHR5cGUsIG1peGlucywgaW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc2VsZkhvb2sgPSBvcHRpb25zW25hbWVdO1xyXG4gICAgaWYgKHNlbGZIb29rKSB7XHJcbiAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoc2VsZkhvb2suYmluZChpbnN0YW5jZS5wcm94eSksIGluc3RhbmNlLCB0eXBlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjYWxsSG9va0Zyb21FeHRlbmRzKG5hbWUsIHR5cGUsIGJhc2UsIGluc3RhbmNlKSB7XHJcbiAgICBpZiAoYmFzZS5leHRlbmRzKSB7XHJcbiAgICAgICAgY2FsbEhvb2tGcm9tRXh0ZW5kcyhuYW1lLCB0eXBlLCBiYXNlLmV4dGVuZHMsIGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGJhc2VIb29rID0gYmFzZVtuYW1lXTtcclxuICAgIGlmIChiYXNlSG9vaykge1xyXG4gICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGJhc2VIb29rLmJpbmQoaW5zdGFuY2UucHJveHkpLCBpbnN0YW5jZSwgdHlwZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2FsbEhvb2tGcm9tTWl4aW5zKG5hbWUsIHR5cGUsIG1peGlucywgaW5zdGFuY2UpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2hhaW5lZE1peGlucyA9IG1peGluc1tpXS5taXhpbnM7XHJcbiAgICAgICAgaWYgKGNoYWluZWRNaXhpbnMpIHtcclxuICAgICAgICAgICAgY2FsbEhvb2tGcm9tTWl4aW5zKG5hbWUsIHR5cGUsIGNoYWluZWRNaXhpbnMsIGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZm4gPSBtaXhpbnNbaV1bbmFtZV07XHJcbiAgICAgICAgaWYgKGZuKSB7XHJcbiAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuLmJpbmQoaW5zdGFuY2UucHJveHkpLCBpbnN0YW5jZSwgdHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGFwcGx5TWl4aW5zKGluc3RhbmNlLCBtaXhpbnMsIGRlZmVycmVkRGF0YSwgZGVmZXJyZWRXYXRjaCwgZGVmZXJyZWRQcm92aWRlKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSwgbWl4aW5zW2ldLCBkZWZlcnJlZERhdGEsIGRlZmVycmVkV2F0Y2gsIGRlZmVycmVkUHJvdmlkZSwgdHJ1ZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZURhdGEoaW5zdGFuY2UsIGRhdGFGbiwgcHVibGljVGhpcykge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNGdW5jdGlvbihkYXRhRm4pKSB7XHJcbiAgICAgICAgd2FybihgVGhlIGRhdGEgb3B0aW9uIG11c3QgYmUgYSBmdW5jdGlvbi4gYCArXHJcbiAgICAgICAgICAgIGBQbGFpbiBvYmplY3QgdXNhZ2UgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC5gKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGRhdGEgPSBkYXRhRm4uY2FsbChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNQcm9taXNlKGRhdGEpKSB7XHJcbiAgICAgICAgd2FybihgZGF0YSgpIHJldHVybmVkIGEgUHJvbWlzZSAtIG5vdGUgZGF0YSgpIGNhbm5vdCBiZSBhc3luYzsgSWYgeW91IGAgK1xyXG4gICAgICAgICAgICBgaW50ZW5kIHRvIHBlcmZvcm0gZGF0YSBmZXRjaGluZyBiZWZvcmUgY29tcG9uZW50IHJlbmRlcnMsIHVzZSBgICtcclxuICAgICAgICAgICAgYGFzeW5jIHNldHVwKCkgKyA8U3VzcGVuc2U+LmApO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGBkYXRhKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuYCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbnN0YW5jZS5kYXRhID09PSBFTVBUWV9PQkopIHtcclxuICAgICAgICBpbnN0YW5jZS5kYXRhID0gcmVhY3RpdmUoZGF0YSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBleGlzdGluZyBkYXRhOiB0aGlzIGlzIGEgbWl4aW4gb3IgZXh0ZW5kcy5cclxuICAgICAgICBleHRlbmQoaW5zdGFuY2UuZGF0YSwgZGF0YSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlV2F0Y2hlcihyYXcsIGN0eCwgcHVibGljVGhpcywga2V5KSB7XHJcbiAgICBjb25zdCBnZXR0ZXIgPSBrZXkuaW5jbHVkZXMoJy4nKVxyXG4gICAgICAgID8gY3JlYXRlUGF0aEdldHRlcihwdWJsaWNUaGlzLCBrZXkpXHJcbiAgICAgICAgOiAoKSA9PiBwdWJsaWNUaGlzW2tleV07XHJcbiAgICBpZiAoaXNTdHJpbmcocmF3KSkge1xyXG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBjdHhbcmF3XTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xyXG4gICAgICAgICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybihgSW52YWxpZCB3YXRjaCBoYW5kbGVyIHNwZWNpZmllZCBieSBrZXkgXCIke3Jhd31cImAsIGhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocmF3KSkge1xyXG4gICAgICAgIHdhdGNoKGdldHRlciwgcmF3LmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYmplY3QocmF3KSkge1xyXG4gICAgICAgIGlmIChpc0FycmF5KHJhdykpIHtcclxuICAgICAgICAgICAgcmF3LmZvckVhY2gociA9PiBjcmVhdGVXYXRjaGVyKHIsIGN0eCwgcHVibGljVGhpcywga2V5KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gaXNGdW5jdGlvbihyYXcuaGFuZGxlcilcclxuICAgICAgICAgICAgICAgID8gcmF3LmhhbmRsZXIuYmluZChwdWJsaWNUaGlzKVxyXG4gICAgICAgICAgICAgICAgOiBjdHhbcmF3LmhhbmRsZXJdO1xyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xyXG4gICAgICAgICAgICAgICAgd2F0Y2goZ2V0dGVyLCBoYW5kbGVyLCByYXcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgSW52YWxpZCB3YXRjaCBoYW5kbGVyIHNwZWNpZmllZCBieSBrZXkgXCIke3Jhdy5oYW5kbGVyfVwiYCwgaGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBJbnZhbGlkIHdhdGNoIG9wdGlvbjogXCIke2tleX1cImAsIHJhdyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUGF0aEdldHRlcihjdHgsIHBhdGgpIHtcclxuICAgIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLicpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICBsZXQgY3VyID0gY3R4O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoICYmIGN1cjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGN1ciA9IGN1cltzZWdtZW50c1tpXV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjdXI7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCByYXcgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgY29uc3QgeyBfX21lcmdlZCwgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gcmF3O1xyXG4gICAgaWYgKF9fbWVyZ2VkKVxyXG4gICAgICAgIHJldHVybiBfX21lcmdlZDtcclxuICAgIGNvbnN0IGdsb2JhbE1peGlucyA9IGluc3RhbmNlLmFwcENvbnRleHQubWl4aW5zO1xyXG4gICAgaWYgKCFnbG9iYWxNaXhpbnMubGVuZ3RoICYmICFtaXhpbnMgJiYgIWV4dGVuZHNPcHRpb25zKVxyXG4gICAgICAgIHJldHVybiByYXc7XHJcbiAgICBjb25zdCBvcHRpb25zID0ge307XHJcbiAgICBnbG9iYWxNaXhpbnMuZm9yRWFjaChtID0+IG1lcmdlT3B0aW9ucyhvcHRpb25zLCBtLCBpbnN0YW5jZSkpO1xyXG4gICAgbWVyZ2VPcHRpb25zKG9wdGlvbnMsIHJhdywgaW5zdGFuY2UpO1xyXG4gICAgcmV0dXJuIChyYXcuX19tZXJnZWQgPSBvcHRpb25zKTtcclxufVxyXG5mdW5jdGlvbiBtZXJnZU9wdGlvbnModG8sIGZyb20sIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBzdHJhdHMgPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5vcHRpb25NZXJnZVN0cmF0ZWdpZXM7XHJcbiAgICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGZyb207XHJcbiAgICBleHRlbmRzT3B0aW9ucyAmJiBtZXJnZU9wdGlvbnModG8sIGV4dGVuZHNPcHRpb25zLCBpbnN0YW5jZSk7XHJcbiAgICBtaXhpbnMgJiZcclxuICAgICAgICBtaXhpbnMuZm9yRWFjaCgobSkgPT4gbWVyZ2VPcHRpb25zKHRvLCBtLCBpbnN0YW5jZSkpO1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gZnJvbSkge1xyXG4gICAgICAgIGlmIChzdHJhdHMgJiYgaGFzT3duKHN0cmF0cywga2V5KSkge1xyXG4gICAgICAgICAgICB0b1trZXldID0gc3RyYXRzW2tleV0odG9ba2V5XSwgZnJvbVtrZXldLCBpbnN0YW5jZS5wcm94eSwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRvW2tleV0gPSBmcm9tW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbmNvbnN0IHB1YmxpY1Byb3BlcnRpZXNNYXAgPSBleHRlbmQoT2JqZWN0LmNyZWF0ZShudWxsKSwge1xyXG4gICAgJDogaSA9PiBpLFxyXG4gICAgJGVsOiBpID0+IGkudm5vZGUuZWwsXHJcbiAgICAkZGF0YTogaSA9PiBpLmRhdGEsXHJcbiAgICAkcHJvcHM6IGkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLnByb3BzKSA6IGkucHJvcHMpLFxyXG4gICAgJGF0dHJzOiBpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaS5hdHRycykgOiBpLmF0dHJzKSxcclxuICAgICRzbG90czogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkuc2xvdHMpIDogaS5zbG90cyksXHJcbiAgICAkcmVmczogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkucmVmcykgOiBpLnJlZnMpLFxyXG4gICAgJHBhcmVudDogaSA9PiBpLnBhcmVudCAmJiBpLnBhcmVudC5wcm94eSxcclxuICAgICRyb290OiBpID0+IGkucm9vdCAmJiBpLnJvb3QucHJveHksXHJcbiAgICAkZW1pdDogaSA9PiBpLmVtaXQsXHJcbiAgICAkb3B0aW9uczogaSA9PiAoX19WVUVfT1BUSU9OU19BUElfXyA/IHJlc29sdmVNZXJnZWRPcHRpb25zKGkpIDogaS50eXBlKSxcclxuICAgICRmb3JjZVVwZGF0ZTogaSA9PiAoKSA9PiBxdWV1ZUpvYihpLnVwZGF0ZSksXHJcbiAgICAkbmV4dFRpY2s6IGkgPT4gbmV4dFRpY2suYmluZChpLnByb3h5KSxcclxuICAgICR3YXRjaDogaSA9PiAoX19WVUVfT1BUSU9OU19BUElfXyA/IGluc3RhbmNlV2F0Y2guYmluZChpKSA6IE5PT1ApXHJcbn0pO1xyXG5jb25zdCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMgPSB7XHJcbiAgICBnZXQoeyBfOiBpbnN0YW5jZSB9LCBrZXkpIHtcclxuICAgICAgICBjb25zdCB7IGN0eCwgc2V0dXBTdGF0ZSwgZGF0YSwgcHJvcHMsIGFjY2Vzc0NhY2hlLCB0eXBlLCBhcHBDb250ZXh0IH0gPSBpbnN0YW5jZTtcclxuICAgICAgICAvLyBsZXQgQHZ1ZS9yZWFjdGl2aXR5IGtub3cgaXQgc2hvdWxkIG5ldmVyIG9ic2VydmUgVnVlIHB1YmxpYyBpbnN0YW5jZXMuXHJcbiAgICAgICAgaWYgKGtleSA9PT0gXCJfX3Zfc2tpcFwiIC8qIFNLSVAgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZvciBpbnRlcm5hbCBmb3JtYXR0ZXJzIHRvIGtub3cgdGhhdCB0aGlzIGlzIGEgVnVlIGluc3RhbmNlXHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBrZXkgPT09ICdfX2lzVnVlJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZGF0YSAvIHByb3BzIC8gY3R4XHJcbiAgICAgICAgLy8gVGhpcyBnZXR0ZXIgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IHByb3BlcnR5IGFjY2VzcyBvbiB0aGUgcmVuZGVyIGNvbnRleHRcclxuICAgICAgICAvLyBkdXJpbmcgcmVuZGVyIGFuZCBpcyBhIG1ham9yIGhvdHNwb3QuIFRoZSBtb3N0IGV4cGVuc2l2ZSBwYXJ0IG9mIHRoaXNcclxuICAgICAgICAvLyBpcyB0aGUgbXVsdGlwbGUgaGFzT3duKCkgY2FsbHMuIEl0J3MgbXVjaCBmYXN0ZXIgdG8gZG8gYSBzaW1wbGUgcHJvcGVydHlcclxuICAgICAgICAvLyBhY2Nlc3Mgb24gYSBwbGFpbiBvYmplY3QsIHNvIHdlIHVzZSBhbiBhY2Nlc3NDYWNoZSBvYmplY3QgKHdpdGggbnVsbFxyXG4gICAgICAgIC8vIHByb3RvdHlwZSkgdG8gbWVtb2l6ZSB3aGF0IGFjY2VzcyB0eXBlIGEga2V5IGNvcnJlc3BvbmRzIHRvLlxyXG4gICAgICAgIGxldCBub3JtYWxpemVkUHJvcHM7XHJcbiAgICAgICAgaWYgKGtleVswXSAhPT0gJyQnKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG4gPSBhY2Nlc3NDYWNoZVtrZXldO1xyXG4gICAgICAgICAgICBpZiAobiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG4pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDAgLyogU0VUVVAgKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXR1cFN0YXRlW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxIC8qIERBVEEgKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzIC8qIENPTlRFWFQgKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHhba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDIgLyogUFJPUFMgKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQ6IGp1c3QgZmFsbHRocm91Z2hcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzZXR1cFN0YXRlICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKHNldHVwU3RhdGUsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAwIC8qIFNFVFVQICovO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAxIC8qIERBVEEgKi87XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAvLyBvbmx5IGNhY2hlIG90aGVyIHByb3BlcnRpZXMgd2hlbiBpbnN0YW5jZSBoYXMgZGVjbGFyZWQgKHRodXMgc3RhYmxlKVxyXG4gICAgICAgICAgICAvLyBwcm9wc1xyXG4gICAgICAgICAgICAobm9ybWFsaXplZFByb3BzID0gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdKSAmJlxyXG4gICAgICAgICAgICAgICAgaGFzT3duKG5vcm1hbGl6ZWRQcm9wcywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDIgLyogUFJPUFMgKi87XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjdHggIT09IEVNUFRZX09CSiAmJiBoYXNPd24oY3R4LCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMyAvKiBDT05URVhUICovO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFfX1ZVRV9PUFRJT05TX0FQSV9fIHx8ICFpc0luQmVmb3JlQ3JlYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gNCAvKiBPVEhFUiAqLztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwdWJsaWNHZXR0ZXIgPSBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV07XHJcbiAgICAgICAgbGV0IGNzc01vZHVsZSwgZ2xvYmFsUHJvcGVydGllcztcclxuICAgICAgICAvLyBwdWJsaWMgJHh4eCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgaWYgKHB1YmxpY0dldHRlcikge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnJGF0dHJzJykge1xyXG4gICAgICAgICAgICAgICAgdHJhY2soaW5zdGFuY2UsIFwiZ2V0XCIgLyogR0VUICovLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHB1YmxpY0dldHRlcihpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKFxyXG4gICAgICAgIC8vIGNzcyBtb2R1bGUgKGluamVjdGVkIGJ5IHZ1ZS1sb2FkZXIpXHJcbiAgICAgICAgKGNzc01vZHVsZSA9IHR5cGUuX19jc3NNb2R1bGVzKSAmJlxyXG4gICAgICAgICAgICAoY3NzTW9kdWxlID0gY3NzTW9kdWxlW2tleV0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjc3NNb2R1bGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGN0eCAhPT0gRU1QVFlfT0JKICYmIGhhc093bihjdHgsIGtleSkpIHtcclxuICAgICAgICAgICAgLy8gdXNlciBtYXkgc2V0IGN1c3RvbSBwcm9wZXJ0aWVzIHRvIGB0aGlzYCB0aGF0IHN0YXJ0IHdpdGggYCRgXHJcbiAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAzIC8qIENPTlRFWFQgKi87XHJcbiAgICAgICAgICAgIHJldHVybiBjdHhba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgLy8gZ2xvYmFsIHByb3BlcnRpZXNcclxuICAgICAgICAoKGdsb2JhbFByb3BlcnRpZXMgPSBhcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzKSxcclxuICAgICAgICAgICAgaGFzT3duKGdsb2JhbFByb3BlcnRpZXMsIGtleSkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWxQcm9wZXJ0aWVzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgJiZcclxuICAgICAgICAgICAgKCFpc1N0cmluZyhrZXkpIHx8XHJcbiAgICAgICAgICAgICAgICAvLyAjMTA5MSBhdm9pZCBpbnRlcm5hbCBpc1JlZi9pc1ZOb2RlIGNoZWNrcyBvbiBjb21wb25lbnQgaW5zdGFuY2UgbGVhZGluZ1xyXG4gICAgICAgICAgICAgICAgLy8gdG8gaW5maW5pdGUgd2FybmluZyBsb29wXHJcbiAgICAgICAgICAgICAgICBrZXkuaW5kZXhPZignX192JykgIT09IDApKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiZcclxuICAgICAgICAgICAgICAgIChrZXlbMF0gPT09ICckJyB8fCBrZXlbMF0gPT09ICdfJykgJiZcclxuICAgICAgICAgICAgICAgIGhhc093bihkYXRhLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IG11c3QgYmUgYWNjZXNzZWQgdmlhICRkYXRhIGJlY2F1c2UgaXQgc3RhcnRzIHdpdGggYSByZXNlcnZlZCBgICtcclxuICAgICAgICAgICAgICAgICAgICBgY2hhcmFjdGVyIChcIiRcIiBvciBcIl9cIikgYW5kIGlzIG5vdCBwcm94aWVkIG9uIHRoZSByZW5kZXIgY29udGV4dC5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gd2FzIGFjY2Vzc2VkIGR1cmluZyByZW5kZXIgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYGJ1dCBpcyBub3QgZGVmaW5lZCBvbiBpbnN0YW5jZS5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzZXQoeyBfOiBpbnN0YW5jZSB9LCBrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhLCBzZXR1cFN0YXRlLCBjdHggfSA9IGluc3RhbmNlO1xyXG4gICAgICAgIGlmIChzZXR1cFN0YXRlICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKHNldHVwU3RhdGUsIGtleSkpIHtcclxuICAgICAgICAgICAgc2V0dXBTdGF0ZVtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xyXG4gICAgICAgICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5IGluIGluc3RhbmNlLnByb3BzKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgd2FybihgQXR0ZW1wdGluZyB0byBtdXRhdGUgcHJvcCBcIiR7a2V5fVwiLiBQcm9wcyBhcmUgcmVhZG9ubHkuYCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChrZXlbMF0gPT09ICckJyAmJiBrZXkuc2xpY2UoMSkgaW4gaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwdWJsaWMgcHJvcGVydHkgXCIke2tleX1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYFByb3BlcnRpZXMgc3RhcnRpbmcgd2l0aCAkIGFyZSByZXNlcnZlZCBhbmQgcmVhZG9ubHkuYCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleSBpbiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcclxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdHhba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuICAgIGhhcyh7IF86IHsgZGF0YSwgc2V0dXBTdGF0ZSwgYWNjZXNzQ2FjaGUsIGN0eCwgYXBwQ29udGV4dCwgcHJvcHNPcHRpb25zIH0gfSwga2V5KSB7XHJcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWRQcm9wcztcclxuICAgICAgICByZXR1cm4gKGFjY2Vzc0NhY2hlW2tleV0gIT09IHVuZGVmaW5lZCB8fFxyXG4gICAgICAgICAgICAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB8fFxyXG4gICAgICAgICAgICAoc2V0dXBTdGF0ZSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihzZXR1cFN0YXRlLCBrZXkpKSB8fFxyXG4gICAgICAgICAgICAoKG5vcm1hbGl6ZWRQcm9wcyA9IHByb3BzT3B0aW9uc1swXSkgJiYgaGFzT3duKG5vcm1hbGl6ZWRQcm9wcywga2V5KSkgfHxcclxuICAgICAgICAgICAgaGFzT3duKGN0eCwga2V5KSB8fFxyXG4gICAgICAgICAgICBoYXNPd24ocHVibGljUHJvcGVydGllc01hcCwga2V5KSB8fFxyXG4gICAgICAgICAgICBoYXNPd24oYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcywga2V5KSk7XHJcbiAgICB9XHJcbn07XHJcbmlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWZhbHNlKSB7XHJcbiAgICBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMub3duS2V5cyA9ICh0YXJnZXQpID0+IHtcclxuICAgICAgICB3YXJuKGBBdm9pZCBhcHAgbG9naWMgdGhhdCByZWxpZXMgb24gZW51bWVyYXRpbmcga2V5cyBvbiBhIGNvbXBvbmVudCBpbnN0YW5jZS4gYCArXHJcbiAgICAgICAgICAgIGBUaGUga2V5cyB3aWxsIGJlIGVtcHR5IGluIHByb2R1Y3Rpb24gbW9kZSB0byBhdm9pZCBwZXJmb3JtYW5jZSBvdmVyaGVhZC5gKTtcclxuICAgICAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldCk7XHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IGV4dGVuZCh7fSwgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLCB7XHJcbiAgICBnZXQodGFyZ2V0LCBrZXkpIHtcclxuICAgICAgICAvLyBmYXN0IHBhdGggZm9yIHVuc2NvcGFibGVzIHdoZW4gdXNpbmcgYHdpdGhgIGJsb2NrXHJcbiAgICAgICAgaWYgKGtleSA9PT0gU3ltYm9sLnVuc2NvcGFibGVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5nZXQodGFyZ2V0LCBrZXksIHRhcmdldCk7XHJcbiAgICB9LFxyXG4gICAgaGFzKF8sIGtleSkge1xyXG4gICAgICAgIGNvbnN0IGhhcyA9IGtleVswXSAhPT0gJ18nICYmICFpc0dsb2JhbGx5V2hpdGVsaXN0ZWQoa2V5KTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXMgJiYgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmhhcyhfLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gc2hvdWxkIG5vdCBzdGFydCB3aXRoIF8gd2hpY2ggaXMgYSByZXNlcnZlZCBwcmVmaXggZm9yIFZ1ZSBpbnRlcm5hbHMuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoYXM7XHJcbiAgICB9XHJcbn0pO1xyXG4vLyBJbiBkZXYgbW9kZSwgdGhlIHByb3h5IHRhcmdldCBleHBvc2VzIHRoZSBzYW1lIHByb3BlcnRpZXMgYXMgc2VlbiBvbiBgdGhpc2BcclxuLy8gZm9yIGVhc2llciBjb25zb2xlIGluc3BlY3Rpb24uIEluIHByb2QgbW9kZSBpdCB3aWxsIGJlIGFuIGVtcHR5IG9iamVjdCBzb1xyXG4vLyB0aGVzZSBwcm9wZXJ0aWVzIGRlZmluaXRpb25zIGNhbiBiZSBza2lwcGVkLlxyXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB7fTtcclxuICAgIC8vIGV4cG9zZSBpbnRlcm5hbCBpbnN0YW5jZSBmb3IgcHJveHkgaGFuZGxlcnNcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGBfYCwge1xyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBnZXQ6ICgpID0+IGluc3RhbmNlXHJcbiAgICB9KTtcclxuICAgIC8vIGV4cG9zZSBwdWJsaWMgcHJvcGVydGllc1xyXG4gICAgT2JqZWN0LmtleXMocHVibGljUHJvcGVydGllc01hcCkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBnZXQ6ICgpID0+IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XShpbnN0YW5jZSksXHJcbiAgICAgICAgICAgIC8vIGludGVyY2VwdGVkIGJ5IHRoZSBwcm94eSBzbyBubyBuZWVkIGZvciBpbXBsZW1lbnRhdGlvbixcclxuICAgICAgICAgICAgLy8gYnV0IG5lZWRlZCB0byBwcmV2ZW50IHNldCBlcnJvcnNcclxuICAgICAgICAgICAgc2V0OiBOT09QXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIC8vIGV4cG9zZSBnbG9iYWwgcHJvcGVydGllc1xyXG4gICAgY29uc3QgeyBnbG9iYWxQcm9wZXJ0aWVzIH0gPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZztcclxuICAgIE9iamVjdC5rZXlzKGdsb2JhbFByb3BlcnRpZXMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgZ2V0OiAoKSA9PiBnbG9iYWxQcm9wZXJ0aWVzW2tleV0sXHJcbiAgICAgICAgICAgIHNldDogTk9PUFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGFyZ2V0O1xyXG59XHJcbi8vIGRldiBvbmx5XHJcbmZ1bmN0aW9uIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB7IGN0eCwgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXSB9ID0gaW5zdGFuY2U7XHJcbiAgICBpZiAocHJvcHNPcHRpb25zKSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMocHJvcHNPcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gaW5zdGFuY2UucHJvcHNba2V5XSxcclxuICAgICAgICAgICAgICAgIHNldDogTk9PUFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vLyBkZXYgb25seVxyXG5mdW5jdGlvbiBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB7IGN0eCwgc2V0dXBTdGF0ZSB9ID0gaW5zdGFuY2U7XHJcbiAgICBPYmplY3Qua2V5cyh0b1JhdyhzZXR1cFN0YXRlKSkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGlmIChrZXlbMF0gPT09ICckJyB8fCBrZXlbMF0gPT09ICdfJykge1xyXG4gICAgICAgICAgICB3YXJuKGBzZXR1cCgpIHJldHVybiBwcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IHNob3VsZCBub3Qgc3RhcnQgd2l0aCBcIiRcIiBvciBcIl9cIiBgICtcclxuICAgICAgICAgICAgICAgIGB3aGljaCBhcmUgcmVzZXJ2ZWQgcHJlZml4ZXMgZm9yIFZ1ZSBpbnRlcm5hbHMuYCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZ2V0OiAoKSA9PiBzZXR1cFN0YXRlW2tleV0sXHJcbiAgICAgICAgICAgIHNldDogTk9PUFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cblxuY29uc3QgZW1wdHlBcHBDb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xyXG5sZXQgdWlkJDEgPSAwO1xyXG5mdW5jdGlvbiBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSh2bm9kZSwgcGFyZW50LCBzdXNwZW5zZSkge1xyXG4gICAgY29uc3QgdHlwZSA9IHZub2RlLnR5cGU7XHJcbiAgICAvLyBpbmhlcml0IHBhcmVudCBhcHAgY29udGV4dCAtIG9yIC0gaWYgcm9vdCwgYWRvcHQgZnJvbSByb290IHZub2RlXHJcbiAgICBjb25zdCBhcHBDb250ZXh0ID0gKHBhcmVudCA/IHBhcmVudC5hcHBDb250ZXh0IDogdm5vZGUuYXBwQ29udGV4dCkgfHwgZW1wdHlBcHBDb250ZXh0O1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSB7XHJcbiAgICAgICAgdWlkOiB1aWQkMSsrLFxyXG4gICAgICAgIHZub2RlLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgcGFyZW50LFxyXG4gICAgICAgIGFwcENvbnRleHQsXHJcbiAgICAgICAgcm9vdDogbnVsbCxcclxuICAgICAgICBuZXh0OiBudWxsLFxyXG4gICAgICAgIHN1YlRyZWU6IG51bGwsXHJcbiAgICAgICAgdXBkYXRlOiBudWxsLFxyXG4gICAgICAgIHJlbmRlcjogbnVsbCxcclxuICAgICAgICBwcm94eTogbnVsbCxcclxuICAgICAgICB3aXRoUHJveHk6IG51bGwsXHJcbiAgICAgICAgZWZmZWN0czogbnVsbCxcclxuICAgICAgICBwcm92aWRlczogcGFyZW50ID8gcGFyZW50LnByb3ZpZGVzIDogT2JqZWN0LmNyZWF0ZShhcHBDb250ZXh0LnByb3ZpZGVzKSxcclxuICAgICAgICBhY2Nlc3NDYWNoZTogbnVsbCxcclxuICAgICAgICByZW5kZXJDYWNoZTogW10sXHJcbiAgICAgICAgLy8gbG9jYWwgcmVzb3ZsZWQgYXNzZXRzXHJcbiAgICAgICAgY29tcG9uZW50czogbnVsbCxcclxuICAgICAgICBkaXJlY3RpdmVzOiBudWxsLFxyXG4gICAgICAgIC8vIHJlc29sdmVkIHByb3BzIGFuZCBlbWl0cyBvcHRpb25zXHJcbiAgICAgICAgcHJvcHNPcHRpb25zOiBub3JtYWxpemVQcm9wc09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXHJcbiAgICAgICAgZW1pdHNPcHRpb25zOiBub3JtYWxpemVFbWl0c09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXHJcbiAgICAgICAgLy8gZW1pdFxyXG4gICAgICAgIGVtaXQ6IG51bGwsXHJcbiAgICAgICAgZW1pdHRlZDogbnVsbCxcclxuICAgICAgICAvLyBzdGF0ZVxyXG4gICAgICAgIGN0eDogRU1QVFlfT0JKLFxyXG4gICAgICAgIGRhdGE6IEVNUFRZX09CSixcclxuICAgICAgICBwcm9wczogRU1QVFlfT0JKLFxyXG4gICAgICAgIGF0dHJzOiBFTVBUWV9PQkosXHJcbiAgICAgICAgc2xvdHM6IEVNUFRZX09CSixcclxuICAgICAgICByZWZzOiBFTVBUWV9PQkosXHJcbiAgICAgICAgc2V0dXBTdGF0ZTogRU1QVFlfT0JKLFxyXG4gICAgICAgIHNldHVwQ29udGV4dDogbnVsbCxcclxuICAgICAgICAvLyBzdXNwZW5zZSByZWxhdGVkXHJcbiAgICAgICAgc3VzcGVuc2UsXHJcbiAgICAgICAgc3VzcGVuc2VJZDogc3VzcGVuc2UgPyBzdXNwZW5zZS5wZW5kaW5nSWQgOiAwLFxyXG4gICAgICAgIGFzeW5jRGVwOiBudWxsLFxyXG4gICAgICAgIGFzeW5jUmVzb2x2ZWQ6IGZhbHNlLFxyXG4gICAgICAgIC8vIGxpZmVjeWNsZSBob29rc1xyXG4gICAgICAgIC8vIG5vdCB1c2luZyBlbnVtcyBoZXJlIGJlY2F1c2UgaXQgcmVzdWx0cyBpbiBjb21wdXRlZCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgaXNNb3VudGVkOiBmYWxzZSxcclxuICAgICAgICBpc1VubW91bnRlZDogZmFsc2UsXHJcbiAgICAgICAgaXNEZWFjdGl2YXRlZDogZmFsc2UsXHJcbiAgICAgICAgYmM6IG51bGwsXHJcbiAgICAgICAgYzogbnVsbCxcclxuICAgICAgICBibTogbnVsbCxcclxuICAgICAgICBtOiBudWxsLFxyXG4gICAgICAgIGJ1OiBudWxsLFxyXG4gICAgICAgIHU6IG51bGwsXHJcbiAgICAgICAgdW06IG51bGwsXHJcbiAgICAgICAgYnVtOiBudWxsLFxyXG4gICAgICAgIGRhOiBudWxsLFxyXG4gICAgICAgIGE6IG51bGwsXHJcbiAgICAgICAgcnRnOiBudWxsLFxyXG4gICAgICAgIHJ0YzogbnVsbCxcclxuICAgICAgICBlYzogbnVsbFxyXG4gICAgfTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBpbnN0YW5jZS5jdHggPSBjcmVhdGVSZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGluc3RhbmNlLmN0eCA9IHsgXzogaW5zdGFuY2UgfTtcclxuICAgIH1cclxuICAgIGluc3RhbmNlLnJvb3QgPSBwYXJlbnQgPyBwYXJlbnQucm9vdCA6IGluc3RhbmNlO1xyXG4gICAgaW5zdGFuY2UuZW1pdCA9IGVtaXQuYmluZChudWxsLCBpbnN0YW5jZSk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG59XHJcbmxldCBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xyXG5jb25zdCBnZXRDdXJyZW50SW5zdGFuY2UgPSAoKSA9PiBjdXJyZW50SW5zdGFuY2UgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG5jb25zdCBzZXRDdXJyZW50SW5zdGFuY2UgPSAoaW5zdGFuY2UpID0+IHtcclxuICAgIGN1cnJlbnRJbnN0YW5jZSA9IGluc3RhbmNlO1xyXG59O1xyXG5jb25zdCBpc0J1aWx0SW5UYWcgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ3Nsb3QsY29tcG9uZW50Jyk7XHJcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCBjb25maWcpIHtcclxuICAgIGNvbnN0IGFwcElzTmF0aXZlVGFnID0gY29uZmlnLmlzTmF0aXZlVGFnIHx8IE5PO1xyXG4gICAgaWYgKGlzQnVpbHRJblRhZyhuYW1lKSB8fCBhcHBJc05hdGl2ZVRhZyhuYW1lKSkge1xyXG4gICAgICAgIHdhcm4oJ0RvIG5vdCB1c2UgYnVpbHQtaW4gb3IgcmVzZXJ2ZWQgSFRNTCBlbGVtZW50cyBhcyBjb21wb25lbnQgaWQ6ICcgKyBuYW1lKTtcclxuICAgIH1cclxufVxyXG5sZXQgaXNJblNTUkNvbXBvbmVudFNldHVwID0gZmFsc2U7XHJcbmZ1bmN0aW9uIHNldHVwQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUiA9IGZhbHNlKSB7XHJcbiAgICBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBpc1NTUjtcclxuICAgIGNvbnN0IHsgcHJvcHMsIGNoaWxkcmVuLCBzaGFwZUZsYWcgfSA9IGluc3RhbmNlLnZub2RlO1xyXG4gICAgY29uc3QgaXNTdGF0ZWZ1bCA9IHNoYXBlRmxhZyAmIDQgLyogU1RBVEVGVUxfQ09NUE9ORU5UICovO1xyXG4gICAgaW5pdFByb3BzKGluc3RhbmNlLCBwcm9wcywgaXNTdGF0ZWZ1bCwgaXNTU1IpO1xyXG4gICAgaW5pdFNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XHJcbiAgICBjb25zdCBzZXR1cFJlc3VsdCA9IGlzU3RhdGVmdWxcclxuICAgICAgICA/IHNldHVwU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSKVxyXG4gICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgaXNJblNTUkNvbXBvbmVudFNldHVwID0gZmFsc2U7XHJcbiAgICByZXR1cm4gc2V0dXBSZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gc2V0dXBTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IpIHtcclxuICAgIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgaWYgKENvbXBvbmVudC5uYW1lKSB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShDb21wb25lbnQubmFtZSwgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQ29tcG9uZW50LmNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhDb21wb25lbnQuY29tcG9uZW50cyk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lc1tpXSwgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChDb21wb25lbnQuZGlyZWN0aXZlcykge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5kaXJlY3RpdmVzKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIDAuIGNyZWF0ZSByZW5kZXIgcHJveHkgcHJvcGVydHkgYWNjZXNzIGNhY2hlXHJcbiAgICBpbnN0YW5jZS5hY2Nlc3NDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICAvLyAxLiBjcmVhdGUgcHVibGljIGluc3RhbmNlIC8gcmVuZGVyIHByb3h5XHJcbiAgICAvLyBhbHNvIG1hcmsgaXQgcmF3IHNvIGl0J3MgbmV2ZXIgb2JzZXJ2ZWRcclxuICAgIGluc3RhbmNlLnByb3h5ID0gbmV3IFByb3h5KGluc3RhbmNlLmN0eCwgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICAvLyAyLiBjYWxsIHNldHVwKClcclxuICAgIGNvbnN0IHsgc2V0dXAgfSA9IENvbXBvbmVudDtcclxuICAgIGlmIChzZXR1cCkge1xyXG4gICAgICAgIGNvbnN0IHNldHVwQ29udGV4dCA9IChpbnN0YW5jZS5zZXR1cENvbnRleHQgPVxyXG4gICAgICAgICAgICBzZXR1cC5sZW5ndGggPiAxID8gY3JlYXRlU2V0dXBDb250ZXh0KGluc3RhbmNlKSA6IG51bGwpO1xyXG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICBjb25zdCBzZXR1cFJlc3VsdCA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzZXR1cCwgaW5zdGFuY2UsIDAgLyogU0VUVVBfRlVOQ1RJT04gKi8sIFsocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaW5zdGFuY2UucHJvcHMpIDogaW5zdGFuY2UucHJvcHMsIHNldHVwQ29udGV4dF0pO1xyXG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xyXG4gICAgICAgIGlmIChpc1Byb21pc2Uoc2V0dXBSZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1NTUikge1xyXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBwcm9taXNlIHNvIHNlcnZlci1yZW5kZXJlciBjYW4gd2FpdCBvbiBpdFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHVwUmVzdWx0LnRoZW4oKHJlc29sdmVkUmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHJlc29sdmVkUmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gYXN5bmMgc2V0dXAgcmV0dXJuZWQgUHJvbWlzZS5cclxuICAgICAgICAgICAgICAgIC8vIGJhaWwgaGVyZSBhbmQgd2FpdCBmb3IgcmUtZW50cnkuXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hc3luY0RlcCA9IHNldHVwUmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgc2V0dXBSZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgc2V0dXBSZXN1bHQsIGlzU1NSKSB7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihzZXR1cFJlc3VsdCkpIHtcclxuICAgICAgICAvLyBzZXR1cCByZXR1cm5lZCBhbiBpbmxpbmUgcmVuZGVyIGZ1bmN0aW9uXHJcbiAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gc2V0dXBSZXN1bHQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChzZXR1cFJlc3VsdCkpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzVk5vZGUoc2V0dXBSZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYHNldHVwKCkgc2hvdWxkIG5vdCByZXR1cm4gVk5vZGVzIGRpcmVjdGx5IC0gYCArXHJcbiAgICAgICAgICAgICAgICBgcmV0dXJuIGEgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNldHVwIHJldHVybmVkIGJpbmRpbmdzLlxyXG4gICAgICAgIC8vIGFzc3VtaW5nIGEgcmVuZGVyIGZ1bmN0aW9uIGNvbXBpbGVkIGZyb20gdGVtcGxhdGUgaXMgcHJlc2VudC5cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5kZXZ0b29sc1Jhd1NldHVwU3RhdGUgPSBzZXR1cFJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5zdGFuY2Uuc2V0dXBTdGF0ZSA9IHByb3h5UmVmcyhzZXR1cFJlc3VsdCk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2V0dXBSZXN1bHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHdhcm4oYHNldHVwKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuIFJlY2VpdmVkOiAke3NldHVwUmVzdWx0ID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIHNldHVwUmVzdWx0fWApO1xyXG4gICAgfVxyXG4gICAgZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UpO1xyXG59XHJcbmxldCBjb21waWxlO1xyXG4vKipcclxuICogRm9yIHJ1bnRpbWUtZG9tIHRvIHJlZ2lzdGVyIHRoZSBjb21waWxlci5cclxuICogTm90ZSB0aGUgZXhwb3J0ZWQgbWV0aG9kIHVzZXMgYW55IHRvIGF2b2lkIGQudHMgcmVseWluZyBvbiB0aGUgY29tcGlsZXIgdHlwZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiByZWdpc3RlclJ1bnRpbWVDb21waWxlcihfY29tcGlsZSkge1xyXG4gICAgY29tcGlsZSA9IF9jb21waWxlO1xyXG59XHJcbmZ1bmN0aW9uIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUikge1xyXG4gICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcclxuICAgIC8vIHRlbXBsYXRlIC8gcmVuZGVyIGZ1bmN0aW9uIG5vcm1hbGl6YXRpb25cclxuICAgIGlmICghaW5zdGFuY2UucmVuZGVyKSB7XHJcbiAgICAgICAgLy8gY291bGQgYmUgc2V0IGZyb20gc2V0dXAoKVxyXG4gICAgICAgIGlmIChjb21waWxlICYmIENvbXBvbmVudC50ZW1wbGF0ZSAmJiAhQ29tcG9uZW50LnJlbmRlcikge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQ29tcG9uZW50LnJlbmRlciA9IGNvbXBpbGUoQ29tcG9uZW50LnRlbXBsYXRlLCB7XHJcbiAgICAgICAgICAgICAgICBpc0N1c3RvbUVsZW1lbnQ6IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmlzQ3VzdG9tRWxlbWVudCxcclxuICAgICAgICAgICAgICAgIGRlbGltaXRlcnM6IENvbXBvbmVudC5kZWxpbWl0ZXJzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgY29tcGlsZWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluc3RhbmNlLnJlbmRlciA9IChDb21wb25lbnQucmVuZGVyIHx8IE5PT1ApO1xyXG4gICAgICAgIC8vIGZvciBydW50aW1lLWNvbXBpbGVkIHJlbmRlciBmdW5jdGlvbnMgdXNpbmcgYHdpdGhgIGJsb2NrcywgdGhlIHJlbmRlclxyXG4gICAgICAgIC8vIHByb3h5IHVzZWQgbmVlZHMgYSBkaWZmZXJlbnQgYGhhc2AgaGFuZGxlciB3aGljaCBpcyBtb3JlIHBlcmZvcm1hbnQgYW5kXHJcbiAgICAgICAgLy8gYWxzbyBvbmx5IGFsbG93cyBhIHdoaXRlbGlzdCBvZiBnbG9iYWxzIHRvIGZhbGx0aHJvdWdoLlxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5yZW5kZXIuX3JjKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLndpdGhQcm94eSA9IG5ldyBQcm94eShpbnN0YW5jZS5jdHgsIFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gc3VwcG9ydCBmb3IgMi54IG9wdGlvbnNcclxuICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fKSB7XHJcbiAgICAgICAgY3VycmVudEluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgYXBwbHlPcHRpb25zKGluc3RhbmNlLCBDb21wb25lbnQpO1xyXG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICAvLyB3YXJuIG1pc3NpbmcgdGVtcGxhdGUvcmVuZGVyXHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFDb21wb25lbnQucmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCkge1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgIGlmICghY29tcGlsZSAmJiBDb21wb25lbnQudGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IHByb3ZpZGVkIHRlbXBsYXRlIG9wdGlvbiBidXQgYCArXHJcbiAgICAgICAgICAgICAgICBgcnVudGltZSBjb21waWxhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnVpbGQgb2YgVnVlLmAgK1xyXG4gICAgICAgICAgICAgICAgKCBgIENvbmZpZ3VyZSB5b3VyIGJ1bmRsZXIgdG8gYWxpYXMgXCJ2dWVcIiB0byBcInZ1ZS9kaXN0L3Z1ZS5lc20tYnVuZGxlci5qc1wiLmBcclxuICAgICAgICAgICAgICAgICAgICApIC8qIHNob3VsZCBub3QgaGFwcGVuICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBpcyBtaXNzaW5nIHRlbXBsYXRlIG9yIHJlbmRlciBmdW5jdGlvbi5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3QgYXR0ckhhbmRsZXJzID0ge1xyXG4gICAgZ2V0OiAodGFyZ2V0LCBrZXkpID0+IHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcclxuICAgIH0sXHJcbiAgICBzZXQ6ICgpID0+IHtcclxuICAgICAgICB3YXJuKGBzZXR1cENvbnRleHQuYXR0cnMgaXMgcmVhZG9ubHkuYCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuICAgIGRlbGV0ZVByb3BlcnR5OiAoKSA9PiB7XHJcbiAgICAgICAgd2Fybihgc2V0dXBDb250ZXh0LmF0dHJzIGlzIHJlYWRvbmx5LmApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gY3JlYXRlU2V0dXBDb250ZXh0KGluc3RhbmNlKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgLy8gV2UgdXNlIGdldHRlcnMgaW4gZGV2IGluIGNhc2UgbGlicyBsaWtlIHRlc3QtdXRpbHMgb3ZlcndyaXRlIGluc3RhbmNlXHJcbiAgICAgICAgLy8gcHJvcGVydGllcyAob3ZlcndyaXRlcyBzaG91bGQgbm90IGJlIGRvbmUgaW4gcHJvZClcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIGdldCBhdHRycygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJveHkoaW5zdGFuY2UuYXR0cnMsIGF0dHJIYW5kbGVycyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldCBzbG90cygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzaGFsbG93UmVhZG9ubHkoaW5zdGFuY2Uuc2xvdHMpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQgZW1pdCgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoZXZlbnQsIC4uLmFyZ3MpID0+IGluc3RhbmNlLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBhdHRyczogaW5zdGFuY2UuYXR0cnMsXHJcbiAgICAgICAgICAgIHNsb3RzOiBpbnN0YW5jZS5zbG90cyxcclxuICAgICAgICAgICAgZW1pdDogaW5zdGFuY2UuZW1pdFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8gcmVjb3JkIGVmZmVjdHMgY3JlYXRlZCBkdXJpbmcgYSBjb21wb25lbnQncyBzZXR1cCgpIHNvIHRoYXQgdGhleSBjYW4gYmVcclxuLy8gc3RvcHBlZCB3aGVuIHRoZSBjb21wb25lbnQgdW5tb3VudHNcclxuZnVuY3Rpb24gcmVjb3JkSW5zdGFuY2VCb3VuZEVmZmVjdChlZmZlY3QpIHtcclxuICAgIGlmIChjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgICAgICAoY3VycmVudEluc3RhbmNlLmVmZmVjdHMgfHwgKGN1cnJlbnRJbnN0YW5jZS5lZmZlY3RzID0gW10pKS5wdXNoKGVmZmVjdCk7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgY2xhc3NpZnlSRSA9IC8oPzpefFstX10pKFxcdykvZztcclxuY29uc3QgY2xhc3NpZnkgPSAoc3RyKSA9PiBzdHIucmVwbGFjZShjbGFzc2lmeVJFLCBjID0+IGMudG9VcHBlckNhc2UoKSkucmVwbGFjZSgvWy1fXS9nLCAnJyk7XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbmZ1bmN0aW9uIGZvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIENvbXBvbmVudCwgaXNSb290ID0gZmFsc2UpIHtcclxuICAgIGxldCBuYW1lID0gaXNGdW5jdGlvbihDb21wb25lbnQpXHJcbiAgICAgICAgPyBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWVcclxuICAgICAgICA6IENvbXBvbmVudC5uYW1lO1xyXG4gICAgaWYgKCFuYW1lICYmIENvbXBvbmVudC5fX2ZpbGUpIHtcclxuICAgICAgICBjb25zdCBtYXRjaCA9IENvbXBvbmVudC5fX2ZpbGUubWF0Y2goLyhbXi9cXFxcXSspXFwudnVlJC8pO1xyXG4gICAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgICAgICBuYW1lID0gbWF0Y2hbMV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFuYW1lICYmIGluc3RhbmNlICYmIGluc3RhbmNlLnBhcmVudCkge1xyXG4gICAgICAgIC8vIHRyeSB0byBpbmZlciB0aGUgbmFtZSBiYXNlZCBvbiByZXZlcnNlIHJlc29sdXRpb25cclxuICAgICAgICBjb25zdCBpbmZlckZyb21SZWdpc3RyeSA9IChyZWdpc3RyeSkgPT4ge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByZWdpc3RyeSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlZ2lzdHJ5W2tleV0gPT09IENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIG5hbWUgPVxyXG4gICAgICAgICAgICBpbmZlckZyb21SZWdpc3RyeShpbnN0YW5jZS5jb21wb25lbnRzIHx8XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5wYXJlbnQudHlwZS5jb21wb25lbnRzKSB8fCBpbmZlckZyb21SZWdpc3RyeShpbnN0YW5jZS5hcHBDb250ZXh0LmNvbXBvbmVudHMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5hbWUgPyBjbGFzc2lmeShuYW1lKSA6IGlzUm9vdCA/IGBBcHBgIDogYEFub255bW91c2A7XHJcbn1cclxuZnVuY3Rpb24gaXNDbGFzc0NvbXBvbmVudCh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUpICYmICdfX3ZjY09wdHMnIGluIHZhbHVlO1xyXG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVkKGdldHRlck9yT3B0aW9ucykge1xyXG4gICAgY29uc3QgYyA9IGNvbXB1dGVkJDEoZ2V0dGVyT3JPcHRpb25zKTtcclxuICAgIHJlY29yZEluc3RhbmNlQm91bmRFZmZlY3QoYy5lZmZlY3QpO1xyXG4gICAgcmV0dXJuIGM7XHJcbn1cblxuLy8gaW1wbGVtZW50YXRpb24sIGNsb3NlIHRvIG5vLW9wXHJcbmZ1bmN0aW9uIGRlZmluZUNvbXBvbmVudChvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gaXNGdW5jdGlvbihvcHRpb25zKSA/IHsgc2V0dXA6IG9wdGlvbnMsIG5hbWU6IG9wdGlvbnMubmFtZSB9IDogb3B0aW9ucztcclxufVxuXG5mdW5jdGlvbiBkZWZpbmVBc3luY0NvbXBvbmVudChzb3VyY2UpIHtcclxuICAgIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcclxuICAgICAgICBzb3VyY2UgPSB7IGxvYWRlcjogc291cmNlIH07XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IGxvYWRlciwgbG9hZGluZ0NvbXBvbmVudDogbG9hZGluZ0NvbXBvbmVudCwgZXJyb3JDb21wb25lbnQ6IGVycm9yQ29tcG9uZW50LCBkZWxheSA9IDIwMCwgdGltZW91dCwgLy8gdW5kZWZpbmVkID0gbmV2ZXIgdGltZXMgb3V0XHJcbiAgICBzdXNwZW5zaWJsZSA9IHRydWUsIG9uRXJyb3I6IHVzZXJPbkVycm9yIH0gPSBzb3VyY2U7XHJcbiAgICBsZXQgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xyXG4gICAgbGV0IHJlc29sdmVkQ29tcDtcclxuICAgIGxldCByZXRyaWVzID0gMDtcclxuICAgIGNvbnN0IHJldHJ5ID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHJpZXMrKztcclxuICAgICAgICBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIGxvYWQoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBsb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCB0aGlzUmVxdWVzdDtcclxuICAgICAgICByZXR1cm4gKHBlbmRpbmdSZXF1ZXN0IHx8XHJcbiAgICAgICAgICAgICh0aGlzUmVxdWVzdCA9IHBlbmRpbmdSZXF1ZXN0ID0gbG9hZGVyKClcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXJyID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoU3RyaW5nKGVycikpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJPbkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlclJldHJ5ID0gKCkgPT4gcmVzb2x2ZShyZXRyeSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckZhaWwgPSAoKSA9PiByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlck9uRXJyb3IoZXJyLCB1c2VyUmV0cnksIHVzZXJGYWlsLCByZXRyaWVzICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbigoY29tcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNSZXF1ZXN0ICE9PSBwZW5kaW5nUmVxdWVzdCAmJiBwZW5kaW5nUmVxdWVzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwZW5kaW5nUmVxdWVzdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWNvbXApIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBBc3luYyBjb21wb25lbnQgbG9hZGVyIHJlc29sdmVkIHRvIHVuZGVmaW5lZC4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBJZiB5b3UgYXJlIHVzaW5nIHJldHJ5KCksIG1ha2Ugc3VyZSB0byByZXR1cm4gaXRzIHJldHVybiB2YWx1ZS5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGludGVyb3AgbW9kdWxlIGRlZmF1bHRcclxuICAgICAgICAgICAgICAgIGlmIChjb21wICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKGNvbXAuX19lc01vZHVsZSB8fCBjb21wW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdNb2R1bGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXAgPSBjb21wLmRlZmF1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNvbXAgJiYgIWlzT2JqZWN0KGNvbXApICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFzeW5jIGNvbXBvbmVudCBsb2FkIHJlc3VsdDogJHtjb21wfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRDb21wID0gY29tcDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21wO1xyXG4gICAgICAgICAgICB9KSkpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBkZWZpbmVDb21wb25lbnQoe1xyXG4gICAgICAgIF9fYXN5bmNMb2FkZXI6IGxvYWQsXHJcbiAgICAgICAgbmFtZTogJ0FzeW5jQ29tcG9uZW50V3JhcHBlcicsXHJcbiAgICAgICAgc2V0dXAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlO1xyXG4gICAgICAgICAgICAvLyBhbHJlYWR5IHJlc29sdmVkXHJcbiAgICAgICAgICAgIGlmIChyZXNvbHZlZENvbXApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgb25FcnJvciA9IChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDEzIC8qIEFTWU5DX0NPTVBPTkVOVF9MT0FERVIgKi8sICFlcnJvckNvbXBvbmVudCAvKiBkbyBub3QgdGhyb3cgaW4gZGV2IGlmIHVzZXIgcHJvdmlkZWQgZXJyb3IgY29tcG9uZW50ICovKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gc3VzcGVuc2UtY29udHJvbGxlZCBvciBTU1IuXHJcbiAgICAgICAgICAgIGlmICgoIHN1c3BlbnNpYmxlICYmIGluc3RhbmNlLnN1c3BlbnNlKSB8fFxyXG4gICAgICAgICAgICAgICAgKGZhbHNlICkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihjb21wID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKGNvbXAsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBlcnJvckNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNyZWF0ZVZOb2RlKGVycm9yQ29tcG9uZW50LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlZCA9IHJlZihmYWxzZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gcmVmKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5ZWQgPSByZWYoISFkZWxheSk7XHJcbiAgICAgICAgICAgIGlmIChkZWxheSkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsYXllZC52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSwgZGVsYXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aW1lb3V0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbG9hZGVkLnZhbHVlICYmICFlcnJvci52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoYEFzeW5jIGNvbXBvbmVudCB0aW1lZCBvdXQgYWZ0ZXIgJHt0aW1lb3V0fW1zLmApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvYWQoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbG9hZGVkLnZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxvYWRlZC52YWx1ZSAmJiByZXNvbHZlZENvbXApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW5uZXJDb21wKHJlc29sdmVkQ29tcCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXJyb3IudmFsdWUgJiYgZXJyb3JDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLnZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsb2FkaW5nQ29tcG9uZW50ICYmICFkZWxheWVkLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKGxvYWRpbmdDb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUlubmVyQ29tcChjb21wLCB7IHZub2RlOiB7IHByb3BzLCBjaGlsZHJlbiB9IH0pIHtcclxuICAgIHJldHVybiBjcmVhdGVWTm9kZShjb21wLCBwcm9wcywgY2hpbGRyZW4pO1xyXG59XG5cbi8vIEFjdHVhbCBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiBoKHR5cGUsIHByb3BzT3JDaGlsZHJlbiwgY2hpbGRyZW4pIHtcclxuICAgIGNvbnN0IGwgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG4gICAgaWYgKGwgPT09IDIpIHtcclxuICAgICAgICBpZiAoaXNPYmplY3QocHJvcHNPckNoaWxkcmVuKSAmJiAhaXNBcnJheShwcm9wc09yQ2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIC8vIHNpbmdsZSB2bm9kZSB3aXRob3V0IHByb3BzXHJcbiAgICAgICAgICAgIGlmIChpc1ZOb2RlKHByb3BzT3JDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBbcHJvcHNPckNoaWxkcmVuXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJvcHMgd2l0aG91dCBjaGlsZHJlblxyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG9taXQgcHJvcHNcclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIHByb3BzT3JDaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGwgPiAzKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobCA9PT0gMyAmJiBpc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKTtcclxuICAgIH1cclxufVxuXG5jb25zdCBzc3JDb250ZXh0S2V5ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGBzc3JDb250ZXh0YCA6IGBgKTtcclxuY29uc3QgdXNlU1NSQ29udGV4dCA9ICgpID0+IHtcclxuICAgIHtcclxuICAgICAgICBjb25zdCBjdHggPSBpbmplY3Qoc3NyQ29udGV4dEtleSk7XHJcbiAgICAgICAgaWYgKCFjdHgpIHtcclxuICAgICAgICAgICAgd2FybihgU2VydmVyIHJlbmRlcmluZyBjb250ZXh0IG5vdCBwcm92aWRlZC4gTWFrZSBzdXJlIHRvIG9ubHkgY2FsbCBgICtcclxuICAgICAgICAgICAgICAgIGB1c2VTc3JDb250ZXh0KCkgY29uZGl0aW9uYWxseSBpbiB0aGUgc2VydmVyIGJ1aWxkLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3R4O1xyXG4gICAgfVxyXG59O1xuXG5mdW5jdGlvbiBpbml0Q3VzdG9tRm9ybWF0dGVyKCkge1xyXG4gICAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgIXRydWUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCB2dWVTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojM2JhNzc2JyB9O1xyXG4gICAgY29uc3QgbnVtYmVyU3R5bGUgPSB7IHN0eWxlOiAnY29sb3I6IzBiMWJjOScgfTtcclxuICAgIGNvbnN0IHN0cmluZ1N0eWxlID0geyBzdHlsZTogJ2NvbG9yOiNiNjJlMjQnIH07XHJcbiAgICBjb25zdCBrZXl3b3JkU3R5bGUgPSB7IHN0eWxlOiAnY29sb3I6IzlkMjg4YycgfTtcclxuICAgIC8vIGN1c3RvbSBmb3JtYXR0ZXIgZm9yIENocm9tZVxyXG4gICAgLy8gaHR0cHM6Ly93d3cubWF0dHpldW5lcnQuY29tLzIwMTYvMDIvMTkvY3VzdG9tLWNocm9tZS1kZXZ0b29scy1vYmplY3QtZm9ybWF0dGVycy5odG1sXHJcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSB7XHJcbiAgICAgICAgaGVhZGVyKG9iaikge1xyXG4gICAgICAgICAgICAvLyBUT0RPIGFsc28gZm9ybWF0IENvbXBvbmVudFB1YmxpY0luc3RhbmNlICYgY3R4LnNsb3RzL2F0dHJzIGluIHNldHVwXHJcbiAgICAgICAgICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9iai5fX2lzVnVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWydkaXYnLCB2dWVTdHlsZSwgYFZ1ZUluc3RhbmNlYF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWYob2JqKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCB2dWVTdHlsZSwgZ2VuUmVmRmxhZyhvYmopXSxcclxuICAgICAgICAgICAgICAgICAgICAnPCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0VmFsdWUob2JqLnZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICBgPmBcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWFjdGl2ZShvYmopKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIFsnc3BhbicsIHZ1ZVN0eWxlLCAnUmVhY3RpdmUnXSxcclxuICAgICAgICAgICAgICAgICAgICAnPCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0VmFsdWUob2JqKSxcclxuICAgICAgICAgICAgICAgICAgICBgPiR7aXNSZWFkb25seShvYmopID8gYCAocmVhZG9ubHkpYCA6IGBgfWBcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWFkb25seShvYmopKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIFsnc3BhbicsIHZ1ZVN0eWxlLCAnUmVhZG9ubHknXSxcclxuICAgICAgICAgICAgICAgICAgICAnPCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0VmFsdWUob2JqKSxcclxuICAgICAgICAgICAgICAgICAgICAnPidcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBoYXNCb2R5KG9iaikge1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqICYmIG9iai5fX2lzVnVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keShvYmopIHtcclxuICAgICAgICAgICAgaWYgKG9iaiAmJiBvYmouX19pc1Z1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgICAgICAgICAuLi5mb3JtYXRJbnN0YW5jZShvYmouJClcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZnVuY3Rpb24gZm9ybWF0SW5zdGFuY2UoaW5zdGFuY2UpIHtcclxuICAgICAgICBjb25zdCBibG9ja3MgPSBbXTtcclxuICAgICAgICBpZiAoaW5zdGFuY2UudHlwZS5wcm9wcyAmJiBpbnN0YW5jZS5wcm9wcykge1xyXG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdwcm9wcycsIHRvUmF3KGluc3RhbmNlLnByb3BzKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5zdGFuY2Uuc2V0dXBTdGF0ZSAhPT0gRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ3NldHVwJywgaW5zdGFuY2Uuc2V0dXBTdGF0ZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5zdGFuY2UuZGF0YSAhPT0gRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ2RhdGEnLCB0b1JhdyhpbnN0YW5jZS5kYXRhKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb21wdXRlZCA9IGV4dHJhY3RLZXlzKGluc3RhbmNlLCAnY29tcHV0ZWQnKTtcclxuICAgICAgICBpZiAoY29tcHV0ZWQpIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnY29tcHV0ZWQnLCBjb21wdXRlZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpbmplY3RlZCA9IGV4dHJhY3RLZXlzKGluc3RhbmNlLCAnaW5qZWN0Jyk7XHJcbiAgICAgICAgaWYgKGluamVjdGVkKSB7XHJcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ2luamVjdGVkJywgaW5qZWN0ZWQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYmxvY2tzLnB1c2goW1xyXG4gICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICdzcGFuJyxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZToga2V5d29yZFN0eWxlLnN0eWxlICsgJztvcGFjaXR5OjAuNjYnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJyQgKGludGVybmFsKTogJ1xyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBbJ29iamVjdCcsIHsgb2JqZWN0OiBpbnN0YW5jZSB9XVxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIHJldHVybiBibG9ja3M7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZUJsb2NrKHR5cGUsIHRhcmdldCkge1xyXG4gICAgICAgIHRhcmdldCA9IGV4dGVuZCh7fSwgdGFyZ2V0KTtcclxuICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHRhcmdldCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCB7fV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICB7IHN0eWxlOiAnbGluZS1oZWlnaHQ6MS4yNWVtO21hcmdpbi1ib3R0b206MC42ZW0nIH0sXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiAnY29sb3I6IzQ3NjU4MidcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0eXBlXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiAncGFkZGluZy1sZWZ0OjEuMjVlbSdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAuLi5PYmplY3Qua2V5cyh0YXJnZXQpLm1hcChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgWydzcGFuJywga2V5d29yZFN0eWxlLCBrZXkgKyAnOiAnXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0VmFsdWUodGFyZ2V0W2tleV0sIGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGZvcm1hdFZhbHVlKHYsIGFzUmF3ID0gdHJ1ZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIG51bWJlclN0eWxlLCB2XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHYgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCBzdHJpbmdTdHlsZSwgSlNPTi5zdHJpbmdpZnkodildO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCBrZXl3b3JkU3R5bGUsIHZdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc09iamVjdCh2KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gWydvYmplY3QnLCB7IG9iamVjdDogYXNSYXcgPyB0b1Jhdyh2KSA6IHYgfV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywgc3RyaW5nU3R5bGUsIFN0cmluZyh2KV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZXh0cmFjdEtleXMoaW5zdGFuY2UsIHR5cGUpIHtcclxuICAgICAgICBjb25zdCBDb21wID0gaW5zdGFuY2UudHlwZTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihDb21wKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGV4dHJhY3RlZCA9IHt9O1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGluc3RhbmNlLmN0eCkge1xyXG4gICAgICAgICAgICBpZiAoaXNLZXlPZlR5cGUoQ29tcCwga2V5LCB0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgZXh0cmFjdGVkW2tleV0gPSBpbnN0YW5jZS5jdHhba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZXh0cmFjdGVkO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNLZXlPZlR5cGUoQ29tcCwga2V5LCB0eXBlKSB7XHJcbiAgICAgICAgY29uc3Qgb3B0cyA9IENvbXBbdHlwZV07XHJcbiAgICAgICAgaWYgKChpc0FycmF5KG9wdHMpICYmIG9wdHMuaW5jbHVkZXMoa2V5KSkgfHxcclxuICAgICAgICAgICAgKGlzT2JqZWN0KG9wdHMpICYmIGtleSBpbiBvcHRzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKENvbXAuZXh0ZW5kcyAmJiBpc0tleU9mVHlwZShDb21wLmV4dGVuZHMsIGtleSwgdHlwZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChDb21wLm1peGlucyAmJiBDb21wLm1peGlucy5zb21lKG0gPT4gaXNLZXlPZlR5cGUobSwga2V5LCB0eXBlKSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2VuUmVmRmxhZyh2KSB7XHJcbiAgICAgICAgaWYgKHYuX3NoYWxsb3cpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGBTaGFsbG93UmVmYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHYuZWZmZWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgQ29tcHV0ZWRSZWZgO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYFJlZmA7XHJcbiAgICB9XHJcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxuICAgIGlmICh3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzKSB7XHJcbiAgICAgICAgd2luZG93LmRldnRvb2xzRm9ybWF0dGVycy5wdXNoKGZvcm1hdHRlcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzID0gW2Zvcm1hdHRlcl07XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEFjdHVhbCBpbXBsZW1lbnRhdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gcmVuZGVyTGlzdChzb3VyY2UsIHJlbmRlckl0ZW0pIHtcclxuICAgIGxldCByZXQ7XHJcbiAgICBpZiAoaXNBcnJheShzb3VyY2UpIHx8IGlzU3RyaW5nKHNvdXJjZSkpIHtcclxuICAgICAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBzb3VyY2UubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2ldLCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2Ygc291cmNlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIU51bWJlci5pc0ludGVnZXIoc291cmNlKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBUaGUgdi1mb3IgcmFuZ2UgZXhwZWN0IGFuIGludGVnZXIgdmFsdWUgYnV0IGdvdCAke3NvdXJjZX0uYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2U7IGkrKykge1xyXG4gICAgICAgICAgICByZXRbaV0gPSByZW5kZXJJdGVtKGkgKyAxLCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpKSB7XHJcbiAgICAgICAgaWYgKHNvdXJjZVtTeW1ib2wuaXRlcmF0b3JdKSB7XHJcbiAgICAgICAgICAgIHJldCA9IEFycmF5LmZyb20oc291cmNlLCByZW5kZXJJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xyXG4gICAgICAgICAgICByZXQgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShzb3VyY2Vba2V5XSwga2V5LCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldCA9IFtdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG4vKipcclxuICogRm9yIHByZWZpeGluZyBrZXlzIGluIHYtb249XCJvYmpcIiB3aXRoIFwib25cIlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gdG9IYW5kbGVycyhvYmopIHtcclxuICAgIGNvbnN0IHJldCA9IHt9O1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNPYmplY3Qob2JqKSkge1xyXG4gICAgICAgIHdhcm4oYHYtb24gd2l0aCBubyBhcmd1bWVudCBleHBlY3RzIGFuIG9iamVjdCB2YWx1ZS5gKTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgcmV0W3RvSGFuZGxlcktleShrZXkpXSA9IG9ialtrZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG4vKipcclxuICogQ29tcGlsZXIgcnVudGltZSBoZWxwZXIgZm9yIGNyZWF0aW5nIGR5bmFtaWMgc2xvdHMgb2JqZWN0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTbG90cyhzbG90cywgZHluYW1pY1Nsb3RzKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNTbG90cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHNsb3QgPSBkeW5hbWljU2xvdHNbaV07XHJcbiAgICAgICAgLy8gYXJyYXkgb2YgZHluYW1pYyBzbG90IGdlbmVyYXRlZCBieSA8dGVtcGxhdGUgdi1mb3I9XCIuLi5cIiAjWy4uLl0+XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoc2xvdCkpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbG90Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBzbG90c1tzbG90W2pdLm5hbWVdID0gc2xvdFtqXS5mbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzbG90KSB7XHJcbiAgICAgICAgICAgIC8vIGNvbmRpdGlvbmFsIHNpbmdsZSBzbG90IGdlbmVyYXRlZCBieSA8dGVtcGxhdGUgdi1pZj1cIi4uLlwiICNmb28+XHJcbiAgICAgICAgICAgIHNsb3RzW3Nsb3QubmFtZV0gPSBzbG90LmZuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzbG90cztcclxufVxuXG4vLyBDb3JlIEFQSSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuY29uc3QgdmVyc2lvbiA9IFwiMy4wLjJcIjtcclxuLyoqXHJcbiAqIFNTUiB1dGlscyBmb3IgXFxAdnVlL3NlcnZlci1yZW5kZXJlci4gT25seSBleHBvc2VkIGluIGNqcyBidWlsZHMuXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuY29uc3Qgc3NyVXRpbHMgPSAoIG51bGwpO1xuXG5leHBvcnQgeyBCYXNlVHJhbnNpdGlvbiwgQ29tbWVudCwgRnJhZ21lbnQsIEtlZXBBbGl2ZSwgU3RhdGljLCBTdXNwZW5zZSwgVGVsZXBvcnQsIFRleHQsIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nLCBjYWxsV2l0aEVycm9ySGFuZGxpbmcsIGNsb25lVk5vZGUsIGNvbXB1dGVkLCBjcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVIeWRyYXRpb25SZW5kZXJlciwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZVNsb3RzLCBjcmVhdGVTdGF0aWNWTm9kZSwgY3JlYXRlVGV4dFZOb2RlLCBjcmVhdGVWTm9kZSwgZGVmaW5lQXN5bmNDb21wb25lbnQsIGRlZmluZUNvbXBvbmVudCwgZGV2dG9vbHMsIGdldEN1cnJlbnRJbnN0YW5jZSwgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLCBoLCBoYW5kbGVFcnJvciwgaW5pdEN1c3RvbUZvcm1hdHRlciwgaW5qZWN0LCBpc1ZOb2RlLCBtZXJnZVByb3BzLCBuZXh0VGljaywgb25BY3RpdmF0ZWQsIG9uQmVmb3JlTW91bnQsIG9uQmVmb3JlVW5tb3VudCwgb25CZWZvcmVVcGRhdGUsIG9uRGVhY3RpdmF0ZWQsIG9uRXJyb3JDYXB0dXJlZCwgb25Nb3VudGVkLCBvblJlbmRlclRyYWNrZWQsIG9uUmVuZGVyVHJpZ2dlcmVkLCBvblVubW91bnRlZCwgb25VcGRhdGVkLCBvcGVuQmxvY2ssIHBvcFNjb3BlSWQsIHByb3ZpZGUsIHB1c2hTY29wZUlkLCBxdWV1ZVBvc3RGbHVzaENiLCByZWdpc3RlclJ1bnRpbWVDb21waWxlciwgcmVuZGVyTGlzdCwgcmVuZGVyU2xvdCwgcmVzb2x2ZUNvbXBvbmVudCwgcmVzb2x2ZURpcmVjdGl2ZSwgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MsIHNldEJsb2NrVHJhY2tpbmcsIHNldERldnRvb2xzSG9vaywgc2V0VHJhbnNpdGlvbkhvb2tzLCBzc3JDb250ZXh0S2V5LCBzc3JVdGlscywgdG9IYW5kbGVycywgdHJhbnNmb3JtVk5vZGVBcmdzLCB1c2VTU1JDb250ZXh0LCB1c2VUcmFuc2l0aW9uU3RhdGUsIHZlcnNpb24sIHdhcm4sIHdhdGNoLCB3YXRjaEVmZmVjdCwgd2l0aEN0eCwgd2l0aERpcmVjdGl2ZXMsIHdpdGhTY29wZUlkIH07XG4iLCJpbXBvcnQgeyBjYW1lbGl6ZSwgd2FybiwgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsIGdldEN1cnJlbnRJbnN0YW5jZSwgb25Nb3VudGVkLCB3YXRjaEVmZmVjdCwgb25VcGRhdGVkLCB1bnJlZiwgRnJhZ21lbnQsIGgsIEJhc2VUcmFuc2l0aW9uLCB1c2VUcmFuc2l0aW9uU3RhdGUsIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiwgc2V0VHJhbnNpdGlvbkhvb2tzLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBjcmVhdGVWTm9kZSwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyIH0gZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuaW1wb3J0IHsgaXNTdHJpbmcsIGlzQXJyYXksIGh5cGhlbmF0ZSwgY2FwaXRhbGl6ZSwgaXNTcGVjaWFsQm9vbGVhbkF0dHIsIGlzT24sIGlzTW9kZWxMaXN0ZW5lciwgaXNGdW5jdGlvbiwgRU1QVFlfT0JKLCBleHRlbmQsIGlzT2JqZWN0LCB0b051bWJlciwgaW52b2tlQXJyYXlGbnMsIGxvb3NlSW5kZXhPZiwgaXNTZXQsIGxvb3NlRXF1YWwsIGlzSFRNTFRhZywgaXNTVkdUYWcgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmNvbnN0IHN2Z05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcclxuY29uc3QgZG9jID0gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IG51bGwpO1xyXG5sZXQgdGVtcENvbnRhaW5lcjtcclxubGV0IHRlbXBTVkdDb250YWluZXI7XHJcbmNvbnN0IG5vZGVPcHMgPSB7XHJcbiAgICBpbnNlcnQ6IChjaGlsZCwgcGFyZW50LCBhbmNob3IpID0+IHtcclxuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBhbmNob3IgfHwgbnVsbCk7XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlOiBjaGlsZCA9PiB7XHJcbiAgICAgICAgY29uc3QgcGFyZW50ID0gY2hpbGQucGFyZW50Tm9kZTtcclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNyZWF0ZUVsZW1lbnQ6ICh0YWcsIGlzU1ZHLCBpcykgPT4gaXNTVkdcclxuICAgICAgICA/IGRvYy5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsIHRhZylcclxuICAgICAgICA6IGRvYy5jcmVhdGVFbGVtZW50KHRhZywgaXMgPyB7IGlzIH0gOiB1bmRlZmluZWQpLFxyXG4gICAgY3JlYXRlVGV4dDogdGV4dCA9PiBkb2MuY3JlYXRlVGV4dE5vZGUodGV4dCksXHJcbiAgICBjcmVhdGVDb21tZW50OiB0ZXh0ID0+IGRvYy5jcmVhdGVDb21tZW50KHRleHQpLFxyXG4gICAgc2V0VGV4dDogKG5vZGUsIHRleHQpID0+IHtcclxuICAgICAgICBub2RlLm5vZGVWYWx1ZSA9IHRleHQ7XHJcbiAgICB9LFxyXG4gICAgc2V0RWxlbWVudFRleHQ6IChlbCwgdGV4dCkgPT4ge1xyXG4gICAgICAgIGVsLnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgIH0sXHJcbiAgICBwYXJlbnROb2RlOiBub2RlID0+IG5vZGUucGFyZW50Tm9kZSxcclxuICAgIG5leHRTaWJsaW5nOiBub2RlID0+IG5vZGUubmV4dFNpYmxpbmcsXHJcbiAgICBxdWVyeVNlbGVjdG9yOiBzZWxlY3RvciA9PiBkb2MucXVlcnlTZWxlY3RvcihzZWxlY3RvciksXHJcbiAgICBzZXRTY29wZUlkKGVsLCBpZCkge1xyXG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZShpZCwgJycpO1xyXG4gICAgfSxcclxuICAgIGNsb25lTm9kZShlbCkge1xyXG4gICAgICAgIHJldHVybiBlbC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB9LFxyXG4gICAgLy8gX19VTlNBRkVfX1xyXG4gICAgLy8gUmVhc29uOiBpbm5lckhUTUwuXHJcbiAgICAvLyBTdGF0aWMgY29udGVudCBoZXJlIGNhbiBvbmx5IGNvbWUgZnJvbSBjb21waWxlZCB0ZW1wbGF0ZXMuXHJcbiAgICAvLyBBcyBsb25nIGFzIHRoZSB1c2VyIG9ubHkgdXNlcyB0cnVzdGVkIHRlbXBsYXRlcywgdGhpcyBpcyBzYWZlLlxyXG4gICAgaW5zZXJ0U3RhdGljQ29udGVudChjb250ZW50LCBwYXJlbnQsIGFuY2hvciwgaXNTVkcpIHtcclxuICAgICAgICBjb25zdCB0ZW1wID0gaXNTVkdcclxuICAgICAgICAgICAgPyB0ZW1wU1ZHQ29udGFpbmVyIHx8XHJcbiAgICAgICAgICAgICAgICAodGVtcFNWR0NvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsICdzdmcnKSlcclxuICAgICAgICAgICAgOiB0ZW1wQ29udGFpbmVyIHx8ICh0ZW1wQ29udGFpbmVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpKTtcclxuICAgICAgICB0ZW1wLmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgY29uc3QgZmlyc3QgPSB0ZW1wLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgbGV0IG5vZGUgPSBmaXJzdDtcclxuICAgICAgICBsZXQgbGFzdCA9IG5vZGU7XHJcbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcclxuICAgICAgICAgICAgbGFzdCA9IG5vZGU7XHJcbiAgICAgICAgICAgIG5vZGVPcHMuaW5zZXJ0KG5vZGUsIHBhcmVudCwgYW5jaG9yKTtcclxuICAgICAgICAgICAgbm9kZSA9IHRlbXAuZmlyc3RDaGlsZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtmaXJzdCwgbGFzdF07XHJcbiAgICB9XHJcbn07XG5cbi8vIGNvbXBpbGVyIHNob3VsZCBub3JtYWxpemUgY2xhc3MgKyA6Y2xhc3MgYmluZGluZ3Mgb24gdGhlIHNhbWUgZWxlbWVudFxyXG4vLyBpbnRvIGEgc2luZ2xlIGJpbmRpbmcgWydzdGF0aWNDbGFzcycsIGR5bmFtaWNdXHJcbmZ1bmN0aW9uIHBhdGNoQ2xhc3MoZWwsIHZhbHVlLCBpc1NWRykge1xyXG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICB2YWx1ZSA9ICcnO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzU1ZHKSB7XHJcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGRpcmVjdGx5IHNldHRpbmcgY2xhc3NOYW1lIHNob3VsZCBiZSBmYXN0ZXIgdGhhbiBzZXRBdHRyaWJ1dGUgaW4gdGhlb3J5XHJcbiAgICAgICAgLy8gaWYgdGhpcyBpcyBhbiBlbGVtZW50IGR1cmluZyBhIHRyYW5zaXRpb24sIHRha2UgdGhlIHRlbXBvcmFyeSB0cmFuc2l0aW9uXHJcbiAgICAgICAgLy8gY2xhc3NlcyBpbnRvIGFjY291bnQuXHJcbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbkNsYXNzZXMgPSBlbC5fdnRjO1xyXG4gICAgICAgIGlmICh0cmFuc2l0aW9uQ2xhc3Nlcykge1xyXG4gICAgICAgICAgICB2YWx1ZSA9ICh2YWx1ZVxyXG4gICAgICAgICAgICAgICAgPyBbdmFsdWUsIC4uLnRyYW5zaXRpb25DbGFzc2VzXVxyXG4gICAgICAgICAgICAgICAgOiBbLi4udHJhbnNpdGlvbkNsYXNzZXNdKS5qb2luKCcgJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IHZhbHVlO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIHBhdGNoU3R5bGUoZWwsIHByZXYsIG5leHQpIHtcclxuICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XHJcbiAgICBpZiAoIW5leHQpIHtcclxuICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1N0cmluZyhuZXh0KSkge1xyXG4gICAgICAgIGlmIChwcmV2ICE9PSBuZXh0KSB7XHJcbiAgICAgICAgICAgIHN0eWxlLmNzc1RleHQgPSBuZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5leHQpIHtcclxuICAgICAgICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgbmV4dFtrZXldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByZXYgJiYgIWlzU3RyaW5nKHByZXYpKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByZXYpIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0W2tleV0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksICcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5jb25zdCBpbXBvcnRhbnRSRSA9IC9cXHMqIWltcG9ydGFudCQvO1xyXG5mdW5jdGlvbiBzZXRTdHlsZShzdHlsZSwgbmFtZSwgdmFsKSB7XHJcbiAgICBpZiAoaXNBcnJheSh2YWwpKSB7XHJcbiAgICAgICAgdmFsLmZvckVhY2godiA9PiBzZXRTdHlsZShzdHlsZSwgbmFtZSwgdikpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKG5hbWUuc3RhcnRzV2l0aCgnLS0nKSkge1xyXG4gICAgICAgICAgICAvLyBjdXN0b20gcHJvcGVydHkgZGVmaW5pdGlvblxyXG4gICAgICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcHJlZml4ZWQgPSBhdXRvUHJlZml4KHN0eWxlLCBuYW1lKTtcclxuICAgICAgICAgICAgaWYgKGltcG9ydGFudFJFLnRlc3QodmFsKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gIWltcG9ydGFudFxyXG4gICAgICAgICAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoaHlwaGVuYXRlKHByZWZpeGVkKSwgdmFsLnJlcGxhY2UoaW1wb3J0YW50UkUsICcnKSwgJ2ltcG9ydGFudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3R5bGVbcHJlZml4ZWRdID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IHByZWZpeGVzID0gWydXZWJraXQnLCAnTW96JywgJ21zJ107XHJcbmNvbnN0IHByZWZpeENhY2hlID0ge307XHJcbmZ1bmN0aW9uIGF1dG9QcmVmaXgoc3R5bGUsIHJhd05hbWUpIHtcclxuICAgIGNvbnN0IGNhY2hlZCA9IHByZWZpeENhY2hlW3Jhd05hbWVdO1xyXG4gICAgaWYgKGNhY2hlZCkge1xyXG4gICAgICAgIHJldHVybiBjYWNoZWQ7XHJcbiAgICB9XHJcbiAgICBsZXQgbmFtZSA9IGNhbWVsaXplKHJhd05hbWUpO1xyXG4gICAgaWYgKG5hbWUgIT09ICdmaWx0ZXInICYmIG5hbWUgaW4gc3R5bGUpIHtcclxuICAgICAgICByZXR1cm4gKHByZWZpeENhY2hlW3Jhd05hbWVdID0gbmFtZSk7XHJcbiAgICB9XHJcbiAgICBuYW1lID0gY2FwaXRhbGl6ZShuYW1lKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBwcmVmaXhlZCA9IHByZWZpeGVzW2ldICsgbmFtZTtcclxuICAgICAgICBpZiAocHJlZml4ZWQgaW4gc3R5bGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChwcmVmaXhDYWNoZVtyYXdOYW1lXSA9IHByZWZpeGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmF3TmFtZTtcclxufVxuXG5jb25zdCB4bGlua05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnO1xyXG5mdW5jdGlvbiBwYXRjaEF0dHIoZWwsIGtleSwgdmFsdWUsIGlzU1ZHKSB7XHJcbiAgICBpZiAoaXNTVkcgJiYga2V5LnN0YXJ0c1dpdGgoJ3hsaW5rOicpKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywga2V5LnNsaWNlKDYsIGtleS5sZW5ndGgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIG5vdGUgd2UgYXJlIG9ubHkgY2hlY2tpbmcgYm9vbGVhbiBhdHRyaWJ1dGVzIHRoYXQgZG9uJ3QgaGF2ZSBhXHJcbiAgICAgICAgLy8gY29ycmVzcG9uZGluZyBkb20gcHJvcCBvZiB0aGUgc2FtZSBuYW1lIGhlcmUuXHJcbiAgICAgICAgY29uc3QgaXNCb29sZWFuID0gaXNTcGVjaWFsQm9vbGVhbkF0dHIoa2V5KTtcclxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCAoaXNCb29sZWFuICYmIHZhbHVlID09PSBmYWxzZSkpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBpc0Jvb2xlYW4gPyAnJyA6IHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLy8gX19VTlNBRkVfX1xyXG4vLyBmdW5jdGlvbnMuIFRoZSB1c2VyIGlzIHJlc3BvbnNpYmxlIGZvciB1c2luZyB0aGVtIHdpdGggb25seSB0cnVzdGVkIGNvbnRlbnQuXHJcbmZ1bmN0aW9uIHBhdGNoRE9NUHJvcChlbCwga2V5LCB2YWx1ZSwgXHJcbi8vIHRoZSBmb2xsb3dpbmcgYXJncyBhcmUgcGFzc2VkIG9ubHkgZHVlIHRvIHBvdGVudGlhbCBpbm5lckhUTUwvdGV4dENvbnRlbnRcclxuLy8gb3ZlcnJpZGluZyBleGlzdGluZyBWTm9kZXMsIGluIHdoaWNoIGNhc2UgdGhlIG9sZCB0cmVlIG11c3QgYmUgcHJvcGVybHlcclxuLy8gdW5tb3VudGVkLlxyXG5wcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbikge1xyXG4gICAgaWYgKGtleSA9PT0gJ2lubmVySFRNTCcgfHwga2V5ID09PSAndGV4dENvbnRlbnQnKSB7XHJcbiAgICAgICAgaWYgKHByZXZDaGlsZHJlbikge1xyXG4gICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4ocHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxba2V5XSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChrZXkgPT09ICd2YWx1ZScgJiYgZWwudGFnTmFtZSAhPT0gJ1BST0dSRVNTJykge1xyXG4gICAgICAgIC8vIHN0b3JlIHZhbHVlIGFzIF92YWx1ZSBhcyB3ZWxsIHNpbmNlXHJcbiAgICAgICAgLy8gbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZSBzdHJpbmdpZmllZC5cclxuICAgICAgICBlbC5fdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgICAgIGlmIChlbC52YWx1ZSAhPT0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgZWwudmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlID09PSAnJyAmJiB0eXBlb2YgZWxba2V5XSA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgLy8gZS5nLiA8c2VsZWN0IG11bHRpcGxlPiBjb21waWxlcyB0byB7IG11bHRpcGxlOiAnJyB9XHJcbiAgICAgICAgZWxba2V5XSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh2YWx1ZSA9PSBudWxsICYmIHR5cGVvZiBlbFtrZXldID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIC8vIGUuZy4gPGRpdiA6aWQ9XCJudWxsXCI+XHJcbiAgICAgICAgZWxba2V5XSA9ICcnO1xyXG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gc29tZSBwcm9wZXJ0aWVzIHBlcmZvcm0gdmFsdWUgdmFsaWRhdGlvbiBhbmQgdGhyb3dcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBlbFtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYEZhaWxlZCBzZXR0aW5nIHByb3AgXCIke2tleX1cIiBvbiA8JHtlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9PjogYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYHZhbHVlICR7dmFsdWV9IGlzIGludmFsaWQuYCwgZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLy8gQXN5bmMgZWRnZSBjYXNlIGZpeCByZXF1aXJlcyBzdG9yaW5nIGFuIGV2ZW50IGxpc3RlbmVyJ3MgYXR0YWNoIHRpbWVzdGFtcC5cclxubGV0IF9nZXROb3cgPSBEYXRlLm5vdztcclxuLy8gRGV0ZXJtaW5lIHdoYXQgZXZlbnQgdGltZXN0YW1wIHRoZSBicm93c2VyIGlzIHVzaW5nLiBBbm5veWluZ2x5LCB0aGVcclxuLy8gdGltZXN0YW1wIGNhbiBlaXRoZXIgYmUgaGktcmVzIChyZWxhdGl2ZSB0byBwYWdlIGxvYWQpIG9yIGxvdy1yZXNcclxuLy8gKHJlbGF0aXZlIHRvIFVOSVggZXBvY2gpLCBzbyBpbiBvcmRlciB0byBjb21wYXJlIHRpbWUgd2UgaGF2ZSB0byB1c2UgdGhlXHJcbi8vIHNhbWUgdGltZXN0YW1wIHR5cGUgd2hlbiBzYXZpbmcgdGhlIGZsdXNoIHRpbWVzdGFtcC5cclxuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgIF9nZXROb3coKSA+IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpLnRpbWVTdGFtcCkge1xyXG4gICAgLy8gaWYgdGhlIGxvdy1yZXMgdGltZXN0YW1wIHdoaWNoIGlzIGJpZ2dlciB0aGFuIHRoZSBldmVudCB0aW1lc3RhbXBcclxuICAgIC8vICh3aGljaCBpcyBldmFsdWF0ZWQgQUZURVIpIGl0IG1lYW5zIHRoZSBldmVudCBpcyB1c2luZyBhIGhpLXJlcyB0aW1lc3RhbXAsXHJcbiAgICAvLyBhbmQgd2UgbmVlZCB0byB1c2UgdGhlIGhpLXJlcyB2ZXJzaW9uIGZvciBldmVudCBsaXN0ZW5lcnMgYXMgd2VsbC5cclxuICAgIF9nZXROb3cgPSAoKSA9PiBwZXJmb3JtYW5jZS5ub3coKTtcclxufVxyXG4vLyBUbyBhdm9pZCB0aGUgb3ZlcmhlYWQgb2YgcmVwZWF0ZWRseSBjYWxsaW5nIHBlcmZvcm1hbmNlLm5vdygpLCB3ZSBjYWNoZVxyXG4vLyBhbmQgdXNlIHRoZSBzYW1lIHRpbWVzdGFtcCBmb3IgYWxsIGV2ZW50IGxpc3RlbmVycyBhdHRhY2hlZCBpbiB0aGUgc2FtZSB0aWNrLlxyXG5sZXQgY2FjaGVkTm93ID0gMDtcclxuY29uc3QgcCA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG5jb25zdCByZXNldCA9ICgpID0+IHtcclxuICAgIGNhY2hlZE5vdyA9IDA7XHJcbn07XHJcbmNvbnN0IGdldE5vdyA9ICgpID0+IGNhY2hlZE5vdyB8fCAocC50aGVuKHJlc2V0KSwgKGNhY2hlZE5vdyA9IF9nZXROb3coKSkpO1xyXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xyXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbCwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcclxuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xyXG59XHJcbmZ1bmN0aW9uIHBhdGNoRXZlbnQoZWwsIHJhd05hbWUsIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBpbnN0YW5jZSA9IG51bGwpIHtcclxuICAgIC8vIHZlaSA9IHZ1ZSBldmVudCBpbnZva2Vyc1xyXG4gICAgY29uc3QgaW52b2tlcnMgPSBlbC5fdmVpIHx8IChlbC5fdmVpID0ge30pO1xyXG4gICAgY29uc3QgZXhpc3RpbmdJbnZva2VyID0gaW52b2tlcnNbcmF3TmFtZV07XHJcbiAgICBpZiAobmV4dFZhbHVlICYmIGV4aXN0aW5nSW52b2tlcikge1xyXG4gICAgICAgIC8vIHBhdGNoXHJcbiAgICAgICAgZXhpc3RpbmdJbnZva2VyLnZhbHVlID0gbmV4dFZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgW25hbWUsIG9wdGlvbnNdID0gcGFyc2VOYW1lKHJhd05hbWUpO1xyXG4gICAgICAgIGlmIChuZXh0VmFsdWUpIHtcclxuICAgICAgICAgICAgLy8gYWRkXHJcbiAgICAgICAgICAgIGNvbnN0IGludm9rZXIgPSAoaW52b2tlcnNbcmF3TmFtZV0gPSBjcmVhdGVJbnZva2VyKG5leHRWYWx1ZSwgaW5zdGFuY2UpKTtcclxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgaW52b2tlciwgb3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGV4aXN0aW5nSW52b2tlcikge1xyXG4gICAgICAgICAgICAvLyByZW1vdmVcclxuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgZXhpc3RpbmdJbnZva2VyLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgaW52b2tlcnNbcmF3TmFtZV0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IG9wdGlvbnNNb2RpZmllclJFID0gLyg/Ok9uY2V8UGFzc2l2ZXxDYXB0dXJlKSQvO1xyXG5mdW5jdGlvbiBwYXJzZU5hbWUobmFtZSkge1xyXG4gICAgbGV0IG9wdGlvbnM7XHJcbiAgICBpZiAob3B0aW9uc01vZGlmaWVyUkUudGVzdChuYW1lKSkge1xyXG4gICAgICAgIG9wdGlvbnMgPSB7fTtcclxuICAgICAgICBsZXQgbTtcclxuICAgICAgICB3aGlsZSAoKG0gPSBuYW1lLm1hdGNoKG9wdGlvbnNNb2RpZmllclJFKSkpIHtcclxuICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMCwgbmFtZS5sZW5ndGggLSBtWzBdLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIG9wdGlvbnNbbVswXS50b0xvd2VyQ2FzZSgpXSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtuYW1lLnNsaWNlKDIpLnRvTG93ZXJDYXNlKCksIG9wdGlvbnNdO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUludm9rZXIoaW5pdGlhbFZhbHVlLCBpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgaW52b2tlciA9IChlKSA9PiB7XHJcbiAgICAgICAgLy8gYXN5bmMgZWRnZSBjYXNlICM2NTY2OiBpbm5lciBjbGljayBldmVudCB0cmlnZ2VycyBwYXRjaCwgZXZlbnQgaGFuZGxlclxyXG4gICAgICAgIC8vIGF0dGFjaGVkIHRvIG91dGVyIGVsZW1lbnQgZHVyaW5nIHBhdGNoLCBhbmQgdHJpZ2dlcmVkIGFnYWluLiBUaGlzXHJcbiAgICAgICAgLy8gaGFwcGVucyBiZWNhdXNlIGJyb3dzZXJzIGZpcmUgbWljcm90YXNrIHRpY2tzIGJldHdlZW4gZXZlbnQgcHJvcGFnYXRpb24uXHJcbiAgICAgICAgLy8gdGhlIHNvbHV0aW9uIGlzIHNpbXBsZTogd2Ugc2F2ZSB0aGUgdGltZXN0YW1wIHdoZW4gYSBoYW5kbGVyIGlzIGF0dGFjaGVkLFxyXG4gICAgICAgIC8vIGFuZCB0aGUgaGFuZGxlciB3b3VsZCBvbmx5IGZpcmUgaWYgdGhlIGV2ZW50IHBhc3NlZCB0byBpdCB3YXMgZmlyZWRcclxuICAgICAgICAvLyBBRlRFUiBpdCB3YXMgYXR0YWNoZWQuXHJcbiAgICAgICAgY29uc3QgdGltZVN0YW1wID0gZS50aW1lU3RhbXAgfHwgX2dldE5vdygpO1xyXG4gICAgICAgIGlmICh0aW1lU3RhbXAgPj0gaW52b2tlci5hdHRhY2hlZCAtIDEpIHtcclxuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcocGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgaW52b2tlci52YWx1ZSksIGluc3RhbmNlLCA1IC8qIE5BVElWRV9FVkVOVF9IQU5ETEVSICovLCBbZV0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpbnZva2VyLnZhbHVlID0gaW5pdGlhbFZhbHVlO1xyXG4gICAgaW52b2tlci5hdHRhY2hlZCA9IGdldE5vdygpO1xyXG4gICAgcmV0dXJuIGludm9rZXI7XHJcbn1cclxuZnVuY3Rpb24gcGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgdmFsdWUpIHtcclxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsU3RvcCA9IGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xyXG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBvcmlnaW5hbFN0b3AuY2FsbChlKTtcclxuICAgICAgICAgICAgZS5fc3RvcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdmFsdWUubWFwKGZuID0+IChlKSA9PiAhZS5fc3RvcHBlZCAmJiBmbihlKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgbmF0aXZlT25SRSA9IC9eb25bYS16XS87XHJcbmNvbnN0IGZvcmNlUGF0Y2hQcm9wID0gKF8sIGtleSkgPT4ga2V5ID09PSAndmFsdWUnO1xyXG5jb25zdCBwYXRjaFByb3AgPSAoZWwsIGtleSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIGlzU1ZHID0gZmFsc2UsIHByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKSA9PiB7XHJcbiAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgIC8vIHNwZWNpYWxcclxuICAgICAgICBjYXNlICdjbGFzcyc6XHJcbiAgICAgICAgICAgIHBhdGNoQ2xhc3MoZWwsIG5leHRWYWx1ZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdzdHlsZSc6XHJcbiAgICAgICAgICAgIHBhdGNoU3R5bGUoZWwsIHByZXZWYWx1ZSwgbmV4dFZhbHVlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgaWYgKGlzT24oa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaWdub3JlIHYtbW9kZWwgbGlzdGVuZXJzXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hFdmVudChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgcGFyZW50Q29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRykpIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoRE9NUHJvcChlbCwga2V5LCBuZXh0VmFsdWUsIHByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgPGlucHV0IHYtbW9kZWwgdHlwZT1cImNoZWNrYm94XCI+IHdpdGhcclxuICAgICAgICAgICAgICAgIC8vIDp0cnVlLXZhbHVlICYgOmZhbHNlLXZhbHVlXHJcbiAgICAgICAgICAgICAgICAvLyBzdG9yZSB2YWx1ZSBhcyBkb20gcHJvcGVydGllcyBzaW5jZSBub24tc3RyaW5nIHZhbHVlcyB3aWxsIGJlXHJcbiAgICAgICAgICAgICAgICAvLyBzdHJpbmdpZmllZC5cclxuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICd0cnVlLXZhbHVlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLl90cnVlVmFsdWUgPSBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdmYWxzZS12YWx1ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5fZmFsc2VWYWx1ZSA9IG5leHRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBhdGNoQXR0cihlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gc2hvdWxkU2V0QXNQcm9wKGVsLCBrZXksIHZhbHVlLCBpc1NWRykge1xyXG4gICAgaWYgKGlzU1ZHKSB7XHJcbiAgICAgICAgLy8gbW9zdCBrZXlzIG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZSBvbiBzdmcgZWxlbWVudHMgdG8gd29ya1xyXG4gICAgICAgIC8vIC4uLmV4Y2VwdCBpbm5lckhUTUxcclxuICAgICAgICBpZiAoa2V5ID09PSAnaW5uZXJIVE1MJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gb3IgbmF0aXZlIG9uY2xpY2sgd2l0aCBmdW5jdGlvbiB2YWx1ZXNcclxuICAgICAgICBpZiAoa2V5IGluIGVsICYmIG5hdGl2ZU9uUkUudGVzdChrZXkpICYmIGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBzcGVsbGNoZWNrIGFuZCBkcmFnZ2FibGUgYXJlIG51bWVyYXRlZCBhdHRycywgaG93ZXZlciB0aGVpclxyXG4gICAgLy8gY29ycmVzcG9uZGluZyBET00gcHJvcGVydGllcyBhcmUgYWN0dWFsbHkgYm9vbGVhbnMgLSB0aGlzIGxlYWRzIHRvXHJcbiAgICAvLyBzZXR0aW5nIGl0IHdpdGggYSBzdHJpbmcgXCJmYWxzZVwiIHZhbHVlIGxlYWRpbmcgaXQgdG8gYmUgY29lcmNlZCB0b1xyXG4gICAgLy8gYHRydWVgLCBzbyB3ZSBuZWVkIHRvIGFsd2F5cyB0cmVhdCB0aGVtIGFzIGF0dHJpYnV0ZXMuXHJcbiAgICAvLyBOb3RlIHRoYXQgYGNvbnRlbnRFZGl0YWJsZWAgZG9lc24ndCBoYXZlIHRoaXMgcHJvYmxlbTogaXRzIERPTVxyXG4gICAgLy8gcHJvcGVydHkgaXMgYWxzbyBlbnVtZXJhdGVkIHN0cmluZyB2YWx1ZXMuXHJcbiAgICBpZiAoa2V5ID09PSAnc3BlbGxjaGVjaycgfHwga2V5ID09PSAnZHJhZ2dhYmxlJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vICMxNzg3IGZvcm0gYXMgYW4gYXR0cmlidXRlIG11c3QgYmUgYSBzdHJpbmcsIHdoaWxlIGl0IGFjY2VwdHMgYW4gRWxlbWVudCBhc1xyXG4gICAgLy8gYSBwcm9wXHJcbiAgICBpZiAoa2V5ID09PSAnZm9ybScgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vICMxNTI2IDxpbnB1dCBsaXN0PiBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGVcclxuICAgIGlmIChrZXkgPT09ICdsaXN0JyAmJiBlbC50YWdOYW1lID09PSAnSU5QVVQnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gbmF0aXZlIG9uY2xpY2sgd2l0aCBzdHJpbmcgdmFsdWUsIG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZVxyXG4gICAgaWYgKG5hdGl2ZU9uUkUudGVzdChrZXkpICYmIGlzU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBrZXkgaW4gZWw7XHJcbn1cblxuZnVuY3Rpb24gdXNlQ3NzTW9kdWxlKG5hbWUgPSAnJHN0eWxlJykge1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgIHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oYHVzZUNzc01vZHVsZSBtdXN0IGJlIGNhbGxlZCBpbnNpZGUgc2V0dXAoKWApO1xyXG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfT0JKO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtb2R1bGVzID0gaW5zdGFuY2UudHlwZS5fX2Nzc01vZHVsZXM7XHJcbiAgICAgICAgaWYgKCFtb2R1bGVzKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZXMgaW5qZWN0ZWQuYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBFTVBUWV9PQko7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1vZCA9IG1vZHVsZXNbbmFtZV07XHJcbiAgICAgICAgaWYgKCFtb2QpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZSBuYW1lZCBcIiR7bmFtZX1cIi5gKTtcclxuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1vZDtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiB1c2VDc3NWYXJzKGdldHRlciwgc2NvcGVkID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICB3YXJuKGB1c2VDc3NWYXJzIGlzIGNhbGxlZCB3aXRob3V0IGN1cnJlbnQgYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZS5gKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBwcmVmaXggPSBzY29wZWQgJiYgaW5zdGFuY2UudHlwZS5fX3Njb3BlSWRcclxuICAgICAgICA/IGAke2luc3RhbmNlLnR5cGUuX19zY29wZUlkLnJlcGxhY2UoL15kYXRhLXYtLywgJycpfS1gXHJcbiAgICAgICAgOiBgYDtcclxuICAgIGNvbnN0IHNldFZhcnMgPSAoKSA9PiBzZXRWYXJzT25WTm9kZShpbnN0YW5jZS5zdWJUcmVlLCBnZXR0ZXIoaW5zdGFuY2UucHJveHkpLCBwcmVmaXgpO1xyXG4gICAgb25Nb3VudGVkKCgpID0+IHdhdGNoRWZmZWN0KHNldFZhcnMpKTtcclxuICAgIG9uVXBkYXRlZChzZXRWYXJzKTtcclxufVxyXG5mdW5jdGlvbiBzZXRWYXJzT25WTm9kZSh2bm9kZSwgdmFycywgcHJlZml4KSB7XHJcbiAgICBpZiAoIHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgIGNvbnN0IHN1c3BlbnNlID0gdm5vZGUuc3VzcGVuc2U7XHJcbiAgICAgICAgdm5vZGUgPSBzdXNwZW5zZS5hY3RpdmVCcmFuY2g7XHJcbiAgICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiYgIXN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMucHVzaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRWYXJzT25WTm9kZShzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIHZhcnMsIHByZWZpeCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGRyaWxsIGRvd24gSE9DcyB1bnRpbCBpdCdzIGEgbm9uLWNvbXBvbmVudCB2bm9kZVxyXG4gICAgd2hpbGUgKHZub2RlLmNvbXBvbmVudCkge1xyXG4gICAgICAgIHZub2RlID0gdm5vZGUuY29tcG9uZW50LnN1YlRyZWU7XHJcbiAgICB9XHJcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmIHZub2RlLmVsKSB7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB2bm9kZS5lbC5zdHlsZTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YXJzKSB7XHJcbiAgICAgICAgICAgIHN0eWxlLnNldFByb3BlcnR5KGAtLSR7cHJlZml4fSR7a2V5fWAsIHVucmVmKHZhcnNba2V5XSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IEZyYWdtZW50KSB7XHJcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaChjID0+IHNldFZhcnNPblZOb2RlKGMsIHZhcnMsIHByZWZpeCkpO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IFRSQU5TSVRJT04gPSAndHJhbnNpdGlvbic7XHJcbmNvbnN0IEFOSU1BVElPTiA9ICdhbmltYXRpb24nO1xyXG4vLyBET00gVHJhbnNpdGlvbiBpcyBhIGhpZ2hlci1vcmRlci1jb21wb25lbnQgYmFzZWQgb24gdGhlIHBsYXRmb3JtLWFnbm9zdGljXHJcbi8vIGJhc2UgVHJhbnNpdGlvbiBjb21wb25lbnQsIHdpdGggRE9NLXNwZWNpZmljIGxvZ2ljLlxyXG5jb25zdCBUcmFuc2l0aW9uID0gKHByb3BzLCB7IHNsb3RzIH0pID0+IGgoQmFzZVRyYW5zaXRpb24sIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocHJvcHMpLCBzbG90cyk7XHJcblRyYW5zaXRpb24uZGlzcGxheU5hbWUgPSAnVHJhbnNpdGlvbic7XHJcbmNvbnN0IERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSB7XHJcbiAgICBuYW1lOiBTdHJpbmcsXHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBjc3M6IHtcclxuICAgICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICAgIGRlZmF1bHQ6IHRydWVcclxuICAgIH0sXHJcbiAgICBkdXJhdGlvbjogW1N0cmluZywgTnVtYmVyLCBPYmplY3RdLFxyXG4gICAgZW50ZXJGcm9tQ2xhc3M6IFN0cmluZyxcclxuICAgIGVudGVyQWN0aXZlQ2xhc3M6IFN0cmluZyxcclxuICAgIGVudGVyVG9DbGFzczogU3RyaW5nLFxyXG4gICAgYXBwZWFyRnJvbUNsYXNzOiBTdHJpbmcsXHJcbiAgICBhcHBlYXJBY3RpdmVDbGFzczogU3RyaW5nLFxyXG4gICAgYXBwZWFyVG9DbGFzczogU3RyaW5nLFxyXG4gICAgbGVhdmVGcm9tQ2xhc3M6IFN0cmluZyxcclxuICAgIGxlYXZlQWN0aXZlQ2xhc3M6IFN0cmluZyxcclxuICAgIGxlYXZlVG9DbGFzczogU3RyaW5nXHJcbn07XHJcbmNvbnN0IFRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSAoVHJhbnNpdGlvbi5wcm9wcyA9IC8qI19fUFVSRV9fKi8gZXh0ZW5kKHt9LCBCYXNlVHJhbnNpdGlvbi5wcm9wcywgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycykpO1xyXG5mdW5jdGlvbiByZXNvbHZlVHJhbnNpdGlvblByb3BzKHJhd1Byb3BzKSB7XHJcbiAgICBsZXQgeyBuYW1lID0gJ3YnLCB0eXBlLCBjc3MgPSB0cnVlLCBkdXJhdGlvbiwgZW50ZXJGcm9tQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci1mcm9tYCwgZW50ZXJBY3RpdmVDbGFzcyA9IGAke25hbWV9LWVudGVyLWFjdGl2ZWAsIGVudGVyVG9DbGFzcyA9IGAke25hbWV9LWVudGVyLXRvYCwgYXBwZWFyRnJvbUNsYXNzID0gZW50ZXJGcm9tQ2xhc3MsIGFwcGVhckFjdGl2ZUNsYXNzID0gZW50ZXJBY3RpdmVDbGFzcywgYXBwZWFyVG9DbGFzcyA9IGVudGVyVG9DbGFzcywgbGVhdmVGcm9tQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS1mcm9tYCwgbGVhdmVBY3RpdmVDbGFzcyA9IGAke25hbWV9LWxlYXZlLWFjdGl2ZWAsIGxlYXZlVG9DbGFzcyA9IGAke25hbWV9LWxlYXZlLXRvYCB9ID0gcmF3UHJvcHM7XHJcbiAgICBjb25zdCBiYXNlUHJvcHMgPSB7fTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIHJhd1Byb3BzKSB7XHJcbiAgICAgICAgaWYgKCEoa2V5IGluIERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMpKSB7XHJcbiAgICAgICAgICAgIGJhc2VQcm9wc1trZXldID0gcmF3UHJvcHNba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWNzcykge1xyXG4gICAgICAgIHJldHVybiBiYXNlUHJvcHM7XHJcbiAgICB9XHJcbiAgICBjb25zdCBkdXJhdGlvbnMgPSBub3JtYWxpemVEdXJhdGlvbihkdXJhdGlvbik7XHJcbiAgICBjb25zdCBlbnRlckR1cmF0aW9uID0gZHVyYXRpb25zICYmIGR1cmF0aW9uc1swXTtcclxuICAgIGNvbnN0IGxlYXZlRHVyYXRpb24gPSBkdXJhdGlvbnMgJiYgZHVyYXRpb25zWzFdO1xyXG4gICAgY29uc3QgeyBvbkJlZm9yZUVudGVyLCBvbkVudGVyLCBvbkVudGVyQ2FuY2VsbGVkLCBvbkxlYXZlLCBvbkxlYXZlQ2FuY2VsbGVkLCBvbkJlZm9yZUFwcGVhciA9IG9uQmVmb3JlRW50ZXIsIG9uQXBwZWFyID0gb25FbnRlciwgb25BcHBlYXJDYW5jZWxsZWQgPSBvbkVudGVyQ2FuY2VsbGVkIH0gPSBiYXNlUHJvcHM7XHJcbiAgICBjb25zdCBmaW5pc2hFbnRlciA9IChlbCwgaXNBcHBlYXIsIGRvbmUpID0+IHtcclxuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyVG9DbGFzcyA6IGVudGVyVG9DbGFzcyk7XHJcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhckFjdGl2ZUNsYXNzIDogZW50ZXJBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgZG9uZSAmJiBkb25lKCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZmluaXNoTGVhdmUgPSAoZWwsIGRvbmUpID0+IHtcclxuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XHJcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICBkb25lICYmIGRvbmUoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBtYWtlRW50ZXJIb29rID0gKGlzQXBwZWFyKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIChlbCwgZG9uZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBob29rID0gaXNBcHBlYXIgPyBvbkFwcGVhciA6IG9uRW50ZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmUgPSAoKSA9PiBmaW5pc2hFbnRlcihlbCwgaXNBcHBlYXIsIGRvbmUpO1xyXG4gICAgICAgICAgICBob29rICYmIGhvb2soZWwsIHJlc29sdmUpO1xyXG4gICAgICAgICAgICBuZXh0RnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhckZyb21DbGFzcyA6IGVudGVyRnJvbUNsYXNzKTtcclxuICAgICAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJUb0NsYXNzIDogZW50ZXJUb0NsYXNzKTtcclxuICAgICAgICAgICAgICAgIGlmICghKGhvb2sgJiYgaG9vay5sZW5ndGggPiAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRlckR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgZW50ZXJEdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIHJlc29sdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZXh0ZW5kKGJhc2VQcm9wcywge1xyXG4gICAgICAgIG9uQmVmb3JlRW50ZXIoZWwpIHtcclxuICAgICAgICAgICAgb25CZWZvcmVFbnRlciAmJiBvbkJlZm9yZUVudGVyKGVsKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckZyb21DbGFzcyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkJlZm9yZUFwcGVhcihlbCkge1xyXG4gICAgICAgICAgICBvbkJlZm9yZUFwcGVhciAmJiBvbkJlZm9yZUFwcGVhcihlbCk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYXBwZWFyQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFwcGVhckZyb21DbGFzcyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkVudGVyOiBtYWtlRW50ZXJIb29rKGZhbHNlKSxcclxuICAgICAgICBvbkFwcGVhcjogbWFrZUVudGVySG9vayh0cnVlKSxcclxuICAgICAgICBvbkxlYXZlKGVsLCBkb25lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmUgPSAoKSA9PiBmaW5pc2hMZWF2ZShlbCwgZG9uZSk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xyXG4gICAgICAgICAgICBuZXh0RnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShvbkxlYXZlICYmIG9uTGVhdmUubGVuZ3RoID4gMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGVhdmVEdXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIGxlYXZlRHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCByZXNvbHZlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBvbkxlYXZlICYmIG9uTGVhdmUoZWwsIHJlc29sdmUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25FbnRlckNhbmNlbGxlZChlbCkge1xyXG4gICAgICAgICAgICBmaW5pc2hFbnRlcihlbCwgZmFsc2UpO1xyXG4gICAgICAgICAgICBvbkVudGVyQ2FuY2VsbGVkICYmIG9uRW50ZXJDYW5jZWxsZWQoZWwpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25BcHBlYXJDYW5jZWxsZWQoZWwpIHtcclxuICAgICAgICAgICAgZmluaXNoRW50ZXIoZWwsIHRydWUpO1xyXG4gICAgICAgICAgICBvbkFwcGVhckNhbmNlbGxlZCAmJiBvbkFwcGVhckNhbmNlbGxlZChlbCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkxlYXZlQ2FuY2VsbGVkKGVsKSB7XHJcbiAgICAgICAgICAgIGZpbmlzaExlYXZlKGVsKTtcclxuICAgICAgICAgICAgb25MZWF2ZUNhbmNlbGxlZCAmJiBvbkxlYXZlQ2FuY2VsbGVkKGVsKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVEdXJhdGlvbihkdXJhdGlvbikge1xyXG4gICAgaWYgKGR1cmF0aW9uID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KGR1cmF0aW9uKSkge1xyXG4gICAgICAgIHJldHVybiBbTnVtYmVyT2YoZHVyYXRpb24uZW50ZXIpLCBOdW1iZXJPZihkdXJhdGlvbi5sZWF2ZSldO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgbiA9IE51bWJlck9mKGR1cmF0aW9uKTtcclxuICAgICAgICByZXR1cm4gW24sIG5dO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIE51bWJlck9mKHZhbCkge1xyXG4gICAgY29uc3QgcmVzID0gdG9OdW1iZXIodmFsKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpXHJcbiAgICAgICAgdmFsaWRhdGVEdXJhdGlvbihyZXMpO1xyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5mdW5jdGlvbiB2YWxpZGF0ZUR1cmF0aW9uKHZhbCkge1xyXG4gICAgaWYgKHR5cGVvZiB2YWwgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgd2FybihgPHRyYW5zaXRpb24+IGV4cGxpY2l0IGR1cmF0aW9uIGlzIG5vdCBhIHZhbGlkIG51bWJlciAtIGAgK1xyXG4gICAgICAgICAgICBgZ290ICR7SlNPTi5zdHJpbmdpZnkodmFsKX0uYCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc05hTih2YWwpKSB7XHJcbiAgICAgICAgd2FybihgPHRyYW5zaXRpb24+IGV4cGxpY2l0IGR1cmF0aW9uIGlzIE5hTiAtIGAgK1xyXG4gICAgICAgICAgICAndGhlIGR1cmF0aW9uIGV4cHJlc3Npb24gbWlnaHQgYmUgaW5jb3JyZWN0LicpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgY2xzKSB7XHJcbiAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBlbC5jbGFzc0xpc3QuYWRkKGMpKTtcclxuICAgIChlbC5fdnRjIHx8XHJcbiAgICAgICAgKGVsLl92dGMgPSBuZXcgU2V0KCkpKS5hZGQoY2xzKTtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xyXG4gICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgZWwuY2xhc3NMaXN0LnJlbW92ZShjKSk7XHJcbiAgICBjb25zdCB7IF92dGMgfSA9IGVsO1xyXG4gICAgaWYgKF92dGMpIHtcclxuICAgICAgICBfdnRjLmRlbGV0ZShjbHMpO1xyXG4gICAgICAgIGlmICghX3Z0Yy5zaXplKSB7XHJcbiAgICAgICAgICAgIGVsLl92dGMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG5leHRGcmFtZShjYikge1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzKGVsLCBleHBlY3RlZFR5cGUsIGNiKSB7XHJcbiAgICBjb25zdCB7IHR5cGUsIHRpbWVvdXQsIHByb3BDb3VudCB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XHJcbiAgICBpZiAoIXR5cGUpIHtcclxuICAgICAgICByZXR1cm4gY2IoKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGVuZEV2ZW50ID0gdHlwZSArICdlbmQnO1xyXG4gICAgbGV0IGVuZGVkID0gMDtcclxuICAgIGNvbnN0IGVuZCA9ICgpID0+IHtcclxuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XHJcbiAgICAgICAgY2IoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBvbkVuZCA9IChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBlbCkge1xyXG4gICAgICAgICAgICBpZiAoKytlbmRlZCA+PSBwcm9wQ291bnQpIHtcclxuICAgICAgICAgICAgICAgIGVuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGlmIChlbmRlZCA8IHByb3BDb3VudCkge1xyXG4gICAgICAgICAgICBlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB0aW1lb3V0ICsgMSk7XHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSkge1xyXG4gICAgY29uc3Qgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xyXG4gICAgLy8gSlNET00gbWF5IHJldHVybiB1bmRlZmluZWQgZm9yIHRyYW5zaXRpb24gcHJvcGVydGllc1xyXG4gICAgY29uc3QgZ2V0U3R5bGVQcm9wZXJ0aWVzID0gKGtleSkgPT4gKHN0eWxlc1trZXldIHx8ICcnKS5zcGxpdCgnLCAnKTtcclxuICAgIGNvbnN0IHRyYW5zaXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoVFJBTlNJVElPTiArICdEZWxheScpO1xyXG4gICAgY29uc3QgdHJhbnNpdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhUUkFOU0lUSU9OICsgJ0R1cmF0aW9uJyk7XHJcbiAgICBjb25zdCB0cmFuc2l0aW9uVGltZW91dCA9IGdldFRpbWVvdXQodHJhbnNpdGlvbkRlbGF5cywgdHJhbnNpdGlvbkR1cmF0aW9ucyk7XHJcbiAgICBjb25zdCBhbmltYXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoQU5JTUFUSU9OICsgJ0RlbGF5Jyk7XHJcbiAgICBjb25zdCBhbmltYXRpb25EdXJhdGlvbnMgPSBnZXRTdHlsZVByb3BlcnRpZXMoQU5JTUFUSU9OICsgJ0R1cmF0aW9uJyk7XHJcbiAgICBjb25zdCBhbmltYXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dChhbmltYXRpb25EZWxheXMsIGFuaW1hdGlvbkR1cmF0aW9ucyk7XHJcbiAgICBsZXQgdHlwZSA9IG51bGw7XHJcbiAgICBsZXQgdGltZW91dCA9IDA7XHJcbiAgICBsZXQgcHJvcENvdW50ID0gMDtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gVFJBTlNJVElPTikge1xyXG4gICAgICAgIGlmICh0cmFuc2l0aW9uVGltZW91dCA+IDApIHtcclxuICAgICAgICAgICAgdHlwZSA9IFRSQU5TSVRJT047XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcclxuICAgICAgICAgICAgcHJvcENvdW50ID0gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBBTklNQVRJT04pIHtcclxuICAgICAgICBpZiAoYW5pbWF0aW9uVGltZW91dCA+IDApIHtcclxuICAgICAgICAgICAgdHlwZSA9IEFOSU1BVElPTjtcclxuICAgICAgICAgICAgdGltZW91dCA9IGFuaW1hdGlvblRpbWVvdXQ7XHJcbiAgICAgICAgICAgIHByb3BDb3VudCA9IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTtcclxuICAgICAgICB0eXBlID1cclxuICAgICAgICAgICAgdGltZW91dCA+IDBcclxuICAgICAgICAgICAgICAgID8gdHJhbnNpdGlvblRpbWVvdXQgPiBhbmltYXRpb25UaW1lb3V0XHJcbiAgICAgICAgICAgICAgICAgICAgPyBUUkFOU0lUSU9OXHJcbiAgICAgICAgICAgICAgICAgICAgOiBBTklNQVRJT05cclxuICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICBwcm9wQ291bnQgPSB0eXBlXHJcbiAgICAgICAgICAgID8gdHlwZSA9PT0gVFJBTlNJVElPTlxyXG4gICAgICAgICAgICAgICAgPyB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgOiBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoXHJcbiAgICAgICAgICAgIDogMDtcclxuICAgIH1cclxuICAgIGNvbnN0IGhhc1RyYW5zZm9ybSA9IHR5cGUgPT09IFRSQU5TSVRJT04gJiZcclxuICAgICAgICAvXFxiKHRyYW5zZm9ybXxhbGwpKCx8JCkvLnRlc3Qoc3R5bGVzW1RSQU5TSVRJT04gKyAnUHJvcGVydHknXSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgdGltZW91dCxcclxuICAgICAgICBwcm9wQ291bnQsXHJcbiAgICAgICAgaGFzVHJhbnNmb3JtXHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGdldFRpbWVvdXQoZGVsYXlzLCBkdXJhdGlvbnMpIHtcclxuICAgIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkge1xyXG4gICAgICAgIGRlbGF5cyA9IGRlbGF5cy5jb25jYXQoZGVsYXlzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBNYXRoLm1heCguLi5kdXJhdGlvbnMubWFwKChkLCBpKSA9PiB0b01zKGQpICsgdG9NcyhkZWxheXNbaV0pKSk7XHJcbn1cclxuLy8gT2xkIHZlcnNpb25zIG9mIENocm9taXVtIChiZWxvdyA2MS4wLjMxNjMuMTAwKSBmb3JtYXRzIGZsb2F0aW5nIHBvaW50ZXJcclxuLy8gbnVtYmVycyBpbiBhIGxvY2FsZS1kZXBlbmRlbnQgd2F5LCB1c2luZyBhIGNvbW1hIGluc3RlYWQgb2YgYSBkb3QuXHJcbi8vIElmIGNvbW1hIGlzIG5vdCByZXBsYWNlZCB3aXRoIGEgZG90LCB0aGUgaW5wdXQgd2lsbCBiZSByb3VuZGVkIGRvd25cclxuLy8gKGkuZS4gYWN0aW5nIGFzIGEgZmxvb3IgZnVuY3Rpb24pIGNhdXNpbmcgdW5leHBlY3RlZCBiZWhhdmlvcnNcclxuZnVuY3Rpb24gdG9NcyhzKSB7XHJcbiAgICByZXR1cm4gTnVtYmVyKHMuc2xpY2UoMCwgLTEpLnJlcGxhY2UoJywnLCAnLicpKSAqIDEwMDA7XHJcbn1cblxuZnVuY3Rpb24gdG9SYXcob2JzZXJ2ZWQpIHtcclxuICAgIHJldHVybiAoKG9ic2VydmVkICYmIHRvUmF3KG9ic2VydmVkW1wiX192X3Jhd1wiIC8qIFJBVyAqL10pKSB8fCBvYnNlcnZlZCk7XHJcbn1cblxuY29uc3QgcG9zaXRpb25NYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCBuZXdQb3NpdGlvbk1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmNvbnN0IFRyYW5zaXRpb25Hcm91cEltcGwgPSB7XHJcbiAgICBuYW1lOiAnVHJhbnNpdGlvbkdyb3VwJyxcclxuICAgIHByb3BzOiAvKiNfX1BVUkVfXyovIGV4dGVuZCh7fSwgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywge1xyXG4gICAgICAgIHRhZzogU3RyaW5nLFxyXG4gICAgICAgIG1vdmVDbGFzczogU3RyaW5nXHJcbiAgICB9KSxcclxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XHJcbiAgICAgICAgbGV0IHByZXZDaGlsZHJlbjtcclxuICAgICAgICBsZXQgY2hpbGRyZW47XHJcbiAgICAgICAgb25VcGRhdGVkKCgpID0+IHtcclxuICAgICAgICAgICAgLy8gY2hpbGRyZW4gaXMgZ3VhcmFudGVlZCB0byBleGlzdCBhZnRlciBpbml0aWFsIHJlbmRlclxyXG4gICAgICAgICAgICBpZiAoIXByZXZDaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBtb3ZlQ2xhc3MgPSBwcm9wcy5tb3ZlQ2xhc3MgfHwgYCR7cHJvcHMubmFtZSB8fCAndid9LW1vdmVgO1xyXG4gICAgICAgICAgICBpZiAoIWhhc0NTU1RyYW5zZm9ybShwcmV2Q2hpbGRyZW5bMF0uZWwsIGluc3RhbmNlLnZub2RlLmVsLCBtb3ZlQ2xhc3MpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gd2UgZGl2aWRlIHRoZSB3b3JrIGludG8gdGhyZWUgbG9vcHMgdG8gYXZvaWQgbWl4aW5nIERPTSByZWFkcyBhbmQgd3JpdGVzXHJcbiAgICAgICAgICAgIC8vIGluIGVhY2ggaXRlcmF0aW9uIC0gd2hpY2ggaGVscHMgcHJldmVudCBsYXlvdXQgdGhyYXNoaW5nLlxyXG4gICAgICAgICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChjYWxsUGVuZGluZ0Nicyk7XHJcbiAgICAgICAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKHJlY29yZFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgY29uc3QgbW92ZWRDaGlsZHJlbiA9IHByZXZDaGlsZHJlbi5maWx0ZXIoYXBwbHlUcmFuc2xhdGlvbik7XHJcbiAgICAgICAgICAgIC8vIGZvcmNlIHJlZmxvdyB0byBwdXQgZXZlcnl0aGluZyBpbiBwb3NpdGlvblxyXG4gICAgICAgICAgICBmb3JjZVJlZmxvdygpO1xyXG4gICAgICAgICAgICBtb3ZlZENoaWxkcmVuLmZvckVhY2goYyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGMuZWw7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xyXG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgc3R5bGUudHJhbnNmb3JtID0gc3R5bGUud2Via2l0VHJhbnNmb3JtID0gc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJyc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjYiA9IChlbC5fbW92ZUNiID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWUgfHwgL3RyYW5zZm9ybSQvLnRlc3QoZS5wcm9wZXJ0eU5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBjYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9tb3ZlQ2IgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgY2IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByYXdQcm9wcyA9IHRvUmF3KHByb3BzKTtcclxuICAgICAgICAgICAgY29uc3QgY3NzVHJhbnNpdGlvblByb3BzID0gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJhd1Byb3BzLnRhZyB8fCBGcmFnbWVudDtcclxuICAgICAgICAgICAgcHJldkNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCA/IGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihzbG90cy5kZWZhdWx0KCkpIDogW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQua2V5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoY2hpbGQsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MoY2hpbGQsIGNzc1RyYW5zaXRpb25Qcm9wcywgc3RhdGUsIGluc3RhbmNlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGA8VHJhbnNpdGlvbkdyb3VwPiBjaGlsZHJlbiBtdXN0IGJlIGtleWVkLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwcmV2Q2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJldkNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBwcmV2Q2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGNoaWxkLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKGNoaWxkLCBjc3NUcmFuc2l0aW9uUHJvcHMsIHN0YXRlLCBpbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uTWFwLnNldChjaGlsZCwgY2hpbGQuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0YWcsIG51bGwsIGNoaWxkcmVuKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59O1xyXG5jb25zdCBUcmFuc2l0aW9uR3JvdXAgPSBUcmFuc2l0aW9uR3JvdXBJbXBsO1xyXG5mdW5jdGlvbiBjYWxsUGVuZGluZ0NicyhjKSB7XHJcbiAgICBjb25zdCBlbCA9IGMuZWw7XHJcbiAgICBpZiAoZWwuX21vdmVDYikge1xyXG4gICAgICAgIGVsLl9tb3ZlQ2IoKTtcclxuICAgIH1cclxuICAgIGlmIChlbC5fZW50ZXJDYikge1xyXG4gICAgICAgIGVsLl9lbnRlckNiKCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVjb3JkUG9zaXRpb24oYykge1xyXG4gICAgbmV3UG9zaXRpb25NYXAuc2V0KGMsIGMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xyXG59XHJcbmZ1bmN0aW9uIGFwcGx5VHJhbnNsYXRpb24oYykge1xyXG4gICAgY29uc3Qgb2xkUG9zID0gcG9zaXRpb25NYXAuZ2V0KGMpO1xyXG4gICAgY29uc3QgbmV3UG9zID0gbmV3UG9zaXRpb25NYXAuZ2V0KGMpO1xyXG4gICAgY29uc3QgZHggPSBvbGRQb3MubGVmdCAtIG5ld1Bvcy5sZWZ0O1xyXG4gICAgY29uc3QgZHkgPSBvbGRQb3MudG9wIC0gbmV3UG9zLnRvcDtcclxuICAgIGlmIChkeCB8fCBkeSkge1xyXG4gICAgICAgIGNvbnN0IHMgPSBjLmVsLnN0eWxlO1xyXG4gICAgICAgIHMudHJhbnNmb3JtID0gcy53ZWJraXRUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7ZHh9cHgsJHtkeX1weClgO1xyXG4gICAgICAgIHMudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBzJztcclxuICAgICAgICByZXR1cm4gYztcclxuICAgIH1cclxufVxyXG4vLyB0aGlzIGlzIHB1dCBpbiBhIGRlZGljYXRlZCBmdW5jdGlvbiB0byBhdm9pZCB0aGUgbGluZSBmcm9tIGJlaW5nIHRyZWVzaGFrZW5cclxuZnVuY3Rpb24gZm9yY2VSZWZsb3coKSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7XHJcbn1cclxuZnVuY3Rpb24gaGFzQ1NTVHJhbnNmb3JtKGVsLCByb290LCBtb3ZlQ2xhc3MpIHtcclxuICAgIC8vIERldGVjdCB3aGV0aGVyIGFuIGVsZW1lbnQgd2l0aCB0aGUgbW92ZSBjbGFzcyBhcHBsaWVkIGhhc1xyXG4gICAgLy8gQ1NTIHRyYW5zaXRpb25zLiBTaW5jZSB0aGUgZWxlbWVudCBtYXkgYmUgaW5zaWRlIGFuIGVudGVyaW5nXHJcbiAgICAvLyB0cmFuc2l0aW9uIGF0IHRoaXMgdmVyeSBtb21lbnQsIHdlIG1ha2UgYSBjbG9uZSBvZiBpdCBhbmQgcmVtb3ZlXHJcbiAgICAvLyBhbGwgb3RoZXIgdHJhbnNpdGlvbiBjbGFzc2VzIGFwcGxpZWQgdG8gZW5zdXJlIG9ubHkgdGhlIG1vdmUgY2xhc3NcclxuICAgIC8vIGlzIGFwcGxpZWQuXHJcbiAgICBjb25zdCBjbG9uZSA9IGVsLmNsb25lTm9kZSgpO1xyXG4gICAgaWYgKGVsLl92dGMpIHtcclxuICAgICAgICBlbC5fdnRjLmZvckVhY2goY2xzID0+IHtcclxuICAgICAgICAgICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LnJlbW92ZShjKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBtb3ZlQ2xhc3Muc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBjbG9uZS5jbGFzc0xpc3QuYWRkKGMpKTtcclxuICAgIGNsb25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSAocm9vdC5ub2RlVHlwZSA9PT0gMVxyXG4gICAgICAgID8gcm9vdFxyXG4gICAgICAgIDogcm9vdC5wYXJlbnROb2RlKTtcclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XHJcbiAgICBjb25zdCB7IGhhc1RyYW5zZm9ybSB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oY2xvbmUpO1xyXG4gICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNsb25lKTtcclxuICAgIHJldHVybiBoYXNUcmFuc2Zvcm07XHJcbn1cblxuY29uc3QgZ2V0TW9kZWxBc3NpZ25lciA9ICh2bm9kZSkgPT4ge1xyXG4gICAgY29uc3QgZm4gPSB2bm9kZS5wcm9wc1snb25VcGRhdGU6bW9kZWxWYWx1ZSddO1xyXG4gICAgcmV0dXJuIGlzQXJyYXkoZm4pID8gdmFsdWUgPT4gaW52b2tlQXJyYXlGbnMoZm4sIHZhbHVlKSA6IGZuO1xyXG59O1xyXG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uU3RhcnQoZSkge1xyXG4gICAgZS50YXJnZXQuY29tcG9zaW5nID0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kKGUpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xyXG4gICAgaWYgKHRhcmdldC5jb21wb3NpbmcpIHtcclxuICAgICAgICB0YXJnZXQuY29tcG9zaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsICdpbnB1dCcpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHRyaWdnZXIoZWwsIHR5cGUpIHtcclxuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xyXG4gICAgZS5pbml0RXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICBlbC5kaXNwYXRjaEV2ZW50KGUpO1xyXG59XHJcbi8vIFdlIGFyZSBleHBvcnRpbmcgdGhlIHYtbW9kZWwgcnVudGltZSBkaXJlY3RseSBhcyB2bm9kZSBob29rcyBzbyB0aGF0IGl0IGNhblxyXG4vLyBiZSB0cmVlLXNoYWtlbiBpbiBjYXNlIHYtbW9kZWwgaXMgbmV2ZXIgdXNlZC5cclxuY29uc3Qgdk1vZGVsVGV4dCA9IHtcclxuICAgIGNyZWF0ZWQoZWwsIHsgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgICAgIGNvbnN0IGNhc3RUb051bWJlciA9IG51bWJlciB8fCBlbC50eXBlID09PSAnbnVtYmVyJztcclxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBsYXp5ID8gJ2NoYW5nZScgOiAnaW5wdXQnLCBlID0+IHtcclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNvbXBvc2luZylcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgbGV0IGRvbVZhbHVlID0gZWwudmFsdWU7XHJcbiAgICAgICAgICAgIGlmICh0cmltKSB7XHJcbiAgICAgICAgICAgICAgICBkb21WYWx1ZSA9IGRvbVZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjYXN0VG9OdW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIGRvbVZhbHVlID0gdG9OdW1iZXIoZG9tVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsLl9hc3NpZ24oZG9tVmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0cmltKSB7XHJcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbC52YWx1ZSA9IGVsLnZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbGF6eSkge1xyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY29tcG9zaXRpb25zdGFydCcsIG9uQ29tcG9zaXRpb25TdGFydCk7XHJcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjb21wb3NpdGlvbmVuZCcsIG9uQ29tcG9zaXRpb25FbmQpO1xyXG4gICAgICAgICAgICAvLyBTYWZhcmkgPCAxMC4yICYgVUlXZWJWaWV3IGRvZXNuJ3QgZmlyZSBjb21wb3NpdGlvbmVuZCB3aGVuXHJcbiAgICAgICAgICAgIC8vIHN3aXRjaGluZyBmb2N1cyBiZWZvcmUgY29uZmlybWluZyBjb21wb3NpdGlvbiBjaG9pY2VcclxuICAgICAgICAgICAgLy8gdGhpcyBhbHNvIGZpeGVzIHRoZSBpc3N1ZSB3aGVyZSBzb21lIGJyb3dzZXJzIGUuZy4gaU9TIENocm9tZVxyXG4gICAgICAgICAgICAvLyBmaXJlcyBcImNoYW5nZVwiIGluc3RlYWQgb2YgXCJpbnB1dFwiIG9uIGF1dG9jb21wbGV0ZS5cclxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsIG9uQ29tcG9zaXRpb25FbmQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvLyBzZXQgdmFsdWUgb24gbW91bnRlZCBzbyBpdCdzIGFmdGVyIG1pbi9tYXggZm9yIHR5cGU9XCJyYW5nZVwiXHJcbiAgICBtb3VudGVkKGVsLCB7IHZhbHVlIH0pIHtcclxuICAgICAgICBlbC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgfSxcclxuICAgIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgbW9kaWZpZXJzOiB7IHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgICAgIC8vIGF2b2lkIGNsZWFyaW5nIHVucmVzb2x2ZWQgdGV4dC4gIzIzMDJcclxuICAgICAgICBpZiAoZWwuY29tcG9zaW5nKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVsKSB7XHJcbiAgICAgICAgICAgIGlmICh0cmltICYmIGVsLnZhbHVlLnRyaW0oKSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKG51bWJlciB8fCBlbC50eXBlID09PSAnbnVtYmVyJykgJiYgdG9OdW1iZXIoZWwudmFsdWUpID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XHJcbiAgICAgICAgaWYgKGVsLnZhbHVlICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuY29uc3Qgdk1vZGVsQ2hlY2tib3ggPSB7XHJcbiAgICBjcmVhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xyXG4gICAgICAgIHNldENoZWNrZWQoZWwsIGJpbmRpbmcsIHZub2RlKTtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbW9kZWxWYWx1ZSA9IGVsLl9tb2RlbFZhbHVlO1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50VmFsdWUgPSBnZXRWYWx1ZShlbCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBlbC5jaGVja2VkO1xyXG4gICAgICAgICAgICBjb25zdCBhc3NpZ24gPSBlbC5fYXNzaWduO1xyXG4gICAgICAgICAgICBpZiAoaXNBcnJheShtb2RlbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBsb29zZUluZGV4T2YobW9kZWxWYWx1ZSwgZWxlbWVudFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gaW5kZXggIT09IC0xO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQgJiYgIWZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduKG1vZGVsVmFsdWUuY29uY2F0KGVsZW1lbnRWYWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNoZWNrZWQgJiYgZm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFsuLi5tb2RlbFZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2lnbihmaWx0ZXJlZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNTZXQobW9kZWxWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxWYWx1ZS5hZGQoZWxlbWVudFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsVmFsdWUuZGVsZXRlKGVsZW1lbnRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhc3NpZ24oZ2V0Q2hlY2tib3hWYWx1ZShlbCwgY2hlY2tlZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICBzZXRDaGVja2VkKGVsLCBiaW5kaW5nLCB2bm9kZSk7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIHNldENoZWNrZWQoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XHJcbiAgICBlbC5fbW9kZWxWYWx1ZSA9IHZhbHVlO1xyXG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpID4gLTE7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1NldCh2YWx1ZSkpIHtcclxuICAgICAgICBlbC5jaGVja2VkID0gdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkge1xyXG4gICAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCBnZXRDaGVja2JveFZhbHVlKGVsLCB0cnVlKSk7XHJcbiAgICB9XHJcbn1cclxuY29uc3Qgdk1vZGVsUmFkaW8gPSB7XHJcbiAgICBjcmVhdGVkKGVsLCB7IHZhbHVlIH0sIHZub2RlKSB7XHJcbiAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgICAgZWwuX2Fzc2lnbihnZXRWYWx1ZShlbCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuY29uc3Qgdk1vZGVsU2VsZWN0ID0ge1xyXG4gICAgY3JlYXRlZChlbCwgeyBtb2RpZmllcnM6IHsgbnVtYmVyIH0gfSwgdm5vZGUpIHtcclxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZFZhbCA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXJcclxuICAgICAgICAgICAgICAgIC5jYWxsKGVsLm9wdGlvbnMsIChvKSA9PiBvLnNlbGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgLm1hcCgobykgPT4gbnVtYmVyID8gdG9OdW1iZXIoZ2V0VmFsdWUobykpIDogZ2V0VmFsdWUobykpO1xyXG4gICAgICAgICAgICBlbC5fYXNzaWduKGVsLm11bHRpcGxlID8gc2VsZWN0ZWRWYWwgOiBzZWxlY3RlZFZhbFswXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgfSxcclxuICAgIC8vIHNldCB2YWx1ZSBpbiBtb3VudGVkICYgdXBkYXRlZCBiZWNhdXNlIDxzZWxlY3Q+IHJlbGllcyBvbiBpdHMgY2hpbGRyZW5cclxuICAgIC8vIDxvcHRpb24+cy5cclxuICAgIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xyXG4gICAgICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSk7XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlVXBkYXRlKGVsLCBfYmluZGluZywgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZChlbCwgeyB2YWx1ZSB9KSB7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKSB7XHJcbiAgICBjb25zdCBpc011bHRpcGxlID0gZWwubXVsdGlwbGU7XHJcbiAgICBpZiAoaXNNdWx0aXBsZSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgIWlzU2V0KHZhbHVlKSkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICB3YXJuKGA8c2VsZWN0IG11bHRpcGxlIHYtbW9kZWw+IGV4cGVjdHMgYW4gQXJyYXkgb3IgU2V0IHZhbHVlIGZvciBpdHMgYmluZGluZywgYCArXHJcbiAgICAgICAgICAgICAgICBgYnV0IGdvdCAke09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpfS5gKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcclxuICAgICAgICBjb25zdCBvcHRpb25WYWx1ZSA9IGdldFZhbHVlKG9wdGlvbik7XHJcbiAgICAgICAgaWYgKGlzTXVsdGlwbGUpIHtcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIG9wdGlvblZhbHVlKSA+IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdmFsdWUuaGFzKG9wdGlvblZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uKSwgdmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaXNNdWx0aXBsZSkge1xyXG4gICAgICAgIGVsLnNlbGVjdGVkSW5kZXggPSAtMTtcclxuICAgIH1cclxufVxyXG4vLyByZXRyaWV2ZSByYXcgdmFsdWUgc2V0IHZpYSA6dmFsdWUgYmluZGluZ3NcclxuZnVuY3Rpb24gZ2V0VmFsdWUoZWwpIHtcclxuICAgIHJldHVybiAnX3ZhbHVlJyBpbiBlbCA/IGVsLl92YWx1ZSA6IGVsLnZhbHVlO1xyXG59XHJcbi8vIHJldHJpZXZlIHJhdyB2YWx1ZSBmb3IgdHJ1ZS12YWx1ZSBhbmQgZmFsc2UtdmFsdWUgc2V0IHZpYSA6dHJ1ZS12YWx1ZSBvciA6ZmFsc2UtdmFsdWUgYmluZGluZ3NcclxuZnVuY3Rpb24gZ2V0Q2hlY2tib3hWYWx1ZShlbCwgY2hlY2tlZCkge1xyXG4gICAgY29uc3Qga2V5ID0gY2hlY2tlZCA/ICdfdHJ1ZVZhbHVlJyA6ICdfZmFsc2VWYWx1ZSc7XHJcbiAgICByZXR1cm4ga2V5IGluIGVsID8gZWxba2V5XSA6IGNoZWNrZWQ7XHJcbn1cclxuY29uc3Qgdk1vZGVsRHluYW1pYyA9IHtcclxuICAgIGNyZWF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XHJcbiAgICAgICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsICdjcmVhdGVkJyk7XHJcbiAgICB9LFxyXG4gICAgbW91bnRlZChlbCwgYmluZGluZywgdm5vZGUpIHtcclxuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgbnVsbCwgJ21vdW50ZWQnKTtcclxuICAgIH0sXHJcbiAgICBiZWZvcmVVcGRhdGUoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcclxuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCAnYmVmb3JlVXBkYXRlJyk7XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZChlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSkge1xyXG4gICAgICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsICd1cGRhdGVkJyk7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsIGhvb2spIHtcclxuICAgIGxldCBtb2RlbFRvVXNlO1xyXG4gICAgc3dpdGNoIChlbC50YWdOYW1lKSB7XHJcbiAgICAgICAgY2FzZSAnU0VMRUNUJzpcclxuICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbFNlbGVjdDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnVEVYVEFSRUEnOlxyXG4gICAgICAgICAgICBtb2RlbFRvVXNlID0gdk1vZGVsVGV4dDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgc3dpdGNoICh2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbENoZWNrYm94O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmFkaW8nOlxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsVG9Vc2UgPSB2TW9kZWxSYWRpbztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbFRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGZuID0gbW9kZWxUb1VzZVtob29rXTtcclxuICAgIGZuICYmIGZuKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKTtcclxufVxuXG5jb25zdCBzeXN0ZW1Nb2RpZmllcnMgPSBbJ2N0cmwnLCAnc2hpZnQnLCAnYWx0JywgJ21ldGEnXTtcclxuY29uc3QgbW9kaWZpZXJHdWFyZHMgPSB7XHJcbiAgICBzdG9wOiBlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksXHJcbiAgICBwcmV2ZW50OiBlID0+IGUucHJldmVudERlZmF1bHQoKSxcclxuICAgIHNlbGY6IGUgPT4gZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCxcclxuICAgIGN0cmw6IGUgPT4gIWUuY3RybEtleSxcclxuICAgIHNoaWZ0OiBlID0+ICFlLnNoaWZ0S2V5LFxyXG4gICAgYWx0OiBlID0+ICFlLmFsdEtleSxcclxuICAgIG1ldGE6IGUgPT4gIWUubWV0YUtleSxcclxuICAgIGxlZnQ6IGUgPT4gJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMCxcclxuICAgIG1pZGRsZTogZSA9PiAnYnV0dG9uJyBpbiBlICYmIGUuYnV0dG9uICE9PSAxLFxyXG4gICAgcmlnaHQ6IGUgPT4gJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMixcclxuICAgIGV4YWN0OiAoZSwgbW9kaWZpZXJzKSA9PiBzeXN0ZW1Nb2RpZmllcnMuc29tZShtID0+IGVbYCR7bX1LZXlgXSAmJiAhbW9kaWZpZXJzLmluY2x1ZGVzKG0pKVxyXG59O1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IHdpdGhNb2RpZmllcnMgPSAoZm4sIG1vZGlmaWVycykgPT4ge1xyXG4gICAgcmV0dXJuIChldmVudCwgLi4uYXJncykgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kaWZpZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGd1YXJkID0gbW9kaWZpZXJHdWFyZHNbbW9kaWZpZXJzW2ldXTtcclxuICAgICAgICAgICAgaWYgKGd1YXJkICYmIGd1YXJkKGV2ZW50LCBtb2RpZmllcnMpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm4oZXZlbnQsIC4uLmFyZ3MpO1xyXG4gICAgfTtcclxufTtcclxuLy8gS2VwdCBmb3IgMi54IGNvbXBhdC5cclxuLy8gTm90ZTogSUUxMSBjb21wYXQgZm9yIGBzcGFjZWJhcmAgYW5kIGBkZWxgIGlzIHJlbW92ZWQgZm9yIG5vdy5cclxuY29uc3Qga2V5TmFtZXMgPSB7XHJcbiAgICBlc2M6ICdlc2NhcGUnLFxyXG4gICAgc3BhY2U6ICcgJyxcclxuICAgIHVwOiAnYXJyb3ctdXAnLFxyXG4gICAgbGVmdDogJ2Fycm93LWxlZnQnLFxyXG4gICAgcmlnaHQ6ICdhcnJvdy1yaWdodCcsXHJcbiAgICBkb3duOiAnYXJyb3ctZG93bicsXHJcbiAgICBkZWxldGU6ICdiYWNrc3BhY2UnXHJcbn07XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3Qgd2l0aEtleXMgPSAoZm4sIG1vZGlmaWVycykgPT4ge1xyXG4gICAgcmV0dXJuIChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmICghKCdrZXknIGluIGV2ZW50KSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGV2ZW50S2V5ID0gaHlwaGVuYXRlKGV2ZW50LmtleSk7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgIC8vIE5vbmUgb2YgdGhlIHByb3ZpZGVkIGtleSBtb2RpZmllcnMgbWF0Y2ggdGhlIGN1cnJlbnQgZXZlbnQga2V5XHJcbiAgICAgICAgIW1vZGlmaWVycy5zb21lKGsgPT4gayA9PT0gZXZlbnRLZXkgfHwga2V5TmFtZXNba10gPT09IGV2ZW50S2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmbihldmVudCk7XHJcbiAgICB9O1xyXG59O1xuXG5jb25zdCB2U2hvdyA9IHtcclxuICAgIGJlZm9yZU1vdW50KGVsLCB7IHZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XHJcbiAgICAgICAgZWwuX3ZvZCA9IGVsLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/ICcnIDogZWwuc3R5bGUuZGlzcGxheTtcclxuICAgICAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbW91bnRlZChlbCwgeyB2YWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xyXG4gICAgICAgIGlmICh0cmFuc2l0aW9uICYmIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGVkKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xyXG4gICAgICAgIGlmICghdmFsdWUgPT09ICFvbGRWYWx1ZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XHJcbiAgICAgICAgICAgICAgICBzZXREaXNwbGF5KGVsLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5sZWF2ZShlbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldERpc3BsYXkoZWwsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGJlZm9yZVVubW91bnQoZWwsIHsgdmFsdWUgfSkge1xyXG4gICAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gc2V0RGlzcGxheShlbCwgdmFsdWUpIHtcclxuICAgIGVsLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZSA/IGVsLl92b2QgOiAnbm9uZSc7XHJcbn1cblxuY29uc3QgcmVuZGVyZXJPcHRpb25zID0gZXh0ZW5kKHsgcGF0Y2hQcm9wLCBmb3JjZVBhdGNoUHJvcCB9LCBub2RlT3BzKTtcclxuLy8gbGF6eSBjcmVhdGUgdGhlIHJlbmRlcmVyIC0gdGhpcyBtYWtlcyBjb3JlIHJlbmRlcmVyIGxvZ2ljIHRyZWUtc2hha2FibGVcclxuLy8gaW4gY2FzZSB0aGUgdXNlciBvbmx5IGltcG9ydHMgcmVhY3Rpdml0eSB1dGlsaXRpZXMgZnJvbSBWdWUuXHJcbmxldCByZW5kZXJlcjtcclxubGV0IGVuYWJsZWRIeWRyYXRpb24gPSBmYWxzZTtcclxuZnVuY3Rpb24gZW5zdXJlUmVuZGVyZXIoKSB7XHJcbiAgICByZXR1cm4gcmVuZGVyZXIgfHwgKHJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIocmVuZGVyZXJPcHRpb25zKSk7XHJcbn1cclxuZnVuY3Rpb24gZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKSB7XHJcbiAgICByZW5kZXJlciA9IGVuYWJsZWRIeWRyYXRpb25cclxuICAgICAgICA/IHJlbmRlcmVyXHJcbiAgICAgICAgOiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpO1xyXG4gICAgZW5hYmxlZEh5ZHJhdGlvbiA9IHRydWU7XHJcbiAgICByZXR1cm4gcmVuZGVyZXI7XHJcbn1cclxuLy8gdXNlIGV4cGxpY2l0IHR5cGUgY2FzdHMgaGVyZSB0byBhdm9pZCBpbXBvcnQoKSBjYWxscyBpbiByb2xsZWQtdXAgZC50c1xyXG5jb25zdCByZW5kZXIgPSAoKC4uLmFyZ3MpID0+IHtcclxuICAgIGVuc3VyZVJlbmRlcmVyKCkucmVuZGVyKC4uLmFyZ3MpO1xyXG59KTtcclxuY29uc3QgaHlkcmF0ZSA9ICgoLi4uYXJncykgPT4ge1xyXG4gICAgZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5oeWRyYXRlKC4uLmFyZ3MpO1xyXG59KTtcclxuY29uc3QgY3JlYXRlQXBwID0gKCguLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zdCBhcHAgPSBlbnN1cmVSZW5kZXJlcigpLmNyZWF0ZUFwcCguLi5hcmdzKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xyXG4gICAgYXBwLm1vdW50ID0gKGNvbnRhaW5lck9yU2VsZWN0b3IpID0+IHtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyT3JTZWxlY3Rvcik7XHJcbiAgICAgICAgaWYgKCFjb250YWluZXIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBhcHAuX2NvbXBvbmVudDtcclxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24oY29tcG9uZW50KSAmJiAhY29tcG9uZW50LnJlbmRlciAmJiAhY29tcG9uZW50LnRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC50ZW1wbGF0ZSA9IGNvbnRhaW5lci5pbm5lckhUTUw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNsZWFyIGNvbnRlbnQgYmVmb3JlIG1vdW50aW5nXHJcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGNvbnN0IHByb3h5ID0gbW91bnQoY29udGFpbmVyKTtcclxuICAgICAgICBjb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCd2LWNsb2FrJyk7XHJcbiAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS12LWFwcCcsICcnKTtcclxuICAgICAgICByZXR1cm4gcHJveHk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGFwcDtcclxufSk7XHJcbmNvbnN0IGNyZWF0ZVNTUkFwcCA9ICgoLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgYXBwID0gZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5jcmVhdGVBcHAoLi4uYXJncyk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgbW91bnQgfSA9IGFwcDtcclxuICAgIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xyXG4gICAgICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vdW50KGNvbnRhaW5lciwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBhcHA7XHJcbn0pO1xyXG5mdW5jdGlvbiBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApIHtcclxuICAgIC8vIEluamVjdCBgaXNOYXRpdmVUYWdgXHJcbiAgICAvLyB0aGlzIGlzIHVzZWQgZm9yIGNvbXBvbmVudCBuYW1lIHZhbGlkYXRpb24gKGRldiBvbmx5KVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsICdpc05hdGl2ZVRhZycsIHtcclxuICAgICAgICB2YWx1ZTogKHRhZykgPT4gaXNIVE1MVGFnKHRhZykgfHwgaXNTVkdUYWcodGFnKSxcclxuICAgICAgICB3cml0YWJsZTogZmFsc2VcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXIpIHtcclxuICAgIGlmIChpc1N0cmluZyhjb250YWluZXIpKSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXJlcykge1xyXG4gICAgICAgICAgICB3YXJuKGBGYWlsZWQgdG8gbW91bnQgYXBwOiBtb3VudCB0YXJnZXQgc2VsZWN0b3IgcmV0dXJuZWQgbnVsbC5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIHJldHVybiBjb250YWluZXI7XHJcbn1cblxuZXhwb3J0IHsgVHJhbnNpdGlvbiwgVHJhbnNpdGlvbkdyb3VwLCBjcmVhdGVBcHAsIGNyZWF0ZVNTUkFwcCwgaHlkcmF0ZSwgcmVuZGVyLCB1c2VDc3NNb2R1bGUsIHVzZUNzc1ZhcnMsIHZNb2RlbENoZWNrYm94LCB2TW9kZWxEeW5hbWljLCB2TW9kZWxSYWRpbywgdk1vZGVsU2VsZWN0LCB2TW9kZWxUZXh0LCB2U2hvdywgd2l0aEtleXMsIHdpdGhNb2RpZmllcnMgfTtcbiIsIi8qKlxyXG4gKiBNYWtlIGEgbWFwIGFuZCByZXR1cm4gYSBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgaWYgYSBrZXlcclxuICogaXMgaW4gdGhhdCBtYXAuXHJcbiAqIElNUE9SVEFOVDogYWxsIGNhbGxzIG9mIHRoaXMgZnVuY3Rpb24gbXVzdCBiZSBwcmVmaXhlZCB3aXRoXHJcbiAqIFxcL1xcKiNcXF9cXF9QVVJFXFxfXFxfXFwqXFwvXHJcbiAqIFNvIHRoYXQgcm9sbHVwIGNhbiB0cmVlLXNoYWtlIHRoZW0gaWYgbmVjZXNzYXJ5LlxyXG4gKi9cclxuZnVuY3Rpb24gbWFrZU1hcChzdHIsIGV4cGVjdHNMb3dlckNhc2UpIHtcclxuICAgIGNvbnN0IG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICBjb25zdCBsaXN0ID0gc3RyLnNwbGl0KCcsJyk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBtYXBbbGlzdFtpXV0gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGV4cGVjdHNMb3dlckNhc2UgPyB2YWwgPT4gISFtYXBbdmFsLnRvTG93ZXJDYXNlKCldIDogdmFsID0+ICEhbWFwW3ZhbF07XHJcbn1cblxuLy8gUGF0Y2ggZmxhZ3MgYXJlIG9wdGltaXphdGlvbiBoaW50cyBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyLlxyXG4vLyB3aGVuIGEgYmxvY2sgd2l0aCBkeW5hbWljQ2hpbGRyZW4gaXMgZW5jb3VudGVyZWQgZHVyaW5nIGRpZmYsIHRoZSBhbGdvcml0aG1cclxuLy8gZW50ZXJzIFwib3B0aW1pemVkIG1vZGVcIi4gSW4gdGhpcyBtb2RlLCB3ZSBrbm93IHRoYXQgdGhlIHZkb20gaXMgcHJvZHVjZWQgYnlcclxuLy8gYSByZW5kZXIgZnVuY3Rpb24gZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciwgc28gdGhlIGFsZ29yaXRobSBvbmx5IG5lZWRzIHRvXHJcbi8vIGhhbmRsZSB1cGRhdGVzIGV4cGxpY2l0bHkgbWFya2VkIGJ5IHRoZXNlIHBhdGNoIGZsYWdzLlxyXG4vLyBkZXYgb25seSBmbGFnIC0+IG5hbWUgbWFwcGluZ1xyXG5jb25zdCBQYXRjaEZsYWdOYW1lcyA9IHtcclxuICAgIFsxIC8qIFRFWFQgKi9dOiBgVEVYVGAsXHJcbiAgICBbMiAvKiBDTEFTUyAqL106IGBDTEFTU2AsXHJcbiAgICBbNCAvKiBTVFlMRSAqL106IGBTVFlMRWAsXHJcbiAgICBbOCAvKiBQUk9QUyAqL106IGBQUk9QU2AsXHJcbiAgICBbMTYgLyogRlVMTF9QUk9QUyAqL106IGBGVUxMX1BST1BTYCxcclxuICAgIFszMiAvKiBIWURSQVRFX0VWRU5UUyAqL106IGBIWURSQVRFX0VWRU5UU2AsXHJcbiAgICBbNjQgLyogU1RBQkxFX0ZSQUdNRU5UICovXTogYFNUQUJMRV9GUkFHTUVOVGAsXHJcbiAgICBbMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovXTogYEtFWUVEX0ZSQUdNRU5UYCxcclxuICAgIFsyNTYgLyogVU5LRVlFRF9GUkFHTUVOVCAqL106IGBVTktFWUVEX0ZSQUdNRU5UYCxcclxuICAgIFsxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi9dOiBgRFlOQU1JQ19TTE9UU2AsXHJcbiAgICBbNTEyIC8qIE5FRURfUEFUQ0ggKi9dOiBgTkVFRF9QQVRDSGAsXHJcbiAgICBbLTEgLyogSE9JU1RFRCAqL106IGBIT0lTVEVEYCxcclxuICAgIFstMiAvKiBCQUlMICovXTogYEJBSUxgXHJcbn07XG5cbmNvbnN0IEdMT0JBTFNfV0hJVEVfTElTVEVEID0gJ0luZmluaXR5LHVuZGVmaW5lZCxOYU4saXNGaW5pdGUsaXNOYU4scGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksJyArXHJcbiAgICAnZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSwnICtcclxuICAgICdPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsJztcclxuY29uc3QgaXNHbG9iYWxseVdoaXRlbGlzdGVkID0gLyojX19QVVJFX18qLyBtYWtlTWFwKEdMT0JBTFNfV0hJVEVfTElTVEVEKTtcblxuY29uc3QgcmFuZ2UgPSAyO1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUNvZGVGcmFtZShzb3VyY2UsIHN0YXJ0ID0gMCwgZW5kID0gc291cmNlLmxlbmd0aCkge1xyXG4gICAgY29uc3QgbGluZXMgPSBzb3VyY2Uuc3BsaXQoL1xccj9cXG4vKTtcclxuICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICBjb25zdCByZXMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb3VudCArPSBsaW5lc1tpXS5sZW5ndGggKyAxO1xyXG4gICAgICAgIGlmIChjb3VudCA+PSBzdGFydCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIHJhbmdlOyBqIDw9IGkgKyByYW5nZSB8fCBlbmQgPiBjb3VudDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaiA8IDAgfHwgaiA+PSBsaW5lcy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gaiArIDE7XHJcbiAgICAgICAgICAgICAgICByZXMucHVzaChgJHtsaW5lfSR7JyAnLnJlcGVhdChNYXRoLm1heCgzIC0gU3RyaW5nKGxpbmUpLmxlbmd0aCwgMCkpfXwgICR7bGluZXNbal19YCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lTGVuZ3RoID0gbGluZXNbal0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGogPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBwdXNoIHVuZGVybGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZCA9IHN0YXJ0IC0gKGNvdW50IC0gbGluZUxlbmd0aCkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KDEsIGVuZCA+IGNvdW50ID8gbGluZUxlbmd0aCAtIHBhZCA6IGVuZCAtIHN0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArICcgJy5yZXBlYXQocGFkKSArICdeJy5yZXBlYXQobGVuZ3RoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChqID4gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmQgPiBjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heChNYXRoLm1pbihlbmQgLSBjb3VudCwgbGluZUxlbmd0aCksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArICdeJy5yZXBlYXQobGVuZ3RoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ICs9IGxpbmVMZW5ndGggKyAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXMuam9pbignXFxuJyk7XHJcbn1cblxuLyoqXHJcbiAqIE9uIHRoZSBjbGllbnQgd2Ugb25seSBuZWVkIHRvIG9mZmVyIHNwZWNpYWwgY2FzZXMgZm9yIGJvb2xlYW4gYXR0cmlidXRlcyB0aGF0XHJcbiAqIGhhdmUgZGlmZmVyZW50IG5hbWVzIGZyb20gdGhlaXIgY29ycmVzcG9uZGluZyBkb20gcHJvcGVydGllczpcclxuICogLSBpdGVtc2NvcGUgLT4gTi9BXHJcbiAqIC0gYWxsb3dmdWxsc2NyZWVuIC0+IGFsbG93RnVsbHNjcmVlblxyXG4gKiAtIGZvcm1ub3ZhbGlkYXRlIC0+IGZvcm1Ob1ZhbGlkYXRlXHJcbiAqIC0gaXNtYXAgLT4gaXNNYXBcclxuICogLSBub21vZHVsZSAtPiBub01vZHVsZVxyXG4gKiAtIG5vdmFsaWRhdGUgLT4gbm9WYWxpZGF0ZVxyXG4gKiAtIHJlYWRvbmx5IC0+IHJlYWRPbmx5XHJcbiAqL1xyXG5jb25zdCBzcGVjaWFsQm9vbGVhbkF0dHJzID0gYGl0ZW1zY29wZSxhbGxvd2Z1bGxzY3JlZW4sZm9ybW5vdmFsaWRhdGUsaXNtYXAsbm9tb2R1bGUsbm92YWxpZGF0ZSxyZWFkb25seWA7XHJcbmNvbnN0IGlzU3BlY2lhbEJvb2xlYW5BdHRyID0gLyojX19QVVJFX18qLyBtYWtlTWFwKHNwZWNpYWxCb29sZWFuQXR0cnMpO1xyXG4vKipcclxuICogVGhlIGZ1bGwgbGlzdCBpcyBuZWVkZWQgZHVyaW5nIFNTUiB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IGluaXRpYWwgbWFya3VwLlxyXG4gKi9cclxuY29uc3QgaXNCb29sZWFuQXR0ciA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChzcGVjaWFsQm9vbGVhbkF0dHJzICtcclxuICAgIGAsYXN5bmMsYXV0b2ZvY3VzLGF1dG9wbGF5LGNvbnRyb2xzLGRlZmF1bHQsZGVmZXIsZGlzYWJsZWQsaGlkZGVuLGAgK1xyXG4gICAgYGxvb3Asb3BlbixyZXF1aXJlZCxyZXZlcnNlZCxzY29wZWQsc2VhbWxlc3MsYCArXHJcbiAgICBgY2hlY2tlZCxtdXRlZCxtdWx0aXBsZSxzZWxlY3RlZGApO1xyXG5jb25zdCB1bnNhZmVBdHRyQ2hhclJFID0gL1s+Lz1cIidcXHUwMDA5XFx1MDAwYVxcdTAwMGNcXHUwMDIwXS87XHJcbmNvbnN0IGF0dHJWYWxpZGF0aW9uQ2FjaGUgPSB7fTtcclxuZnVuY3Rpb24gaXNTU1JTYWZlQXR0ck5hbWUobmFtZSkge1xyXG4gICAgaWYgKGF0dHJWYWxpZGF0aW9uQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcclxuICAgICAgICByZXR1cm4gYXR0clZhbGlkYXRpb25DYWNoZVtuYW1lXTtcclxuICAgIH1cclxuICAgIGNvbnN0IGlzVW5zYWZlID0gdW5zYWZlQXR0ckNoYXJSRS50ZXN0KG5hbWUpO1xyXG4gICAgaWYgKGlzVW5zYWZlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgdW5zYWZlIGF0dHJpYnV0ZSBuYW1lOiAke25hbWV9YCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGF0dHJWYWxpZGF0aW9uQ2FjaGVbbmFtZV0gPSAhaXNVbnNhZmUpO1xyXG59XHJcbmNvbnN0IHByb3BzVG9BdHRyTWFwID0ge1xyXG4gICAgYWNjZXB0Q2hhcnNldDogJ2FjY2VwdC1jaGFyc2V0JyxcclxuICAgIGNsYXNzTmFtZTogJ2NsYXNzJyxcclxuICAgIGh0bWxGb3I6ICdmb3InLFxyXG4gICAgaHR0cEVxdWl2OiAnaHR0cC1lcXVpdidcclxufTtcclxuLyoqXHJcbiAqIENTUyBwcm9wZXJ0aWVzIHRoYXQgYWNjZXB0IHBsYWluIG51bWJlcnNcclxuICovXHJcbmNvbnN0IGlzTm9Vbml0TnVtZXJpY1N0eWxlUHJvcCA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCxib3JkZXItaW1hZ2Utb3V0c2V0LGJvcmRlci1pbWFnZS1zbGljZSxgICtcclxuICAgIGBib3JkZXItaW1hZ2Utd2lkdGgsYm94LWZsZXgsYm94LWZsZXgtZ3JvdXAsYm94LW9yZGluYWwtZ3JvdXAsY29sdW1uLWNvdW50LGAgK1xyXG4gICAgYGNvbHVtbnMsZmxleCxmbGV4LWdyb3csZmxleC1wb3NpdGl2ZSxmbGV4LXNocmluayxmbGV4LW5lZ2F0aXZlLGZsZXgtb3JkZXIsYCArXHJcbiAgICBgZ3JpZC1yb3csZ3JpZC1yb3ctZW5kLGdyaWQtcm93LXNwYW4sZ3JpZC1yb3ctc3RhcnQsZ3JpZC1jb2x1bW4sYCArXHJcbiAgICBgZ3JpZC1jb2x1bW4tZW5kLGdyaWQtY29sdW1uLXNwYW4sZ3JpZC1jb2x1bW4tc3RhcnQsZm9udC13ZWlnaHQsbGluZS1jbGFtcCxgICtcclxuICAgIGBsaW5lLWhlaWdodCxvcGFjaXR5LG9yZGVyLG9ycGhhbnMsdGFiLXNpemUsd2lkb3dzLHotaW5kZXgsem9vbSxgICtcclxuICAgIC8vIFNWR1xyXG4gICAgYGZpbGwtb3BhY2l0eSxmbG9vZC1vcGFjaXR5LHN0b3Atb3BhY2l0eSxzdHJva2UtZGFzaGFycmF5LHN0cm9rZS1kYXNob2Zmc2V0LGAgK1xyXG4gICAgYHN0cm9rZS1taXRlcmxpbWl0LHN0cm9rZS1vcGFjaXR5LHN0cm9rZS13aWR0aGApO1xyXG4vKipcclxuICogS25vd24gYXR0cmlidXRlcywgdGhpcyBpcyB1c2VkIGZvciBzdHJpbmdpZmljYXRpb24gb2YgcnVudGltZSBzdGF0aWMgbm9kZXNcclxuICogc28gdGhhdCB3ZSBkb24ndCBzdHJpbmdpZnkgYmluZGluZ3MgdGhhdCBjYW5ub3QgYmUgc2V0IGZyb20gSFRNTC5cclxuICogRG9uJ3QgYWxzbyBmb3JnZXQgdG8gYWxsb3cgYGRhdGEtKmAgYW5kIGBhcmlhLSpgIVxyXG4gKiBHZW5lcmF0ZWQgZnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0F0dHJpYnV0ZXNcclxuICovXHJcbmNvbnN0IGlzS25vd25BdHRyID0gLyojX19QVVJFX18qLyBtYWtlTWFwKGBhY2NlcHQsYWNjZXB0LWNoYXJzZXQsYWNjZXNza2V5LGFjdGlvbixhbGlnbixhbGxvdyxhbHQsYXN5bmMsYCArXHJcbiAgICBgYXV0b2NhcGl0YWxpemUsYXV0b2NvbXBsZXRlLGF1dG9mb2N1cyxhdXRvcGxheSxiYWNrZ3JvdW5kLGJnY29sb3IsYCArXHJcbiAgICBgYm9yZGVyLGJ1ZmZlcmVkLGNhcHR1cmUsY2hhbGxlbmdlLGNoYXJzZXQsY2hlY2tlZCxjaXRlLGNsYXNzLGNvZGUsYCArXHJcbiAgICBgY29kZWJhc2UsY29sb3IsY29scyxjb2xzcGFuLGNvbnRlbnQsY29udGVudGVkaXRhYmxlLGNvbnRleHRtZW51LGNvbnRyb2xzLGAgK1xyXG4gICAgYGNvb3Jkcyxjcm9zc29yaWdpbixjc3AsZGF0YSxkYXRldGltZSxkZWNvZGluZyxkZWZhdWx0LGRlZmVyLGRpcixkaXJuYW1lLGAgK1xyXG4gICAgYGRpc2FibGVkLGRvd25sb2FkLGRyYWdnYWJsZSxkcm9wem9uZSxlbmN0eXBlLGVudGVya2V5aGludCxmb3IsZm9ybSxgICtcclxuICAgIGBmb3JtYWN0aW9uLGZvcm1lbmN0eXBlLGZvcm1tZXRob2QsZm9ybW5vdmFsaWRhdGUsZm9ybXRhcmdldCxoZWFkZXJzLGAgK1xyXG4gICAgYGhlaWdodCxoaWRkZW4saGlnaCxocmVmLGhyZWZsYW5nLGh0dHAtZXF1aXYsaWNvbixpZCxpbXBvcnRhbmNlLGludGVncml0eSxgICtcclxuICAgIGBpc21hcCxpdGVtcHJvcCxrZXl0eXBlLGtpbmQsbGFiZWwsbGFuZyxsYW5ndWFnZSxsb2FkaW5nLGxpc3QsbG9vcCxsb3csYCArXHJcbiAgICBgbWFuaWZlc3QsbWF4LG1heGxlbmd0aCxtaW5sZW5ndGgsbWVkaWEsbWluLG11bHRpcGxlLG11dGVkLG5hbWUsbm92YWxpZGF0ZSxgICtcclxuICAgIGBvcGVuLG9wdGltdW0scGF0dGVybixwaW5nLHBsYWNlaG9sZGVyLHBvc3RlcixwcmVsb2FkLHJhZGlvZ3JvdXAscmVhZG9ubHksYCArXHJcbiAgICBgcmVmZXJyZXJwb2xpY3kscmVsLHJlcXVpcmVkLHJldmVyc2VkLHJvd3Mscm93c3BhbixzYW5kYm94LHNjb3BlLHNjb3BlZCxgICtcclxuICAgIGBzZWxlY3RlZCxzaGFwZSxzaXplLHNpemVzLHNsb3Qsc3BhbixzcGVsbGNoZWNrLHNyYyxzcmNkb2Msc3JjbGFuZyxzcmNzZXQsYCArXHJcbiAgICBgc3RhcnQsc3RlcCxzdHlsZSxzdW1tYXJ5LHRhYmluZGV4LHRhcmdldCx0aXRsZSx0cmFuc2xhdGUsdHlwZSx1c2VtYXAsYCArXHJcbiAgICBgdmFsdWUsd2lkdGgsd3JhcGApO1xuXG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZSh2YWx1ZSkge1xyXG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0ge307XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gdmFsdWVbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTdHlsZShpc1N0cmluZyhpdGVtKSA/IHBhcnNlU3RyaW5nU3R5bGUoaXRlbSkgOiBpdGVtKTtcclxuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5vcm1hbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNba2V5XSA9IG5vcm1hbGl6ZWRba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGxpc3REZWxpbWl0ZXJSRSA9IC87KD8hW14oXSpcXCkpL2c7XHJcbmNvbnN0IHByb3BlcnR5RGVsaW1pdGVyUkUgPSAvOiguKykvO1xyXG5mdW5jdGlvbiBwYXJzZVN0cmluZ1N0eWxlKGNzc1RleHQpIHtcclxuICAgIGNvbnN0IHJldCA9IHt9O1xyXG4gICAgY3NzVGV4dC5zcGxpdChsaXN0RGVsaW1pdGVyUkUpLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgY29uc3QgdG1wID0gaXRlbS5zcGxpdChwcm9wZXJ0eURlbGltaXRlclJFKTtcclxuICAgICAgICAgICAgdG1wLmxlbmd0aCA+IDEgJiYgKHJldFt0bXBbMF0udHJpbSgpXSA9IHRtcFsxXS50cmltKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5mdW5jdGlvbiBzdHJpbmdpZnlTdHlsZShzdHlsZXMpIHtcclxuICAgIGxldCByZXQgPSAnJztcclxuICAgIGlmICghc3R5bGVzKSB7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIGZvciAoY29uc3Qga2V5IGluIHN0eWxlcykge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gc3R5bGVzW2tleV07XHJcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGtleS5zdGFydHNXaXRoKGAtLWApID8ga2V5IDogaHlwaGVuYXRlKGtleSk7XHJcbiAgICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSB8fFxyXG4gICAgICAgICAgICAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc05vVW5pdE51bWVyaWNTdHlsZVByb3Aobm9ybWFsaXplZEtleSkpKSB7XHJcbiAgICAgICAgICAgIC8vIG9ubHkgcmVuZGVyIHZhbGlkIHZhbHVlc1xyXG4gICAgICAgICAgICByZXQgKz0gYCR7bm9ybWFsaXplZEtleX06JHt2YWx1ZX07YDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNsYXNzKHZhbHVlKSB7XHJcbiAgICBsZXQgcmVzID0gJyc7XHJcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgcmVzID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzICs9IG5vcm1hbGl6ZUNsYXNzKHZhbHVlW2ldKSArICcgJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICByZXMgKz0gbmFtZSArICcgJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXMudHJpbSgpO1xyXG59XG5cbi8vIFRoZXNlIHRhZyBjb25maWdzIGFyZSBzaGFyZWQgYmV0d2VlbiBjb21waWxlci1kb20gYW5kIHJ1bnRpbWUtZG9tLCBzbyB0aGV5XHJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudFxyXG5jb25zdCBIVE1MX1RBR1MgPSAnaHRtbCxib2R5LGJhc2UsaGVhZCxsaW5rLG1ldGEsc3R5bGUsdGl0bGUsYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGZvb3RlciwnICtcclxuICAgICdoZWFkZXIsaDEsaDIsaDMsaDQsaDUsaDYsaGdyb3VwLG5hdixzZWN0aW9uLGRpdixkZCxkbCxkdCxmaWdjYXB0aW9uLCcgK1xyXG4gICAgJ2ZpZ3VyZSxwaWN0dXJlLGhyLGltZyxsaSxtYWluLG9sLHAscHJlLHVsLGEsYixhYmJyLGJkaSxiZG8sYnIsY2l0ZSxjb2RlLCcgK1xyXG4gICAgJ2RhdGEsZGZuLGVtLGksa2JkLG1hcmsscSxycCxydCxydGMscnVieSxzLHNhbXAsc21hbGwsc3BhbixzdHJvbmcsc3ViLHN1cCwnICtcclxuICAgICd0aW1lLHUsdmFyLHdicixhcmVhLGF1ZGlvLG1hcCx0cmFjayx2aWRlbyxlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLCcgK1xyXG4gICAgJ2NhbnZhcyxzY3JpcHQsbm9zY3JpcHQsZGVsLGlucyxjYXB0aW9uLGNvbCxjb2xncm91cCx0YWJsZSx0aGVhZCx0Ym9keSx0ZCwnICtcclxuICAgICd0aCx0cixidXR0b24sZGF0YWxpc3QsZmllbGRzZXQsZm9ybSxpbnB1dCxsYWJlbCxsZWdlbmQsbWV0ZXIsb3B0Z3JvdXAsJyArXHJcbiAgICAnb3B0aW9uLG91dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsZGV0YWlscyxkaWFsb2csbWVudSwnICtcclxuICAgICdzdW1tYXJ5LHRlbXBsYXRlLGJsb2NrcXVvdGUsaWZyYW1lLHRmb290JztcclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvU1ZHL0VsZW1lbnRcclxuY29uc3QgU1ZHX1RBR1MgPSAnc3ZnLGFuaW1hdGUsYW5pbWF0ZU1vdGlvbixhbmltYXRlVHJhbnNmb3JtLGNpcmNsZSxjbGlwUGF0aCxjb2xvci1wcm9maWxlLCcgK1xyXG4gICAgJ2RlZnMsZGVzYyxkaXNjYXJkLGVsbGlwc2UsZmVCbGVuZCxmZUNvbG9yTWF0cml4LGZlQ29tcG9uZW50VHJhbnNmZXIsJyArXHJcbiAgICAnZmVDb21wb3NpdGUsZmVDb252b2x2ZU1hdHJpeCxmZURpZmZ1c2VMaWdodGluZyxmZURpc3BsYWNlbWVudE1hcCwnICtcclxuICAgICdmZURpc3RhbmNlTGlnaHQsZmVEcm9wU2hhZG93LGZlRmxvb2QsZmVGdW5jQSxmZUZ1bmNCLGZlRnVuY0csZmVGdW5jUiwnICtcclxuICAgICdmZUdhdXNzaWFuQmx1cixmZUltYWdlLGZlTWVyZ2UsZmVNZXJnZU5vZGUsZmVNb3JwaG9sb2d5LGZlT2Zmc2V0LCcgK1xyXG4gICAgJ2ZlUG9pbnRMaWdodCxmZVNwZWN1bGFyTGlnaHRpbmcsZmVTcG90TGlnaHQsZmVUaWxlLGZlVHVyYnVsZW5jZSxmaWx0ZXIsJyArXHJcbiAgICAnZm9yZWlnbk9iamVjdCxnLGhhdGNoLGhhdGNocGF0aCxpbWFnZSxsaW5lLGxpbmVhckdyYWRpZW50LG1hcmtlcixtYXNrLCcgK1xyXG4gICAgJ21lc2gsbWVzaGdyYWRpZW50LG1lc2hwYXRjaCxtZXNocm93LG1ldGFkYXRhLG1wYXRoLHBhdGgscGF0dGVybiwnICtcclxuICAgICdwb2x5Z29uLHBvbHlsaW5lLHJhZGlhbEdyYWRpZW50LHJlY3Qsc2V0LHNvbGlkY29sb3Isc3RvcCxzd2l0Y2gsc3ltYm9sLCcgK1xyXG4gICAgJ3RleHQsdGV4dFBhdGgsdGl0bGUsdHNwYW4sdW5rbm93bix1c2Usdmlldyc7XHJcbmNvbnN0IFZPSURfVEFHUyA9ICdhcmVhLGJhc2UsYnIsY29sLGVtYmVkLGhyLGltZyxpbnB1dCxsaW5rLG1ldGEscGFyYW0sc291cmNlLHRyYWNrLHdicic7XHJcbmNvbnN0IGlzSFRNTFRhZyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChIVE1MX1RBR1MpO1xyXG5jb25zdCBpc1NWR1RhZyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChTVkdfVEFHUyk7XHJcbmNvbnN0IGlzVm9pZFRhZyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChWT0lEX1RBR1MpO1xuXG5jb25zdCBlc2NhcGVSRSA9IC9bXCInJjw+XS87XHJcbmZ1bmN0aW9uIGVzY2FwZUh0bWwoc3RyaW5nKSB7XHJcbiAgICBjb25zdCBzdHIgPSAnJyArIHN0cmluZztcclxuICAgIGNvbnN0IG1hdGNoID0gZXNjYXBlUkUuZXhlYyhzdHIpO1xyXG4gICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9XHJcbiAgICBsZXQgaHRtbCA9ICcnO1xyXG4gICAgbGV0IGVzY2FwZWQ7XHJcbiAgICBsZXQgaW5kZXg7XHJcbiAgICBsZXQgbGFzdEluZGV4ID0gMDtcclxuICAgIGZvciAoaW5kZXggPSBtYXRjaC5pbmRleDsgaW5kZXggPCBzdHIubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgc3dpdGNoIChzdHIuY2hhckNvZGVBdChpbmRleCkpIHtcclxuICAgICAgICAgICAgY2FzZSAzNDogLy8gXCJcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJnF1b3Q7JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM4OiAvLyAmXHJcbiAgICAgICAgICAgICAgICBlc2NhcGVkID0gJyZhbXA7JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM5OiAvLyAnXHJcbiAgICAgICAgICAgICAgICBlc2NhcGVkID0gJyYjMzk7JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDYwOiAvLyA8XHJcbiAgICAgICAgICAgICAgICBlc2NhcGVkID0gJyZsdDsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNjI6IC8vID5cclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJmd0Oyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGFzdEluZGV4ICE9PSBpbmRleCkge1xyXG4gICAgICAgICAgICBodG1sICs9IHN0ci5zdWJzdHJpbmcobGFzdEluZGV4LCBpbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxhc3RJbmRleCA9IGluZGV4ICsgMTtcclxuICAgICAgICBodG1sICs9IGVzY2FwZWQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGFzdEluZGV4ICE9PSBpbmRleCA/IGh0bWwgKyBzdHIuc3Vic3RyaW5nKGxhc3RJbmRleCwgaW5kZXgpIDogaHRtbDtcclxufVxyXG4vLyBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUyL3N5bnRheC5odG1sI2NvbW1lbnRzXHJcbmNvbnN0IGNvbW1lbnRTdHJpcFJFID0gL14tPz58PCEtLXwtLT58LS0hPnw8IS0kL2c7XHJcbmZ1bmN0aW9uIGVzY2FwZUh0bWxDb21tZW50KHNyYykge1xyXG4gICAgcmV0dXJuIHNyYy5yZXBsYWNlKGNvbW1lbnRTdHJpcFJFLCAnJyk7XHJcbn1cblxuZnVuY3Rpb24gbG9vc2VDb21wYXJlQXJyYXlzKGEsIGIpIHtcclxuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgbGV0IGVxdWFsID0gdHJ1ZTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBlcXVhbCAmJiBpIDwgYS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGVxdWFsID0gbG9vc2VFcXVhbChhW2ldLCBiW2ldKTtcclxuICAgIH1cclxuICAgIHJldHVybiBlcXVhbDtcclxufVxyXG5mdW5jdGlvbiBsb29zZUVxdWFsKGEsIGIpIHtcclxuICAgIGlmIChhID09PSBiKVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgbGV0IGFWYWxpZFR5cGUgPSBpc0RhdGUoYSk7XHJcbiAgICBsZXQgYlZhbGlkVHlwZSA9IGlzRGF0ZShiKTtcclxuICAgIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcclxuICAgICAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpIDogZmFsc2U7XHJcbiAgICB9XHJcbiAgICBhVmFsaWRUeXBlID0gaXNBcnJheShhKTtcclxuICAgIGJWYWxpZFR5cGUgPSBpc0FycmF5KGIpO1xyXG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xyXG4gICAgICAgIHJldHVybiBhVmFsaWRUeXBlICYmIGJWYWxpZFR5cGUgPyBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIGFWYWxpZFR5cGUgPSBpc09iamVjdChhKTtcclxuICAgIGJWYWxpZFR5cGUgPSBpc09iamVjdChiKTtcclxuICAgIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWY6IHRoaXMgaWYgd2lsbCBwcm9iYWJseSBuZXZlciBiZSBjYWxsZWQgKi9cclxuICAgICAgICBpZiAoIWFWYWxpZFR5cGUgfHwgIWJWYWxpZFR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhS2V5c0NvdW50ID0gT2JqZWN0LmtleXMoYSkubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGJLZXlzQ291bnQgPSBPYmplY3Qua2V5cyhiKS5sZW5ndGg7XHJcbiAgICAgICAgaWYgKGFLZXlzQ291bnQgIT09IGJLZXlzQ291bnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBhKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFIYXNLZXkgPSBhLmhhc093blByb3BlcnR5KGtleSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJIYXNLZXkgPSBiLmhhc093blByb3BlcnR5KGtleSk7XHJcbiAgICAgICAgICAgIGlmICgoYUhhc0tleSAmJiAhYkhhc0tleSkgfHxcclxuICAgICAgICAgICAgICAgICghYUhhc0tleSAmJiBiSGFzS2V5KSB8fFxyXG4gICAgICAgICAgICAgICAgIWxvb3NlRXF1YWwoYVtrZXldLCBiW2tleV0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU3RyaW5nKGEpID09PSBTdHJpbmcoYik7XHJcbn1cclxuZnVuY3Rpb24gbG9vc2VJbmRleE9mKGFyciwgdmFsKSB7XHJcbiAgICByZXR1cm4gYXJyLmZpbmRJbmRleChpdGVtID0+IGxvb3NlRXF1YWwoaXRlbSwgdmFsKSk7XHJcbn1cblxuLyoqXHJcbiAqIEZvciBjb252ZXJ0aW5nIHt7IGludGVycG9sYXRpb24gfX0gdmFsdWVzIHRvIGRpc3BsYXllZCBzdHJpbmdzLlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3QgdG9EaXNwbGF5U3RyaW5nID0gKHZhbCkgPT4ge1xyXG4gICAgcmV0dXJuIHZhbCA9PSBudWxsXHJcbiAgICAgICAgPyAnJ1xyXG4gICAgICAgIDogaXNPYmplY3QodmFsKVxyXG4gICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHZhbCwgcmVwbGFjZXIsIDIpXHJcbiAgICAgICAgICAgIDogU3RyaW5nKHZhbCk7XHJcbn07XHJcbmNvbnN0IHJlcGxhY2VyID0gKF9rZXksIHZhbCkgPT4ge1xyXG4gICAgaWYgKGlzTWFwKHZhbCkpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBbYE1hcCgke3ZhbC5zaXplfSlgXTogWy4uLnZhbC5lbnRyaWVzKCldLnJlZHVjZSgoZW50cmllcywgW2tleSwgdmFsXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZW50cmllc1tgJHtrZXl9ID0+YF0gPSB2YWw7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW50cmllcztcclxuICAgICAgICAgICAgfSwge30pXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzU2V0KHZhbCkpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBbYFNldCgke3ZhbC5zaXplfSlgXTogWy4uLnZhbC52YWx1ZXMoKV1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYmplY3QodmFsKSAmJiAhaXNBcnJheSh2YWwpICYmICFpc1BsYWluT2JqZWN0KHZhbCkpIHtcclxuICAgICAgICByZXR1cm4gU3RyaW5nKHZhbCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsO1xyXG59O1xuXG4vKipcclxuICogTGlzdCBvZiBAYmFiZWwvcGFyc2VyIHBsdWdpbnMgdGhhdCBhcmUgdXNlZCBmb3IgdGVtcGxhdGUgZXhwcmVzc2lvblxyXG4gKiB0cmFuc2Zvcm1zIGFuZCBTRkMgc2NyaXB0IHRyYW5zZm9ybXMuIEJ5IGRlZmF1bHQgd2UgZW5hYmxlIHByb3Bvc2FscyBzbGF0ZWRcclxuICogZm9yIEVTMjAyMC4gVGhpcyB3aWxsIG5lZWQgdG8gYmUgdXBkYXRlZCBhcyB0aGUgc3BlYyBtb3ZlcyBmb3J3YXJkLlxyXG4gKiBGdWxsIGxpc3QgYXQgaHR0cHM6Ly9iYWJlbGpzLmlvL2RvY3MvZW4vbmV4dC9iYWJlbC1wYXJzZXIjcGx1Z2luc1xyXG4gKi9cclxuY29uc3QgYmFiZWxQYXJzZXJEZWZhdWx0UGx1Z2lucyA9IFtcclxuICAgICdiaWdJbnQnLFxyXG4gICAgJ29wdGlvbmFsQ2hhaW5pbmcnLFxyXG4gICAgJ251bGxpc2hDb2FsZXNjaW5nT3BlcmF0b3InXHJcbl07XHJcbmNvbnN0IEVNUFRZX09CSiA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgPyBPYmplY3QuZnJlZXplKHt9KVxyXG4gICAgOiB7fTtcclxuY29uc3QgRU1QVFlfQVJSID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gT2JqZWN0LmZyZWV6ZShbXSkgOiBbXTtcclxuY29uc3QgTk9PUCA9ICgpID0+IHsgfTtcclxuLyoqXHJcbiAqIEFsd2F5cyByZXR1cm4gZmFsc2UuXHJcbiAqL1xyXG5jb25zdCBOTyA9ICgpID0+IGZhbHNlO1xyXG5jb25zdCBvblJFID0gL15vblteYS16XS87XHJcbmNvbnN0IGlzT24gPSAoa2V5KSA9PiBvblJFLnRlc3Qoa2V5KTtcclxuY29uc3QgaXNNb2RlbExpc3RlbmVyID0gKGtleSkgPT4ga2V5LnN0YXJ0c1dpdGgoJ29uVXBkYXRlOicpO1xyXG5jb25zdCBleHRlbmQgPSBPYmplY3QuYXNzaWduO1xyXG5jb25zdCByZW1vdmUgPSAoYXJyLCBlbCkgPT4ge1xyXG4gICAgY29uc3QgaSA9IGFyci5pbmRleE9mKGVsKTtcclxuICAgIGlmIChpID4gLTEpIHtcclxuICAgICAgICBhcnIuc3BsaWNlKGksIDEpO1xyXG4gICAgfVxyXG59O1xyXG5jb25zdCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XHJcbmNvbnN0IGhhc093biA9ICh2YWwsIGtleSkgPT4gaGFzT3duUHJvcGVydHkuY2FsbCh2YWwsIGtleSk7XHJcbmNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xyXG5jb25zdCBpc01hcCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSAnW29iamVjdCBNYXBdJztcclxuY29uc3QgaXNTZXQgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgU2V0XSc7XHJcbmNvbnN0IGlzRGF0ZSA9ICh2YWwpID0+IHZhbCBpbnN0YW5jZW9mIERhdGU7XHJcbmNvbnN0IGlzRnVuY3Rpb24gPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nO1xyXG5jb25zdCBpc1N0cmluZyA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xyXG5jb25zdCBpc1N5bWJvbCA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzeW1ib2wnO1xyXG5jb25zdCBpc09iamVjdCA9ICh2YWwpID0+IHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0JztcclxuY29uc3QgaXNQcm9taXNlID0gKHZhbCkgPT4ge1xyXG4gICAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwudGhlbikgJiYgaXNGdW5jdGlvbih2YWwuY2F0Y2gpO1xyXG59O1xyXG5jb25zdCBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XHJcbmNvbnN0IHRvVHlwZVN0cmluZyA9ICh2YWx1ZSkgPT4gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XHJcbmNvbnN0IHRvUmF3VHlwZSA9ICh2YWx1ZSkgPT4ge1xyXG4gICAgLy8gZXh0cmFjdCBcIlJhd1R5cGVcIiBmcm9tIHN0cmluZ3MgbGlrZSBcIltvYmplY3QgUmF3VHlwZV1cIlxyXG4gICAgcmV0dXJuIHRvVHlwZVN0cmluZyh2YWx1ZSkuc2xpY2UoOCwgLTEpO1xyXG59O1xyXG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xyXG5jb25zdCBpc0ludGVnZXJLZXkgPSAoa2V5KSA9PiBpc1N0cmluZyhrZXkpICYmXHJcbiAgICBrZXkgIT09ICdOYU4nICYmXHJcbiAgICBrZXlbMF0gIT09ICctJyAmJlxyXG4gICAgJycgKyBwYXJzZUludChrZXksIDEwKSA9PT0ga2V5O1xyXG5jb25zdCBpc1Jlc2VydmVkUHJvcCA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChcclxuLy8gdGhlIGxlYWRpbmcgY29tbWEgaXMgaW50ZW50aW9uYWwgc28gZW1wdHkgc3RyaW5nIFwiXCIgaXMgYWxzbyBpbmNsdWRlZFxyXG4nLGtleSxyZWYsJyArXHJcbiAgICAnb25Wbm9kZUJlZm9yZU1vdW50LG9uVm5vZGVNb3VudGVkLCcgK1xyXG4gICAgJ29uVm5vZGVCZWZvcmVVcGRhdGUsb25Wbm9kZVVwZGF0ZWQsJyArXHJcbiAgICAnb25Wbm9kZUJlZm9yZVVubW91bnQsb25Wbm9kZVVubW91bnRlZCcpO1xyXG5jb25zdCBjYWNoZVN0cmluZ0Z1bmN0aW9uID0gKGZuKSA9PiB7XHJcbiAgICBjb25zdCBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICByZXR1cm4gKChzdHIpID0+IHtcclxuICAgICAgICBjb25zdCBoaXQgPSBjYWNoZVtzdHJdO1xyXG4gICAgICAgIHJldHVybiBoaXQgfHwgKGNhY2hlW3N0cl0gPSBmbihzdHIpKTtcclxuICAgIH0pO1xyXG59O1xyXG5jb25zdCBjYW1lbGl6ZVJFID0gLy0oXFx3KS9nO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IGNhbWVsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiB7XHJcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoY2FtZWxpemVSRSwgKF8sIGMpID0+IChjID8gYy50b1VwcGVyQ2FzZSgpIDogJycpKTtcclxufSk7XHJcbmNvbnN0IGh5cGhlbmF0ZVJFID0gL1xcQihbQS1aXSkvZztcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCBoeXBoZW5hdGUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHN0ci5yZXBsYWNlKGh5cGhlbmF0ZVJFLCAnLSQxJykudG9Mb3dlckNhc2UoKSk7XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3QgY2FwaXRhbGl6ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpKTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB0b0hhbmRsZXJLZXkgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IChzdHIgPyBgb24ke2NhcGl0YWxpemUoc3RyKX1gIDogYGApKTtcclxuLy8gY29tcGFyZSB3aGV0aGVyIGEgdmFsdWUgaGFzIGNoYW5nZWQsIGFjY291bnRpbmcgZm9yIE5hTi5cclxuY29uc3QgaGFzQ2hhbmdlZCA9ICh2YWx1ZSwgb2xkVmFsdWUpID0+IHZhbHVlICE9PSBvbGRWYWx1ZSAmJiAodmFsdWUgPT09IHZhbHVlIHx8IG9sZFZhbHVlID09PSBvbGRWYWx1ZSk7XHJcbmNvbnN0IGludm9rZUFycmF5Rm5zID0gKGZucywgYXJnKSA9PiB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZuc1tpXShhcmcpO1xyXG4gICAgfVxyXG59O1xyXG5jb25zdCBkZWYgPSAob2JqLCBrZXksIHZhbHVlKSA9PiB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgdmFsdWVcclxuICAgIH0pO1xyXG59O1xyXG5jb25zdCB0b051bWJlciA9ICh2YWwpID0+IHtcclxuICAgIGNvbnN0IG4gPSBwYXJzZUZsb2F0KHZhbCk7XHJcbiAgICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xyXG59O1xyXG5sZXQgX2dsb2JhbFRoaXM7XHJcbmNvbnN0IGdldEdsb2JhbFRoaXMgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gKF9nbG9iYWxUaGlzIHx8XHJcbiAgICAgICAgKF9nbG9iYWxUaGlzID1cclxuICAgICAgICAgICAgdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICA/IGdsb2JhbFRoaXNcclxuICAgICAgICAgICAgICAgIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgPyBzZWxmXHJcbiAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHdpbmRvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGdsb2JhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7fSkpO1xyXG59O1xuXG5leHBvcnQgeyBFTVBUWV9BUlIsIEVNUFRZX09CSiwgTk8sIE5PT1AsIFBhdGNoRmxhZ05hbWVzLCBiYWJlbFBhcnNlckRlZmF1bHRQbHVnaW5zLCBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgZGVmLCBlc2NhcGVIdG1sLCBlc2NhcGVIdG1sQ29tbWVudCwgZXh0ZW5kLCBnZW5lcmF0ZUNvZGVGcmFtZSwgZ2V0R2xvYmFsVGhpcywgaGFzQ2hhbmdlZCwgaGFzT3duLCBoeXBoZW5hdGUsIGludm9rZUFycmF5Rm5zLCBpc0FycmF5LCBpc0Jvb2xlYW5BdHRyLCBpc0RhdGUsIGlzRnVuY3Rpb24sIGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCwgaXNIVE1MVGFnLCBpc0ludGVnZXJLZXksIGlzS25vd25BdHRyLCBpc01hcCwgaXNNb2RlbExpc3RlbmVyLCBpc05vVW5pdE51bWVyaWNTdHlsZVByb3AsIGlzT2JqZWN0LCBpc09uLCBpc1BsYWluT2JqZWN0LCBpc1Byb21pc2UsIGlzUmVzZXJ2ZWRQcm9wLCBpc1NTUlNhZmVBdHRyTmFtZSwgaXNTVkdUYWcsIGlzU2V0LCBpc1NwZWNpYWxCb29sZWFuQXR0ciwgaXNTdHJpbmcsIGlzU3ltYm9sLCBpc1ZvaWRUYWcsIGxvb3NlRXF1YWwsIGxvb3NlSW5kZXhPZiwgbWFrZU1hcCwgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVN0eWxlLCBvYmplY3RUb1N0cmluZywgcGFyc2VTdHJpbmdTdHlsZSwgcHJvcHNUb0F0dHJNYXAsIHJlbW92ZSwgc3RyaW5naWZ5U3R5bGUsIHRvRGlzcGxheVN0cmluZywgdG9IYW5kbGVyS2V5LCB0b051bWJlciwgdG9SYXdUeXBlLCB0b1R5cGVTdHJpbmcgfTtcbiIsIjx0ZW1wbGF0ZT5cbiAgICA8ZGl2IGlkPVwiYXBwXCI+XG4gICAgICAgIDxyb3V0ZXItdmlldyAvPlxuICAgIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbiAgICBleHBvcnQgZGVmYXVsdHtcbiAgICAgICAgZGF0YSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfVxuPC9zY3JpcHQ+XG5cblxuPHN0eWxlIHNjb3BlZD5cbiAgICAjYXBwe1xuICAgICAgICB3aWR0aDogNjAlO1xuICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICAgIG1pbi1oZWlnaHQ6IDUwMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZjJmNGY4O1xuICAgICAgICBtYXJnaW4tbGVmdDogMjAlO1xuICAgICAgICBtYXJnaW4tdG9wOiAxMDBweDtcbiAgICB9XG48L3N0eWxlPiIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImluZGV4XCI+XG4gICAgPGgyIGNsYXNzPVwidGl0bGVcIj7lm77niYfjgIHop4bpopHkuIrkvKDlsI/lt6Xlhbcg77yI5pSv5oyB5om56YeP5LiK5Lyg77yJPC9oMj5cbiAgICA8ZGl2IGNsYXNzPVwic2VhcmNoXCI+XG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICBjbGFzcz1cInVwbG9hZF9maWxlXCJcbiAgICAgICAgdi1tb2RlbD1cInZhbHVlXCJcbiAgICAgID5cbiAgICAgIDxkaXYgc3R5bGU9XCJ3aWR0aDoxMCVcIj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgIHN0eWxlPVwiZGlzcGxheTpub25lXCJcbiAgICAgICAgICBpZD1cImZpbGVcIlxuICAgICAgICAgIG11bHRpcGxlPVwibXVsdGlwbGVcIlxuICAgICAgICAgIEBjaGFuZ2U9XCJjaG9vc2VGaWxlKCRldmVudClcIlxuICAgICAgICA+XG4gICAgICAgIDxhXG4gICAgICAgICAgaHJlZj1cImphdmFzY3JpcHQ6O1wiXG4gICAgICAgICAgY2xhc3M9XCJjaG9vc2VcIlxuICAgICAgICAgIEBjbGljaz1cImJ0bkZpbGVcIlxuICAgICAgICA+6YCJ5oup5Zu+54mHPC9hPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IHN0eWxlPVwid2lkdGg6MTAlXCI+XG4gICAgICAgIDwhLS0gPGlucHV0IHR5cGU9XCJmaWxlXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIiBAY2xpY2s9XCJ1cGxvYWRGaWxlXCI+IC0tPlxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9XCJqYXZhc2NyaXB0OjtcIlxuICAgICAgICAgIGNsYXNzPVwiYnRuVXBsb2FkXCJcbiAgICAgICAgICBAY2xpY2s9XCJidG5VcGxvYWRcIlxuICAgICAgICA+5LiK5LygPC9hPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cbiAgICAgIDx0YWJsZT5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0aD7nvJblj7c8L3RoPlxuICAgICAgICAgICAgPHRoPuWcsOWdgDwvdGg+XG4gICAgICAgICAgICA8dGg+6aKE6KeIIDwvdGg+XG4gICAgICAgICAgICA8dGg+5pel5pyfPC90aD5cbiAgICAgICAgICAgIDx0aD7mk43kvZw8L3RoPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGhlYWQ+XG4gICAgICAgIDx0Ym9keT5cbiAgICAgICAgICA8dHJcbiAgICAgICAgICAgIHYtZm9yPVwiKGl0ZW0sIGluZGV4KSBpbiBkYXRhTGlzdFwiXG4gICAgICAgICAgICA6a2V5PVwiaW5kZXhcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDx0ZD57e2l0ZW0uaWR9fTwvdGQ+XG4gICAgICAgICAgICA8dGQ+e3tpdGVtLnVybH19PC90ZD5cbiAgICAgICAgICAgIDx0ZD48aW1nIDpzcmM9XCJpdGVtLnVybFwiIGFsdD1cIlwiIHN0eWxlPVwid2lkdGg6NTBweDtoZWlnaHQ6YXV0b1wiPjwvdGQ+XG4gICAgICAgICAgICA8dGQ+e3tpdGVtLnRpbWV9fTwvdGQ+XG4gICAgICAgICAgICA8dGQ+e3tpdGVtLnRpbWV9fTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IFwiXCIsXG4gICAgICBkYXRhTGlzdDogXCJcIlxuICAgIH07XG4gIH0sXG4gIGNyZWF0ZWQoKSB7XG4gICAgbGV0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6IG9yaWdpbiArIFwiL2dldEZpbGVcIixcbiAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICBkYXRhOiBcIlwiLFxuICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLCAvLyDlkYror4lqUXVlcnnkuI3opoHljrvlpITnkIblj5HpgIHnmoTmlbDmja5cbiAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZSwgLy8g5ZGK6K+JalF1ZXJ55LiN6KaB5Y676K6+572uQ29udGVudC1UeXBl6K+35rGC5aS0XG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgc2VsZi5kYXRhTGlzdCA9IHJlcztcbiAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgIH0sXG4gICAgICBmYWlsOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGJ0bkZpbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgJChcIiNmaWxlXCIpLmNsaWNrKCk7XG4gICAgfSxcbiAgICBjaG9vc2VGaWxlOiBmdW5jdGlvbihlKSB7XG4gICAgICBsZXQgbGVuID0gZS50YXJnZXQuZmlsZXMubGVuZ3RoO1xuICAgICAgbGV0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG4gICAgICBsZXQgZmlsZU5hbWUgPSBcIlwiO1xuICAgICAgbGV0IGZpbGUgPSBcIlwiO1xuICAgICAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgZmlsZSA9IGUudGFyZ2V0LmZpbGVzW2ldO1xuICAgICAgICBmaWxlTmFtZSA9IGUudGFyZ2V0LmZpbGVzW2ldLm5hbWU7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImZpbGVcIiArIGksIGZpbGUpO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJmaWxlTmFtZVwiICsgaSwgZmlsZU5hbWUpO1xuICAgICAgICB0aGlzLnZhbHVlICs9IGUudGFyZ2V0LmZpbGVzW2ldLm5hbWUgKyBcIiAgXCI7XG4gICAgICB9XG5cbiAgICAgICQuYWpheCh7XG4gICAgICAgIHVybDogb3JpZ2luICsgXCIvdXBsb2FkXCIsXG4gICAgICAgIHR5cGU6IFwicG9zdFwiLFxuICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsIC8vIOWRiuiviWpRdWVyeeS4jeimgeWOu+WkhOeQhuWPkemAgeeahOaVsOaNrlxuICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsIC8vIOWRiuiviWpRdWVyeeS4jeimgeWOu+iuvue9rkNvbnRlbnQtVHlwZeivt+axguWktFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICB9LFxuICAgICAgICBmYWlsOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGUudGFyZ2V0LmZpbGVzLmxlbmd0aCk7XG4gICAgfSxcbiAgICBidG5VcGxvYWQ6IGZ1bmN0aW9uKCkge31cbiAgfVxufTtcbjwvc2NyaXB0PlxuXG5cbjxzdHlsZSBzY29wZWQgPlxuYSB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn1cbi50aXRsZSB7XG4gIGNvbG9yOiAjOGU4MTg4O1xuICBwYWRkaW5nLXRvcDogMjVweDtcbiAgZGlzcGxheTogYmxvY2s7XG59XG4uc2VhcmNoIHtcbiAgZGlzcGxheTogZmxleDtcbiAgd2lkdGg6IDEwMCU7XG59XG4udXBsb2FkX2ZpbGUge1xuICBiYWNrZ3JvdW5kOiAjZWVlO1xuICBkaXNwbGF5OiBibG9jaztcbiAgd2lkdGg6IDgwJTtcbiAgaGVpZ2h0OiA0MHB4O1xuICBib3JkZXI6IDBweDtcbiAgb3V0bGluZTogbm9uZTtcbn1cbi5jaG9vc2Uge1xuICBkaXNwbGF5OiBibG9jaztcbiAgaGVpZ2h0OiA0MHB4O1xuICAvKiB3aWR0aDogMTAlOyAqL1xuICBiYWNrZ3JvdW5kOiAjNWE2YTdhO1xuICBjb2xvcjogI2ZmZjtcbiAgbGluZS1oZWlnaHQ6IDQwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5idG5VcGxvYWQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgaGVpZ2h0OiA0MHB4O1xuICAvKiB3aWR0aDogMTAlOyAqL1xuICBiYWNrZ3JvdW5kOiAjNGNiNmNiO1xuICBjb2xvcjogI2ZmZjtcbiAgbGluZS1oZWlnaHQ6IDQwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxudGFibGUge1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICBtYXJnaW46IDAgYXV0bztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luLXRvcDogMjBweDtcbn1cbnRhYmxlIHRkLFxudGFibGUgdGgge1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2FkOWVhO1xuICBjb2xvcjogIzY2NjtcbiAgaGVpZ2h0OiAzMHB4O1xufVxudGFibGUgdGhlYWQgdGgge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NlOGViO1xuICB3aWR0aDogMTAwcHg7XG59XG50YWJsZSB0cjpudGgtY2hpbGQob2RkKSB7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG59XG50YWJsZSB0cjpudGgtY2hpbGQoZXZlbikge1xuICBiYWNrZ3JvdW5kOiAjZjVmYWZhO1xufVxudGFibGUgdHIgdGR7XG4gICAgZm9udC1zaXplOiAxMnB4O1xufVxuPC9zdHlsZT5cbiIsIjx0ZW1wbGF0ZT5cbiAgICA8ZGl2IGNsYXNzPVwidGVzdFwiPlxuICAgICAgICBhYWFhZHNhZGFzZFxuICAgIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cblxuPC9zY3JpcHQ+XG5cblxuPHN0eWxlPlxuPC9zdHlsZT4iLCIvKiFcbiAgKiB2dWUtcm91dGVyIHY0LjAuMC1yYy4zXG4gICogKGMpIDIwMjAgRWR1YXJkbyBTYW4gTWFydGluIE1vcm90ZVxuICAqIEBsaWNlbnNlIE1JVFxuICAqL1xuaW1wb3J0IHsgZ2V0Q3VycmVudEluc3RhbmNlLCBpbmplY3QsIG9uVW5tb3VudGVkLCBvbkRlYWN0aXZhdGVkLCBvbkFjdGl2YXRlZCwgY29tcHV0ZWQsIHVucmVmLCBkZWZpbmVDb21wb25lbnQsIHJlYWN0aXZlLCBoLCBwcm92aWRlLCByZWYsIHdhdGNoLCBzaGFsbG93UmVmLCBuZXh0VGljayB9IGZyb20gJ3Z1ZSc7XG5cbmNvbnN0IGhhc1N5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCc7XHJcbmNvbnN0IFBvbHlTeW1ib2wgPSAobmFtZSkgPT4gXHJcbi8vIHZyID0gdnVlIHJvdXRlclxyXG5oYXNTeW1ib2xcclxuICAgID8gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdbdnVlLXJvdXRlcl06ICcgKyBuYW1lIDogbmFtZSlcclxuICAgIDogKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdbdnVlLXJvdXRlcl06ICcgOiAnX3ZyXycpICsgbmFtZTtcclxuLy8gcnZsbSA9IFJvdXRlciBWaWV3IExvY2F0aW9uIE1hdGNoZWRcclxuY29uc3QgbWF0Y2hlZFJvdXRlS2V5ID0gLyojX19QVVJFX18qLyBQb2x5U3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdyb3V0ZXIgdmlldyBsb2NhdGlvbiBtYXRjaGVkJyA6ICdydmxtJyk7XHJcbi8vIHJ2ZCA9IFJvdXRlciBWaWV3IERlcHRoXHJcbmNvbnN0IHZpZXdEZXB0aEtleSA9IC8qI19fUFVSRV9fKi8gUG9seVN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAncm91dGVyIHZpZXcgZGVwdGgnIDogJ3J2ZCcpO1xyXG4vKipcclxuICogQWxsb3dzIG92ZXJyaWRpbmcgdGhlIHJvdXRlciBpbnN0YW5jZSByZXR1cm5lZCBieSBgdXNlUm91dGVyYCBpbiB0ZXN0cy4gciBzdGFuZHMgZm9yIHJvdXRlclxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmNvbnN0IHJvdXRlcktleSA9IC8qI19fUFVSRV9fKi8gUG9seVN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAncm91dGVyJyA6ICdyJyk7XHJcbi8qKlxyXG4gKiBBbGxvd3Mgb3ZlcnJpZGluZyB0aGUgY3VycmVudCByb3V0ZSByZXR1cm5lZCBieSBgdXNlUm91dGVgIGluIHRlc3RzLiBybCBzdGFuZHMgZm9yIHJvdXRlIGxvY2F0aW9uXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuY29uc3Qgcm91dGVMb2NhdGlvbktleSA9IC8qI19fUFVSRV9fKi8gUG9seVN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAncm91dGUgbG9jYXRpb24nIDogJ3JsJyk7XG5cbmNvbnN0IGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuXG5mdW5jdGlvbiBpc0VTTW9kdWxlKG9iaikge1xyXG4gICAgcmV0dXJuIG9iai5fX2VzTW9kdWxlIHx8IChoYXNTeW1ib2wgJiYgb2JqW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdNb2R1bGUnKTtcclxufVxyXG5jb25zdCBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xyXG5mdW5jdGlvbiBhcHBseVRvUGFyYW1zKGZuLCBwYXJhbXMpIHtcclxuICAgIGNvbnN0IG5ld1BhcmFtcyA9IHt9O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbXNba2V5XTtcclxuICAgICAgICBuZXdQYXJhbXNba2V5XSA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKGZuKSA6IGZuKHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXdQYXJhbXM7XHJcbn1cclxubGV0IG5vb3AgPSAoKSA9PiB7IH07XG5cbmZ1bmN0aW9uIHdhcm4obXNnKSB7XHJcbiAgICAvLyBhdm9pZCB1c2luZyAuLi5hcmdzIGFzIGl0IGJyZWFrcyBpbiBvbGRlciBFZGdlIGJ1aWxkc1xyXG4gICAgY29uc3QgYXJncyA9IEFycmF5LmZyb20oYXJndW1lbnRzKS5zbGljZSgxKTtcclxuICAgIGNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLCBbJ1tWdWUgUm91dGVyIHdhcm5dOiAnICsgbXNnXS5jb25jYXQoYXJncykpO1xyXG59XG5cbmNvbnN0IFRSQUlMSU5HX1NMQVNIX1JFID0gL1xcLyQvO1xyXG5jb25zdCByZW1vdmVUcmFpbGluZ1NsYXNoID0gKHBhdGgpID0+IHBhdGgucmVwbGFjZShUUkFJTElOR19TTEFTSF9SRSwgJycpO1xyXG4vKipcclxuICogVHJhbnNmb3JtcyBhbiBVUkkgaW50byBhIG5vcm1hbGl6ZWQgaGlzdG9yeSBsb2NhdGlvblxyXG4gKlxyXG4gKiBAcGFyYW0gcGFyc2VRdWVyeVxyXG4gKiBAcGFyYW0gbG9jYXRpb24gLSBVUkkgdG8gbm9ybWFsaXplXHJcbiAqIEBwYXJhbSBjdXJyZW50TG9jYXRpb24gLSBjdXJyZW50IGFic29sdXRlIGxvY2F0aW9uLiBBbGxvd3MgcmVzb2x2aW5nIHJlbGF0aXZlXHJcbiAqIHBhdGhzLiBNdXN0IHN0YXJ0IHdpdGggYC9gLiBEZWZhdWx0cyB0byBgL2BcclxuICogQHJldHVybnMgYSBub3JtYWxpemVkIGhpc3RvcnkgbG9jYXRpb25cclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlVVJMKHBhcnNlUXVlcnksIGxvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24gPSAnLycpIHtcclxuICAgIGxldCBwYXRoLCBxdWVyeSA9IHt9LCBzZWFyY2hTdHJpbmcgPSAnJywgaGFzaCA9ICcnO1xyXG4gICAgLy8gQ291bGQgdXNlIFVSTCBhbmQgVVJMU2VhcmNoUGFyYW1zIGJ1dCBJRSAxMSBkb2Vzbid0IHN1cHBvcnQgaXRcclxuICAgIGNvbnN0IHNlYXJjaFBvcyA9IGxvY2F0aW9uLmluZGV4T2YoJz8nKTtcclxuICAgIGNvbnN0IGhhc2hQb3MgPSBsb2NhdGlvbi5pbmRleE9mKCcjJywgc2VhcmNoUG9zID4gLTEgPyBzZWFyY2hQb3MgOiAwKTtcclxuICAgIGlmIChzZWFyY2hQb3MgPiAtMSkge1xyXG4gICAgICAgIHBhdGggPSBsb2NhdGlvbi5zbGljZSgwLCBzZWFyY2hQb3MpO1xyXG4gICAgICAgIHNlYXJjaFN0cmluZyA9IGxvY2F0aW9uLnNsaWNlKHNlYXJjaFBvcyArIDEsIGhhc2hQb3MgPiAtMSA/IGhhc2hQb3MgOiBsb2NhdGlvbi5sZW5ndGgpO1xyXG4gICAgICAgIHF1ZXJ5ID0gcGFyc2VRdWVyeShzZWFyY2hTdHJpbmcpO1xyXG4gICAgfVxyXG4gICAgaWYgKGhhc2hQb3MgPiAtMSkge1xyXG4gICAgICAgIHBhdGggPSBwYXRoIHx8IGxvY2F0aW9uLnNsaWNlKDAsIGhhc2hQb3MpO1xyXG4gICAgICAgIC8vIGtlZXAgdGhlICMgY2hhcmFjdGVyXHJcbiAgICAgICAgaGFzaCA9IGxvY2F0aW9uLnNsaWNlKGhhc2hQb3MsIGxvY2F0aW9uLmxlbmd0aCk7XHJcbiAgICB9XHJcbiAgICAvLyBubyBzZWFyY2ggYW5kIG5vIHF1ZXJ5XHJcbiAgICBwYXRoID0gcmVzb2x2ZVJlbGF0aXZlUGF0aChwYXRoICE9IG51bGwgPyBwYXRoIDogbG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbik7XHJcbiAgICAvLyBlbXB0eSBwYXRoIG1lYW5zIGEgcmVsYXRpdmUgcXVlcnkgb3IgaGFzaCBgP2Zvbz1mYCwgYCN0aGluZ2BcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZnVsbFBhdGg6IHBhdGggKyAoc2VhcmNoU3RyaW5nICYmICc/JykgKyBzZWFyY2hTdHJpbmcgKyBoYXNoLFxyXG4gICAgICAgIHBhdGgsXHJcbiAgICAgICAgcXVlcnksXHJcbiAgICAgICAgaGFzaCxcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIFN0cmluZ2lmaWVzIGEgVVJMIG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW0gc3RyaW5naWZ5UXVlcnlcclxuICogQHBhcmFtIGxvY2F0aW9uXHJcbiAqL1xyXG5mdW5jdGlvbiBzdHJpbmdpZnlVUkwoc3RyaW5naWZ5UXVlcnksIGxvY2F0aW9uKSB7XHJcbiAgICBsZXQgcXVlcnkgPSBsb2NhdGlvbi5xdWVyeSA/IHN0cmluZ2lmeVF1ZXJ5KGxvY2F0aW9uLnF1ZXJ5KSA6ICcnO1xyXG4gICAgcmV0dXJuIGxvY2F0aW9uLnBhdGggKyAocXVlcnkgJiYgJz8nKSArIHF1ZXJ5ICsgKGxvY2F0aW9uLmhhc2ggfHwgJycpO1xyXG59XHJcbi8qKlxyXG4gKiBTdHJpcHMgb2ZmIHRoZSBiYXNlIGZyb20gdGhlIGJlZ2lubmluZyBvZiBhIGxvY2F0aW9uLnBhdGhuYW1lIGluIGEgbm9uXHJcbiAqIGNhc2Utc2Vuc2l0aXZlIHdheS5cclxuICpcclxuICogQHBhcmFtIHBhdGhuYW1lIC0gbG9jYXRpb24ucGF0aG5hbWVcclxuICogQHBhcmFtIGJhc2UgLSBiYXNlIHRvIHN0cmlwIG9mZlxyXG4gKi9cclxuZnVuY3Rpb24gc3RyaXBCYXNlKHBhdGhuYW1lLCBiYXNlKSB7XHJcbiAgICAvLyBubyBiYXNlIG9yIGJhc2UgaXMgbm90IGZvdW5kIGF0IHRoZSBiZWdpbm5pbmdcclxuICAgIGlmICghYmFzZSB8fCBwYXRobmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYmFzZS50b0xvd2VyQ2FzZSgpKSlcclxuICAgICAgICByZXR1cm4gcGF0aG5hbWU7XHJcbiAgICByZXR1cm4gcGF0aG5hbWUuc2xpY2UoYmFzZS5sZW5ndGgpIHx8ICcvJztcclxufVxyXG4vKipcclxuICogQ2hlY2tzIGlmIHR3byBSb3V0ZUxvY2F0aW9uIGFyZSBlcXVhbC4gVGhpcyBtZWFucyB0aGF0IGJvdGggbG9jYXRpb25zIGFyZVxyXG4gKiBwb2ludGluZyB0b3dhcmRzIHRoZSBzYW1lIHtAbGluayBSb3V0ZVJlY29yZH0gYW5kIHRoYXQgYWxsIGBwYXJhbXNgLCBgcXVlcnlgXHJcbiAqIHBhcmFtZXRlcnMgYW5kIGBoYXNoYCBhcmUgdGhlIHNhbWVcclxuICpcclxuICogQHBhcmFtIGEgLSBmaXJzdCB7QGxpbmsgUm91dGVMb2NhdGlvbn1cclxuICogQHBhcmFtIGIgLSBzZWNvbmQge0BsaW5rIFJvdXRlTG9jYXRpb259XHJcbiAqL1xyXG5mdW5jdGlvbiBpc1NhbWVSb3V0ZUxvY2F0aW9uKHN0cmluZ2lmeVF1ZXJ5LCBhLCBiKSB7XHJcbiAgICBsZXQgYUxhc3RJbmRleCA9IGEubWF0Y2hlZC5sZW5ndGggLSAxO1xyXG4gICAgbGV0IGJMYXN0SW5kZXggPSBiLm1hdGNoZWQubGVuZ3RoIC0gMTtcclxuICAgIHJldHVybiAoYUxhc3RJbmRleCA+IC0xICYmXHJcbiAgICAgICAgYUxhc3RJbmRleCA9PT0gYkxhc3RJbmRleCAmJlxyXG4gICAgICAgIGlzU2FtZVJvdXRlUmVjb3JkKGEubWF0Y2hlZFthTGFzdEluZGV4XSwgYi5tYXRjaGVkW2JMYXN0SW5kZXhdKSAmJlxyXG4gICAgICAgIGlzU2FtZVJvdXRlTG9jYXRpb25QYXJhbXMoYS5wYXJhbXMsIGIucGFyYW1zKSAmJlxyXG4gICAgICAgIHN0cmluZ2lmeVF1ZXJ5KGEucXVlcnkpID09PSBzdHJpbmdpZnlRdWVyeShiLnF1ZXJ5KSAmJlxyXG4gICAgICAgIGEuaGFzaCA9PT0gYi5oYXNoKTtcclxufVxyXG4vKipcclxuICogQ2hlY2sgaWYgdHdvIGBSb3V0ZVJlY29yZHNgIGFyZSBlcXVhbC4gVGFrZXMgaW50byBhY2NvdW50IGFsaWFzZXM6IHRoZXkgYXJlXHJcbiAqIGNvbnNpZGVyZWQgZXF1YWwgdG8gdGhlIGBSb3V0ZVJlY29yZGAgdGhleSBhcmUgYWxpYXNpbmcuXHJcbiAqXHJcbiAqIEBwYXJhbSBhIC0gZmlyc3Qge0BsaW5rIFJvdXRlUmVjb3JkfVxyXG4gKiBAcGFyYW0gYiAtIHNlY29uZCB7QGxpbmsgUm91dGVSZWNvcmR9XHJcbiAqL1xyXG5mdW5jdGlvbiBpc1NhbWVSb3V0ZVJlY29yZChhLCBiKSB7XHJcbiAgICAvLyBzaW5jZSB0aGUgb3JpZ2luYWwgcmVjb3JkIGhhcyBhbiB1bmRlZmluZWQgdmFsdWUgZm9yIGFsaWFzT2ZcclxuICAgIC8vIGJ1dCBhbGwgYWxpYXNlcyBwb2ludCB0byB0aGUgb3JpZ2luYWwgcmVjb3JkLCB0aGlzIHdpbGwgYWx3YXlzIGNvbXBhcmVcclxuICAgIC8vIHRoZSBvcmlnaW5hbCByZWNvcmRcclxuICAgIHJldHVybiAoYS5hbGlhc09mIHx8IGEpID09PSAoYi5hbGlhc09mIHx8IGIpO1xyXG59XHJcbmZ1bmN0aW9uIGlzU2FtZVJvdXRlTG9jYXRpb25QYXJhbXMoYSwgYikge1xyXG4gICAgaWYgKE9iamVjdC5rZXlzKGEpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIGZvciAobGV0IGtleSBpbiBhKSB7XHJcbiAgICAgICAgaWYgKCFpc1NhbWVSb3V0ZUxvY2F0aW9uUGFyYW1zVmFsdWUoYVtrZXldLCBiW2tleV0pKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBpc1NhbWVSb3V0ZUxvY2F0aW9uUGFyYW1zVmFsdWUoYSwgYikge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSlcclxuICAgICAgICA/IGlzRXF1aXZhbGVudEFycmF5KGEsIGIpXHJcbiAgICAgICAgOiBBcnJheS5pc0FycmF5KGIpXHJcbiAgICAgICAgICAgID8gaXNFcXVpdmFsZW50QXJyYXkoYiwgYSlcclxuICAgICAgICAgICAgOiBhID09PSBiO1xyXG59XHJcbi8qKlxyXG4gKiBDaGVjayBpZiB0d28gYXJyYXlzIGFyZSB0aGUgc2FtZSBvciBpZiBhbiBhcnJheSB3aXRoIG9uZSBzaW5nbGUgZW50cnkgaXMgdGhlXHJcbiAqIHNhbWUgYXMgYW5vdGhlciBwcmltaXRpdmUgdmFsdWUuIFVzZWQgdG8gY2hlY2sgcXVlcnkgYW5kIHBhcmFtZXRlcnNcclxuICpcclxuICogQHBhcmFtIGEgLSBhcnJheSBvZiB2YWx1ZXNcclxuICogQHBhcmFtIGIgLSBhcnJheSBvZiB2YWx1ZXMgb3IgYSBzaW5nbGUgdmFsdWVcclxuICovXHJcbmZ1bmN0aW9uIGlzRXF1aXZhbGVudEFycmF5KGEsIGIpIHtcclxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGIpXHJcbiAgICAgICAgPyBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgYS5ldmVyeSgodmFsdWUsIGkpID0+IHZhbHVlID09PSBiW2ldKVxyXG4gICAgICAgIDogYS5sZW5ndGggPT09IDEgJiYgYVswXSA9PT0gYjtcclxufVxyXG4vKipcclxuICogUmVzb2x2ZXMgYSByZWxhdGl2ZSBwYXRoIHRoYXQgc3RhcnRzIHdpdGggYC5gLlxyXG4gKlxyXG4gKiBAcGFyYW0gdG8gLSBwYXRoIGxvY2F0aW9uIHdlIGFyZSByZXNvbHZpbmdcclxuICogQHBhcmFtIGZyb20gLSBjdXJyZW50TG9jYXRpb24ucGF0aCwgc2hvdWxkIHN0YXJ0IHdpdGggYC9gXHJcbiAqL1xyXG5mdW5jdGlvbiByZXNvbHZlUmVsYXRpdmVQYXRoKHRvLCBmcm9tKSB7XHJcbiAgICBpZiAodG8uc3RhcnRzV2l0aCgnLycpKVxyXG4gICAgICAgIHJldHVybiB0bztcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWZyb20uc3RhcnRzV2l0aCgnLycpKSB7XHJcbiAgICAgICAgd2FybihgQ2Fubm90IHJlc29sdmUgYSByZWxhdGl2ZSBsb2NhdGlvbiB3aXRob3V0IGFuIGFic29sdXRlIHBhdGguIFRyeWluZyB0byByZXNvbHZlIFwiJHt0b31cIiBmcm9tIFwiJHtmcm9tfVwiLiBJdCBzaG91bGQgbG9vayBsaWtlIFwiLyR7ZnJvbX1cIi5gKTtcclxuICAgICAgICByZXR1cm4gdG87XHJcbiAgICB9XHJcbiAgICBpZiAoIXRvKVxyXG4gICAgICAgIHJldHVybiBmcm9tO1xyXG4gICAgY29uc3QgZnJvbVNlZ21lbnRzID0gZnJvbS5zcGxpdCgnLycpO1xyXG4gICAgY29uc3QgdG9TZWdtZW50cyA9IHRvLnNwbGl0KCcvJyk7XHJcbiAgICBsZXQgcG9zaXRpb24gPSBmcm9tU2VnbWVudHMubGVuZ3RoIC0gMTtcclxuICAgIGxldCB0b1Bvc2l0aW9uO1xyXG4gICAgbGV0IHNlZ21lbnQ7XHJcbiAgICBmb3IgKHRvUG9zaXRpb24gPSAwOyB0b1Bvc2l0aW9uIDwgdG9TZWdtZW50cy5sZW5ndGg7IHRvUG9zaXRpb24rKykge1xyXG4gICAgICAgIHNlZ21lbnQgPSB0b1NlZ21lbnRzW3RvUG9zaXRpb25dO1xyXG4gICAgICAgIC8vIGNhbid0IGdvIGJlbG93IHplcm9cclxuICAgICAgICBpZiAocG9zaXRpb24gPT09IDEgfHwgc2VnbWVudCA9PT0gJy4nKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICBpZiAoc2VnbWVudCA9PT0gJy4uJylcclxuICAgICAgICAgICAgcG9zaXRpb24tLTtcclxuICAgICAgICAvLyBmb3VuZCBzb21ldGhpbmcgdGhhdCBpcyBub3QgcmVsYXRpdmUgcGF0aFxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGZyb21TZWdtZW50cy5zbGljZSgwLCBwb3NpdGlvbikuam9pbignLycpICtcclxuICAgICAgICAnLycgK1xyXG4gICAgICAgIHRvU2VnbWVudHNcclxuICAgICAgICAgICAgLnNsaWNlKHRvUG9zaXRpb24gLSAodG9Qb3NpdGlvbiA9PT0gdG9TZWdtZW50cy5sZW5ndGggPyAxIDogMCkpXHJcbiAgICAgICAgICAgIC5qb2luKCcvJykpO1xyXG59XG5cbnZhciBOYXZpZ2F0aW9uVHlwZTtcclxuKGZ1bmN0aW9uIChOYXZpZ2F0aW9uVHlwZSkge1xyXG4gICAgTmF2aWdhdGlvblR5cGVbXCJwb3BcIl0gPSBcInBvcFwiO1xyXG4gICAgTmF2aWdhdGlvblR5cGVbXCJwdXNoXCJdID0gXCJwdXNoXCI7XHJcbn0pKE5hdmlnYXRpb25UeXBlIHx8IChOYXZpZ2F0aW9uVHlwZSA9IHt9KSk7XHJcbnZhciBOYXZpZ2F0aW9uRGlyZWN0aW9uO1xyXG4oZnVuY3Rpb24gKE5hdmlnYXRpb25EaXJlY3Rpb24pIHtcclxuICAgIE5hdmlnYXRpb25EaXJlY3Rpb25bXCJiYWNrXCJdID0gXCJiYWNrXCI7XHJcbiAgICBOYXZpZ2F0aW9uRGlyZWN0aW9uW1wiZm9yd2FyZFwiXSA9IFwiZm9yd2FyZFwiO1xyXG4gICAgTmF2aWdhdGlvbkRpcmVjdGlvbltcInVua25vd25cIl0gPSBcIlwiO1xyXG59KShOYXZpZ2F0aW9uRGlyZWN0aW9uIHx8IChOYXZpZ2F0aW9uRGlyZWN0aW9uID0ge30pKTtcclxuLyoqXHJcbiAqIFN0YXJ0aW5nIGxvY2F0aW9uIGZvciBIaXN0b3JpZXNcclxuICovXHJcbmNvbnN0IFNUQVJUID0gJyc7XHJcbi8vIEdlbmVyaWMgdXRpbHNcclxuLyoqXHJcbiAqIE5vcm1hbGl6ZXMgYSBiYXNlIGJ5IHJlbW92aW5nIGFueSB0cmFpbGluZyBzbGFzaCBhbmQgcmVhZGluZyB0aGUgYmFzZSB0YWcgaWZcclxuICogcHJlc2VudC5cclxuICpcclxuICogQHBhcmFtIGJhc2UgLSBiYXNlIHRvIG5vcm1hbGl6ZVxyXG4gKi9cclxuZnVuY3Rpb24gbm9ybWFsaXplQmFzZShiYXNlKSB7XHJcbiAgICBpZiAoIWJhc2UpIHtcclxuICAgICAgICBpZiAoaXNCcm93c2VyKSB7XHJcbiAgICAgICAgICAgIC8vIHJlc3BlY3QgPGJhc2U+IHRhZ1xyXG4gICAgICAgICAgICBjb25zdCBiYXNlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdiYXNlJyk7XHJcbiAgICAgICAgICAgIGJhc2UgPSAoYmFzZUVsICYmIGJhc2VFbC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkgfHwgJy8nO1xyXG4gICAgICAgICAgICAvLyBzdHJpcCBmdWxsIFVSTCBvcmlnaW5cclxuICAgICAgICAgICAgYmFzZSA9IGJhc2UucmVwbGFjZSgvXlxcdys6XFwvXFwvW15cXC9dKy8sICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGJhc2UgPSAnLyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gZW5zdXJlIGxlYWRpbmcgc2xhc2ggd2hlbiBpdCB3YXMgcmVtb3ZlZCBieSB0aGUgcmVnZXggYWJvdmUgYXZvaWQgbGVhZGluZ1xyXG4gICAgLy8gc2xhc2ggd2l0aCBoYXNoIGJlY2F1c2UgdGhlIGZpbGUgY291bGQgYmUgcmVhZCBmcm9tIHRoZSBkaXNrIGxpa2UgZmlsZTovL1xyXG4gICAgLy8gYW5kIHRoZSBsZWFkaW5nIHNsYXNoIHdvdWxkIGNhdXNlIHByb2JsZW1zXHJcbiAgICBpZiAoYmFzZVswXSAhPT0gJy8nICYmIGJhc2VbMF0gIT09ICcjJylcclxuICAgICAgICBiYXNlID0gJy8nICsgYmFzZTtcclxuICAgIC8vIHJlbW92ZSB0aGUgdHJhaWxpbmcgc2xhc2ggc28gYWxsIG90aGVyIG1ldGhvZCBjYW4ganVzdCBkbyBgYmFzZSArIGZ1bGxQYXRoYFxyXG4gICAgLy8gdG8gYnVpbGQgYW4gaHJlZlxyXG4gICAgcmV0dXJuIHJlbW92ZVRyYWlsaW5nU2xhc2goYmFzZSk7XHJcbn1cclxuLy8gcmVtb3ZlIGFueSBjaGFyYWN0ZXIgYmVmb3JlIHRoZSBoYXNoXHJcbmNvbnN0IEJFRk9SRV9IQVNIX1JFID0gL15bXiNdKyMvO1xyXG5mdW5jdGlvbiBjcmVhdGVIcmVmKGJhc2UsIGxvY2F0aW9uKSB7XHJcbiAgICByZXR1cm4gYmFzZS5yZXBsYWNlKEJFRk9SRV9IQVNIX1JFLCAnIycpICsgbG9jYXRpb247XHJcbn1cblxuZnVuY3Rpb24gZ2V0RWxlbWVudFBvc2l0aW9uKGVsLCBvZmZzZXQpIHtcclxuICAgIGNvbnN0IGRvY1JlY3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBjb25zdCBlbFJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYmVoYXZpb3I6IG9mZnNldC5iZWhhdmlvcixcclxuICAgICAgICBsZWZ0OiBlbFJlY3QubGVmdCAtIGRvY1JlY3QubGVmdCAtIChvZmZzZXQubGVmdCB8fCAwKSxcclxuICAgICAgICB0b3A6IGVsUmVjdC50b3AgLSBkb2NSZWN0LnRvcCAtIChvZmZzZXQudG9wIHx8IDApLFxyXG4gICAgfTtcclxufVxyXG5jb25zdCBjb21wdXRlU2Nyb2xsUG9zaXRpb24gPSAoKSA9PiAoe1xyXG4gICAgbGVmdDogd2luZG93LnBhZ2VYT2Zmc2V0LFxyXG4gICAgdG9wOiB3aW5kb3cucGFnZVlPZmZzZXQsXHJcbn0pO1xyXG5mdW5jdGlvbiBzY3JvbGxUb1Bvc2l0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICBsZXQgc2Nyb2xsVG9PcHRpb25zO1xyXG4gICAgaWYgKCdlbCcgaW4gcG9zaXRpb24pIHtcclxuICAgICAgICBsZXQgcG9zaXRpb25FbCA9IHBvc2l0aW9uLmVsO1xyXG4gICAgICAgIGNvbnN0IGlzSWRTZWxlY3RvciA9IHR5cGVvZiBwb3NpdGlvbkVsID09PSAnc3RyaW5nJyAmJiBwb3NpdGlvbkVsLnN0YXJ0c1dpdGgoJyMnKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBgaWRgcyBjYW4gYWNjZXB0IHByZXR0eSBtdWNoIGFueSBjaGFyYWN0ZXJzLCBpbmNsdWRpbmcgQ1NTIGNvbWJpbmF0b3JzXHJcbiAgICAgICAgICogbGlrZSBgPmAgb3IgYH5gLiBJdCdzIHN0aWxsIHBvc3NpYmxlIHRvIHJldHJpZXZlIGVsZW1lbnRzIHVzaW5nXHJcbiAgICAgICAgICogYGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd+JylgIGJ1dCBpdCBuZWVkcyB0byBiZSBlc2NhcGVkIHdoZW4gdXNpbmdcclxuICAgICAgICAgKiBgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1xcXFx+JylgIGZvciBpdCB0byBiZSB2YWxpZC4gVGhlIG9ubHlcclxuICAgICAgICAgKiByZXF1aXJlbWVudHMgZm9yIGBpZGBzIGFyZSB0aGVtIHRvIGJlIHVuaXF1ZSBvbiB0aGUgcGFnZSBhbmQgdG8gbm90IGJlXHJcbiAgICAgICAgICogZW1wdHkgKGBpZD1cIlwiYCkuIEJlY2F1c2Ugb2YgdGhhdCwgd2hlbiBwYXNzaW5nIGFuIGlkIHNlbGVjdG9yLCBpdCBzaG91bGRcclxuICAgICAgICAgKiBiZSBwcm9wZXJseSBlc2NhcGVkIGZvciBpdCB0byB3b3JrIHdpdGggYHF1ZXJ5U2VsZWN0b3JgLiBXZSBjb3VsZCBjaGVja1xyXG4gICAgICAgICAqIGZvciB0aGUgaWQgc2VsZWN0b3IgdG8gYmUgc2ltcGxlIChubyBDU1MgY29tYmluYXRvcnMgYCsgPn5gKSBidXQgdGhhdFxyXG4gICAgICAgICAqIHdvdWxkIG1ha2UgdGhpbmdzIGluY29uc2lzdGVudCBzaW5jZSB0aGV5IGFyZSB2YWxpZCBjaGFyYWN0ZXJzIGZvciBhblxyXG4gICAgICAgICAqIGBpZGAgYnV0IHdvdWxkIG5lZWQgdG8gYmUgZXNjYXBlZCB3aGVuIHVzaW5nIGBxdWVyeVNlbGVjdG9yYCwgYnJlYWtpbmdcclxuICAgICAgICAgKiB0aGVpciB1c2FnZSBhbmQgZW5kaW5nIHVwIGluIG5vIHNlbGVjdG9yIHJldHVybmVkLiBTZWxlY3RvcnMgbmVlZCB0byBiZVxyXG4gICAgICAgICAqIGVzY2FwZWQ6XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAtIGAjMS10aGluZ2AgYmVjb21lcyBgI1xcMzEgLXRoaW5nYFxyXG4gICAgICAgICAqIC0gYCN3aXRofnN5bWJvbHNgIGJlY29tZXMgYCN3aXRoXFxcXH5zeW1ib2xzYFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogLSBNb3JlIGluZm9ybWF0aW9uIGFib3V0ICB0aGUgdG9waWMgY2FuIGJlIGZvdW5kIGF0XHJcbiAgICAgICAgICogICBodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvaHRtbDUtaWQtY2xhc3MuXHJcbiAgICAgICAgICogLSBQcmFjdGljYWwgZXhhbXBsZTogaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vaHRtbDUtaWRcclxuICAgICAgICAgKi9cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHR5cGVvZiBwb3NpdGlvbi5lbCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgaWYgKCFpc0lkU2VsZWN0b3IgfHwgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uLmVsLnNsaWNlKDEpKSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZm91bmRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9zaXRpb24uZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lkU2VsZWN0b3IgJiYgZm91bmRFbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBUaGUgc2VsZWN0b3IgXCIke3Bvc2l0aW9uLmVsfVwiIHNob3VsZCBiZSBwYXNzZWQgYXMgXCJlbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignJHtwb3NpdGlvbi5lbH0nKVwiIGJlY2F1c2UgaXQgc3RhcnRzIHdpdGggXCIjXCIuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiB0byBhdm9pZCBvdGhlciB3YXJuaW5nc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYFRoZSBzZWxlY3RvciBcIiR7cG9zaXRpb24uZWx9XCIgaXMgaW52YWxpZC4gSWYgeW91IGFyZSB1c2luZyBhbiBpZCBzZWxlY3RvciwgbWFrZSBzdXJlIHRvIGVzY2FwZSBpdC4gWW91IGNhbiBmaW5kIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgZXNjYXBpbmcgY2hhcmFjdGVycyBpbiBzZWxlY3RvcnMgYXQgaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2Nzcy1lc2NhcGVzIG9yIHVzZSBDU1MuZXNjYXBlIChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ1NTL2VzY2FwZSkuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRvIGF2b2lkIG90aGVyIHdhcm5pbmdzXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGVsID0gdHlwZW9mIHBvc2l0aW9uRWwgPT09ICdzdHJpbmcnXHJcbiAgICAgICAgICAgID8gaXNJZFNlbGVjdG9yXHJcbiAgICAgICAgICAgICAgICA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uRWwuc2xpY2UoMSkpXHJcbiAgICAgICAgICAgICAgICA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9zaXRpb25FbClcclxuICAgICAgICAgICAgOiBwb3NpdGlvbkVsO1xyXG4gICAgICAgIGlmICghZWwpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBDb3VsZG4ndCBmaW5kIGVsZW1lbnQgdXNpbmcgc2VsZWN0b3IgXCIke3Bvc2l0aW9uLmVsfVwiIHJldHVybmVkIGJ5IHNjcm9sbEJlaGF2aW9yLmApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNjcm9sbFRvT3B0aW9ucyA9IGdldEVsZW1lbnRQb3NpdGlvbihlbCwgcG9zaXRpb24pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc2Nyb2xsVG9PcHRpb25zID0gcG9zaXRpb247XHJcbiAgICB9XHJcbiAgICBpZiAoJ3Njcm9sbEJlaGF2aW9yJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUpXHJcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKHNjcm9sbFRvT3B0aW9ucyk7XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oc2Nyb2xsVG9PcHRpb25zLmxlZnQgIT0gbnVsbCA/IHNjcm9sbFRvT3B0aW9ucy5sZWZ0IDogd2luZG93LnBhZ2VYT2Zmc2V0LCBzY3JvbGxUb09wdGlvbnMudG9wICE9IG51bGwgPyBzY3JvbGxUb09wdGlvbnMudG9wIDogd2luZG93LnBhZ2VZT2Zmc2V0KTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRTY3JvbGxLZXkocGF0aCwgZGVsdGEpIHtcclxuICAgIGNvbnN0IHBvc2l0aW9uID0gaGlzdG9yeS5zdGF0ZSA/IGhpc3Rvcnkuc3RhdGUucG9zaXRpb24gLSBkZWx0YSA6IC0xO1xyXG4gICAgcmV0dXJuIHBvc2l0aW9uICsgcGF0aDtcclxufVxyXG5jb25zdCBzY3JvbGxQb3NpdGlvbnMgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIHNhdmVTY3JvbGxQb3NpdGlvbihrZXksIHNjcm9sbFBvc2l0aW9uKSB7XHJcbiAgICBzY3JvbGxQb3NpdGlvbnMuc2V0KGtleSwgc2Nyb2xsUG9zaXRpb24pO1xyXG59XHJcbmZ1bmN0aW9uIGdldFNhdmVkU2Nyb2xsUG9zaXRpb24oa2V5KSB7XHJcbiAgICBjb25zdCBzY3JvbGwgPSBzY3JvbGxQb3NpdGlvbnMuZ2V0KGtleSk7XHJcbiAgICAvLyBjb25zdW1lIGl0IHNvIGl0J3Mgbm90IHVzZWQgYWdhaW5cclxuICAgIHNjcm9sbFBvc2l0aW9ucy5kZWxldGUoa2V5KTtcclxuICAgIHJldHVybiBzY3JvbGw7XHJcbn1cclxuLy8gVE9ETzogUkZDIGFib3V0IGhvdyB0byBzYXZlIHNjcm9sbCBwb3NpdGlvblxyXG4vKipcclxuICogU2Nyb2xsQmVoYXZpb3IgaW5zdGFuY2UgdXNlZCBieSB0aGUgcm91dGVyIHRvIGNvbXB1dGUgYW5kIHJlc3RvcmUgdGhlIHNjcm9sbFxyXG4gKiBwb3NpdGlvbiB3aGVuIG5hdmlnYXRpbmcuXHJcbiAqL1xyXG4vLyBleHBvcnQgaW50ZXJmYWNlIFNjcm9sbEhhbmRsZXI8U2Nyb2xsUG9zaXRpb25FbnRyeSBleHRlbmRzIEhpc3RvcnlTdGF0ZVZhbHVlLCBTY3JvbGxQb3NpdGlvbiBleHRlbmRzIFNjcm9sbFBvc2l0aW9uRW50cnk+IHtcclxuLy8gICAvLyByZXR1cm5zIGEgc2Nyb2xsIHBvc2l0aW9uIHRoYXQgY2FuIGJlIHNhdmVkIGluIGhpc3RvcnlcclxuLy8gICBjb21wdXRlKCk6IFNjcm9sbFBvc2l0aW9uRW50cnlcclxuLy8gICAvLyBjYW4gdGFrZSBhbiBleHRlbmRlZCBTY3JvbGxQb3NpdGlvbkVudHJ5XHJcbi8vICAgc2Nyb2xsKHBvc2l0aW9uOiBTY3JvbGxQb3NpdGlvbik6IHZvaWRcclxuLy8gfVxyXG4vLyBleHBvcnQgY29uc3Qgc2Nyb2xsSGFuZGxlcjogU2Nyb2xsSGFuZGxlcjxTY3JvbGxQb3NpdGlvbj4gPSB7XHJcbi8vICAgY29tcHV0ZTogY29tcHV0ZVNjcm9sbCxcclxuLy8gICBzY3JvbGw6IHNjcm9sbFRvUG9zaXRpb24sXHJcbi8vIH1cblxubGV0IGNyZWF0ZUJhc2VMb2NhdGlvbiA9ICgpID0+IGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIGxvY2F0aW9uLmhvc3Q7XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbm9ybWFsaXplZCBoaXN0b3J5IGxvY2F0aW9uIGZyb20gYSB3aW5kb3cubG9jYXRpb24gb2JqZWN0XHJcbiAqIEBwYXJhbSBsb2NhdGlvbiAtXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVDdXJyZW50TG9jYXRpb24oYmFzZSwgbG9jYXRpb24pIHtcclxuICAgIGNvbnN0IHsgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9ID0gbG9jYXRpb247XHJcbiAgICAvLyBhbGxvd3MgaGFzaCBiYXNlZCB1cmxcclxuICAgIGNvbnN0IGhhc2hQb3MgPSBiYXNlLmluZGV4T2YoJyMnKTtcclxuICAgIGlmIChoYXNoUG9zID4gLTEpIHtcclxuICAgICAgICAvLyBwcmVwZW5kIHRoZSBzdGFydGluZyBzbGFzaCB0byBoYXNoIHNvIHRoZSB1cmwgc3RhcnRzIHdpdGggLyNcclxuICAgICAgICBsZXQgcGF0aEZyb21IYXNoID0gaGFzaC5zbGljZSgxKTtcclxuICAgICAgICBpZiAocGF0aEZyb21IYXNoWzBdICE9PSAnLycpXHJcbiAgICAgICAgICAgIHBhdGhGcm9tSGFzaCA9ICcvJyArIHBhdGhGcm9tSGFzaDtcclxuICAgICAgICByZXR1cm4gc3RyaXBCYXNlKHBhdGhGcm9tSGFzaCwgJycpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcGF0aCA9IHN0cmlwQmFzZShwYXRobmFtZSwgYmFzZSk7XHJcbiAgICByZXR1cm4gcGF0aCArIHNlYXJjaCArIGhhc2g7XHJcbn1cclxuZnVuY3Rpb24gdXNlSGlzdG9yeUxpc3RlbmVycyhiYXNlLCBoaXN0b3J5U3RhdGUsIGN1cnJlbnRMb2NhdGlvbiwgcmVwbGFjZSkge1xyXG4gICAgbGV0IGxpc3RlbmVycyA9IFtdO1xyXG4gICAgbGV0IHRlYXJkb3ducyA9IFtdO1xyXG4gICAgLy8gVE9ETzogc2hvdWxkIGl0IGJlIGEgc3RhY2s/IGEgRGljdC4gQ2hlY2sgaWYgdGhlIHBvcHN0YXRlIGxpc3RlbmVyXHJcbiAgICAvLyBjYW4gdHJpZ2dlciB0d2ljZVxyXG4gICAgbGV0IHBhdXNlU3RhdGUgPSBudWxsO1xyXG4gICAgY29uc3QgcG9wU3RhdGVIYW5kbGVyID0gKHsgc3RhdGUsIH0pID0+IHtcclxuICAgICAgICBjb25zdCB0byA9IGNyZWF0ZUN1cnJlbnRMb2NhdGlvbihiYXNlLCBsb2NhdGlvbik7XHJcbiAgICAgICAgY29uc3QgZnJvbSA9IGN1cnJlbnRMb2NhdGlvbi52YWx1ZTtcclxuICAgICAgICBjb25zdCBmcm9tU3RhdGUgPSBoaXN0b3J5U3RhdGUudmFsdWU7XHJcbiAgICAgICAgbGV0IGRlbHRhID0gMDtcclxuICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgY3VycmVudExvY2F0aW9uLnZhbHVlID0gdG87XHJcbiAgICAgICAgICAgIGhpc3RvcnlTdGF0ZS52YWx1ZSA9IHN0YXRlO1xyXG4gICAgICAgICAgICAvLyBpZ25vcmUgdGhlIHBvcHN0YXRlIGFuZCByZXNldCB0aGUgcGF1c2VTdGF0ZVxyXG4gICAgICAgICAgICBpZiAocGF1c2VTdGF0ZSAmJiBwYXVzZVN0YXRlID09PSBmcm9tKSB7XHJcbiAgICAgICAgICAgICAgICBwYXVzZVN0YXRlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWx0YSA9IGZyb21TdGF0ZSA/IHN0YXRlLnBvc2l0aW9uIC0gZnJvbVN0YXRlLnBvc2l0aW9uIDogMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcGxhY2UodG8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh7IGRlbHRhRnJvbUN1cnJlbnQgfSlcclxuICAgICAgICAvLyBIZXJlIHdlIGNvdWxkIGFsc28gcmV2ZXJ0IHRoZSBuYXZpZ2F0aW9uIGJ5IGNhbGxpbmcgaGlzdG9yeS5nbygtZGVsdGEpXHJcbiAgICAgICAgLy8gdGhpcyBsaXN0ZW5lciB3aWxsIGhhdmUgdG8gYmUgYWRhcHRlZCB0byBub3QgdHJpZ2dlciBhZ2FpbiBhbmQgdG8gd2FpdCBmb3IgdGhlIHVybFxyXG4gICAgICAgIC8vIHRvIGJlIHVwZGF0ZWQgYmVmb3JlIHRyaWdnZXJpbmcgdGhlIGxpc3RlbmVycy4gU29tZSBraW5kIG9mIHZhbGlkYXRpb24gZnVuY3Rpb24gd291bGQgYWxzb1xyXG4gICAgICAgIC8vIG5lZWQgdG8gYmUgcGFzc2VkIHRvIHRoZSBsaXN0ZW5lcnMgc28gdGhlIG5hdmlnYXRpb24gY2FuIGJlIGFjY2VwdGVkXHJcbiAgICAgICAgLy8gY2FsbCBhbGwgbGlzdGVuZXJzXHJcbiAgICAgICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcihjdXJyZW50TG9jYXRpb24udmFsdWUsIGZyb20sIHtcclxuICAgICAgICAgICAgICAgIGRlbHRhLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogTmF2aWdhdGlvblR5cGUucG9wLFxyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBkZWx0YVxyXG4gICAgICAgICAgICAgICAgICAgID8gZGVsdGEgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gTmF2aWdhdGlvbkRpcmVjdGlvbi5mb3J3YXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogTmF2aWdhdGlvbkRpcmVjdGlvbi5iYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgOiBOYXZpZ2F0aW9uRGlyZWN0aW9uLnVua25vd24sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIHBhdXNlTGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHBhdXNlU3RhdGUgPSBjdXJyZW50TG9jYXRpb24udmFsdWU7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBsaXN0ZW4oY2FsbGJhY2spIHtcclxuICAgICAgICAvLyBzZXR1cCB0aGUgbGlzdGVuZXIgYW5kIHByZXBhcmUgdGVhcmRvd24gY2FsbGJhY2tzXHJcbiAgICAgICAgbGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgIGNvbnN0IHRlYXJkb3duID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRlYXJkb3ducy5wdXNoKHRlYXJkb3duKTtcclxuICAgICAgICByZXR1cm4gdGVhcmRvd247XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBiZWZvcmVVbmxvYWRMaXN0ZW5lcigpIHtcclxuICAgICAgICBjb25zdCB7IGhpc3RvcnkgfSA9IHdpbmRvdztcclxuICAgICAgICBpZiAoIWhpc3Rvcnkuc3RhdGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShhc3NpZ24oe30sIGhpc3Rvcnkuc3RhdGUsIHsgc2Nyb2xsOiBjb21wdXRlU2Nyb2xsUG9zaXRpb24oKSB9KSwgJycpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IHRlYXJkb3duIG9mIHRlYXJkb3ducylcclxuICAgICAgICAgICAgdGVhcmRvd24oKTtcclxuICAgICAgICB0ZWFyZG93bnMgPSBbXTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBwb3BTdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBiZWZvcmVVbmxvYWRMaXN0ZW5lcik7XHJcbiAgICB9XHJcbiAgICAvLyBzZXR1cCB0aGUgbGlzdGVuZXJzIGFuZCBwcmVwYXJlIHRlYXJkb3duIGNhbGxiYWNrc1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgcG9wU3RhdGVIYW5kbGVyKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBiZWZvcmVVbmxvYWRMaXN0ZW5lcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHBhdXNlTGlzdGVuZXJzLFxyXG4gICAgICAgIGxpc3RlbixcclxuICAgICAgICBkZXN0cm95LFxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIHN0YXRlIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gYnVpbGRTdGF0ZShiYWNrLCBjdXJyZW50LCBmb3J3YXJkLCByZXBsYWNlZCA9IGZhbHNlLCBjb21wdXRlU2Nyb2xsID0gZmFsc2UpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYmFjayxcclxuICAgICAgICBjdXJyZW50LFxyXG4gICAgICAgIGZvcndhcmQsXHJcbiAgICAgICAgcmVwbGFjZWQsXHJcbiAgICAgICAgcG9zaXRpb246IHdpbmRvdy5oaXN0b3J5Lmxlbmd0aCxcclxuICAgICAgICBzY3JvbGw6IGNvbXB1dGVTY3JvbGwgPyBjb21wdXRlU2Nyb2xsUG9zaXRpb24oKSA6IG51bGwsXHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIHVzZUhpc3RvcnlTdGF0ZU5hdmlnYXRpb24oYmFzZSkge1xyXG4gICAgY29uc3QgeyBoaXN0b3J5LCBsb2NhdGlvbiB9ID0gd2luZG93O1xyXG4gICAgLy8gcHJpdmF0ZSB2YXJpYWJsZXNcclxuICAgIGxldCBjdXJyZW50TG9jYXRpb24gPSB7XHJcbiAgICAgICAgdmFsdWU6IGNyZWF0ZUN1cnJlbnRMb2NhdGlvbihiYXNlLCBsb2NhdGlvbiksXHJcbiAgICB9O1xyXG4gICAgbGV0IGhpc3RvcnlTdGF0ZSA9IHsgdmFsdWU6IGhpc3Rvcnkuc3RhdGUgfTtcclxuICAgIC8vIGJ1aWxkIGN1cnJlbnQgaGlzdG9yeSBlbnRyeSBhcyB0aGlzIGlzIGEgZnJlc2ggbmF2aWdhdGlvblxyXG4gICAgaWYgKCFoaXN0b3J5U3RhdGUudmFsdWUpIHtcclxuICAgICAgICBjaGFuZ2VMb2NhdGlvbihjdXJyZW50TG9jYXRpb24udmFsdWUsIHtcclxuICAgICAgICAgICAgYmFjazogbnVsbCxcclxuICAgICAgICAgICAgY3VycmVudDogY3VycmVudExvY2F0aW9uLnZhbHVlLFxyXG4gICAgICAgICAgICBmb3J3YXJkOiBudWxsLFxyXG4gICAgICAgICAgICAvLyB0aGUgbGVuZ3RoIGlzIG9mZiBieSBvbmUsIHdlIG5lZWQgdG8gZGVjcmVhc2UgaXRcclxuICAgICAgICAgICAgcG9zaXRpb246IGhpc3RvcnkubGVuZ3RoIC0gMSxcclxuICAgICAgICAgICAgcmVwbGFjZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIC8vIGRvbid0IGFkZCBhIHNjcm9sbCBhcyB0aGUgdXNlciBtYXkgaGF2ZSBhbiBhbmNob3IgYW5kIHdlIHdhbnRcclxuICAgICAgICAgICAgLy8gc2Nyb2xsQmVoYXZpb3IgdG8gYmUgdHJpZ2dlcmVkIHdpdGhvdXQgYSBzYXZlZCBwb3NpdGlvblxyXG4gICAgICAgICAgICBzY3JvbGw6IG51bGwsXHJcbiAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VMb2NhdGlvbih0bywgc3RhdGUsIHJlcGxhY2UpIHtcclxuICAgICAgICAvLyB3aGVuIHRoZSBiYXNlIGhhcyBhIGAjYCwgb25seSB1c2UgdGhhdCBmb3IgdGhlIFVSTFxyXG4gICAgICAgIGNvbnN0IGhhc2hJbmRleCA9IGJhc2UuaW5kZXhPZignIycpO1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGhhc2hJbmRleCA+IC0xXHJcbiAgICAgICAgICAgID8gYmFzZS5zbGljZShoYXNoSW5kZXgpICsgdG9cclxuICAgICAgICAgICAgOiBjcmVhdGVCYXNlTG9jYXRpb24oKSArIGJhc2UgKyB0bztcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBCUk9XU0VSIFFVSVJLXHJcbiAgICAgICAgICAgIC8vIE5PVEU6IFNhZmFyaSB0aHJvd3MgYSBTZWN1cml0eUVycm9yIHdoZW4gY2FsbGluZyB0aGlzIGZ1bmN0aW9uIDEwMCB0aW1lcyBpbiAzMCBzZWNvbmRzXHJcbiAgICAgICAgICAgIGhpc3RvcnlbcmVwbGFjZSA/ICdyZXBsYWNlU3RhdGUnIDogJ3B1c2hTdGF0ZSddKHN0YXRlLCAnJywgdXJsKTtcclxuICAgICAgICAgICAgaGlzdG9yeVN0YXRlLnZhbHVlID0gc3RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybignRXJyb3Igd2l0aCBwdXNoL3JlcGxhY2UgU3RhdGUnLCBlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEZvcmNlIHRoZSBuYXZpZ2F0aW9uLCB0aGlzIGFsc28gcmVzZXRzIHRoZSBjYWxsIGNvdW50XHJcbiAgICAgICAgICAgIGxvY2F0aW9uW3JlcGxhY2UgPyAncmVwbGFjZScgOiAnYXNzaWduJ10odXJsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZXBsYWNlKHRvLCBkYXRhKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBhc3NpZ24oe30sIGhpc3Rvcnkuc3RhdGUsIGJ1aWxkU3RhdGUoaGlzdG9yeVN0YXRlLnZhbHVlLmJhY2ssIFxyXG4gICAgICAgIC8vIGtlZXAgYmFjayBhbmQgZm9yd2FyZCBlbnRyaWVzIGJ1dCBvdmVycmlkZSBjdXJyZW50IHBvc2l0aW9uXHJcbiAgICAgICAgdG8sIGhpc3RvcnlTdGF0ZS52YWx1ZS5mb3J3YXJkLCB0cnVlKSwgZGF0YSwgeyBwb3NpdGlvbjogaGlzdG9yeVN0YXRlLnZhbHVlLnBvc2l0aW9uIH0pO1xyXG4gICAgICAgIGNoYW5nZUxvY2F0aW9uKHRvLCBzdGF0ZSwgdHJ1ZSk7XHJcbiAgICAgICAgY3VycmVudExvY2F0aW9uLnZhbHVlID0gdG87XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwdXNoKHRvLCBkYXRhKSB7XHJcbiAgICAgICAgLy8gQWRkIHRvIGN1cnJlbnQgZW50cnkgdGhlIGluZm9ybWF0aW9uIG9mIHdoZXJlIHdlIGFyZSBnb2luZ1xyXG4gICAgICAgIC8vIGFzIHdlbGwgYXMgc2F2aW5nIHRoZSBjdXJyZW50IHBvc2l0aW9uXHJcbiAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gYXNzaWduKHt9LCBcclxuICAgICAgICAvLyB1c2UgY3VycmVudCBoaXN0b3J5IHN0YXRlIHRvIGdyYWNlZnVsbHkgaGFuZGxlIGEgd3JvbmcgY2FsbCB0b1xyXG4gICAgICAgIC8vIGhpc3RvcnkucmVwbGFjZVN0YXRlXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1yb3V0ZXItbmV4dC9pc3N1ZXMvMzY2XHJcbiAgICAgICAgaGlzdG9yeVN0YXRlLnZhbHVlLCBoaXN0b3J5LnN0YXRlLCB7XHJcbiAgICAgICAgICAgIGZvcndhcmQ6IHRvLFxyXG4gICAgICAgICAgICBzY3JvbGw6IGNvbXB1dGVTY3JvbGxQb3NpdGlvbigpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWhpc3Rvcnkuc3RhdGUpIHtcclxuICAgICAgICAgICAgd2FybihgaGlzdG9yeS5zdGF0ZSBzZWVtcyB0byBoYXZlIGJlZW4gbWFudWFsbHkgcmVwbGFjZWQgd2l0aG91dCBwcmVzZXJ2aW5nIHRoZSBuZWNlc3NhcnkgdmFsdWVzLiBNYWtlIHN1cmUgdG8gcHJlc2VydmUgZXhpc3RpbmcgaGlzdG9yeSBzdGF0ZSBpZiB5b3UgYXJlIG1hbnVhbGx5IGNhbGxpbmcgaGlzdG9yeS5yZXBsYWNlU3RhdGU6XFxuXFxuYCArXHJcbiAgICAgICAgICAgICAgICBgaGlzdG9yeS5yZXBsYWNlU3RhdGUoaGlzdG9yeS5zdGF0ZSwgJycsIHVybClcXG5cXG5gICtcclxuICAgICAgICAgICAgICAgIGBZb3UgY2FuIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhdCBodHRwczovL25leHQucm91dGVyLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vI3VzYWdlLW9mLWhpc3Rvcnktc3RhdGUuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoYW5nZUxvY2F0aW9uKGN1cnJlbnRTdGF0ZS5jdXJyZW50LCBjdXJyZW50U3RhdGUsIHRydWUpO1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gYXNzaWduKHt9LCBidWlsZFN0YXRlKGN1cnJlbnRMb2NhdGlvbi52YWx1ZSwgdG8sIG51bGwpLCB7IHBvc2l0aW9uOiBjdXJyZW50U3RhdGUucG9zaXRpb24gKyAxIH0sIGRhdGEpO1xyXG4gICAgICAgIGNoYW5nZUxvY2F0aW9uKHRvLCBzdGF0ZSwgZmFsc2UpO1xyXG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbi52YWx1ZSA9IHRvO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBsb2NhdGlvbjogY3VycmVudExvY2F0aW9uLFxyXG4gICAgICAgIHN0YXRlOiBoaXN0b3J5U3RhdGUsXHJcbiAgICAgICAgcHVzaCxcclxuICAgICAgICByZXBsYWNlLFxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhbiBIVE1MNSBoaXN0b3J5LiBNb3N0IGNvbW1vbiBoaXN0b3J5IGZvciBzaW5nbGUgcGFnZSBhcHBsaWNhdGlvbnMuXHJcbiAqXHJcbiAqIEBwYXJhbSBiYXNlIC1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVdlYkhpc3RvcnkoYmFzZSkge1xyXG4gICAgYmFzZSA9IG5vcm1hbGl6ZUJhc2UoYmFzZSk7XHJcbiAgICBjb25zdCBoaXN0b3J5TmF2aWdhdGlvbiA9IHVzZUhpc3RvcnlTdGF0ZU5hdmlnYXRpb24oYmFzZSk7XHJcbiAgICBjb25zdCBoaXN0b3J5TGlzdGVuZXJzID0gdXNlSGlzdG9yeUxpc3RlbmVycyhiYXNlLCBoaXN0b3J5TmF2aWdhdGlvbi5zdGF0ZSwgaGlzdG9yeU5hdmlnYXRpb24ubG9jYXRpb24sIGhpc3RvcnlOYXZpZ2F0aW9uLnJlcGxhY2UpO1xyXG4gICAgZnVuY3Rpb24gZ28oZGVsdGEsIHRyaWdnZXJMaXN0ZW5lcnMgPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKCF0cmlnZ2VyTGlzdGVuZXJzKVxyXG4gICAgICAgICAgICBoaXN0b3J5TGlzdGVuZXJzLnBhdXNlTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgaGlzdG9yeS5nbyhkZWx0YSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCByb3V0ZXJIaXN0b3J5ID0gYXNzaWduKHtcclxuICAgICAgICAvLyBpdCdzIG92ZXJyaWRkZW4gcmlnaHQgYWZ0ZXJcclxuICAgICAgICBsb2NhdGlvbjogJycsXHJcbiAgICAgICAgYmFzZSxcclxuICAgICAgICBnbyxcclxuICAgICAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLmJpbmQobnVsbCwgYmFzZSksXHJcbiAgICB9LCBoaXN0b3J5TmF2aWdhdGlvbiwgaGlzdG9yeUxpc3RlbmVycyk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocm91dGVySGlzdG9yeSwgJ2xvY2F0aW9uJywge1xyXG4gICAgICAgIGdldDogKCkgPT4gaGlzdG9yeU5hdmlnYXRpb24ubG9jYXRpb24udmFsdWUsXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyb3V0ZXJIaXN0b3J5LCAnc3RhdGUnLCB7XHJcbiAgICAgICAgZ2V0OiAoKSA9PiBoaXN0b3J5TmF2aWdhdGlvbi5zdGF0ZS52YWx1ZSxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJvdXRlckhpc3Rvcnk7XHJcbn1cblxuLyoqXHJcbiAqIENyZWF0ZXMgYSBpbi1tZW1vcnkgYmFzZWQgaGlzdG9yeS4gVGhlIG1haW4gcHVycG9zZSBvZiB0aGlzIGhpc3RvcnkgaXMgdG8gaGFuZGxlIFNTUi4gSXQgc3RhcnRzIGluIGEgc3BlY2lhbCBsb2NhdGlvbiB0aGF0IGlzIG5vd2hlcmUuXHJcbiAqIEl0J3MgdXAgdG8gdGhlIHVzZXIgdG8gcmVwbGFjZSB0aGF0IGxvY2F0aW9uIHdpdGggdGhlIHN0YXJ0ZXIgbG9jYXRpb24gYnkgZWl0aGVyIGNhbGxpbmcgYHJvdXRlci5wdXNoYCBvciBgcm91dGVyLnJlcGxhY2VgLlxyXG4gKlxyXG4gKiBAcGFyYW0gYmFzZSAtIEJhc2UgYXBwbGllZCB0byBhbGwgdXJscywgZGVmYXVsdHMgdG8gJy8nXHJcbiAqIEByZXR1cm5zIGEgaGlzdG9yeSBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSByb3V0ZXIgY29uc3RydWN0b3JcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUhpc3RvcnkoYmFzZSA9ICcnKSB7XHJcbiAgICBsZXQgbGlzdGVuZXJzID0gW107XHJcbiAgICBsZXQgcXVldWUgPSBbU1RBUlRdO1xyXG4gICAgbGV0IHBvc2l0aW9uID0gMDtcclxuICAgIGZ1bmN0aW9uIHNldExvY2F0aW9uKGxvY2F0aW9uKSB7XHJcbiAgICAgICAgcG9zaXRpb24rKztcclxuICAgICAgICBpZiAocG9zaXRpb24gPT09IHF1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyB3ZSBhcmUgYXQgdGhlIGVuZCwgd2UgY2FuIHNpbXBseSBhcHBlbmQgYSBuZXcgZW50cnlcclxuICAgICAgICAgICAgcXVldWUucHVzaChsb2NhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB3ZSBhcmUgaW4gdGhlIG1pZGRsZSwgd2UgcmVtb3ZlIGV2ZXJ5dGhpbmcgZnJvbSBoZXJlIGluIHRoZSBxdWV1ZVxyXG4gICAgICAgICAgICBxdWV1ZS5zcGxpY2UocG9zaXRpb24pO1xyXG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGxvY2F0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB0cmlnZ2VyTGlzdGVuZXJzKHRvLCBmcm9tLCB7IGRpcmVjdGlvbiwgZGVsdGEgfSkge1xyXG4gICAgICAgIGNvbnN0IGluZm8gPSB7XHJcbiAgICAgICAgICAgIGRpcmVjdGlvbixcclxuICAgICAgICAgICAgZGVsdGEsXHJcbiAgICAgICAgICAgIHR5cGU6IE5hdmlnYXRpb25UeXBlLnBvcCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGZvciAobGV0IGNhbGxiYWNrIG9mIGxpc3RlbmVycykge1xyXG4gICAgICAgICAgICBjYWxsYmFjayh0bywgZnJvbSwgaW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3Qgcm91dGVySGlzdG9yeSA9IHtcclxuICAgICAgICAvLyByZXdyaXR0ZW4gYnkgT2JqZWN0LmRlZmluZVByb3BlcnR5XHJcbiAgICAgICAgbG9jYXRpb246IFNUQVJULFxyXG4gICAgICAgIHN0YXRlOiB7fSxcclxuICAgICAgICBiYXNlLFxyXG4gICAgICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYuYmluZChudWxsLCBiYXNlKSxcclxuICAgICAgICByZXBsYWNlKHRvKSB7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBjdXJyZW50IGVudHJ5IGFuZCBkZWNyZW1lbnQgcG9zaXRpb25cclxuICAgICAgICAgICAgcXVldWUuc3BsaWNlKHBvc2l0aW9uLS0sIDEpO1xyXG4gICAgICAgICAgICBzZXRMb2NhdGlvbih0byk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwdXNoKHRvLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHNldExvY2F0aW9uKHRvKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxpc3RlbihjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVzdHJveSgpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXJzID0gW107XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnbyhkZWx0YSwgc2hvdWxkVHJpZ2dlciA9IHRydWUpIHtcclxuICAgICAgICAgICAgY29uc3QgZnJvbSA9IHRoaXMubG9jYXRpb247XHJcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IFxyXG4gICAgICAgICAgICAvLyB3ZSBhcmUgY29uc2lkZXJpbmcgZGVsdGEgPT09IDAgZ29pbmcgZm9yd2FyZCwgYnV0IGluIGFic3RyYWN0IG1vZGVcclxuICAgICAgICAgICAgLy8gdXNpbmcgMCBmb3IgdGhlIGRlbHRhIGRvZXNuJ3QgbWFrZSBzZW5zZSBsaWtlIGl0IGRvZXMgaW4gaHRtbDUgd2hlcmVcclxuICAgICAgICAgICAgLy8gaXQgcmVsb2FkcyB0aGUgcGFnZVxyXG4gICAgICAgICAgICBkZWx0YSA8IDAgPyBOYXZpZ2F0aW9uRGlyZWN0aW9uLmJhY2sgOiBOYXZpZ2F0aW9uRGlyZWN0aW9uLmZvcndhcmQ7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocG9zaXRpb24gKyBkZWx0YSwgcXVldWUubGVuZ3RoIC0gMSkpO1xyXG4gICAgICAgICAgICBpZiAoc2hvdWxkVHJpZ2dlcikge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckxpc3RlbmVycyh0aGlzLmxvY2F0aW9uLCBmcm9tLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyb3V0ZXJIaXN0b3J5LCAnbG9jYXRpb24nLCB7XHJcbiAgICAgICAgZ2V0OiAoKSA9PiBxdWV1ZVtwb3NpdGlvbl0sXHJcbiAgICB9KTtcclxuICAgIHJldHVybiByb3V0ZXJIaXN0b3J5O1xyXG59XG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgaGFzaCBoaXN0b3J5LiBVc2VmdWwgZm9yIHdlYiBhcHBsaWNhdGlvbnMgd2l0aCBubyBob3N0IChlLmcuXHJcbiAqIGBmaWxlOi8vYCkgb3Igd2hlbiBjb25maWd1cmluZyBhIHNlcnZlciB0byBoYW5kbGUgYW55IFVSTC5cclxuICpcclxuICogQHBhcmFtIGJhc2UgLSBvcHRpb25hbCBiYXNlIHRvIHByb3ZpZGUuIERlZmF1bHRzIHRvIGBsb2NhdGlvbi5wYXRobmFtZWAgb3JcclxuICogYC9gIGlmIGF0IHJvb3QuIElmIHRoZXJlIGlzIGEgYGJhc2VgIHRhZyBpbiB0aGUgYGhlYWRgLCBpdHMgdmFsdWUgd2lsbCBiZVxyXG4gKiAqKmlnbm9yZWQqKi5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBganNcclxuICogLy8gYXQgaHR0cHM6Ly9leGFtcGxlLmNvbS9mb2xkZXJcclxuICogY3JlYXRlV2ViSGFzaEhpc3RvcnkoKSAvLyBnaXZlcyBhIHVybCBvZiBgaHR0cHM6Ly9leGFtcGxlLmNvbS9mb2xkZXIjYFxyXG4gKiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgnL2ZvbGRlci8nKSAvLyBnaXZlcyBhIHVybCBvZiBgaHR0cHM6Ly9leGFtcGxlLmNvbS9mb2xkZXIvI2BcclxuICogLy8gaWYgdGhlIGAjYCBpcyBwcm92aWRlZCBpbiB0aGUgYmFzZSwgaXQgd29uJ3QgYmUgYWRkZWQgYnkgYGNyZWF0ZVdlYkhhc2hIaXN0b3J5YFxyXG4gKiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgnL2ZvbGRlci8jL2FwcC8nKSAvLyBnaXZlcyBhIHVybCBvZiBgaHR0cHM6Ly9leGFtcGxlLmNvbS9mb2xkZXIvIy9hcHAvYFxyXG4gKiAvLyB5b3Ugc2hvdWxkIGF2b2lkIGRvaW5nIHRoaXMgYmVjYXVzZSBpdCBjaGFuZ2VzIHRoZSBvcmlnaW5hbCB1cmwgYW5kIGJyZWFrcyBjb3B5aW5nIHVybHNcclxuICogY3JlYXRlV2ViSGFzaEhpc3RvcnkoJy9vdGhlci1mb2xkZXIvJykgLy8gZ2l2ZXMgYSB1cmwgb2YgYGh0dHBzOi8vZXhhbXBsZS5jb20vb3RoZXItZm9sZGVyLyNgXHJcbiAqXHJcbiAqIC8vIGF0IGZpbGU6Ly8vdXNyL2V0Yy9mb2xkZXIvaW5kZXguaHRtbFxyXG4gKiAvLyBmb3IgbG9jYXRpb25zIHdpdGggbm8gYGhvc3RgLCB0aGUgYmFzZSBpcyBpZ25vcmVkXHJcbiAqIGNyZWF0ZVdlYkhhc2hIaXN0b3J5KCcvaUFtSWdub3JlZCcpIC8vIGdpdmVzIGEgdXJsIG9mIGBmaWxlOi8vL3Vzci9ldGMvZm9sZGVyL2luZGV4Lmh0bWwjYFxyXG4gKiBgYGBcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVdlYkhhc2hIaXN0b3J5KGJhc2UpIHtcclxuICAgIC8vIE1ha2Ugc3VyZSB0aGlzIGltcGxlbWVudGF0aW9uIGlzIGZpbmUgaW4gdGVybXMgb2YgZW5jb2RpbmcsIHNwZWNpYWxseSBmb3IgSUUxMVxyXG4gICAgLy8gZm9yIGBmaWxlOi8vYCwgZGlyZWN0bHkgdXNlIHRoZSBwYXRobmFtZSBhbmQgaWdub3JlIHRoZSBiYXNlXHJcbiAgICAvLyBsb2NhdGlvbi5wYXRobmFtZSBjb250YWlucyBhbiBpbml0aWFsIGAvYCBldmVuIGF0IHRoZSByb290OiBgaHR0cHM6Ly9leGFtcGxlLmNvbWBcclxuICAgIGJhc2UgPSBsb2NhdGlvbi5ob3N0ID8gYmFzZSB8fCBsb2NhdGlvbi5wYXRobmFtZSA6ICcnO1xyXG4gICAgLy8gYWxsb3cgdGhlIHVzZXIgdG8gcHJvdmlkZSBhIGAjYCBpbiB0aGUgbWlkZGxlOiBgL2Jhc2UvIy9hcHBgXHJcbiAgICBpZiAoYmFzZS5pbmRleE9mKCcjJykgPCAwKVxyXG4gICAgICAgIGJhc2UgKz0gJyMnO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhYmFzZS5lbmRzV2l0aCgnIy8nKSAmJiAhYmFzZS5lbmRzV2l0aCgnIycpKSB7XHJcbiAgICAgICAgd2FybihgQSBoYXNoIGJhc2UgbXVzdCBlbmQgd2l0aCBhIFwiI1wiOlxcblwiJHtiYXNlfVwiIHNob3VsZCBiZSBcIiR7YmFzZS5yZXBsYWNlKC8jLiokLywgJyMnKX1cIi5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjcmVhdGVXZWJIaXN0b3J5KGJhc2UpO1xyXG59XG5cbmZ1bmN0aW9uIGlzUm91dGVMb2NhdGlvbihyb3V0ZSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiByb3V0ZSA9PT0gJ3N0cmluZycgfHwgKHJvdXRlICYmIHR5cGVvZiByb3V0ZSA9PT0gJ29iamVjdCcpO1xyXG59XHJcbmZ1bmN0aW9uIGlzUm91dGVOYW1lKG5hbWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5hbWUgPT09ICdzeW1ib2wnO1xyXG59XG5cbi8qKlxyXG4gKiBJbml0aWFsIHJvdXRlIGxvY2F0aW9uIHdoZXJlIHRoZSByb3V0ZXIgaXMuIENhbiBiZSB1c2VkIGluIG5hdmlnYXRpb24gZ3VhcmRzXHJcbiAqIHRvIGRpZmZlcmVudGlhdGUgdGhlIGluaXRpYWwgbmF2aWdhdGlvbi5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBganNcclxuICogaW1wb3J0IHsgU1RBUlRfTE9DQVRJT04gfSBmcm9tICd2dWUtcm91dGVyJ1xyXG4gKlxyXG4gKiByb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20pID0+IHtcclxuICogICBpZiAoZnJvbSA9PT0gU1RBUlRfTE9DQVRJT04pIHtcclxuICogICAgIC8vIGluaXRpYWwgbmF2aWdhdGlvblxyXG4gKiAgIH1cclxuICogfSlcclxuICogYGBgXHJcbiAqL1xyXG5jb25zdCBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEID0ge1xyXG4gICAgcGF0aDogJy8nLFxyXG4gICAgbmFtZTogdW5kZWZpbmVkLFxyXG4gICAgcGFyYW1zOiB7fSxcclxuICAgIHF1ZXJ5OiB7fSxcclxuICAgIGhhc2g6ICcnLFxyXG4gICAgZnVsbFBhdGg6ICcvJyxcclxuICAgIG1hdGNoZWQ6IFtdLFxyXG4gICAgbWV0YToge30sXHJcbiAgICByZWRpcmVjdGVkRnJvbTogdW5kZWZpbmVkLFxyXG59O1xuXG5jb25zdCBOYXZpZ2F0aW9uRmFpbHVyZVN5bWJvbCA9IC8qI19fUFVSRV9fKi8gUG9seVN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnbmF2aWdhdGlvbiBmYWlsdXJlJyA6ICduZicpO1xyXG4vKipcclxuICogRW51bWVyYXRpb24gd2l0aCBhbGwgcG9zc2libGUgdHlwZXMgZm9yIG5hdmlnYXRpb24gZmFpbHVyZXMuIENhbiBiZSBwYXNzZWQgdG9cclxuICoge0BsaW5rIGlzTmF2aWdhdGlvbkZhaWx1cmV9IHRvIGNoZWNrIGZvciBzcGVjaWZpYyBmYWlsdXJlcy5cclxuICovXHJcbnZhciBOYXZpZ2F0aW9uRmFpbHVyZVR5cGU7XHJcbihmdW5jdGlvbiAoTmF2aWdhdGlvbkZhaWx1cmVUeXBlKSB7XHJcbiAgICAvKipcclxuICAgICAqIEFuIGFib3J0ZWQgbmF2aWdhdGlvbiBpcyBhIG5hdmlnYXRpb24gdGhhdCBmYWlsZWQgYmVjYXVzZSBhIG5hdmlnYXRpb25cclxuICAgICAqIGd1YXJkIHJldHVybmVkIGBmYWxzZWAgb3IgY2FsbGVkIGBuZXh0KGZhbHNlKWBcclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbkZhaWx1cmVUeXBlW05hdmlnYXRpb25GYWlsdXJlVHlwZVtcImFib3J0ZWRcIl0gPSA0XSA9IFwiYWJvcnRlZFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBBIGNhbmNlbGxlZCBuYXZpZ2F0aW9uIGlzIGEgbmF2aWdhdGlvbiB0aGF0IGZhaWxlZCBiZWNhdXNlIGEgbW9yZSByZWNlbnRcclxuICAgICAqIG5hdmlnYXRpb24gZmluaXNoZWQgc3RhcnRlZCAobm90IG5lY2Vzc2FyaWx5IGZpbmlzaGVkKS5cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbkZhaWx1cmVUeXBlW05hdmlnYXRpb25GYWlsdXJlVHlwZVtcImNhbmNlbGxlZFwiXSA9IDhdID0gXCJjYW5jZWxsZWRcIjtcclxuICAgIC8qKlxyXG4gICAgICogQSBkdXBsaWNhdGVkIG5hdmlnYXRpb24gaXMgYSBuYXZpZ2F0aW9uIHRoYXQgZmFpbGVkIGJlY2F1c2UgaXQgd2FzXHJcbiAgICAgKiBpbml0aWF0ZWQgd2hpbGUgYWxyZWFkeSBiZWluZyBhdCB0aGUgZXhhY3Qgc2FtZSBsb2NhdGlvbi5cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbkZhaWx1cmVUeXBlW05hdmlnYXRpb25GYWlsdXJlVHlwZVtcImR1cGxpY2F0ZWRcIl0gPSAxNl0gPSBcImR1cGxpY2F0ZWRcIjtcclxufSkoTmF2aWdhdGlvbkZhaWx1cmVUeXBlIHx8IChOYXZpZ2F0aW9uRmFpbHVyZVR5cGUgPSB7fSkpO1xyXG4vLyBERVYgb25seSBkZWJ1ZyBtZXNzYWdlc1xyXG5jb25zdCBFcnJvclR5cGVNZXNzYWdlcyA9IHtcclxuICAgIFsxIC8qIE1BVENIRVJfTk9UX0ZPVU5EICovXSh7IGxvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24gfSkge1xyXG4gICAgICAgIHJldHVybiBgTm8gbWF0Y2ggZm9yXFxuICR7SlNPTi5zdHJpbmdpZnkobG9jYXRpb24pfSR7Y3VycmVudExvY2F0aW9uXHJcbiAgICAgICAgICAgID8gJ1xcbndoaWxlIGJlaW5nIGF0XFxuJyArIEpTT04uc3RyaW5naWZ5KGN1cnJlbnRMb2NhdGlvbilcclxuICAgICAgICAgICAgOiAnJ31gO1xyXG4gICAgfSxcclxuICAgIFsyIC8qIE5BVklHQVRJT05fR1VBUkRfUkVESVJFQ1QgKi9dKHsgZnJvbSwgdG8sIH0pIHtcclxuICAgICAgICByZXR1cm4gYFJlZGlyZWN0ZWQgZnJvbSBcIiR7ZnJvbS5mdWxsUGF0aH1cIiB0byBcIiR7c3RyaW5naWZ5Um91dGUodG8pfVwiIHZpYSBhIG5hdmlnYXRpb24gZ3VhcmQuYDtcclxuICAgIH0sXHJcbiAgICBbNCAvKiBOQVZJR0FUSU9OX0FCT1JURUQgKi9dKHsgZnJvbSwgdG8gfSkge1xyXG4gICAgICAgIHJldHVybiBgTmF2aWdhdGlvbiBhYm9ydGVkIGZyb20gXCIke2Zyb20uZnVsbFBhdGh9XCIgdG8gXCIke3RvLmZ1bGxQYXRofVwiIHZpYSBhIG5hdmlnYXRpb24gZ3VhcmQuYDtcclxuICAgIH0sXHJcbiAgICBbOCAvKiBOQVZJR0FUSU9OX0NBTkNFTExFRCAqL10oeyBmcm9tLCB0byB9KSB7XHJcbiAgICAgICAgcmV0dXJuIGBOYXZpZ2F0aW9uIGNhbmNlbGxlZCBmcm9tIFwiJHtmcm9tLmZ1bGxQYXRofVwiIHRvIFwiJHt0by5mdWxsUGF0aH1cIiB3aXRoIGEgbmV3IG5hdmlnYXRpb24uYDtcclxuICAgIH0sXHJcbiAgICBbMTYgLyogTkFWSUdBVElPTl9EVVBMSUNBVEVEICovXSh7IGZyb20sIHRvIH0pIHtcclxuICAgICAgICByZXR1cm4gYEF2b2lkZWQgcmVkdW5kYW50IG5hdmlnYXRpb24gdG8gY3VycmVudCBsb2NhdGlvbjogXCIke2Zyb20uZnVsbFBhdGh9XCIuYDtcclxuICAgIH0sXHJcbn07XHJcbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlckVycm9yKHR5cGUsIHBhcmFtcykge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAhdHJ1ZSkge1xyXG4gICAgICAgIHJldHVybiBhc3NpZ24obmV3IEVycm9yKEVycm9yVHlwZU1lc3NhZ2VzW3R5cGVdKHBhcmFtcykpLCB7XHJcbiAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgIFtOYXZpZ2F0aW9uRmFpbHVyZVN5bWJvbF06IHRydWUsXHJcbiAgICAgICAgfSwgcGFyYW1zKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBhc3NpZ24obmV3IEVycm9yKCksIHtcclxuICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgW05hdmlnYXRpb25GYWlsdXJlU3ltYm9sXTogdHJ1ZSxcclxuICAgICAgICB9LCBwYXJhbXMpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzTmF2aWdhdGlvbkZhaWx1cmUoZXJyb3IsIHR5cGUpIHtcclxuICAgIHJldHVybiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJlxyXG4gICAgICAgIE5hdmlnYXRpb25GYWlsdXJlU3ltYm9sIGluIGVycm9yICYmXHJcbiAgICAgICAgKHR5cGUgPT0gbnVsbCB8fCAhIShlcnJvci50eXBlICYgdHlwZSkpKTtcclxufVxyXG5jb25zdCBwcm9wZXJ0aWVzVG9Mb2cgPSBbJ3BhcmFtcycsICdxdWVyeScsICdoYXNoJ107XHJcbmZ1bmN0aW9uIHN0cmluZ2lmeVJvdXRlKHRvKSB7XHJcbiAgICBpZiAodHlwZW9mIHRvID09PSAnc3RyaW5nJylcclxuICAgICAgICByZXR1cm4gdG87XHJcbiAgICBpZiAoJ3BhdGgnIGluIHRvKVxyXG4gICAgICAgIHJldHVybiB0by5wYXRoO1xyXG4gICAgY29uc3QgbG9jYXRpb24gPSB7fTtcclxuICAgIGZvciAoY29uc3Qga2V5IG9mIHByb3BlcnRpZXNUb0xvZykge1xyXG4gICAgICAgIGlmIChrZXkgaW4gdG8pXHJcbiAgICAgICAgICAgIGxvY2F0aW9uW2tleV0gPSB0b1trZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGxvY2F0aW9uLCBudWxsLCAyKTtcclxufVxuXG4vLyBkZWZhdWx0IHBhdHRlcm4gZm9yIGEgcGFyYW06IG5vbiBncmVlZHkgZXZlcnl0aGluZyBidXQgL1xyXG5jb25zdCBCQVNFX1BBUkFNX1BBVFRFUk4gPSAnW14vXSs/JztcclxuY29uc3QgQkFTRV9QQVRIX1BBUlNFUl9PUFRJT05TID0ge1xyXG4gICAgc2Vuc2l0aXZlOiBmYWxzZSxcclxuICAgIHN0cmljdDogZmFsc2UsXHJcbiAgICBzdGFydDogdHJ1ZSxcclxuICAgIGVuZDogdHJ1ZSxcclxufTtcclxuLy8gU3BlY2lhbCBSZWdleCBjaGFyYWN0ZXJzIHRoYXQgbXVzdCBiZSBlc2NhcGVkIGluIHN0YXRpYyB0b2tlbnNcclxuY29uc3QgUkVHRVhfQ0hBUlNfUkUgPSAvWy4rKj9eJHt9KClbXFxdL1xcXFxdL2c7XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgcGF0aCBwYXJzZXIgZnJvbSBhbiBhcnJheSBvZiBTZWdtZW50cyAoYSBzZWdtZW50IGlzIGFuIGFycmF5IG9mIFRva2VucylcclxuICpcclxuICogQHBhcmFtIHNlZ21lbnRzIC0gYXJyYXkgb2Ygc2VnbWVudHMgcmV0dXJuZWQgYnkgdG9rZW5pemVQYXRoXHJcbiAqIEBwYXJhbSBleHRyYU9wdGlvbnMgLSBvcHRpb25hbCBvcHRpb25zIGZvciB0aGUgcmVnZXhwXHJcbiAqIEByZXR1cm5zIGEgUGF0aFBhcnNlclxyXG4gKi9cclxuZnVuY3Rpb24gdG9rZW5zVG9QYXJzZXIoc2VnbWVudHMsIGV4dHJhT3B0aW9ucykge1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IGFzc2lnbih7fSwgQkFTRV9QQVRIX1BBUlNFUl9PUFRJT05TLCBleHRyYU9wdGlvbnMpO1xyXG4gICAgLy8gdGhlIGFtb3VudCBvZiBzY29yZXMgaXMgdGhlIHNhbWUgYXMgdGhlIGxlbmd0aCBvZiBzZWdtZW50cyBleGNlcHQgZm9yIHRoZSByb290IHNlZ21lbnQgXCIvXCJcclxuICAgIGxldCBzY29yZSA9IFtdO1xyXG4gICAgLy8gdGhlIHJlZ2V4cCBhcyBhIHN0cmluZ1xyXG4gICAgbGV0IHBhdHRlcm4gPSBvcHRpb25zLnN0YXJ0ID8gJ14nIDogJyc7XHJcbiAgICAvLyBleHRyYWN0ZWQga2V5c1xyXG4gICAgY29uc3Qga2V5cyA9IFtdO1xyXG4gICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzKSB7XHJcbiAgICAgICAgLy8gdGhlIHJvb3Qgc2VnbWVudCBuZWVkcyBzcGVjaWFsIHRyZWF0bWVudFxyXG4gICAgICAgIGNvbnN0IHNlZ21lbnRTY29yZXMgPSBzZWdtZW50Lmxlbmd0aCA/IFtdIDogWzkwIC8qIFJvb3QgKi9dO1xyXG4gICAgICAgIC8vIGFsbG93IHRyYWlsaW5nIHNsYXNoXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuc3RyaWN0ICYmICFzZWdtZW50Lmxlbmd0aClcclxuICAgICAgICAgICAgcGF0dGVybiArPSAnLyc7XHJcbiAgICAgICAgZm9yIChsZXQgdG9rZW5JbmRleCA9IDA7IHRva2VuSW5kZXggPCBzZWdtZW50Lmxlbmd0aDsgdG9rZW5JbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gc2VnbWVudFt0b2tlbkluZGV4XTtcclxuICAgICAgICAgICAgLy8gcmVzZXRzIHRoZSBzY29yZSBpZiB3ZSBhcmUgaW5zaWRlIGEgc3ViIHNlZ21lbnQgLzphLW90aGVyLTpiXHJcbiAgICAgICAgICAgIGxldCBzdWJTZWdtZW50U2NvcmUgPSA0MCAvKiBTZWdtZW50ICovICtcclxuICAgICAgICAgICAgICAgIChvcHRpb25zLnNlbnNpdGl2ZSA/IDAuMjUgLyogQm9udXNDYXNlU2Vuc2l0aXZlICovIDogMCk7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSAwIC8qIFN0YXRpYyAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gcHJlcGVuZCB0aGUgc2xhc2ggaWYgd2UgYXJlIHN0YXJ0aW5nIGEgbmV3IHNlZ21lbnRcclxuICAgICAgICAgICAgICAgIGlmICghdG9rZW5JbmRleClcclxuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuICs9ICcvJztcclxuICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gdG9rZW4udmFsdWUucmVwbGFjZShSRUdFWF9DSEFSU19SRSwgJ1xcXFwkJicpO1xyXG4gICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IDQwIC8qIFN0YXRpYyAqLztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0b2tlbi50eXBlID09PSAxIC8qIFBhcmFtICovKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlLCByZXBlYXRhYmxlLCBvcHRpb25hbCwgcmVnZXhwIH0gPSB0b2tlbjtcclxuICAgICAgICAgICAgICAgIGtleXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0YWJsZSxcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25hbCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmUgPSByZWdleHAgPyByZWdleHAgOiBCQVNFX1BBUkFNX1BBVFRFUk47XHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgdXNlciBwcm92aWRlZCBhIGN1c3RvbSByZWdleHAgLzppZChcXFxcZCspXHJcbiAgICAgICAgICAgICAgICBpZiAocmUgIT09IEJBU0VfUEFSQU1fUEFUVEVSTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YlNlZ21lbnRTY29yZSArPSAxMCAvKiBCb251c0N1c3RvbVJlZ0V4cCAqLztcclxuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHJlZ2V4cCBpcyB2YWxpZCBiZWZvcmUgdXNpbmcgaXRcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKGAoJHtyZX0pYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGN1c3RvbSBSZWdFeHAgZm9yIHBhcmFtIFwiJHt2YWx1ZX1cIiAoJHtyZX0pOiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHdlIHJlcGVhdCB3ZSBtdXN0IHRha2UgY2FyZSBvZiB0aGUgcmVwZWF0aW5nIGxlYWRpbmcgc2xhc2hcclxuICAgICAgICAgICAgICAgIGxldCBzdWJQYXR0ZXJuID0gcmVwZWF0YWJsZSA/IGAoKD86JHtyZX0pKD86Lyg/OiR7cmV9KSkqKWAgOiBgKCR7cmV9KWA7XHJcbiAgICAgICAgICAgICAgICAvLyBwcmVwZW5kIHRoZSBzbGFzaCBpZiB3ZSBhcmUgc3RhcnRpbmcgYSBuZXcgc2VnbWVudFxyXG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbkluZGV4KVxyXG4gICAgICAgICAgICAgICAgICAgIHN1YlBhdHRlcm4gPSBvcHRpb25hbCA/IGAoPzovJHtzdWJQYXR0ZXJufSlgIDogJy8nICsgc3ViUGF0dGVybjtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25hbClcclxuICAgICAgICAgICAgICAgICAgICBzdWJQYXR0ZXJuICs9ICc/JztcclxuICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gc3ViUGF0dGVybjtcclxuICAgICAgICAgICAgICAgIHN1YlNlZ21lbnRTY29yZSArPSAyMCAvKiBEeW5hbWljICovO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbmFsKVxyXG4gICAgICAgICAgICAgICAgICAgIHN1YlNlZ21lbnRTY29yZSArPSAtOCAvKiBCb251c09wdGlvbmFsICovO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcGVhdGFibGUpXHJcbiAgICAgICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IC0yMCAvKiBCb251c1JlcGVhdGFibGUgKi87XHJcbiAgICAgICAgICAgICAgICBpZiAocmUgPT09ICcuKicpXHJcbiAgICAgICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IC01MCAvKiBCb251c1dpbGRjYXJkICovO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlZ21lbnRTY29yZXMucHVzaChzdWJTZWdtZW50U2NvcmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhbiBlbXB0eSBhcnJheSBsaWtlIC9ob21lLyAtPiBbW3tob21lfV0sIFtdXVxyXG4gICAgICAgIC8vIGlmICghc2VnbWVudC5sZW5ndGgpIHBhdHRlcm4gKz0gJy8nXHJcbiAgICAgICAgc2NvcmUucHVzaChzZWdtZW50U2NvcmVzKTtcclxuICAgIH1cclxuICAgIC8vIG9ubHkgYXBwbHkgdGhlIHN0cmljdCBib251cyB0byB0aGUgbGFzdCBzY29yZVxyXG4gICAgaWYgKG9wdGlvbnMuc3RyaWN0ICYmIG9wdGlvbnMuZW5kKSB7XHJcbiAgICAgICAgY29uc3QgaSA9IHNjb3JlLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgc2NvcmVbaV1bc2NvcmVbaV0ubGVuZ3RoIC0gMV0gKz0gMC43MDAwMDAwMDAwMDAwMDAxIC8qIEJvbnVzU3RyaWN0ICovO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETzogZGV2IG9ubHkgd2FybiBkb3VibGUgdHJhaWxpbmcgc2xhc2hcclxuICAgIGlmICghb3B0aW9ucy5zdHJpY3QpXHJcbiAgICAgICAgcGF0dGVybiArPSAnLz8nO1xyXG4gICAgaWYgKG9wdGlvbnMuZW5kKVxyXG4gICAgICAgIHBhdHRlcm4gKz0gJyQnO1xyXG4gICAgLy8gYWxsb3cgcGF0aHMgbGlrZSAvZHluYW1pYyB0byBvbmx5IG1hdGNoIGR5bmFtaWMgb3IgZHluYW1pYy8uLi4gYnV0IG5vdCBkeW5hbWljX3NvbWV0aGluZ19lbHNlXHJcbiAgICBlbHNlIGlmIChvcHRpb25zLnN0cmljdClcclxuICAgICAgICBwYXR0ZXJuICs9ICcoPzovfCQpJztcclxuICAgIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChwYXR0ZXJuLCBvcHRpb25zLnNlbnNpdGl2ZSA/ICcnIDogJ2knKTtcclxuICAgIGZ1bmN0aW9uIHBhcnNlKHBhdGgpIHtcclxuICAgICAgICBjb25zdCBtYXRjaCA9IHBhdGgubWF0Y2gocmUpO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHt9O1xyXG4gICAgICAgIGlmICghbWF0Y2gpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbWF0Y2gubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBtYXRjaFtpXSB8fCAnJztcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpIC0gMV07XHJcbiAgICAgICAgICAgIHBhcmFtc1trZXkubmFtZV0gPSB2YWx1ZSAmJiBrZXkucmVwZWF0YWJsZSA/IHZhbHVlLnNwbGl0KCcvJykgOiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhcmFtcztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHN0cmluZ2lmeShwYXJhbXMpIHtcclxuICAgICAgICBsZXQgcGF0aCA9ICcnO1xyXG4gICAgICAgIC8vIGZvciBvcHRpb25hbCBwYXJhbWV0ZXJzIHRvIGFsbG93IHRvIGJlIGVtcHR5XHJcbiAgICAgICAgbGV0IGF2b2lkRHVwbGljYXRlZFNsYXNoID0gZmFsc2U7XHJcbiAgICAgICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzKSB7XHJcbiAgICAgICAgICAgIGlmICghYXZvaWREdXBsaWNhdGVkU2xhc2ggfHwgIXBhdGguZW5kc1dpdGgoJy8nKSlcclxuICAgICAgICAgICAgICAgIHBhdGggKz0gJy8nO1xyXG4gICAgICAgICAgICBhdm9pZER1cGxpY2F0ZWRTbGFzaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHNlZ21lbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSAwIC8qIFN0YXRpYyAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggKz0gdG9rZW4udmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbi50eXBlID09PSAxIC8qIFBhcmFtICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSwgcmVwZWF0YWJsZSwgb3B0aW9uYWwgfSA9IHRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gdmFsdWUgaW4gcGFyYW1zID8gcGFyYW1zW3ZhbHVlXSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmFtKSAmJiAhcmVwZWF0YWJsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm92aWRlZCBwYXJhbSBcIiR7dmFsdWV9XCIgaXMgYW4gYXJyYXkgYnV0IGl0IGlzIG5vdCByZXBlYXRhYmxlICgqIG9yICsgbW9kaWZpZXJzKWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBBcnJheS5pc0FycmF5KHBhcmFtKSA/IHBhcmFtLmpvaW4oJy8nKSA6IHBhcmFtO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbGFzdCBzbGFzaCBhcyB3ZSBjb3VsZCBiZSBhdCB0aGUgZW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5lbmRzV2l0aCgnLycpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoLnNsaWNlKDAsIC0xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdCBhcHBlbmQgYSBzbGFzaCBvbiB0aGUgbmV4dCBpdGVyYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdm9pZER1cGxpY2F0ZWRTbGFzaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIHJlcXVpcmVkIHBhcmFtIFwiJHt2YWx1ZX1cImApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwYXRoICs9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhdGg7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlLFxyXG4gICAgICAgIHNjb3JlLFxyXG4gICAgICAgIGtleXMsXHJcbiAgICAgICAgcGFyc2UsXHJcbiAgICAgICAgc3RyaW5naWZ5LFxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogQ29tcGFyZXMgYW4gYXJyYXkgb2YgbnVtYmVycyBhcyB1c2VkIGluIFBhdGhQYXJzZXIuc2NvcmUgYW5kIHJldHVybnMgYVxyXG4gKiBudW1iZXIuIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gYHNvcnRgIGFuIGFycmF5XHJcbiAqIEBwYXJhbSBhIC0gZmlyc3QgYXJyYXkgb2YgbnVtYmVyc1xyXG4gKiBAcGFyYW0gYiAtIHNlY29uZCBhcnJheSBvZiBudW1iZXJzXHJcbiAqIEByZXR1cm5zIDAgaWYgYm90aCBhcmUgZXF1YWwsIDwgMCBpZiBhIHNob3VsZCBiZSBzb3J0ZWQgZmlyc3QsID4gMCBpZiBiXHJcbiAqIHNob3VsZCBiZSBzb3J0ZWQgZmlyc3RcclxuICovXHJcbmZ1bmN0aW9uIGNvbXBhcmVTY29yZUFycmF5KGEsIGIpIHtcclxuICAgIGxldCBpID0gMDtcclxuICAgIHdoaWxlIChpIDwgYS5sZW5ndGggJiYgaSA8IGIubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgZGlmZiA9IGJbaV0gLSBhW2ldO1xyXG4gICAgICAgIC8vIG9ubHkga2VlcCBnb2luZyBpZiBkaWZmID09PSAwXHJcbiAgICAgICAgaWYgKGRpZmYpXHJcbiAgICAgICAgICAgIHJldHVybiBkaWZmO1xyXG4gICAgICAgIGkrKztcclxuICAgIH1cclxuICAgIC8vIGlmIHRoZSBsYXN0IHN1YnNlZ21lbnQgd2FzIFN0YXRpYywgdGhlIHNob3J0ZXIgc2VnbWVudHMgc2hvdWxkIGJlIHNvcnRlZCBmaXJzdFxyXG4gICAgLy8gb3RoZXJ3aXNlIHNvcnQgdGhlIGxvbmdlc3Qgc2VnbWVudCBmaXJzdFxyXG4gICAgaWYgKGEubGVuZ3RoIDwgYi5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gYS5sZW5ndGggPT09IDEgJiYgYVswXSA9PT0gNDAgLyogU3RhdGljICovICsgNDAgLyogU2VnbWVudCAqL1xyXG4gICAgICAgICAgICA/IC0xXHJcbiAgICAgICAgICAgIDogMTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGEubGVuZ3RoID4gYi5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gYi5sZW5ndGggPT09IDEgJiYgYlswXSA9PT0gNDAgLyogU3RhdGljICovICsgNDAgLyogU2VnbWVudCAqL1xyXG4gICAgICAgICAgICA/IDFcclxuICAgICAgICAgICAgOiAtMTtcclxuICAgIH1cclxuICAgIHJldHVybiAwO1xyXG59XHJcbi8qKlxyXG4gKiBDb21wYXJlIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBgc29ydGAgdG8gc29ydCBhbiBhcnJheSBvZiBQYXRoUGFyc2VyXHJcbiAqIEBwYXJhbSBhIC0gZmlyc3QgUGF0aFBhcnNlclxyXG4gKiBAcGFyYW0gYiAtIHNlY29uZCBQYXRoUGFyc2VyXHJcbiAqIEByZXR1cm5zIDAgaWYgYm90aCBhcmUgZXF1YWwsIDwgMCBpZiBhIHNob3VsZCBiZSBzb3J0ZWQgZmlyc3QsID4gMCBpZiBiXHJcbiAqL1xyXG5mdW5jdGlvbiBjb21wYXJlUGF0aFBhcnNlclNjb3JlKGEsIGIpIHtcclxuICAgIGxldCBpID0gMDtcclxuICAgIGNvbnN0IGFTY29yZSA9IGEuc2NvcmU7XHJcbiAgICBjb25zdCBiU2NvcmUgPSBiLnNjb3JlO1xyXG4gICAgd2hpbGUgKGkgPCBhU2NvcmUubGVuZ3RoICYmIGkgPCBiU2NvcmUubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgY29tcCA9IGNvbXBhcmVTY29yZUFycmF5KGFTY29yZVtpXSwgYlNjb3JlW2ldKTtcclxuICAgICAgICAvLyBkbyBub3QgcmV0dXJuIGlmIGJvdGggYXJlIGVxdWFsXHJcbiAgICAgICAgaWYgKGNvbXApXHJcbiAgICAgICAgICAgIHJldHVybiBjb21wO1xyXG4gICAgICAgIGkrKztcclxuICAgIH1cclxuICAgIC8vIGlmIGEgYW5kIGIgc2hhcmUgdGhlIHNhbWUgc2NvcmUgZW50cmllcyBidXQgYiBoYXMgbW9yZSwgc29ydCBiIGZpcnN0XHJcbiAgICByZXR1cm4gYlNjb3JlLmxlbmd0aCAtIGFTY29yZS5sZW5ndGg7XHJcbiAgICAvLyB0aGlzIGlzIHRoZSB0ZXJuYXJ5IHZlcnNpb25cclxuICAgIC8vIHJldHVybiBhU2NvcmUubGVuZ3RoIDwgYlNjb3JlLmxlbmd0aFxyXG4gICAgLy8gICA/IDFcclxuICAgIC8vICAgOiBhU2NvcmUubGVuZ3RoID4gYlNjb3JlLmxlbmd0aFxyXG4gICAgLy8gICA/IC0xXHJcbiAgICAvLyAgIDogMFxyXG59XG5cbmNvbnN0IFJPT1RfVE9LRU4gPSB7XHJcbiAgICB0eXBlOiAwIC8qIFN0YXRpYyAqLyxcclxuICAgIHZhbHVlOiAnJyxcclxufTtcclxuY29uc3QgVkFMSURfUEFSQU1fUkUgPSAvW2EtekEtWjAtOV9dLztcclxuLy8gQWZ0ZXIgc29tZSBwcm9maWxpbmcsIHRoZSBjYWNoZSBzZWVtcyB0byBiZSB1bm5lY2Vzc2FyeSBiZWNhdXNlIHRva2VuaXplUGF0aFxyXG4vLyAodGhlIHNsb3dlc3QgcGFydCBvZiBhZGRpbmcgYSByb3V0ZSkgaXMgdmVyeSBmYXN0XHJcbi8vIGNvbnN0IHRva2VuQ2FjaGUgPSBuZXcgTWFwPHN0cmluZywgVG9rZW5bXVtdPigpXHJcbmZ1bmN0aW9uIHRva2VuaXplUGF0aChwYXRoKSB7XHJcbiAgICBpZiAoIXBhdGgpXHJcbiAgICAgICAgcmV0dXJuIFtbXV07XHJcbiAgICBpZiAocGF0aCA9PT0gJy8nKVxyXG4gICAgICAgIHJldHVybiBbW1JPT1RfVE9LRU5dXTtcclxuICAgIGlmICghcGF0aC5zdGFydHNXaXRoKCcvJykpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgICAgID8gYFJvdXRlIHBhdGhzIHNob3VsZCBzdGFydCB3aXRoIGEgXCIvXCI6IFwiJHtwYXRofVwiIHNob3VsZCBiZSBcIi8ke3BhdGh9XCIuYFxyXG4gICAgICAgICAgICA6IGBJbnZhbGlkIHBhdGggXCIke3BhdGh9XCJgKTtcclxuICAgIH1cclxuICAgIC8vIGlmICh0b2tlbkNhY2hlLmhhcyhwYXRoKSkgcmV0dXJuIHRva2VuQ2FjaGUuZ2V0KHBhdGgpIVxyXG4gICAgZnVuY3Rpb24gY3Jhc2gobWVzc2FnZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRVJSICgke3N0YXRlfSkvXCIke2J1ZmZlcn1cIjogJHttZXNzYWdlfWApO1xyXG4gICAgfVxyXG4gICAgbGV0IHN0YXRlID0gMCAvKiBTdGF0aWMgKi87XHJcbiAgICBsZXQgcHJldmlvdXNTdGF0ZSA9IHN0YXRlO1xyXG4gICAgY29uc3QgdG9rZW5zID0gW107XHJcbiAgICAvLyB0aGUgc2VnbWVudCB3aWxsIGFsd2F5cyBiZSB2YWxpZCBiZWNhdXNlIHdlIGdldCBpbnRvIHRoZSBpbml0aWFsIHN0YXRlXHJcbiAgICAvLyB3aXRoIHRoZSBsZWFkaW5nIC9cclxuICAgIGxldCBzZWdtZW50O1xyXG4gICAgZnVuY3Rpb24gZmluYWxpemVTZWdtZW50KCkge1xyXG4gICAgICAgIGlmIChzZWdtZW50KVxyXG4gICAgICAgICAgICB0b2tlbnMucHVzaChzZWdtZW50KTtcclxuICAgICAgICBzZWdtZW50ID0gW107XHJcbiAgICB9XHJcbiAgICAvLyBpbmRleCBvbiB0aGUgcGF0aFxyXG4gICAgbGV0IGkgPSAwO1xyXG4gICAgLy8gY2hhciBhdCBpbmRleFxyXG4gICAgbGV0IGNoYXI7XHJcbiAgICAvLyBidWZmZXIgb2YgdGhlIHZhbHVlIHJlYWRcclxuICAgIGxldCBidWZmZXIgPSAnJztcclxuICAgIC8vIGN1c3RvbSByZWdleHAgZm9yIGEgcGFyYW1cclxuICAgIGxldCBjdXN0b21SZSA9ICcnO1xyXG4gICAgZnVuY3Rpb24gY29uc3VtZUJ1ZmZlcigpIHtcclxuICAgICAgICBpZiAoIWJ1ZmZlcilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gMCAvKiBTdGF0aWMgKi8pIHtcclxuICAgICAgICAgICAgc2VnbWVudC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IDAgLyogU3RhdGljICovLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGJ1ZmZlcixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHN0YXRlID09PSAxIC8qIFBhcmFtICovIHx8XHJcbiAgICAgICAgICAgIHN0YXRlID09PSAyIC8qIFBhcmFtUmVnRXhwICovIHx8XHJcbiAgICAgICAgICAgIHN0YXRlID09PSAzIC8qIFBhcmFtUmVnRXhwRW5kICovKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWdtZW50Lmxlbmd0aCA+IDEgJiYgKGNoYXIgPT09ICcqJyB8fCBjaGFyID09PSAnKycpKVxyXG4gICAgICAgICAgICAgICAgY3Jhc2goYEEgcmVwZWF0YWJsZSBwYXJhbSAoJHtidWZmZXJ9KSBtdXN0IGJlIGFsb25lIGluIGl0cyBzZWdtZW50LiBlZzogJy86aWRzKy5gKTtcclxuICAgICAgICAgICAgc2VnbWVudC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IDEgLyogUGFyYW0gKi8sXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogYnVmZmVyLFxyXG4gICAgICAgICAgICAgICAgcmVnZXhwOiBjdXN0b21SZSxcclxuICAgICAgICAgICAgICAgIHJlcGVhdGFibGU6IGNoYXIgPT09ICcqJyB8fCBjaGFyID09PSAnKycsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25hbDogY2hhciA9PT0gJyonIHx8IGNoYXIgPT09ICc/JyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjcmFzaCgnSW52YWxpZCBzdGF0ZSB0byBjb25zdW1lIGJ1ZmZlcicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBidWZmZXIgPSAnJztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGFkZENoYXJUb0J1ZmZlcigpIHtcclxuICAgICAgICBidWZmZXIgKz0gY2hhcjtcclxuICAgIH1cclxuICAgIHdoaWxlIChpIDwgcGF0aC5sZW5ndGgpIHtcclxuICAgICAgICBjaGFyID0gcGF0aFtpKytdO1xyXG4gICAgICAgIGlmIChjaGFyID09PSAnXFxcXCcgJiYgc3RhdGUgIT09IDIgLyogUGFyYW1SZWdFeHAgKi8pIHtcclxuICAgICAgICAgICAgcHJldmlvdXNTdGF0ZSA9IHN0YXRlO1xyXG4gICAgICAgICAgICBzdGF0ZSA9IDQgLyogRXNjYXBlTmV4dCAqLztcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSAwIC8qIFN0YXRpYyAqLzpcclxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSAnLycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN1bWVCdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZmluYWxpemVTZWdtZW50KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGFyID09PSAnOicpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdW1lQnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAxIC8qIFBhcmFtICovO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2hhclRvQnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0IC8qIEVzY2FwZU5leHQgKi86XHJcbiAgICAgICAgICAgICAgICBhZGRDaGFyVG9CdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gcHJldmlvdXNTdGF0ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDEgLyogUGFyYW0gKi86XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhciA9PT0gJygnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAyIC8qIFBhcmFtUmVnRXhwICovO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbVJlID0gJyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChWQUxJRF9QQVJBTV9SRS50ZXN0KGNoYXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2hhclRvQnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdW1lQnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAwIC8qIFN0YXRpYyAqLztcclxuICAgICAgICAgICAgICAgICAgICAvLyBnbyBiYWNrIG9uZSBjaGFyYWN0ZXIgaWYgd2Ugd2VyZSBub3QgbW9kaWZ5aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXIgIT09ICcqJyAmJiBjaGFyICE9PSAnPycgJiYgY2hhciAhPT0gJysnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyIC8qIFBhcmFtUmVnRXhwICovOlxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogaXMgaXQgd29ydGggaGFuZGxpbmcgbmVzdGVkIHJlZ2V4cD8gbGlrZSA6cCg/OnByZWZpeF8oW14vXSspX3N1ZmZpeClcclxuICAgICAgICAgICAgICAgIC8vIGl0IGFscmVhZHkgd29ya3MgYnkgZXNjYXBpbmcgdGhlIGNsb3NpbmcgKVxyXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9wYXRocy5lc20uZGV2Lz9wPUFBTWVKYmlBd1FFY0RLYkFvQUFrUDYwUEcyUjZRQXZnTmFBNkFGQUNNMkFCdVFCQiNcclxuICAgICAgICAgICAgICAgIC8vIGlzIHRoaXMgcmVhbGx5IHNvbWV0aGluZyBwZW9wbGUgbmVlZCBzaW5jZSB5b3UgY2FuIGFsc28gd3JpdGVcclxuICAgICAgICAgICAgICAgIC8vIC9wcmVmaXhfOnAoKV9zdWZmaXhcclxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSAnKScpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdGhlIGVzY2FwZWQgKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXN0b21SZVtjdXN0b21SZS5sZW5ndGggLSAxXSA9PSAnXFxcXCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVJlID0gY3VzdG9tUmUuc2xpY2UoMCwgLTEpICsgY2hhcjtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMyAvKiBQYXJhbVJlZ0V4cEVuZCAqLztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbVJlICs9IGNoYXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzIC8qIFBhcmFtUmVnRXhwRW5kICovOlxyXG4gICAgICAgICAgICAgICAgLy8gc2FtZSBhcyBmaW5hbGl6aW5nIGEgcGFyYW1cclxuICAgICAgICAgICAgICAgIGNvbnN1bWVCdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gMCAvKiBTdGF0aWMgKi87XHJcbiAgICAgICAgICAgICAgICAvLyBnbyBiYWNrIG9uZSBjaGFyYWN0ZXIgaWYgd2Ugd2VyZSBub3QgbW9kaWZ5aW5nXHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhciAhPT0gJyonICYmIGNoYXIgIT09ICc/JyAmJiBjaGFyICE9PSAnKycpXHJcbiAgICAgICAgICAgICAgICAgICAgaS0tO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjcmFzaCgnVW5rbm93biBzdGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHN0YXRlID09PSAyIC8qIFBhcmFtUmVnRXhwICovKVxyXG4gICAgICAgIGNyYXNoKGBVbmZpbmlzaGVkIGN1c3RvbSBSZWdFeHAgZm9yIHBhcmFtIFwiJHtidWZmZXJ9XCJgKTtcclxuICAgIGNvbnN1bWVCdWZmZXIoKTtcclxuICAgIGZpbmFsaXplU2VnbWVudCgpO1xyXG4gICAgLy8gdG9rZW5DYWNoZS5zZXQocGF0aCwgdG9rZW5zKVxyXG4gICAgcmV0dXJuIHRva2VucztcclxufVxuXG5mdW5jdGlvbiBjcmVhdGVSb3V0ZVJlY29yZE1hdGNoZXIocmVjb3JkLCBwYXJlbnQsIG9wdGlvbnMpIHtcclxuICAgIGNvbnN0IHBhcnNlciA9IHRva2Vuc1RvUGFyc2VyKHRva2VuaXplUGF0aChyZWNvcmQucGF0aCksIG9wdGlvbnMpO1xyXG4gICAgLy8gd2FybiBhZ2FpbnN0IHBhcmFtcyB3aXRoIHRoZSBzYW1lIG5hbWVcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCBleGlzdGluZ0tleXMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgcGFyc2VyLmtleXMpIHtcclxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nS2V5cy5oYXMoa2V5Lm5hbWUpKVxyXG4gICAgICAgICAgICAgICAgd2FybihgRm91bmQgZHVwbGljYXRlZCBwYXJhbXMgd2l0aCBuYW1lIFwiJHtrZXkubmFtZX1cIiBmb3IgcGF0aCBcIiR7cmVjb3JkLnBhdGh9XCIuIE9ubHkgdGhlIGxhc3Qgb25lIHdpbGwgYmUgYXZhaWxhYmxlIG9uIFwiJHJvdXRlLnBhcmFtc1wiLmApO1xyXG4gICAgICAgICAgICBleGlzdGluZ0tleXMuYWRkKGtleS5uYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBtYXRjaGVyID0gYXNzaWduKHBhcnNlciwge1xyXG4gICAgICAgIHJlY29yZCxcclxuICAgICAgICBwYXJlbnQsXHJcbiAgICAgICAgLy8gdGhlc2UgbmVlZHMgdG8gYmUgcG9wdWxhdGVkIGJ5IHRoZSBwYXJlbnRcclxuICAgICAgICBjaGlsZHJlbjogW10sXHJcbiAgICAgICAgYWxpYXM6IFtdLFxyXG4gICAgfSk7XHJcbiAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgLy8gYm90aCBhcmUgYWxpYXNlcyBvciBib3RoIGFyZSBub3QgYWxpYXNlc1xyXG4gICAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gbWl4IHRoZW0gYmVjYXVzZSB0aGUgb3JkZXIgaXMgdXNlZCB3aGVuXHJcbiAgICAgICAgLy8gcGFzc2luZyBvcmlnaW5hbFJlY29yZCBpbiBNYXRjaGVyLmFkZFJvdXRlXHJcbiAgICAgICAgaWYgKCFtYXRjaGVyLnJlY29yZC5hbGlhc09mID09PSAhcGFyZW50LnJlY29yZC5hbGlhc09mKVxyXG4gICAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChtYXRjaGVyKTtcclxuICAgIH1cclxuICAgIHJldHVybiBtYXRjaGVyO1xyXG59XG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgUm91dGVyIE1hdGNoZXIuXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKiBAcGFyYW0gcm91dGVzIC0gYXJyYXkgb2YgaW5pdGlhbCByb3V0ZXNcclxuICogQHBhcmFtIGdsb2JhbE9wdGlvbnMgLSBnbG9iYWwgcm91dGUgb3B0aW9uc1xyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlUm91dGVyTWF0Y2hlcihyb3V0ZXMsIGdsb2JhbE9wdGlvbnMpIHtcclxuICAgIC8vIG5vcm1hbGl6ZWQgb3JkZXJlZCBhcnJheSBvZiBtYXRjaGVyc1xyXG4gICAgY29uc3QgbWF0Y2hlcnMgPSBbXTtcclxuICAgIGNvbnN0IG1hdGNoZXJNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICBnbG9iYWxPcHRpb25zID0gbWVyZ2VPcHRpb25zKHsgc3RyaWN0OiBmYWxzZSwgZW5kOiB0cnVlLCBzZW5zaXRpdmU6IGZhbHNlIH0sIGdsb2JhbE9wdGlvbnMpO1xyXG4gICAgZnVuY3Rpb24gZ2V0UmVjb3JkTWF0Y2hlcihuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIG1hdGNoZXJNYXAuZ2V0KG5hbWUpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gYWRkUm91dGUocmVjb3JkLCBwYXJlbnQsIG9yaWdpbmFsUmVjb3JkKSB7XHJcbiAgICAgICAgLy8gdXNlZCBsYXRlciBvbiB0byByZW1vdmUgYnkgbmFtZVxyXG4gICAgICAgIGxldCBpc1Jvb3RBZGQgPSAhb3JpZ2luYWxSZWNvcmQ7XHJcbiAgICAgICAgbGV0IG1haW5Ob3JtYWxpemVkUmVjb3JkID0gbm9ybWFsaXplUm91dGVSZWNvcmQocmVjb3JkKTtcclxuICAgICAgICAvLyB3ZSBtaWdodCBiZSB0aGUgY2hpbGQgb2YgYW4gYWxpYXNcclxuICAgICAgICBtYWluTm9ybWFsaXplZFJlY29yZC5hbGlhc09mID0gb3JpZ2luYWxSZWNvcmQgJiYgb3JpZ2luYWxSZWNvcmQucmVjb3JkO1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoZ2xvYmFsT3B0aW9ucywgcmVjb3JkKTtcclxuICAgICAgICAvLyBnZW5lcmF0ZSBhbiBhcnJheSBvZiByZWNvcmRzIHRvIGNvcnJlY3RseSBoYW5kbGUgYWxpYXNlc1xyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRSZWNvcmRzID0gW1xyXG4gICAgICAgICAgICBtYWluTm9ybWFsaXplZFJlY29yZCxcclxuICAgICAgICBdO1xyXG4gICAgICAgIGlmICgnYWxpYXMnIGluIHJlY29yZCkge1xyXG4gICAgICAgICAgICBjb25zdCBhbGlhc2VzID0gdHlwZW9mIHJlY29yZC5hbGlhcyA9PT0gJ3N0cmluZycgPyBbcmVjb3JkLmFsaWFzXSA6IHJlY29yZC5hbGlhcztcclxuICAgICAgICAgICAgZm9yIChjb25zdCBhbGlhcyBvZiBhbGlhc2VzKSB7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUmVjb3Jkcy5wdXNoKGFzc2lnbih7fSwgbWFpbk5vcm1hbGl6ZWRSZWNvcmQsIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGFsbG93cyB1cyB0byBob2xkIGEgY29weSBvZiB0aGUgYGNvbXBvbmVudHNgIG9wdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHRoYXQgYXN5bmMgY29tcG9uZW50cyBjYWNoZSBpcyBob2xkIG9uIHRoZSBvcmlnaW5hbCByZWNvcmRcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBvcmlnaW5hbFJlY29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG9yaWdpbmFsUmVjb3JkLnJlY29yZC5jb21wb25lbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbWFpbk5vcm1hbGl6ZWRSZWNvcmQuY29tcG9uZW50cyxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBhbGlhcyxcclxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBtaWdodCBiZSB0aGUgY2hpbGQgb2YgYW4gYWxpYXNcclxuICAgICAgICAgICAgICAgICAgICBhbGlhc09mOiBvcmlnaW5hbFJlY29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG9yaWdpbmFsUmVjb3JkLnJlY29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG1haW5Ob3JtYWxpemVkUmVjb3JkLFxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtYXRjaGVyO1xyXG4gICAgICAgIGxldCBvcmlnaW5hbE1hdGNoZXI7XHJcbiAgICAgICAgZm9yIChjb25zdCBub3JtYWxpemVkUmVjb3JkIG9mIG5vcm1hbGl6ZWRSZWNvcmRzKSB7XHJcbiAgICAgICAgICAgIGxldCB7IHBhdGggfSA9IG5vcm1hbGl6ZWRSZWNvcmQ7XHJcbiAgICAgICAgICAgIC8vIEJ1aWxkIHVwIHRoZSBwYXRoIGZvciBuZXN0ZWQgcm91dGVzIGlmIHRoZSBjaGlsZCBpc24ndCBhbiBhYnNvbHV0ZVxyXG4gICAgICAgICAgICAvLyByb3V0ZS4gT25seSBhZGQgdGhlIC8gZGVsaW1pdGVyIGlmIHRoZSBjaGlsZCBwYXRoIGlzbid0IGVtcHR5IGFuZCBpZiB0aGVcclxuICAgICAgICAgICAgLy8gcGFyZW50IHBhdGggZG9lc24ndCBoYXZlIGEgdHJhaWxpbmcgc2xhc2hcclxuICAgICAgICAgICAgaWYgKHBhcmVudCAmJiBwYXRoWzBdICE9PSAnLycpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwYXJlbnRQYXRoID0gcGFyZW50LnJlY29yZC5wYXRoO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbm5lY3RpbmdTbGFzaCA9IHBhcmVudFBhdGhbcGFyZW50UGF0aC5sZW5ndGggLSAxXSA9PT0gJy8nID8gJycgOiAnLyc7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUmVjb3JkLnBhdGggPVxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZWNvcmQucGF0aCArIChwYXRoICYmIGNvbm5lY3RpbmdTbGFzaCArIHBhdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbm9ybWFsaXplZFJlY29yZC5wYXRoID09PSAnKicpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2F0Y2ggYWxsIHJvdXRlcyAoXCIqXCIpIG11c3Qgbm93IGJlIGRlZmluZWQgdXNpbmcgYSBwYXJhbSB3aXRoIGEgY3VzdG9tIHJlZ2V4cC5cXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAnU2VlIG1vcmUgYXQgaHR0cHM6Ly9uZXh0LnJvdXRlci52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uLyNyZW1vdmVkLXN0YXItb3ItY2F0Y2gtYWxsLXJvdXRlcy4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjcmVhdGUgdGhlIG9iamVjdCBiZWZvcmUgaGFuZCBzbyBpdCBjYW4gYmUgcGFzc2VkIHRvIGNoaWxkcmVuXHJcbiAgICAgICAgICAgIG1hdGNoZXIgPSBjcmVhdGVSb3V0ZVJlY29yZE1hdGNoZXIobm9ybWFsaXplZFJlY29yZCwgcGFyZW50LCBvcHRpb25zKTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBwYXJlbnQgJiYgcGF0aFswXSA9PT0gJy8nKVxyXG4gICAgICAgICAgICAgICAgY2hlY2tNaXNzaW5nUGFyYW1zSW5BYnNvbHV0ZVBhdGgobWF0Y2hlciwgcGFyZW50KTtcclxuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGFuIGFsaWFzIHdlIG11c3QgdGVsbCB0aGUgb3JpZ2luYWwgcmVjb3JkIHRoYXQgd2UgZXhpc3RcclxuICAgICAgICAgICAgLy8gc28gd2UgY2FuIGJlIHJlbW92ZWRcclxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsUmVjb3JkKSB7XHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFJlY29yZC5hbGlhcy5wdXNoKG1hdGNoZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrU2FtZVBhcmFtcyhvcmlnaW5hbFJlY29yZCwgbWF0Y2hlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UsIHRoZSBmaXJzdCByZWNvcmQgaXMgdGhlIG9yaWdpbmFsIGFuZCBvdGhlcnMgYXJlIGFsaWFzZXNcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsTWF0Y2hlciA9IG9yaWdpbmFsTWF0Y2hlciB8fCBtYXRjaGVyO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsTWF0Y2hlciAhPT0gbWF0Y2hlcilcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbE1hdGNoZXIuYWxpYXMucHVzaChtYXRjaGVyKTtcclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgcm91dGUgaWYgbmFtZWQgYW5kIG9ubHkgZm9yIHRoZSB0b3AgcmVjb3JkIChhdm9pZCBpbiBuZXN0ZWQgY2FsbHMpXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHdvcmtzIGJlY2F1c2UgdGhlIG9yaWdpbmFsIHJlY29yZCBpcyB0aGUgZmlyc3Qgb25lXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSb290QWRkICYmIHJlY29yZC5uYW1lICYmICFpc0FsaWFzUmVjb3JkKG1hdGNoZXIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVJvdXRlKHJlY29yZC5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJ2NoaWxkcmVuJyBpbiBtYWluTm9ybWFsaXplZFJlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkcmVuID0gbWFpbk5vcm1hbGl6ZWRSZWNvcmQuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkUm91dGUoY2hpbGRyZW5baV0sIG1hdGNoZXIsIG9yaWdpbmFsUmVjb3JkICYmIG9yaWdpbmFsUmVjb3JkLmNoaWxkcmVuW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSB3YXMgbm8gb3JpZ2luYWwgcmVjb3JkLCB0aGVuIHRoZSBmaXJzdCBvbmUgd2FzIG5vdCBhbiBhbGlhcyBhbmQgYWxsXHJcbiAgICAgICAgICAgIC8vIG90aGVyIGFsaWFzIChpZiBhbnkpIG5lZWQgdG8gcmVmZXJlbmNlIHRoaXMgcmVjb3JkIHdoZW4gYWRkaW5nIGNoaWxkcmVuXHJcbiAgICAgICAgICAgIG9yaWdpbmFsUmVjb3JkID0gb3JpZ2luYWxSZWNvcmQgfHwgbWF0Y2hlcjtcclxuICAgICAgICAgICAgaW5zZXJ0TWF0Y2hlcihtYXRjaGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsTWF0Y2hlclxyXG4gICAgICAgICAgICA/ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIG90aGVyIG1hdGNoZXJzIGFyZSBhbGlhc2VzLCB0aGV5IHNob3VsZCBiZSByZW1vdmVkIGJ5IHRoZSBvcmlnaW5hbCBtYXRjaGVyXHJcbiAgICAgICAgICAgICAgICByZW1vdmVSb3V0ZShvcmlnaW5hbE1hdGNoZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDogbm9vcDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVJvdXRlKG1hdGNoZXJSZWYpIHtcclxuICAgICAgICBpZiAoaXNSb3V0ZU5hbWUobWF0Y2hlclJlZikpIHtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2hlciA9IG1hdGNoZXJNYXAuZ2V0KG1hdGNoZXJSZWYpO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2hlcikge1xyXG4gICAgICAgICAgICAgICAgbWF0Y2hlck1hcC5kZWxldGUobWF0Y2hlclJlZik7XHJcbiAgICAgICAgICAgICAgICBtYXRjaGVycy5zcGxpY2UobWF0Y2hlcnMuaW5kZXhPZihtYXRjaGVyKSwgMSk7XHJcbiAgICAgICAgICAgICAgICBtYXRjaGVyLmNoaWxkcmVuLmZvckVhY2gocmVtb3ZlUm91dGUpO1xyXG4gICAgICAgICAgICAgICAgbWF0Y2hlci5hbGlhcy5mb3JFYWNoKHJlbW92ZVJvdXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gbWF0Y2hlcnMuaW5kZXhPZihtYXRjaGVyUmVmKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIG1hdGNoZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlclJlZi5yZWNvcmQubmFtZSlcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVyTWFwLmRlbGV0ZShtYXRjaGVyUmVmLnJlY29yZC5uYW1lKTtcclxuICAgICAgICAgICAgICAgIG1hdGNoZXJSZWYuY2hpbGRyZW4uZm9yRWFjaChyZW1vdmVSb3V0ZSk7XHJcbiAgICAgICAgICAgICAgICBtYXRjaGVyUmVmLmFsaWFzLmZvckVhY2gocmVtb3ZlUm91dGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0Um91dGVzKCkge1xyXG4gICAgICAgIHJldHVybiBtYXRjaGVycztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGluc2VydE1hdGNoZXIobWF0Y2hlcikge1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnaSBpcycsIHsgaSB9KVxyXG4gICAgICAgIHdoaWxlIChpIDwgbWF0Y2hlcnMubGVuZ3RoICYmXHJcbiAgICAgICAgICAgIGNvbXBhcmVQYXRoUGFyc2VyU2NvcmUobWF0Y2hlciwgbWF0Y2hlcnNbaV0pID49IDApXHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnRU5EIGkgaXMnLCB7IGkgfSlcclxuICAgICAgICAvLyB3aGlsZSAoaSA8IG1hdGNoZXJzLmxlbmd0aCAmJiBtYXRjaGVyLnNjb3JlIDw9IG1hdGNoZXJzW2ldLnNjb3JlKSBpKytcclxuICAgICAgICBtYXRjaGVycy5zcGxpY2UoaSwgMCwgbWF0Y2hlcik7XHJcbiAgICAgICAgLy8gb25seSBhZGQgdGhlIG9yaWdpbmFsIHJlY29yZCB0byB0aGUgbmFtZSBtYXBcclxuICAgICAgICBpZiAobWF0Y2hlci5yZWNvcmQubmFtZSAmJiAhaXNBbGlhc1JlY29yZChtYXRjaGVyKSlcclxuICAgICAgICAgICAgbWF0Y2hlck1hcC5zZXQobWF0Y2hlci5yZWNvcmQubmFtZSwgbWF0Y2hlcik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZXNvbHZlKGxvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24pIHtcclxuICAgICAgICBsZXQgbWF0Y2hlcjtcclxuICAgICAgICBsZXQgcGFyYW1zID0ge307XHJcbiAgICAgICAgbGV0IHBhdGg7XHJcbiAgICAgICAgbGV0IG5hbWU7XHJcbiAgICAgICAgaWYgKCduYW1lJyBpbiBsb2NhdGlvbiAmJiBsb2NhdGlvbi5uYW1lKSB7XHJcbiAgICAgICAgICAgIG1hdGNoZXIgPSBtYXRjaGVyTWFwLmdldChsb2NhdGlvbi5uYW1lKTtcclxuICAgICAgICAgICAgaWYgKCFtYXRjaGVyKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlUm91dGVyRXJyb3IoMSAvKiBNQVRDSEVSX05PVF9GT1VORCAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5hbWUgPSBtYXRjaGVyLnJlY29yZC5uYW1lO1xyXG4gICAgICAgICAgICBwYXJhbXMgPSBhc3NpZ24oXHJcbiAgICAgICAgICAgIC8vIHBhcmFtc0Zyb21Mb2NhdGlvbiBpcyBhIG5ldyBvYmplY3RcclxuICAgICAgICAgICAgcGFyYW1zRnJvbUxvY2F0aW9uKGN1cnJlbnRMb2NhdGlvbi5wYXJhbXMsIFxyXG4gICAgICAgICAgICAvLyBvbmx5IGtlZXAgcGFyYW1zIHRoYXQgZXhpc3QgaW4gdGhlIHJlc29sdmVkIGxvY2F0aW9uXHJcbiAgICAgICAgICAgIC8vIFRPRE86IG9ubHkga2VlcCBvcHRpb25hbCBwYXJhbXMgY29taW5nIGZyb20gYSBwYXJlbnQgcmVjb3JkXHJcbiAgICAgICAgICAgIG1hdGNoZXIua2V5cy5maWx0ZXIoayA9PiAhay5vcHRpb25hbCkubWFwKGsgPT4gay5uYW1lKSksIGxvY2F0aW9uLnBhcmFtcyk7XHJcbiAgICAgICAgICAgIC8vIHRocm93cyBpZiBjYW5ub3QgYmUgc3RyaW5naWZpZWRcclxuICAgICAgICAgICAgcGF0aCA9IG1hdGNoZXIuc3RyaW5naWZ5KHBhcmFtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCdwYXRoJyBpbiBsb2NhdGlvbikge1xyXG4gICAgICAgICAgICAvLyBubyBuZWVkIHRvIHJlc29sdmUgdGhlIHBhdGggd2l0aCB0aGUgbWF0Y2hlciBhcyBpdCB3YXMgcHJvdmlkZWRcclxuICAgICAgICAgICAgLy8gdGhpcyBhbHNvIGFsbG93cyB0aGUgdXNlciB0byBjb250cm9sIHRoZSBlbmNvZGluZ1xyXG4gICAgICAgICAgICBwYXRoID0gbG9jYXRpb24ucGF0aDtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcGF0aC5zdGFydHNXaXRoKCcvJykpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFRoZSBNYXRjaGVyIGNhbm5vdCByZXNvbHZlIHJlbGF0aXZlIHBhdGhzIGJ1dCByZWNlaXZlZCBcIiR7cGF0aH1cIi4gVW5sZXNzIHlvdSBkaXJlY3RseSBjYWxsZWQgXFxgbWF0Y2hlci5yZXNvbHZlKFwiJHtwYXRofVwiKVxcYCwgdGhpcyBpcyBwcm9iYWJseSBhIGJ1ZyBpbiB2dWUtcm91dGVyLiBQbGVhc2Ugb3BlbiBhbiBpc3N1ZSBhdCBodHRwczovL25ldy1pc3N1ZS52dWVqcy5vcmcvP3JlcG89dnVlanMvdnVlLXJvdXRlci1uZXh0LmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hdGNoZXIgPSBtYXRjaGVycy5maW5kKG0gPT4gbS5yZS50ZXN0KHBhdGgpKTtcclxuICAgICAgICAgICAgLy8gbWF0Y2hlciBzaG91bGQgaGF2ZSBhIHZhbHVlIGFmdGVyIHRoZSBsb29wXHJcbiAgICAgICAgICAgIGlmIChtYXRjaGVyKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBkZXYgd2FybmluZyBvZiB1bnVzZWQgcGFyYW1zIGlmIHByb3ZpZGVkXHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBrbm93IHRoZSBtYXRjaGVyIHdvcmtzIGJlY2F1c2Ugd2UgdGVzdGVkIHRoZSByZWdleHBcclxuICAgICAgICAgICAgICAgIHBhcmFtcyA9IG1hdGNoZXIucGFyc2UocGF0aCk7XHJcbiAgICAgICAgICAgICAgICBuYW1lID0gbWF0Y2hlci5yZWNvcmQubmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBsb2NhdGlvbiBpcyBhIHJlbGF0aXZlIHBhdGhcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG1hdGNoIGJ5IG5hbWUgb3IgcGF0aCBvZiBjdXJyZW50IHJvdXRlXHJcbiAgICAgICAgICAgIG1hdGNoZXIgPSBjdXJyZW50TG9jYXRpb24ubmFtZVxyXG4gICAgICAgICAgICAgICAgPyBtYXRjaGVyTWFwLmdldChjdXJyZW50TG9jYXRpb24ubmFtZSlcclxuICAgICAgICAgICAgICAgIDogbWF0Y2hlcnMuZmluZChtID0+IG0ucmUudGVzdChjdXJyZW50TG9jYXRpb24ucGF0aCkpO1xyXG4gICAgICAgICAgICBpZiAoIW1hdGNoZXIpXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVSb3V0ZXJFcnJvcigxIC8qIE1BVENIRVJfTk9UX0ZPVU5EICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudExvY2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5hbWUgPSBtYXRjaGVyLnJlY29yZC5uYW1lO1xyXG4gICAgICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgbmF2aWdhdGluZyB0byB0aGUgc2FtZSBsb2NhdGlvbiwgd2UgZG9uJ3QgbmVlZCB0byBwaWNrIHRoZVxyXG4gICAgICAgICAgICAvLyBwYXJhbXMgbGlrZSB3aGVuIGBuYW1lYCBpcyBwcm92aWRlZFxyXG4gICAgICAgICAgICBwYXJhbXMgPSBhc3NpZ24oe30sIGN1cnJlbnRMb2NhdGlvbi5wYXJhbXMsIGxvY2F0aW9uLnBhcmFtcyk7XHJcbiAgICAgICAgICAgIHBhdGggPSBtYXRjaGVyLnN0cmluZ2lmeShwYXJhbXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtYXRjaGVkID0gW107XHJcbiAgICAgICAgbGV0IHBhcmVudE1hdGNoZXIgPSBtYXRjaGVyO1xyXG4gICAgICAgIHdoaWxlIChwYXJlbnRNYXRjaGVyKSB7XHJcbiAgICAgICAgICAgIC8vIHJldmVyc2VkIG9yZGVyIHNvIHBhcmVudHMgYXJlIGF0IHRoZSBiZWdpbm5pbmdcclxuICAgICAgICAgICAgbWF0Y2hlZC51bnNoaWZ0KHBhcmVudE1hdGNoZXIucmVjb3JkKTtcclxuICAgICAgICAgICAgcGFyZW50TWF0Y2hlciA9IHBhcmVudE1hdGNoZXIucGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICBwYXRoLFxyXG4gICAgICAgICAgICBwYXJhbXMsXHJcbiAgICAgICAgICAgIG1hdGNoZWQsXHJcbiAgICAgICAgICAgIG1ldGE6IG1lcmdlTWV0YUZpZWxkcyhtYXRjaGVkKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLy8gYWRkIGluaXRpYWwgcm91dGVzXHJcbiAgICByb3V0ZXMuZm9yRWFjaChyb3V0ZSA9PiBhZGRSb3V0ZShyb3V0ZSkpO1xyXG4gICAgcmV0dXJuIHsgYWRkUm91dGUsIHJlc29sdmUsIHJlbW92ZVJvdXRlLCBnZXRSb3V0ZXMsIGdldFJlY29yZE1hdGNoZXIgfTtcclxufVxyXG5mdW5jdGlvbiBwYXJhbXNGcm9tTG9jYXRpb24ocGFyYW1zLCBrZXlzKSB7XHJcbiAgICBsZXQgbmV3UGFyYW1zID0ge307XHJcbiAgICBmb3IgKGxldCBrZXkgb2Yga2V5cykge1xyXG4gICAgICAgIGlmIChrZXkgaW4gcGFyYW1zKVxyXG4gICAgICAgICAgICBuZXdQYXJhbXNba2V5XSA9IHBhcmFtc1trZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld1BhcmFtcztcclxufVxyXG4vKipcclxuICogTm9ybWFsaXplcyBhIFJvdXRlUmVjb3JkUmF3LiBDcmVhdGVzIGEgY29weVxyXG4gKlxyXG4gKiBAcGFyYW0gcmVjb3JkXHJcbiAqIEByZXR1cm5zIHRoZSBub3JtYWxpemVkIHZlcnNpb25cclxuICovXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVJvdXRlUmVjb3JkKHJlY29yZCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBwYXRoOiByZWNvcmQucGF0aCxcclxuICAgICAgICByZWRpcmVjdDogcmVjb3JkLnJlZGlyZWN0LFxyXG4gICAgICAgIG5hbWU6IHJlY29yZC5uYW1lLFxyXG4gICAgICAgIG1ldGE6IHJlY29yZC5tZXRhIHx8IHt9LFxyXG4gICAgICAgIGFsaWFzT2Y6IHVuZGVmaW5lZCxcclxuICAgICAgICBiZWZvcmVFbnRlcjogcmVjb3JkLmJlZm9yZUVudGVyLFxyXG4gICAgICAgIHByb3BzOiBub3JtYWxpemVSZWNvcmRQcm9wcyhyZWNvcmQpLFxyXG4gICAgICAgIGNoaWxkcmVuOiByZWNvcmQuY2hpbGRyZW4gfHwgW10sXHJcbiAgICAgICAgaW5zdGFuY2VzOiB7fSxcclxuICAgICAgICBsZWF2ZUd1YXJkczogW10sXHJcbiAgICAgICAgdXBkYXRlR3VhcmRzOiBbXSxcclxuICAgICAgICBlbnRlckNhbGxiYWNrczoge30sXHJcbiAgICAgICAgY29tcG9uZW50czogJ2NvbXBvbmVudHMnIGluIHJlY29yZFxyXG4gICAgICAgICAgICA/IHJlY29yZC5jb21wb25lbnRzIHx8IHt9XHJcbiAgICAgICAgICAgIDogeyBkZWZhdWx0OiByZWNvcmQuY29tcG9uZW50IH0sXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBOb3JtYWxpemUgdGhlIG9wdGlvbmFsIGBwcm9wc2AgaW4gYSByZWNvcmQgdG8gYWx3YXlzIGJlIGFuIG9iamVjdCBzaW1pbGFyIHRvXHJcbiAqIGNvbXBvbmVudHMuIEFsc28gYWNjZXB0IGEgYm9vbGVhbiBmb3IgY29tcG9uZW50cy5cclxuICogQHBhcmFtIHJlY29yZFxyXG4gKi9cclxuZnVuY3Rpb24gbm9ybWFsaXplUmVjb3JkUHJvcHMocmVjb3JkKSB7XHJcbiAgICBjb25zdCBwcm9wc09iamVjdCA9IHt9O1xyXG4gICAgLy8gcHJvcHMgZG9lcyBub3QgZXhpc3Qgb24gcmVkaXJlY3QgcmVjb3JkcyBidXQgd2UgY2FuIHNldCBmYWxzZSBkaXJlY3RseVxyXG4gICAgY29uc3QgcHJvcHMgPSByZWNvcmQucHJvcHMgfHwgZmFsc2U7XHJcbiAgICBpZiAoJ2NvbXBvbmVudCcgaW4gcmVjb3JkKSB7XHJcbiAgICAgICAgcHJvcHNPYmplY3QuZGVmYXVsdCA9IHByb3BzO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gTk9URTogd2UgY291bGQgYWxzbyBhbGxvdyBhIGZ1bmN0aW9uIHRvIGJlIGFwcGxpZWQgdG8gZXZlcnkgY29tcG9uZW50LlxyXG4gICAgICAgIC8vIFdvdWxkIG5lZWQgdXNlciBmZWVkYmFjayBmb3IgdXNlIGNhc2VzXHJcbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiByZWNvcmQuY29tcG9uZW50cylcclxuICAgICAgICAgICAgcHJvcHNPYmplY3RbbmFtZV0gPSB0eXBlb2YgcHJvcHMgPT09ICdib29sZWFuJyA/IHByb3BzIDogcHJvcHNbbmFtZV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJvcHNPYmplY3Q7XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrcyBpZiBhIHJlY29yZCBvciBhbnkgb2YgaXRzIHBhcmVudCBpcyBhbiBhbGlhc1xyXG4gKiBAcGFyYW0gcmVjb3JkXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0FsaWFzUmVjb3JkKHJlY29yZCkge1xyXG4gICAgd2hpbGUgKHJlY29yZCkge1xyXG4gICAgICAgIGlmIChyZWNvcmQucmVjb3JkLmFsaWFzT2YpXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIHJlY29yZCA9IHJlY29yZC5wYXJlbnQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuLyoqXHJcbiAqIE1lcmdlIG1ldGEgZmllbGRzIG9mIGFuIGFycmF5IG9mIHJlY29yZHNcclxuICpcclxuICogQHBhcmFtIG1hdGNoZWQgLSBhcnJheSBvZiBtYXRjaGVkIHJlY29yZHNcclxuICovXHJcbmZ1bmN0aW9uIG1lcmdlTWV0YUZpZWxkcyhtYXRjaGVkKSB7XHJcbiAgICByZXR1cm4gbWF0Y2hlZC5yZWR1Y2UoKG1ldGEsIHJlY29yZCkgPT4gYXNzaWduKG1ldGEsIHJlY29yZC5tZXRhKSwge30pO1xyXG59XHJcbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyhkZWZhdWx0cywgcGFydGlhbE9wdGlvbnMpIHtcclxuICAgIGxldCBvcHRpb25zID0ge307XHJcbiAgICBmb3IgKGxldCBrZXkgaW4gZGVmYXVsdHMpIHtcclxuICAgICAgICBvcHRpb25zW2tleV0gPVxyXG4gICAgICAgICAgICBrZXkgaW4gcGFydGlhbE9wdGlvbnMgPyBwYXJ0aWFsT3B0aW9uc1trZXldIDogZGVmYXVsdHNba2V5XTtcclxuICAgIH1cclxuICAgIHJldHVybiBvcHRpb25zO1xyXG59XHJcbmZ1bmN0aW9uIGlzU2FtZVBhcmFtKGEsIGIpIHtcclxuICAgIHJldHVybiAoYS5uYW1lID09PSBiLm5hbWUgJiZcclxuICAgICAgICBhLm9wdGlvbmFsID09PSBiLm9wdGlvbmFsICYmXHJcbiAgICAgICAgYS5yZXBlYXRhYmxlID09PSBiLnJlcGVhdGFibGUpO1xyXG59XHJcbmZ1bmN0aW9uIGNoZWNrU2FtZVBhcmFtcyhhLCBiKSB7XHJcbiAgICBmb3IgKGxldCBrZXkgb2YgYS5rZXlzKSB7XHJcbiAgICAgICAgaWYgKCFiLmtleXMuZmluZChpc1NhbWVQYXJhbS5iaW5kKG51bGwsIGtleSkpKVxyXG4gICAgICAgICAgICByZXR1cm4gd2FybihgQWxpYXMgXCIke2IucmVjb3JkLnBhdGh9XCIgYW5kIHRoZSBvcmlnaW5hbCByZWNvcmQ6IFwiJHthLnJlY29yZC5wYXRofVwiIHNob3VsZCBoYXZlIHRoZSBleGFjdCBzYW1lIHBhcmFtIG5hbWVkIFwiJHtrZXkubmFtZX1cImApO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQga2V5IG9mIGIua2V5cykge1xyXG4gICAgICAgIGlmICghYS5rZXlzLmZpbmQoaXNTYW1lUGFyYW0uYmluZChudWxsLCBrZXkpKSlcclxuICAgICAgICAgICAgcmV0dXJuIHdhcm4oYEFsaWFzIFwiJHtiLnJlY29yZC5wYXRofVwiIGFuZCB0aGUgb3JpZ2luYWwgcmVjb3JkOiBcIiR7YS5yZWNvcmQucGF0aH1cIiBzaG91bGQgaGF2ZSB0aGUgZXhhY3Qgc2FtZSBwYXJhbSBuYW1lZCBcIiR7a2V5Lm5hbWV9XCJgKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjaGVja01pc3NpbmdQYXJhbXNJbkFic29sdXRlUGF0aChyZWNvcmQsIHBhcmVudCkge1xyXG4gICAgZm9yIChsZXQga2V5IG9mIHBhcmVudC5rZXlzKSB7XHJcbiAgICAgICAgaWYgKCFyZWNvcmQua2V5cy5maW5kKGlzU2FtZVBhcmFtLmJpbmQobnVsbCwga2V5KSkpXHJcbiAgICAgICAgICAgIHJldHVybiB3YXJuKGBBYnNvbHV0ZSBwYXRoIFwiJHtyZWNvcmQucmVjb3JkLnBhdGh9XCIgc2hvdWxkIGhhdmUgdGhlIGV4YWN0IHNhbWUgcGFyYW0gbmFtZWQgXCIke2tleS5uYW1lfVwiIGFzIGl0cyBwYXJlbnQgXCIke3BhcmVudC5yZWNvcmQucGF0aH1cIi5gKTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogRW5jb2RpbmcgUnVsZXMg4pCjID0gU3BhY2UgUGF0aDog4pCjIFwiIDwgPiAjID8geyB9IFF1ZXJ5OiDikKMgXCIgPCA+ICMgJiA9IEhhc2g6IOKQoyBcIlxyXG4gKiA8ID4gYFxyXG4gKlxyXG4gKiBPbiB0b3Agb2YgdGhhdCwgdGhlIFJGQzM5ODYgKGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMi4yKVxyXG4gKiBkZWZpbmVzIHNvbWUgZXh0cmEgY2hhcmFjdGVycyB0byBiZSBlbmNvZGVkLiBNb3N0IGJyb3dzZXJzIGRvIG5vdCBlbmNvZGUgdGhlbVxyXG4gKiBpbiBlbmNvZGVVUkkgaHR0cHM6Ly9naXRodWIuY29tL3doYXR3Zy91cmwvaXNzdWVzLzM2OSwgc28gaXQgbWF5IGJlIHNhZmVyIHRvXHJcbiAqIGFsc28gZW5jb2RlIGAhJygpKmAuIExlYXZpbmcgdW5lbmNvZGVkIG9ubHkgQVNDSUkgYWxwaGFudW1lcmljKGBhLXpBLVowLTlgKVxyXG4gKiBwbHVzIGAtLl9+YC4gVGhpcyBleHRyYSBzYWZldHkgc2hvdWxkIGJlIGFwcGxpZWQgdG8gcXVlcnkgYnkgcGF0Y2hpbmcgdGhlXHJcbiAqIHN0cmluZyByZXR1cm5lZCBieSBlbmNvZGVVUklDb21wb25lbnQgZW5jb2RlVVJJIGFsc28gZW5jb2RlcyBgW1xcXV5gLiBgXFxgXHJcbiAqIHNob3VsZCBiZSBlbmNvZGVkIHRvIGF2b2lkIGFtYmlndWl0eS4gQnJvd3NlcnMgKElFLCBGRiwgQykgdHJhbnNmb3JtIGEgYFxcYFxyXG4gKiBpbnRvIGEgYC9gIGlmIGRpcmVjdGx5IHR5cGVkIGluLiBUaGUgX2JhY2t0aWNrXyAoYGBgYGApIHNob3VsZCBhbHNvIGJlXHJcbiAqIGVuY29kZWQgZXZlcnl3aGVyZSBiZWNhdXNlIHNvbWUgYnJvd3NlcnMgbGlrZSBGRiBlbmNvZGUgaXQgd2hlbiBkaXJlY3RseVxyXG4gKiB3cml0dGVuIHdoaWxlIG90aGVycyBkb24ndC4gU2FmYXJpIGFuZCBJRSBkb24ndCBlbmNvZGUgYGBcIjw+e31gYGAgaW4gaGFzaC5cclxuICovXHJcbi8vIGNvbnN0IEVYVFJBX1JFU0VSVkVEX1JFID0gL1shJygpKl0vZ1xyXG4vLyBjb25zdCBlbmNvZGVSZXNlcnZlZFJlcGxhY2VyID0gKGM6IHN0cmluZykgPT4gJyUnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KVxyXG5jb25zdCBIQVNIX1JFID0gLyMvZzsgLy8gJTIzXHJcbmNvbnN0IEFNUEVSU0FORF9SRSA9IC8mL2c7IC8vICUyNlxyXG5jb25zdCBTTEFTSF9SRSA9IC9cXC8vZzsgLy8gJTJGXHJcbmNvbnN0IEVRVUFMX1JFID0gLz0vZzsgLy8gJTNEXHJcbmNvbnN0IElNX1JFID0gL1xcPy9nOyAvLyAlM0ZcclxuY29uc3QgUExVU19SRSA9IC9cXCsvZzsgLy8gJTJCXHJcbi8qKlxyXG4gKiBOT1RFOiBJdCdzIG5vdCBjbGVhciB0byBtZSBpZiB3ZSBzaG91bGQgZW5jb2RlIHRoZSArIHN5bWJvbCBpbiBxdWVyaWVzLCBpdFxyXG4gKiBzZWVtcyB0byBiZSBsZXNzIGZsZXhpYmxlIHRoYW4gbm90IGRvaW5nIHNvIGFuZCBJIGNhbid0IGZpbmQgb3V0IHRoZSBsZWdhY3lcclxuICogc3lzdGVtcyByZXF1aXJpbmcgdGhpcyBmb3IgcmVndWxhciByZXF1ZXN0cyBsaWtlIHRleHQvaHRtbC4gSW4gdGhlIHN0YW5kYXJkLFxyXG4gKiB0aGUgZW5jb2Rpbmcgb2YgdGhlIHBsdXMgY2hhcmFjdGVyIGlzIG9ubHkgbWVudGlvbmVkIGZvclxyXG4gKiBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcclxuICogKGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsZW5jb2RlZC1wYXJzaW5nKSBhbmQgbW9zdCBicm93c2VycyBzZWVtcyBsb1xyXG4gKiBsZWF2ZSB0aGUgcGx1cyBjaGFyYWN0ZXIgYXMgaXMgaW4gcXVlcmllcy4gVG8gYmUgbW9yZSBmbGV4aWJsZSwgd2UgYWxsb3cgdGhlXHJcbiAqIHBsdXMgY2hhcmFjdGVyIG9uIHRoZSBxdWVyeSBidXQgaXQgY2FuIGFsc28gYmUgbWFudWFsbHkgZW5jb2RlZCBieSB0aGUgdXNlci5cclxuICpcclxuICogUmVzb3VyY2VzOlxyXG4gKiAtIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsZW5jb2RlZC1wYXJzaW5nXHJcbiAqIC0gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTYzNDI3MS91cmwtZW5jb2RpbmctdGhlLXNwYWNlLWNoYXJhY3Rlci1vci0yMFxyXG4gKi9cclxuY29uc3QgRU5DX0JSQUNLRVRfT1BFTl9SRSA9IC8lNUIvZzsgLy8gW1xyXG5jb25zdCBFTkNfQlJBQ0tFVF9DTE9TRV9SRSA9IC8lNUQvZzsgLy8gXVxyXG5jb25zdCBFTkNfQ0FSRVRfUkUgPSAvJTVFL2c7IC8vIF5cclxuY29uc3QgRU5DX0JBQ0tUSUNLX1JFID0gLyU2MC9nOyAvLyBgXHJcbmNvbnN0IEVOQ19DVVJMWV9PUEVOX1JFID0gLyU3Qi9nOyAvLyB7XHJcbmNvbnN0IEVOQ19QSVBFX1JFID0gLyU3Qy9nOyAvLyB8XHJcbmNvbnN0IEVOQ19DVVJMWV9DTE9TRV9SRSA9IC8lN0QvZzsgLy8gfVxyXG5jb25zdCBFTkNfU1BBQ0VfUkUgPSAvJTIwL2c7IC8vIH1cclxuLyoqXHJcbiAqIEVuY29kZSBjaGFyYWN0ZXJzIHRoYXQgbmVlZCB0byBiZSBlbmNvZGVkIG9uIHRoZSBwYXRoLCBzZWFyY2ggYW5kIGhhc2hcclxuICogc2VjdGlvbnMgb2YgdGhlIFVSTC5cclxuICpcclxuICogQGludGVybmFsXHJcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxyXG4gKiBAcmV0dXJucyBlbmNvZGVkIHN0cmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gY29tbW9uRW5jb2RlKHRleHQpIHtcclxuICAgIHJldHVybiBlbmNvZGVVUkkoJycgKyB0ZXh0KVxyXG4gICAgICAgIC5yZXBsYWNlKEVOQ19QSVBFX1JFLCAnfCcpXHJcbiAgICAgICAgLnJlcGxhY2UoRU5DX0JSQUNLRVRfT1BFTl9SRSwgJ1snKVxyXG4gICAgICAgIC5yZXBsYWNlKEVOQ19CUkFDS0VUX0NMT1NFX1JFLCAnXScpO1xyXG59XHJcbi8qKlxyXG4gKiBFbmNvZGUgY2hhcmFjdGVycyB0aGF0IG5lZWQgdG8gYmUgZW5jb2RlZCBvbiB0aGUgaGFzaCBzZWN0aW9uIG9mIHRoZSBVUkwuXHJcbiAqXHJcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxyXG4gKiBAcmV0dXJucyBlbmNvZGVkIHN0cmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gZW5jb2RlSGFzaCh0ZXh0KSB7XHJcbiAgICByZXR1cm4gY29tbW9uRW5jb2RlKHRleHQpXHJcbiAgICAgICAgLnJlcGxhY2UoRU5DX0NVUkxZX09QRU5fUkUsICd7JylcclxuICAgICAgICAucmVwbGFjZShFTkNfQ1VSTFlfQ0xPU0VfUkUsICd9JylcclxuICAgICAgICAucmVwbGFjZShFTkNfQ0FSRVRfUkUsICdeJyk7XHJcbn1cclxuLyoqXHJcbiAqIEVuY29kZSBjaGFyYWN0ZXJzIHRoYXQgbmVlZCB0byBiZSBlbmNvZGVkIHF1ZXJ5IHZhbHVlcyBvbiB0aGUgcXVlcnlcclxuICogc2VjdGlvbiBvZiB0aGUgVVJMLlxyXG4gKlxyXG4gKiBAcGFyYW0gdGV4dCAtIHN0cmluZyB0byBlbmNvZGVcclxuICogQHJldHVybnMgZW5jb2RlZCBzdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIGVuY29kZVF1ZXJ5VmFsdWUodGV4dCkge1xyXG4gICAgcmV0dXJuIChjb21tb25FbmNvZGUodGV4dClcclxuICAgICAgICAvLyBFbmNvZGUgdGhlIHNwYWNlIGFzICssIGVuY29kZSB0aGUgKyB0byBkaWZmZXJlbnRpYXRlIGl0IGZyb20gdGhlIHNwYWNlXHJcbiAgICAgICAgLnJlcGxhY2UoUExVU19SRSwgJyUyQicpXHJcbiAgICAgICAgLnJlcGxhY2UoRU5DX1NQQUNFX1JFLCAnKycpXHJcbiAgICAgICAgLnJlcGxhY2UoSEFTSF9SRSwgJyUyMycpXHJcbiAgICAgICAgLnJlcGxhY2UoQU1QRVJTQU5EX1JFLCAnJTI2JylcclxuICAgICAgICAucmVwbGFjZShFTkNfQkFDS1RJQ0tfUkUsICdgJylcclxuICAgICAgICAucmVwbGFjZShFTkNfQ1VSTFlfT1BFTl9SRSwgJ3snKVxyXG4gICAgICAgIC5yZXBsYWNlKEVOQ19DVVJMWV9DTE9TRV9SRSwgJ30nKVxyXG4gICAgICAgIC5yZXBsYWNlKEVOQ19DQVJFVF9SRSwgJ14nKSk7XHJcbn1cclxuLyoqXHJcbiAqIExpa2UgYGVuY29kZVF1ZXJ5VmFsdWVgIGJ1dCBhbHNvIGVuY29kZXMgdGhlIGA9YCBjaGFyYWN0ZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxyXG4gKi9cclxuZnVuY3Rpb24gZW5jb2RlUXVlcnlLZXkodGV4dCkge1xyXG4gICAgcmV0dXJuIGVuY29kZVF1ZXJ5VmFsdWUodGV4dCkucmVwbGFjZShFUVVBTF9SRSwgJyUzRCcpO1xyXG59XHJcbi8qKlxyXG4gKiBFbmNvZGUgY2hhcmFjdGVycyB0aGF0IG5lZWQgdG8gYmUgZW5jb2RlZCBvbiB0aGUgcGF0aCBzZWN0aW9uIG9mIHRoZSBVUkwuXHJcbiAqXHJcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxyXG4gKiBAcmV0dXJucyBlbmNvZGVkIHN0cmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gZW5jb2RlUGF0aCh0ZXh0KSB7XHJcbiAgICByZXR1cm4gY29tbW9uRW5jb2RlKHRleHQpLnJlcGxhY2UoSEFTSF9SRSwgJyUyMycpLnJlcGxhY2UoSU1fUkUsICclM0YnKTtcclxufVxyXG4vKipcclxuICogRW5jb2RlIGNoYXJhY3RlcnMgdGhhdCBuZWVkIHRvIGJlIGVuY29kZWQgb24gdGhlIHBhdGggc2VjdGlvbiBvZiB0aGUgVVJMIGFzIGFcclxuICogcGFyYW0uIFRoaXMgZnVuY3Rpb24gZW5jb2RlcyBldmVyeXRoaW5nIHtAbGluayBlbmNvZGVQYXRofSBkb2VzIHBsdXMgdGhlXHJcbiAqIHNsYXNoIChgL2ApIGNoYXJhY3Rlci5cclxuICpcclxuICogQHBhcmFtIHRleHQgLSBzdHJpbmcgdG8gZW5jb2RlXHJcbiAqIEByZXR1cm5zIGVuY29kZWQgc3RyaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBlbmNvZGVQYXJhbSh0ZXh0KSB7XHJcbiAgICByZXR1cm4gZW5jb2RlUGF0aCh0ZXh0KS5yZXBsYWNlKFNMQVNIX1JFLCAnJTJGJyk7XHJcbn1cclxuLyoqXHJcbiAqIERlY29kZSB0ZXh0IHVzaW5nIGBkZWNvZGVVUklDb21wb25lbnRgLiBSZXR1cm5zIHRoZSBvcmlnaW5hbCB0ZXh0IGlmIGl0XHJcbiAqIGZhaWxzLlxyXG4gKlxyXG4gKiBAcGFyYW0gdGV4dCAtIHN0cmluZyB0byBkZWNvZGVcclxuICogQHJldHVybnMgZGVjb2RlZCBzdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIGRlY29kZSh0ZXh0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoJycgKyB0ZXh0KTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihgRXJyb3IgZGVjb2RpbmcgXCIke3RleHR9XCIuIFVzaW5nIG9yaWdpbmFsIHZhbHVlYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJycgKyB0ZXh0O1xyXG59XG5cbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIGEgcXVlcnlTdHJpbmcgaW50byBhIHtAbGluayBMb2NhdGlvblF1ZXJ5fSBvYmplY3QuIEFjY2VwdCBib3RoLCBhXHJcbiAqIHZlcnNpb24gd2l0aCB0aGUgbGVhZGluZyBgP2AgYW5kIHdpdGhvdXQgU2hvdWxkIHdvcmsgYXMgVVJMU2VhcmNoUGFyYW1zXHJcblxuICogQGludGVybmFsXHJcbiAqXHJcbiAqIEBwYXJhbSBzZWFyY2ggLSBzZWFyY2ggc3RyaW5nIHRvIHBhcnNlXHJcbiAqIEByZXR1cm5zIGEgcXVlcnkgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZVF1ZXJ5KHNlYXJjaCkge1xyXG4gICAgY29uc3QgcXVlcnkgPSB7fTtcclxuICAgIC8vIGF2b2lkIGNyZWF0aW5nIGFuIG9iamVjdCB3aXRoIGFuIGVtcHR5IGtleSBhbmQgZW1wdHkgdmFsdWVcclxuICAgIC8vIGJlY2F1c2Ugb2Ygc3BsaXQoJyYnKVxyXG4gICAgaWYgKHNlYXJjaCA9PT0gJycgfHwgc2VhcmNoID09PSAnPycpXHJcbiAgICAgICAgcmV0dXJuIHF1ZXJ5O1xyXG4gICAgY29uc3QgaGFzTGVhZGluZ0lNID0gc2VhcmNoWzBdID09PSAnPyc7XHJcbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSAoaGFzTGVhZGluZ0lNID8gc2VhcmNoLnNsaWNlKDEpIDogc2VhcmNoKS5zcGxpdCgnJicpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWFyY2hQYXJhbXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAvLyBwcmUgZGVjb2RlIHRoZSArIGludG8gc3BhY2VcclxuICAgICAgICBjb25zdCBzZWFyY2hQYXJhbSA9IHNlYXJjaFBhcmFtc1tpXS5yZXBsYWNlKFBMVVNfUkUsICcgJyk7XHJcbiAgICAgICAgLy8gYWxsb3cgdGhlID0gY2hhcmFjdGVyXHJcbiAgICAgICAgbGV0IGVxUG9zID0gc2VhcmNoUGFyYW0uaW5kZXhPZignPScpO1xyXG4gICAgICAgIGxldCBrZXkgPSBkZWNvZGUoZXFQb3MgPCAwID8gc2VhcmNoUGFyYW0gOiBzZWFyY2hQYXJhbS5zbGljZSgwLCBlcVBvcykpO1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IGVxUG9zIDwgMCA/IG51bGwgOiBkZWNvZGUoc2VhcmNoUGFyYW0uc2xpY2UoZXFQb3MgKyAxKSk7XHJcbiAgICAgICAgaWYgKGtleSBpbiBxdWVyeSkge1xyXG4gICAgICAgICAgICAvLyBhbiBleHRyYSB2YXJpYWJsZSBmb3IgdHMgdHlwZXNcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRWYWx1ZSA9IHF1ZXJ5W2tleV07XHJcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShjdXJyZW50VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBxdWVyeVtrZXldID0gW2N1cnJlbnRWYWx1ZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudFZhbHVlLnB1c2godmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcXVlcnlba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBxdWVyeTtcclxufVxyXG4vKipcclxuICogU3RyaW5naWZpZXMgYSB7QGxpbmsgTG9jYXRpb25RdWVyeVJhd30gb2JqZWN0LiBMaWtlIGBVUkxTZWFyY2hQYXJhbXNgLCBpdFxyXG4gKiBkb2Vzbid0IHByZXBlbmQgYSBgP2BcclxuICpcclxuICogQGludGVybmFsXHJcbiAqXHJcbiAqIEBwYXJhbSBxdWVyeSAtIHF1ZXJ5IG9iamVjdCB0byBzdHJpbmdpZnlcclxuICogQHJldHVybnMgc3RyaW5nIHZlcnNpb24gb2YgdGhlIHF1ZXJ5IHdpdGhvdXQgdGhlIGxlYWRpbmcgYD9gXHJcbiAqL1xyXG5mdW5jdGlvbiBzdHJpbmdpZnlRdWVyeShxdWVyeSkge1xyXG4gICAgbGV0IHNlYXJjaCA9ICcnO1xyXG4gICAgZm9yIChsZXQga2V5IGluIHF1ZXJ5KSB7XHJcbiAgICAgICAgaWYgKHNlYXJjaC5sZW5ndGgpXHJcbiAgICAgICAgICAgIHNlYXJjaCArPSAnJic7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBxdWVyeVtrZXldO1xyXG4gICAgICAgIGtleSA9IGVuY29kZVF1ZXJ5S2V5KGtleSk7XHJcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gb25seSBudWxsIGFkZHMgdGhlIHZhbHVlXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgc2VhcmNoICs9IGtleTtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGtlZXAgbnVsbCB2YWx1ZXNcclxuICAgICAgICBsZXQgdmFsdWVzID0gQXJyYXkuaXNBcnJheSh2YWx1ZSlcclxuICAgICAgICAgICAgPyB2YWx1ZS5tYXAodiA9PiB2ICYmIGVuY29kZVF1ZXJ5VmFsdWUodikpXHJcbiAgICAgICAgICAgIDogW3ZhbHVlICYmIGVuY29kZVF1ZXJ5VmFsdWUodmFsdWUpXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAvLyBvbmx5IGFwcGVuZCAmIHdpdGggaSA+IDBcclxuICAgICAgICAgICAgc2VhcmNoICs9IChpID8gJyYnIDogJycpICsga2V5O1xyXG4gICAgICAgICAgICBpZiAodmFsdWVzW2ldICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICBzZWFyY2ggKz0gKCc9JyArIHZhbHVlc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNlYXJjaDtcclxufVxyXG4vKipcclxuICogVHJhbnNmb3JtcyBhIHtAbGluayBMb2NhdGlvblF1ZXJ5UmF3fSBpbnRvIGEge0BsaW5rIExvY2F0aW9uUXVlcnl9IGJ5IGNhc3RpbmdcclxuICogbnVtYmVycyBpbnRvIHN0cmluZ3MsIHJlbW92aW5nIGtleXMgd2l0aCBhbiB1bmRlZmluZWQgdmFsdWUgYW5kIHJlcGxhY2luZ1xyXG4gKiB1bmRlZmluZWQgd2l0aCBudWxsIGluIGFycmF5c1xyXG4gKlxyXG4gKiBAcGFyYW0gcXVlcnkgLSBxdWVyeSBvYmplY3QgdG8gbm9ybWFsaXplXHJcbiAqIEByZXR1cm5zIGEgbm9ybWFsaXplZCBxdWVyeSBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVF1ZXJ5KHF1ZXJ5KSB7XHJcbiAgICBjb25zdCBub3JtYWxpemVkUXVlcnkgPSB7fTtcclxuICAgIGZvciAobGV0IGtleSBpbiBxdWVyeSkge1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IHF1ZXJ5W2tleV07XHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplZFF1ZXJ5W2tleV0gPSBBcnJheS5pc0FycmF5KHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgPyB2YWx1ZS5tYXAodiA9PiAodiA9PSBudWxsID8gbnVsbCA6ICcnICsgdikpXHJcbiAgICAgICAgICAgICAgICA6IHZhbHVlID09IG51bGxcclxuICAgICAgICAgICAgICAgICAgICA/IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgOiAnJyArIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBub3JtYWxpemVkUXVlcnk7XHJcbn1cblxuLyoqXHJcbiAqIENyZWF0ZSBhIGxpc3Qgb2YgY2FsbGJhY2tzIHRoYXQgY2FuIGJlIHJlc2V0LiBVc2VkIHRvIGNyZWF0ZSBiZWZvcmUgYW5kIGFmdGVyIG5hdmlnYXRpb24gZ3VhcmRzIGxpc3RcclxuICovXHJcbmZ1bmN0aW9uIHVzZUNhbGxiYWNrcygpIHtcclxuICAgIGxldCBoYW5kbGVycyA9IFtdO1xyXG4gICAgZnVuY3Rpb24gYWRkKGhhbmRsZXIpIHtcclxuICAgICAgICBoYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGkgPSBoYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xyXG4gICAgICAgICAgICBpZiAoaSA+IC0xKVxyXG4gICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZXNldCgpIHtcclxuICAgICAgICBoYW5kbGVycyA9IFtdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBhZGQsXHJcbiAgICAgICAgbGlzdDogKCkgPT4gaGFuZGxlcnMsXHJcbiAgICAgICAgcmVzZXQsXHJcbiAgICB9O1xyXG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyR3VhcmQobGlzdCwgZ3VhcmQpIHtcclxuICAgIGNvbnN0IHJlbW92ZUZyb21MaXN0ID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdC5pbmRleE9mKGd1YXJkKTtcclxuICAgICAgICBpZiAoaW5kZXggPiAtMSlcclxuICAgICAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfTtcclxuICAgIG9uVW5tb3VudGVkKHJlbW92ZUZyb21MaXN0KTtcclxuICAgIG9uRGVhY3RpdmF0ZWQocmVtb3ZlRnJvbUxpc3QpO1xyXG4gICAgb25BY3RpdmF0ZWQoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdC5pbmRleE9mKGd1YXJkKTtcclxuICAgICAgICBpZiAoaW5kZXggPCAwKVxyXG4gICAgICAgICAgICBsaXN0LnB1c2goZ3VhcmQpO1xyXG4gICAgfSk7XHJcbiAgICBsaXN0LnB1c2goZ3VhcmQpO1xyXG59XHJcbi8qKlxyXG4gKiBBZGQgYSBuYXZpZ2F0aW9uIGd1YXJkIHRoYXQgdHJpZ2dlcnMgd2hlbmV2ZXIgdGhlIGNvbXBvbmVudCBmb3IgdGhlIGN1cnJlbnRcclxuICogbG9jYXRpb24gaXMgYWJvdXQgdG8gYmUgbGVmdC4gU2ltaWxhciB0byB7QGxpbmsgYmVmb3JlUm91dGVMZWF2ZX0gYnV0IGNhbiBiZVxyXG4gKiB1c2VkIGluIGFueSBjb21wb25lbnQuIFRoZSBndWFyZCBpcyByZW1vdmVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSBsZWF2ZUd1YXJkIC0ge0BsaW5rIE5hdmlnYXRpb25HdWFyZH1cclxuICovXHJcbmZ1bmN0aW9uIG9uQmVmb3JlUm91dGVMZWF2ZShsZWF2ZUd1YXJkKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFnZXRDdXJyZW50SW5zdGFuY2UoKSkge1xyXG4gICAgICAgIHdhcm4oJ29uQmVmb3JlUm91dGVMZWF2ZSBtdXN0IGJlIGNhbGxlZCBhdCB0aGUgdG9wIG9mIGEgc2V0dXAgZnVuY3Rpb24nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBhY3RpdmVSZWNvcmQgPSBpbmplY3QobWF0Y2hlZFJvdXRlS2V5LCB7fSkudmFsdWU7XHJcbiAgICBpZiAoIWFjdGl2ZVJlY29yZCkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICB3YXJuKCdvbkJlZm9yZVJvdXRlTGVhdmUgbXVzdCBiZSBjYWxsZWQgYXQgdGhlIHRvcCBvZiBhIHNldHVwIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXJHdWFyZChhY3RpdmVSZWNvcmQubGVhdmVHdWFyZHMsIGxlYXZlR3VhcmQpO1xyXG59XHJcbi8qKlxyXG4gKiBBZGQgYSBuYXZpZ2F0aW9uIGd1YXJkIHRoYXQgdHJpZ2dlcnMgd2hlbmV2ZXIgdGhlIGN1cnJlbnQgbG9jYXRpb24gaXMgYWJvdXRcclxuICogdG8gYmUgdXBkYXRlZC4gU2ltaWxhciB0byB7QGxpbmsgYmVmb3JlUm91dGVVcGRhdGV9IGJ1dCBjYW4gYmUgdXNlZCBpbiBhbnlcclxuICogY29tcG9uZW50LiBUaGUgZ3VhcmQgaXMgcmVtb3ZlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxyXG4gKlxyXG4gKiBAcGFyYW0gdXBkYXRlR3VhcmQgLSB7QGxpbmsgTmF2aWdhdGlvbkd1YXJkfVxyXG4gKi9cclxuZnVuY3Rpb24gb25CZWZvcmVSb3V0ZVVwZGF0ZSh1cGRhdGVHdWFyZCkge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZ2V0Q3VycmVudEluc3RhbmNlKCkpIHtcclxuICAgICAgICB3YXJuKCdvbkJlZm9yZVJvdXRlVXBkYXRlIG11c3QgYmUgY2FsbGVkIGF0IHRoZSB0b3Agb2YgYSBzZXR1cCBmdW5jdGlvbicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGFjdGl2ZVJlY29yZCA9IGluamVjdChtYXRjaGVkUm91dGVLZXksIHt9KS52YWx1ZTtcclxuICAgIGlmICghYWN0aXZlUmVjb3JkKSB7XHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIHdhcm4oJ29uQmVmb3JlUm91dGVVcGRhdGUgbXVzdCBiZSBjYWxsZWQgYXQgdGhlIHRvcCBvZiBhIHNldHVwIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXJHdWFyZChhY3RpdmVSZWNvcmQudXBkYXRlR3VhcmRzLCB1cGRhdGVHdWFyZCk7XHJcbn1cclxuZnVuY3Rpb24gZ3VhcmRUb1Byb21pc2VGbihndWFyZCwgdG8sIGZyb20sIHJlY29yZCwgbmFtZSkge1xyXG4gICAgLy8ga2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgZW50ZXJDYWxsYmFja0FycmF5IHRvIHByZXZlbnQgcHVzaGluZyBjYWxsYmFja3MgaWYgYSBuZXcgbmF2aWdhdGlvbiB0b29rIHBsYWNlXHJcbiAgICBjb25zdCBlbnRlckNhbGxiYWNrQXJyYXkgPSByZWNvcmQgJiZcclxuICAgICAgICAvLyBuYW1lIGlzIGRlZmluZWQgaWYgcmVjb3JkIGlzIGJlY2F1c2Ugb2YgdGhlIGZ1bmN0aW9uIG92ZXJsb2FkXHJcbiAgICAgICAgKHJlY29yZC5lbnRlckNhbGxiYWNrc1tuYW1lXSA9IHJlY29yZC5lbnRlckNhbGxiYWNrc1tuYW1lXSB8fCBbXSk7XHJcbiAgICByZXR1cm4gKCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5leHQgPSAodmFsaWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHZhbGlkID09PSBmYWxzZSlcclxuICAgICAgICAgICAgICAgIHJlamVjdChjcmVhdGVSb3V0ZXJFcnJvcig0IC8qIE5BVklHQVRJT05fQUJPUlRFRCAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgIGZyb20sXHJcbiAgICAgICAgICAgICAgICAgICAgdG8sXHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbGlkIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdCh2YWxpZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSb3V0ZUxvY2F0aW9uKHZhbGlkKSkge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGNyZWF0ZVJvdXRlckVycm9yKDIgLyogTkFWSUdBVElPTl9HVUFSRF9SRURJUkVDVCAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgIGZyb206IHRvLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvOiB2YWxpZCxcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbnRlckNhbGxiYWNrQXJyYXkgJiZcclxuICAgICAgICAgICAgICAgICAgICAvLyBzaW5jZSBlbnRlckNhbGxiYWNrQXJyYXkgaXMgdHJ1dGh5LCBib3RoIHJlY29yZCBhbmQgbmFtZSBhbHNvIGFyZVxyXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZC5lbnRlckNhbGxiYWNrc1tuYW1lXSA9PT0gZW50ZXJDYWxsYmFja0FycmF5ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHZhbGlkID09PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgICAgIGVudGVyQ2FsbGJhY2tBcnJheS5wdXNoKHZhbGlkKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gd3JhcHBpbmcgd2l0aCBQcm9taXNlLnJlc29sdmUgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBib3RoIGFzeW5jIGFuZCBzeW5jIGd1YXJkc1xyXG4gICAgICAgIGNvbnN0IGd1YXJkUmV0dXJuID0gZ3VhcmQuY2FsbChyZWNvcmQgJiYgcmVjb3JkLmluc3RhbmNlc1tuYW1lXSwgdG8sIGZyb20sIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGNhbk9ubHlCZUNhbGxlZE9uY2UobmV4dCwgdG8sIGZyb20pIDogbmV4dCk7XHJcbiAgICAgICAgbGV0IGd1YXJkQ2FsbCA9IFByb21pc2UucmVzb2x2ZShndWFyZFJldHVybik7XHJcbiAgICAgICAgaWYgKGd1YXJkLmxlbmd0aCA8IDMpXHJcbiAgICAgICAgICAgIGd1YXJkQ2FsbCA9IGd1YXJkQ2FsbC50aGVuKG5leHQpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZ3VhcmQubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYFRoZSBcIm5leHRcIiBjYWxsYmFjayB3YXMgbmV2ZXIgY2FsbGVkIGluc2lkZSBvZiAke2d1YXJkLm5hbWUgPyAnXCInICsgZ3VhcmQubmFtZSArICdcIicgOiAnJ306XFxuJHtndWFyZC50b1N0cmluZygpfVxcbi4gSWYgeW91IGFyZSByZXR1cm5pbmcgYSB2YWx1ZSBpbnN0ZWFkIG9mIGNhbGxpbmcgXCJuZXh0XCIsIG1ha2Ugc3VyZSB0byByZW1vdmUgdGhlIFwibmV4dFwiIHBhcmFtZXRlciBmcm9tIHlvdXIgZnVuY3Rpb24uYDtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBndWFyZFJldHVybiA9PT0gJ29iamVjdCcgJiYgJ3RoZW4nIGluIGd1YXJkUmV0dXJuKSB7XHJcbiAgICAgICAgICAgICAgICBndWFyZENhbGwgPSBndWFyZENhbGwudGhlbihyZXNvbHZlZFZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBfY2FsbGVkIGlzIGFkZGVkIGF0IGNhbk9ubHlCZUNhbGxlZE9uY2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHQuX2NhbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIG5hdmlnYXRpb24gZ3VhcmQnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB0ZXN0IG1lIVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGd1YXJkUmV0dXJuICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IF9jYWxsZWQgaXMgYWRkZWQgYXQgY2FuT25seUJlQ2FsbGVkT25jZVxyXG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0Ll9jYWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgbmF2aWdhdGlvbiBndWFyZCcpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZ3VhcmRDYWxsLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBjYW5Pbmx5QmVDYWxsZWRPbmNlKG5leHQsIHRvLCBmcm9tKSB7XHJcbiAgICBsZXQgY2FsbGVkID0gMDtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGNhbGxlZCsrID09PSAxKVxyXG4gICAgICAgICAgICB3YXJuKGBUaGUgXCJuZXh0XCIgY2FsbGJhY2sgd2FzIGNhbGxlZCBtb3JlIHRoYW4gb25jZSBpbiBvbmUgbmF2aWdhdGlvbiBndWFyZCB3aGVuIGdvaW5nIGZyb20gXCIke2Zyb20uZnVsbFBhdGh9XCIgdG8gXCIke3RvLmZ1bGxQYXRofVwiLiBJdCBzaG91bGQgYmUgY2FsbGVkIGV4YWN0bHkgb25lIHRpbWUgaW4gZWFjaCBuYXZpZ2F0aW9uIGd1YXJkLiBUaGlzIHdpbGwgZmFpbCBpbiBwcm9kdWN0aW9uLmApO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmU6IHdlIHB1dCBpdCBpbiB0aGUgb3JpZ2luYWwgb25lIGJlY2F1c2UgaXQncyBlYXNpZXIgdG8gY2hlY2tcclxuICAgICAgICBuZXh0Ll9jYWxsZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmIChjYWxsZWQgPT09IDEpXHJcbiAgICAgICAgICAgIG5leHQuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZXh0cmFjdENvbXBvbmVudHNHdWFyZHMobWF0Y2hlZCwgZ3VhcmRUeXBlLCB0bywgZnJvbSkge1xyXG4gICAgY29uc3QgZ3VhcmRzID0gW107XHJcbiAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiBtYXRjaGVkKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHJlY29yZC5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGxldCByYXdDb21wb25lbnQgPSByZWNvcmQuY29tcG9uZW50c1tuYW1lXTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyYXdDb21wb25lbnQgfHxcclxuICAgICAgICAgICAgICAgICAgICAodHlwZW9mIHJhd0NvbXBvbmVudCAhPT0gJ29iamVjdCcgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHJhd0NvbXBvbmVudCAhPT0gJ2Z1bmN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgXCIke25hbWV9XCIgaW4gcmVjb3JkIHdpdGggcGF0aCBcIiR7cmVjb3JkLnBhdGh9XCIgaXMgbm90YCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGAgYSB2YWxpZCBjb21wb25lbnQuIFJlY2VpdmVkIFwiJHtTdHJpbmcocmF3Q29tcG9uZW50KX1cIi5gKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdyB0byBlbnN1cmUgd2Ugc3RvcCBoZXJlIGJ1dCB3YXJuIHRvIGVuc3VyZSB0aGUgbWVzc2FnZSBpc24ndFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1pc3NlZCBieSB0aGUgdXNlclxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByb3V0ZSBjb21wb25lbnQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCd0aGVuJyBpbiByYXdDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3YXJuIGlmIHVzZXIgd3JvdGUgaW1wb3J0KCcvY29tcG9uZW50LnZ1ZScpIGluc3RlYWQgb2YgKCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAvLyBpbXBvcnQoJy4vY29tcG9uZW50LnZ1ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGluIHJlY29yZCB3aXRoIHBhdGggXCIke3JlY29yZC5wYXRofVwiIGlzIGEgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBQcm9taXNlIGluc3RlYWQgb2YgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBQcm9taXNlLiBEaWQgeW91IGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgd3JpdGUgXCJpbXBvcnQoJy4vTXlQYWdlLnZ1ZScpXCIgaW5zdGVhZCBvZiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYFwiKCkgPT4gaW1wb3J0KCcuL015UGFnZS52dWUnKVwiID8gVGhpcyB3aWxsIGJyZWFrIGluIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgcHJvZHVjdGlvbiBpZiBub3QgZml4ZWQuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb21pc2UgPSByYXdDb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmF3Q29tcG9uZW50ID0gKCkgPT4gcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBza2lwIHVwZGF0ZSBhbmQgbGVhdmUgZ3VhcmRzIGlmIHRoZSByb3V0ZSBjb21wb25lbnQgaXMgbm90IG1vdW50ZWRcclxuICAgICAgICAgICAgaWYgKGd1YXJkVHlwZSAhPT0gJ2JlZm9yZVJvdXRlRW50ZXInICYmICFyZWNvcmQuaW5zdGFuY2VzW25hbWVdKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIGlmIChpc1JvdXRlQ29tcG9uZW50KHJhd0NvbXBvbmVudCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIF9fdmNjT3B0cyBpcyBhZGRlZCBieSB2dWUtY2xhc3MtY29tcG9uZW50IGFuZCBjb250YWluIHRoZSByZWd1bGFyIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgIGxldCBvcHRpb25zID0gcmF3Q29tcG9uZW50Ll9fdmNjT3B0cyB8fCByYXdDb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBndWFyZCA9IG9wdGlvbnNbZ3VhcmRUeXBlXTtcclxuICAgICAgICAgICAgICAgIGd1YXJkICYmIGd1YXJkcy5wdXNoKGd1YXJkVG9Qcm9taXNlRm4oZ3VhcmQsIHRvLCBmcm9tLCByZWNvcmQsIG5hbWUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHJlcXVlc3RpbmcgdGhlIGNodW5rIGFscmVhZHlcclxuICAgICAgICAgICAgICAgIGxldCBjb21wb25lbnRQcm9taXNlID0gcmF3Q29tcG9uZW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICEoJ2NhdGNoJyBpbiBjb21wb25lbnRQcm9taXNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBcIiR7bmFtZX1cIiBpbiByZWNvcmQgd2l0aCBwYXRoIFwiJHtyZWNvcmQucGF0aH1cIiBpcyBhIGZ1bmN0aW9uIHRoYXQgZG9lcyBub3QgcmV0dXJuIGEgUHJvbWlzZS4gSWYgeW91IHdlcmUgcGFzc2luZyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50LCBtYWtlIHN1cmUgdG8gYWRkIGEgXCJkaXNwbGF5TmFtZVwiIHRvIHRoZSBjb21wb25lbnQuIFRoaXMgd2lsbCBicmVhayBpbiBwcm9kdWN0aW9uIGlmIG5vdCBmaXhlZC5gKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbXBvbmVudFByb21pc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzcGxheSB0aGUgZXJyb3IgaWYgYW55XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvbWlzZSA9IGNvbXBvbmVudFByb21pc2UuY2F0Y2goKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gZXJyID0+IGVyciAmJiB3YXJuKGVycikgOiBjb25zb2xlLmVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGd1YXJkcy5wdXNoKCgpID0+IGNvbXBvbmVudFByb21pc2UudGhlbihyZXNvbHZlZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNvbHZlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgQ291bGRuJ3QgcmVzb2x2ZSBjb21wb25lbnQgXCIke25hbWV9XCIgYXQgXCIke3JlY29yZC5wYXRofVwiYCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkQ29tcG9uZW50ID0gaXNFU01vZHVsZShyZXNvbHZlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZXNvbHZlZC5kZWZhdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVwbGFjZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgcmVzb2x2ZWQgY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkLmNvbXBvbmVudHNbbmFtZV0gPSByZXNvbHZlZENvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlOiB0aGUgb3B0aW9ucyB0eXBlcyBhcmUgbm90IHByb3BhZ2F0ZWQgdG8gQ29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3VhcmQgPSByZXNvbHZlZENvbXBvbmVudFtndWFyZFR5cGVdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBndWFyZCAmJiBndWFyZFRvUHJvbWlzZUZuKGd1YXJkLCB0bywgZnJvbSwgcmVjb3JkLCBuYW1lKSgpO1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGd1YXJkcztcclxufVxyXG4vKipcclxuICogQWxsb3dzIGRpZmZlcmVudGlhdGluZyBsYXp5IGNvbXBvbmVudHMgZnJvbSBmdW5jdGlvbmFsIGNvbXBvbmVudHMgYW5kIHZ1ZS1jbGFzcy1jb21wb25lbnRcclxuICogQHBhcmFtIGNvbXBvbmVudFxyXG4gKi9cclxuZnVuY3Rpb24gaXNSb3V0ZUNvbXBvbmVudChjb21wb25lbnQpIHtcclxuICAgIHJldHVybiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ29iamVjdCcgfHxcclxuICAgICAgICAnZGlzcGxheU5hbWUnIGluIGNvbXBvbmVudCB8fFxyXG4gICAgICAgICdwcm9wcycgaW4gY29tcG9uZW50IHx8XHJcbiAgICAgICAgJ19fdmNjT3B0cycgaW4gY29tcG9uZW50KTtcclxufVxuXG4vLyBUT0RPOiB3ZSBjb3VsZCBhbGxvdyBjdXJyZW50Um91dGUgYXMgYSBwcm9wIHRvIGV4cG9zZSBgaXNBY3RpdmVgIGFuZFxyXG4vLyBgaXNFeGFjdEFjdGl2ZWAgYmVoYXZpb3Igc2hvdWxkIGdvIHRocm91Z2ggYW4gUkZDXHJcbmZ1bmN0aW9uIHVzZUxpbmsocHJvcHMpIHtcclxuICAgIGNvbnN0IHJvdXRlciA9IGluamVjdChyb3V0ZXJLZXkpO1xyXG4gICAgY29uc3QgY3VycmVudFJvdXRlID0gaW5qZWN0KHJvdXRlTG9jYXRpb25LZXkpO1xyXG4gICAgY29uc3Qgcm91dGUgPSBjb21wdXRlZCgoKSA9PiByb3V0ZXIucmVzb2x2ZSh1bnJlZihwcm9wcy50bykpKTtcclxuICAgIGNvbnN0IGFjdGl2ZVJlY29yZEluZGV4ID0gY29tcHV0ZWQoKCkgPT4ge1xyXG4gICAgICAgIGxldCB7IG1hdGNoZWQgfSA9IHJvdXRlLnZhbHVlO1xyXG4gICAgICAgIGxldCB7IGxlbmd0aCB9ID0gbWF0Y2hlZDtcclxuICAgICAgICBjb25zdCByb3V0ZU1hdGNoZWQgPSBtYXRjaGVkW2xlbmd0aCAtIDFdO1xyXG4gICAgICAgIGxldCBjdXJyZW50TWF0Y2hlZCA9IGN1cnJlbnRSb3V0ZS5tYXRjaGVkO1xyXG4gICAgICAgIGlmICghcm91dGVNYXRjaGVkIHx8ICFjdXJyZW50TWF0Y2hlZC5sZW5ndGgpXHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICBsZXQgaW5kZXggPSBjdXJyZW50TWF0Y2hlZC5maW5kSW5kZXgoaXNTYW1lUm91dGVSZWNvcmQuYmluZChudWxsLCByb3V0ZU1hdGNoZWQpKTtcclxuICAgICAgICBpZiAoaW5kZXggPiAtMSlcclxuICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgICAgIC8vIHBvc3NpYmxlIHBhcmVudCByZWNvcmRcclxuICAgICAgICBsZXQgcGFyZW50UmVjb3JkUGF0aCA9IGdldE9yaWdpbmFsUGF0aChtYXRjaGVkW2xlbmd0aCAtIDJdKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgIC8vIHdlIGFyZSBkZWFsaW5nIHdpdGggbmVzdGVkIHJvdXRlc1xyXG4gICAgICAgIGxlbmd0aCA+IDEgJiZcclxuICAgICAgICAgICAgLy8gaWYgdGhlIHBhcmVudCBhbmQgbWF0Y2hlZCByb3V0ZSBoYXZlIHRoZSBzYW1lIHBhdGgsIHRoaXMgbGluayBpc1xyXG4gICAgICAgICAgICAvLyByZWZlcnJpbmcgdG8gdGhlIGVtcHR5IGNoaWxkLiBPciB3ZSBjdXJyZW50bHkgYXJlIG9uIGEgZGlmZmVyZW50XHJcbiAgICAgICAgICAgIC8vIGNoaWxkIG9mIHRoZSBzYW1lIHBhcmVudFxyXG4gICAgICAgICAgICBnZXRPcmlnaW5hbFBhdGgocm91dGVNYXRjaGVkKSA9PT0gcGFyZW50UmVjb3JkUGF0aCAmJlxyXG4gICAgICAgICAgICAvLyBhdm9pZCBjb21wYXJpbmcgdGhlIGNoaWxkIHdpdGggaXRzIHBhcmVudFxyXG4gICAgICAgICAgICBjdXJyZW50TWF0Y2hlZFtjdXJyZW50TWF0Y2hlZC5sZW5ndGggLSAxXS5wYXRoICE9PSBwYXJlbnRSZWNvcmRQYXRoXHJcbiAgICAgICAgICAgID8gY3VycmVudE1hdGNoZWQuZmluZEluZGV4KGlzU2FtZVJvdXRlUmVjb3JkLmJpbmQobnVsbCwgbWF0Y2hlZFtsZW5ndGggLSAyXSkpXHJcbiAgICAgICAgICAgIDogaW5kZXgpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBpc0FjdGl2ZSA9IGNvbXB1dGVkKCgpID0+IGFjdGl2ZVJlY29yZEluZGV4LnZhbHVlID4gLTEgJiZcclxuICAgICAgICBpbmNsdWRlc1BhcmFtcyhjdXJyZW50Um91dGUucGFyYW1zLCByb3V0ZS52YWx1ZS5wYXJhbXMpKTtcclxuICAgIGNvbnN0IGlzRXhhY3RBY3RpdmUgPSBjb21wdXRlZCgoKSA9PiBhY3RpdmVSZWNvcmRJbmRleC52YWx1ZSA+IC0xICYmXHJcbiAgICAgICAgYWN0aXZlUmVjb3JkSW5kZXgudmFsdWUgPT09IGN1cnJlbnRSb3V0ZS5tYXRjaGVkLmxlbmd0aCAtIDEgJiZcclxuICAgICAgICBpc1NhbWVSb3V0ZUxvY2F0aW9uUGFyYW1zKGN1cnJlbnRSb3V0ZS5wYXJhbXMsIHJvdXRlLnZhbHVlLnBhcmFtcykpO1xyXG4gICAgZnVuY3Rpb24gbmF2aWdhdGUoZSA9IHt9KSB7XHJcbiAgICAgICAgaWYgKGd1YXJkRXZlbnQoZSkpXHJcbiAgICAgICAgICAgIHJldHVybiByb3V0ZXJbdW5yZWYocHJvcHMucmVwbGFjZSkgPyAncmVwbGFjZScgOiAncHVzaCddKHVucmVmKHByb3BzLnRvKSk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByb3V0ZSxcclxuICAgICAgICBocmVmOiBjb21wdXRlZCgoKSA9PiByb3V0ZS52YWx1ZS5ocmVmKSxcclxuICAgICAgICBpc0FjdGl2ZSxcclxuICAgICAgICBpc0V4YWN0QWN0aXZlLFxyXG4gICAgICAgIG5hdmlnYXRlLFxyXG4gICAgfTtcclxufVxyXG5jb25zdCBSb3V0ZXJMaW5rSW1wbCA9IC8qI19fUFVSRV9fKi8gZGVmaW5lQ29tcG9uZW50KHtcclxuICAgIG5hbWU6ICdSb3V0ZXJMaW5rJyxcclxuICAgIHByb3BzOiB7XHJcbiAgICAgICAgdG86IHtcclxuICAgICAgICAgICAgdHlwZTogW1N0cmluZywgT2JqZWN0XSxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhY3RpdmVDbGFzczogU3RyaW5nLFxyXG4gICAgICAgIC8vIGluYWN0aXZlQ2xhc3M6IFN0cmluZyxcclxuICAgICAgICBleGFjdEFjdGl2ZUNsYXNzOiBTdHJpbmcsXHJcbiAgICAgICAgY3VzdG9tOiBCb29sZWFuLFxyXG4gICAgICAgIGFyaWFDdXJyZW50VmFsdWU6IHtcclxuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgICAgICBkZWZhdWx0OiAncGFnZScsXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cywgYXR0cnMgfSkge1xyXG4gICAgICAgIGNvbnN0IGxpbmsgPSByZWFjdGl2ZSh1c2VMaW5rKHByb3BzKSk7XHJcbiAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSBpbmplY3Qocm91dGVyS2V5KTtcclxuICAgICAgICBjb25zdCBlbENsYXNzID0gY29tcHV0ZWQoKCkgPT4gKHtcclxuICAgICAgICAgICAgW2dldExpbmtDbGFzcyhwcm9wcy5hY3RpdmVDbGFzcywgb3B0aW9ucy5saW5rQWN0aXZlQ2xhc3MsICdyb3V0ZXItbGluay1hY3RpdmUnKV06IGxpbmsuaXNBY3RpdmUsXHJcbiAgICAgICAgICAgIC8vIFtnZXRMaW5rQ2xhc3MoXHJcbiAgICAgICAgICAgIC8vICAgcHJvcHMuaW5hY3RpdmVDbGFzcyxcclxuICAgICAgICAgICAgLy8gICBvcHRpb25zLmxpbmtJbmFjdGl2ZUNsYXNzLFxyXG4gICAgICAgICAgICAvLyAgICdyb3V0ZXItbGluay1pbmFjdGl2ZSdcclxuICAgICAgICAgICAgLy8gKV06ICFsaW5rLmlzRXhhY3RBY3RpdmUsXHJcbiAgICAgICAgICAgIFtnZXRMaW5rQ2xhc3MocHJvcHMuZXhhY3RBY3RpdmVDbGFzcywgb3B0aW9ucy5saW5rRXhhY3RBY3RpdmVDbGFzcywgJ3JvdXRlci1saW5rLWV4YWN0LWFjdGl2ZScpXTogbGluay5pc0V4YWN0QWN0aXZlLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgJiYgc2xvdHMuZGVmYXVsdChsaW5rKTtcclxuICAgICAgICAgICAgcmV0dXJuIHByb3BzLmN1c3RvbVxyXG4gICAgICAgICAgICAgICAgPyBjaGlsZHJlblxyXG4gICAgICAgICAgICAgICAgOiBoKCdhJywgYXNzaWduKHtcclxuICAgICAgICAgICAgICAgICAgICAnYXJpYS1jdXJyZW50JzogbGluay5pc0V4YWN0QWN0aXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcHJvcHMuYXJpYUN1cnJlbnRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogbGluay5uYXZpZ2F0ZSxcclxuICAgICAgICAgICAgICAgICAgICBocmVmOiBsaW5rLmhyZWYsXHJcbiAgICAgICAgICAgICAgICB9LCBhdHRycywge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiBlbENsYXNzLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgfSksIGNoaWxkcmVuKTtcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxufSk7XHJcbi8vIGV4cG9ydCB0aGUgcHVibGljIHR5cGUgZm9yIGgvdHN4IGluZmVyZW5jZVxyXG4vLyBhbHNvIHRvIGF2b2lkIGlubGluZSBpbXBvcnQoKSBpbiBnZW5lcmF0ZWQgZC50cyBmaWxlc1xyXG4vKipcclxuICogQ29tcG9uZW50IHRvIHJlbmRlciBhIGxpbmsgdGhhdCB0cmlnZ2VycyBhIG5hdmlnYXRpb24gb24gY2xpY2suXHJcbiAqL1xyXG5jb25zdCBSb3V0ZXJMaW5rID0gUm91dGVyTGlua0ltcGw7XHJcbmZ1bmN0aW9uIGd1YXJkRXZlbnQoZSkge1xyXG4gICAgLy8gZG9uJ3QgcmVkaXJlY3Qgd2l0aCBjb250cm9sIGtleXNcclxuICAgIGlmIChlLm1ldGFLZXkgfHwgZS5hbHRLZXkgfHwgZS5jdHJsS2V5IHx8IGUuc2hpZnRLZXkpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gZG9uJ3QgcmVkaXJlY3Qgd2hlbiBwcmV2ZW50RGVmYXVsdCBjYWxsZWRcclxuICAgIGlmIChlLmRlZmF1bHRQcmV2ZW50ZWQpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gZG9uJ3QgcmVkaXJlY3Qgb24gcmlnaHQgY2xpY2tcclxuICAgIGlmIChlLmJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIGUuYnV0dG9uICE9PSAwKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIC8vIGRvbid0IHJlZGlyZWN0IGlmIGB0YXJnZXQ9XCJfYmxhbmtcImBcclxuICAgIC8vIEB0cy1pZ25vcmUgZ2V0QXR0cmlidXRlIGRvZXMgZXhpc3RcclxuICAgIGlmIChlLmN1cnJlbnRUYXJnZXQgJiYgZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSkge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmUgZ2V0QXR0cmlidXRlIGV4aXN0c1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ3RhcmdldCcpO1xyXG4gICAgICAgIGlmICgvXFxiX2JsYW5rXFxiL2kudGVzdCh0YXJnZXQpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyB0aGlzIG1heSBiZSBhIFdlZXggZXZlbnQgd2hpY2ggZG9lc24ndCBoYXZlIHRoaXMgbWV0aG9kXHJcbiAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdClcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBpbmNsdWRlc1BhcmFtcyhvdXRlciwgaW5uZXIpIHtcclxuICAgIGZvciAobGV0IGtleSBpbiBpbm5lcikge1xyXG4gICAgICAgIGxldCBpbm5lclZhbHVlID0gaW5uZXJba2V5XTtcclxuICAgICAgICBsZXQgb3V0ZXJWYWx1ZSA9IG91dGVyW2tleV07XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbm5lclZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBpZiAoaW5uZXJWYWx1ZSAhPT0gb3V0ZXJWYWx1ZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvdXRlclZhbHVlKSB8fFxyXG4gICAgICAgICAgICAgICAgb3V0ZXJWYWx1ZS5sZW5ndGggIT09IGlubmVyVmFsdWUubGVuZ3RoIHx8XHJcbiAgICAgICAgICAgICAgICBpbm5lclZhbHVlLnNvbWUoKHZhbHVlLCBpKSA9PiB2YWx1ZSAhPT0gb3V0ZXJWYWx1ZVtpXSkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuLyoqXHJcbiAqIEdldCB0aGUgb3JpZ2luYWwgcGF0aCB2YWx1ZSBvZiBhIHJlY29yZCBieSBmb2xsb3dpbmcgaXRzIGFsaWFzT2ZcclxuICogQHBhcmFtIHJlY29yZFxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0T3JpZ2luYWxQYXRoKHJlY29yZCkge1xyXG4gICAgcmV0dXJuIHJlY29yZCA/IChyZWNvcmQuYWxpYXNPZiA/IHJlY29yZC5hbGlhc09mLnBhdGggOiByZWNvcmQucGF0aCkgOiAnJztcclxufVxyXG4vKipcclxuICogVXRpbGl0eSBjbGFzcyB0byBnZXQgdGhlIGFjdGl2ZSBjbGFzcyBiYXNlZCBvbiBkZWZhdWx0cy5cclxuICogQHBhcmFtIHByb3BDbGFzc1xyXG4gKiBAcGFyYW0gZ2xvYmFsQ2xhc3NcclxuICogQHBhcmFtIGRlZmF1bHRDbGFzc1xyXG4gKi9cclxuY29uc3QgZ2V0TGlua0NsYXNzID0gKHByb3BDbGFzcywgZ2xvYmFsQ2xhc3MsIGRlZmF1bHRDbGFzcykgPT4gcHJvcENsYXNzICE9IG51bGxcclxuICAgID8gcHJvcENsYXNzXHJcbiAgICA6IGdsb2JhbENsYXNzICE9IG51bGxcclxuICAgICAgICA/IGdsb2JhbENsYXNzXHJcbiAgICAgICAgOiBkZWZhdWx0Q2xhc3M7XG5cbmNvbnN0IFJvdXRlclZpZXdJbXBsID0gLyojX19QVVJFX18qLyBkZWZpbmVDb21wb25lbnQoe1xyXG4gICAgbmFtZTogJ1JvdXRlclZpZXcnLFxyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICBuYW1lOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICAgICAgZGVmYXVsdDogJ2RlZmF1bHQnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcm91dGU6IE9iamVjdCxcclxuICAgIH0sXHJcbiAgICBzZXR1cChwcm9wcywgeyBhdHRycywgc2xvdHMgfSkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuRGVwcmVjYXRlZFVzYWdlKCk7XHJcbiAgICAgICAgY29uc3QgaW5qZWN0ZWRSb3V0ZSA9IGluamVjdChyb3V0ZUxvY2F0aW9uS2V5KTtcclxuICAgICAgICBjb25zdCBkZXB0aCA9IGluamVjdCh2aWV3RGVwdGhLZXksIDApO1xyXG4gICAgICAgIGNvbnN0IG1hdGNoZWRSb3V0ZVJlZiA9IGNvbXB1dGVkKCgpID0+IChwcm9wcy5yb3V0ZSB8fCBpbmplY3RlZFJvdXRlKS5tYXRjaGVkW2RlcHRoXSk7XHJcbiAgICAgICAgcHJvdmlkZSh2aWV3RGVwdGhLZXksIGRlcHRoICsgMSk7XHJcbiAgICAgICAgcHJvdmlkZShtYXRjaGVkUm91dGVLZXksIG1hdGNoZWRSb3V0ZVJlZik7XHJcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHJlZigpO1xyXG4gICAgICAgIC8vIHdhdGNoIGF0IHRoZSBzYW1lIHRpbWUgdGhlIGNvbXBvbmVudCBpbnN0YW5jZSwgdGhlIHJvdXRlIHJlY29yZCB3ZSBhcmVcclxuICAgICAgICAvLyByZW5kZXJpbmcsIGFuZCB0aGUgbmFtZVxyXG4gICAgICAgIHdhdGNoKCgpID0+IFt2aWV3UmVmLnZhbHVlLCBtYXRjaGVkUm91dGVSZWYudmFsdWUsIHByb3BzLm5hbWVdLCAoW2luc3RhbmNlLCB0bywgbmFtZV0sIFtvbGRJbnN0YW5jZSwgZnJvbSwgb2xkTmFtZV0pID0+IHtcclxuICAgICAgICAgICAgLy8gY29weSByZXVzZWQgaW5zdGFuY2VzXHJcbiAgICAgICAgICAgIGlmICh0bykge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIHVwZGF0ZSB0aGUgaW5zdGFuY2UgZm9yIG5ldyBpbnN0YW5jZXMgYXMgd2VsbCBhcyByZXVzZWRcclxuICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlcyB3aGVuIG5hdmlnYXRpbmcgdG8gYSBuZXcgcm91dGVcclxuICAgICAgICAgICAgICAgIHRvLmluc3RhbmNlc1tuYW1lXSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSBpcyByZXVzZWQgZm9yIGEgZGlmZmVyZW50IHJvdXRlIG9yIG5hbWUgc29cclxuICAgICAgICAgICAgICAgIC8vIHdlIGNvcHkgYW55IHNhdmVkIHVwZGF0ZSBvciBsZWF2ZSBndWFyZHNcclxuICAgICAgICAgICAgICAgIGlmIChmcm9tICYmIGluc3RhbmNlID09PSBvbGRJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvLmxlYXZlR3VhcmRzID0gZnJvbS5sZWF2ZUd1YXJkcztcclxuICAgICAgICAgICAgICAgICAgICB0by51cGRhdGVHdWFyZHMgPSBmcm9tLnVwZGF0ZUd1YXJkcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB0cmlnZ2VyIGJlZm9yZVJvdXRlRW50ZXIgbmV4dCBjYWxsYmFja3NcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlICYmXHJcbiAgICAgICAgICAgICAgICB0byAmJlxyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gaW5zdGFuY2UgYnV0IHRvIGFuZCBmcm9tIGFyZSB0aGUgc2FtZSB0aGlzIG1pZ2h0IGJlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgZmlyc3QgdmlzaXRcclxuICAgICAgICAgICAgICAgICghZnJvbSB8fCAhaXNTYW1lUm91dGVSZWNvcmQodG8sIGZyb20pIHx8ICFvbGRJbnN0YW5jZSkpIHtcclxuICAgICAgICAgICAgICAgICh0by5lbnRlckNhbGxiYWNrc1tuYW1lXSB8fCBbXSkuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayhpbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgeyBmbHVzaDogJ3Bvc3QnIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcHJvcHMucm91dGUgfHwgaW5qZWN0ZWRSb3V0ZTtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2hlZFJvdXRlID0gbWF0Y2hlZFJvdXRlUmVmLnZhbHVlO1xyXG4gICAgICAgICAgICBjb25zdCBWaWV3Q29tcG9uZW50ID0gbWF0Y2hlZFJvdXRlICYmIG1hdGNoZWRSb3V0ZS5jb21wb25lbnRzW3Byb3BzLm5hbWVdO1xyXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRoZSB2YWx1ZSBhdCB0aGUgdGltZSB3ZSByZW5kZXIgYmVjYXVzZSB3aGVuIHdlIHVubW91bnQsIHdlXHJcbiAgICAgICAgICAgIC8vIG5hdmlnYXRlZCB0byBhIGRpZmZlcmVudCBsb2NhdGlvbiBzbyB0aGUgdmFsdWUgaXMgZGlmZmVyZW50XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROYW1lID0gcHJvcHMubmFtZTtcclxuICAgICAgICAgICAgaWYgKCFWaWV3Q29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2xvdHMuZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgICAgID8gc2xvdHMuZGVmYXVsdCh7IENvbXBvbmVudDogVmlld0NvbXBvbmVudCwgcm91dGUgfSlcclxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJvcHMgZnJvbSByb3V0ZSBjb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlUHJvcHNPcHRpb24gPSBtYXRjaGVkUm91dGUucHJvcHNbcHJvcHMubmFtZV07XHJcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlUHJvcHMgPSByb3V0ZVByb3BzT3B0aW9uXHJcbiAgICAgICAgICAgICAgICA/IHJvdXRlUHJvcHNPcHRpb24gPT09IHRydWVcclxuICAgICAgICAgICAgICAgICAgICA/IHJvdXRlLnBhcmFtc1xyXG4gICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIHJvdXRlUHJvcHNPcHRpb24gPT09ICdmdW5jdGlvbidcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyByb3V0ZVByb3BzT3B0aW9uKHJvdXRlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJvdXRlUHJvcHNPcHRpb25cclxuICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgICAgY29uc3Qgb25Wbm9kZVVubW91bnRlZCA9IHZub2RlID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgaW5zdGFuY2UgcmVmZXJlbmNlIHRvIHByZXZlbnQgbGVha1xyXG4gICAgICAgICAgICAgICAgaWYgKHZub2RlLmNvbXBvbmVudC5pc1VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZWRSb3V0ZS5pbnN0YW5jZXNbY3VycmVudE5hbWVdID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gaChWaWV3Q29tcG9uZW50LCBhc3NpZ24oe30sIHJvdXRlUHJvcHMsIGF0dHJzLCB7XHJcbiAgICAgICAgICAgICAgICBvblZub2RlVW5tb3VudGVkLFxyXG4gICAgICAgICAgICAgICAgcmVmOiB2aWV3UmVmLFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIC8vIHBhc3MgdGhlIHZub2RlIHRvIHRoZSBzbG90IGFzIGEgcHJvcC5cclxuICAgICAgICAgICAgLy8gaCBhbmQgPGNvbXBvbmVudCA6aXM9XCIuLi5cIj4gYm90aCBhY2NlcHQgdm5vZGVzXHJcbiAgICAgICAgICAgIHNsb3RzLmRlZmF1bHRcclxuICAgICAgICAgICAgICAgID8gc2xvdHMuZGVmYXVsdCh7IENvbXBvbmVudDogY29tcG9uZW50LCByb3V0ZSB9KVxyXG4gICAgICAgICAgICAgICAgOiBjb21wb25lbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG59KTtcclxuLy8gZXhwb3J0IHRoZSBwdWJsaWMgdHlwZSBmb3IgaC90c3ggaW5mZXJlbmNlXHJcbi8vIGFsc28gdG8gYXZvaWQgaW5saW5lIGltcG9ydCgpIGluIGdlbmVyYXRlZCBkLnRzIGZpbGVzXHJcbi8qKlxyXG4gKiBDb21wb25lbnQgdG8gZGlzcGxheSB0aGUgY3VycmVudCByb3V0ZSB0aGUgdXNlciBpcyBhdC5cclxuICovXHJcbmNvbnN0IFJvdXRlclZpZXcgPSBSb3V0ZXJWaWV3SW1wbDtcclxuLy8gd2FybiBhZ2FpbnN0IGRlcHJlY2F0ZWQgdXNhZ2Ugd2l0aCA8dHJhbnNpdGlvbj4gJiA8a2VlcC1hbGl2ZT5cclxuLy8gZHVlIHRvIGZ1bmN0aW9uYWwgY29tcG9uZW50IGJlaW5nIG5vIGxvbmdlciBlYWdlciBpbiBWdWUgM1xyXG5mdW5jdGlvbiB3YXJuRGVwcmVjYXRlZFVzYWdlKCkge1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgIGNvbnN0IHBhcmVudE5hbWUgPSBpbnN0YW5jZS5wYXJlbnQgJiYgaW5zdGFuY2UucGFyZW50LnR5cGUubmFtZTtcclxuICAgIGlmIChwYXJlbnROYW1lICYmXHJcbiAgICAgICAgKHBhcmVudE5hbWUgPT09ICdLZWVwQWxpdmUnIHx8IHBhcmVudE5hbWUuaW5jbHVkZXMoJ1RyYW5zaXRpb24nKSkpIHtcclxuICAgICAgICBjb25zdCBjb21wID0gcGFyZW50TmFtZSA9PT0gJ0tlZXBBbGl2ZScgPyAna2VlcC1hbGl2ZScgOiAndHJhbnNpdGlvbic7XHJcbiAgICAgICAgd2FybihgPHJvdXRlci12aWV3PiBjYW4gbm8gbG9uZ2VyIGJlIHVzZWQgZGlyZWN0bHkgaW5zaWRlIDx0cmFuc2l0aW9uPiBvciA8a2VlcC1hbGl2ZT4uXFxuYCArXHJcbiAgICAgICAgICAgIGBVc2Ugc2xvdCBwcm9wcyBpbnN0ZWFkOlxcblxcbmAgK1xyXG4gICAgICAgICAgICBgPHJvdXRlci12aWV3IHYtc2xvdD1cInsgQ29tcG9uZW50IH1cIj5cXG5gICtcclxuICAgICAgICAgICAgYCAgPCR7Y29tcH0+XFxuYCArXHJcbiAgICAgICAgICAgIGAgICAgPGNvbXBvbmVudCA6aXM9XCJDb21wb25lbnRcIiAvPlxcbmAgK1xyXG4gICAgICAgICAgICBgICA8LyR7Y29tcH0+XFxuYCArXHJcbiAgICAgICAgICAgIGA8L3JvdXRlci12aWV3PmApO1xyXG4gICAgfVxyXG59XG5cbnZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9O1xuXG5mdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgYmFzZWRpciwgbW9kdWxlKSB7XG5cdHJldHVybiBtb2R1bGUgPSB7XG5cdFx0cGF0aDogYmFzZWRpcixcblx0XHRleHBvcnRzOiB7fSxcblx0XHRyZXF1aXJlOiBmdW5jdGlvbiAocGF0aCwgYmFzZSkge1xuXHRcdFx0cmV0dXJuIGNvbW1vbmpzUmVxdWlyZShwYXRoLCAoYmFzZSA9PT0gdW5kZWZpbmVkIHx8IGJhc2UgPT09IG51bGwpID8gbW9kdWxlLnBhdGggOiBiYXNlKTtcblx0XHR9XG5cdH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbn1cblxuZnVuY3Rpb24gY29tbW9uanNSZXF1aXJlICgpIHtcblx0dGhyb3cgbmV3IEVycm9yKCdEeW5hbWljIHJlcXVpcmVzIGFyZSBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSBAcm9sbHVwL3BsdWdpbi1jb21tb25qcycpO1xufVxuXG52YXIgZW52ID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ob29rID0gZXhwb3J0cy50YXJnZXQgPSBleHBvcnRzLmlzQnJvd3NlciA9IHZvaWQgMDtcbmV4cG9ydHMuaXNCcm93c2VyID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCc7XG5leHBvcnRzLnRhcmdldCA9IGV4cG9ydHMuaXNCcm93c2VyXG4gICAgPyB3aW5kb3dcbiAgICA6IHR5cGVvZiBjb21tb25qc0dsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBjb21tb25qc0dsb2JhbFxuICAgICAgICA6IHt9O1xuZXhwb3J0cy5ob29rID0gZXhwb3J0cy50YXJnZXQuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztcblxufSk7XG5cbnZhciBfY29uc3QgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFwaUhvb2tFdmVudHMgPSB2b2lkIDA7XG52YXIgQXBpSG9va0V2ZW50cztcbihmdW5jdGlvbiAoQXBpSG9va0V2ZW50cykge1xuICAgIEFwaUhvb2tFdmVudHNbXCJTRVRVUF9ERVZUT09MU19QTFVHSU5cIl0gPSBcImRldnRvb2xzLXBsdWdpbjpzZXR1cFwiO1xufSkoQXBpSG9va0V2ZW50cyA9IGV4cG9ydHMuQXBpSG9va0V2ZW50cyB8fCAoZXhwb3J0cy5BcGlIb29rRXZlbnRzID0ge30pKTtcblxufSk7XG5cbnZhciBhcGkgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pO1xuXG52YXIgYXBwID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KTtcblxudmFyIGNvbXBvbmVudCA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcblxufSk7XG5cbnZhciBjb250ZXh0ID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KTtcblxudmFyIGhvb2tzID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Ib29rcyA9IHZvaWQgMDtcbnZhciBIb29rcztcbihmdW5jdGlvbiAoSG9va3MpIHtcbiAgICBIb29rc1tcIlRSQU5TRk9STV9DQUxMXCJdID0gXCJ0cmFuc2Zvcm1DYWxsXCI7XG4gICAgSG9va3NbXCJHRVRfQVBQX1JFQ09SRF9OQU1FXCJdID0gXCJnZXRBcHBSZWNvcmROYW1lXCI7XG4gICAgSG9va3NbXCJHRVRfQVBQX1JPT1RfSU5TVEFOQ0VcIl0gPSBcImdldEFwcFJvb3RJbnN0YW5jZVwiO1xuICAgIEhvb2tzW1wiUkVHSVNURVJfQVBQTElDQVRJT05cIl0gPSBcInJlZ2lzdGVyQXBwbGljYXRpb25cIjtcbiAgICBIb29rc1tcIldBTEtfQ09NUE9ORU5UX1RSRUVcIl0gPSBcIndhbGtDb21wb25lbnRUcmVlXCI7XG4gICAgSG9va3NbXCJXQUxLX0NPTVBPTkVOVF9QQVJFTlRTXCJdID0gXCJ3YWxrQ29tcG9uZW50UGFyZW50c1wiO1xuICAgIEhvb2tzW1wiSU5TUEVDVF9DT01QT05FTlRcIl0gPSBcImluc3BlY3RDb21wb25lbnRcIjtcbiAgICBIb29rc1tcIkdFVF9DT01QT05FTlRfQk9VTkRTXCJdID0gXCJnZXRDb21wb25lbnRCb3VuZHNcIjtcbiAgICBIb29rc1tcIkdFVF9DT01QT05FTlRfTkFNRVwiXSA9IFwiZ2V0Q29tcG9uZW50TmFtZVwiO1xuICAgIEhvb2tzW1wiR0VUX0VMRU1FTlRfQ09NUE9ORU5UXCJdID0gXCJnZXRFbGVtZW50Q29tcG9uZW50XCI7XG4gICAgSG9va3NbXCJHRVRfSU5TUEVDVE9SX1RSRUVcIl0gPSBcImdldEluc3BlY3RvclRyZWVcIjtcbiAgICBIb29rc1tcIkdFVF9JTlNQRUNUT1JfU1RBVEVcIl0gPSBcImdldEluc3BlY3RvclN0YXRlXCI7XG59KShIb29rcyA9IGV4cG9ydHMuSG9va3MgfHwgKGV4cG9ydHMuSG9va3MgPSB7fSkpO1xuXG59KTtcblxudmFyIGFwaSQxID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xudmFyIF9fY3JlYXRlQmluZGluZyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0U3RhcihhcGksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKGFwcCwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIoY29tcG9uZW50LCBleHBvcnRzKTtcbl9fZXhwb3J0U3Rhcihjb250ZXh0LCBleHBvcnRzKTtcbl9fZXhwb3J0U3Rhcihob29rcywgZXhwb3J0cyk7XG5cbn0pO1xuXG52YXIgbGliID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xudmFyIF9fY3JlYXRlQmluZGluZyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2V0dXBEZXZ0b29sc1BsdWdpbiA9IHZvaWQgMDtcblxuXG5fX2V4cG9ydFN0YXIoYXBpJDEsIGV4cG9ydHMpO1xuZnVuY3Rpb24gc2V0dXBEZXZ0b29sc1BsdWdpbihwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuKSB7XG4gICAgaWYgKGVudi5ob29rKSB7XG4gICAgICAgIGVudi5ob29rLmVtaXQoX2NvbnN0LkFwaUhvb2tFdmVudHMuU0VUVVBfREVWVE9PTFNfUExVR0lOLCBwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGxpc3QgPSBlbnYudGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX1BMVUdJTlNfXyA9IGVudi50YXJnZXQuX19WVUVfREVWVE9PTFNfUExVR0lOU19fIHx8IFtdO1xuICAgICAgICBsaXN0LnB1c2goe1xuICAgICAgICAgICAgcGx1Z2luRGVzY3JpcHRvcixcbiAgICAgICAgICAgIHNldHVwRm5cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5zZXR1cERldnRvb2xzUGx1Z2luID0gc2V0dXBEZXZ0b29sc1BsdWdpbjtcblxufSk7XG5cbmZ1bmN0aW9uIGZvcm1hdFJvdXRlTG9jYXRpb24ocm91dGVMb2NhdGlvbiwgdG9vbHRpcCkge1xyXG4gICAgY29uc3QgY29weSA9IHtcclxuICAgICAgICAuLi5yb3V0ZUxvY2F0aW9uLFxyXG4gICAgICAgIC8vIHJlbW92ZSB2YXJpYWJsZXMgdGhhdCBjYW4gY29udGFpbiB2dWUgaW5zdGFuY2VzXHJcbiAgICAgICAgbWF0Y2hlZDogcm91dGVMb2NhdGlvbi5tYXRjaGVkLm1hcCgoeyBpbnN0YW5jZXMsIGNoaWxkcmVuLCBhbGlhc09mLCAuLi5yZXN0IH0pID0+IHJlc3QpLFxyXG4gICAgfTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgX2N1c3RvbToge1xyXG4gICAgICAgICAgICB0eXBlOiBudWxsLFxyXG4gICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgZGlzcGxheTogcm91dGVMb2NhdGlvbi5mdWxsUGF0aCxcclxuICAgICAgICAgICAgdG9vbHRpcCxcclxuICAgICAgICAgICAgdmFsdWU6IGNvcHksXHJcbiAgICAgICAgfSxcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZm9ybWF0RGlzcGxheShkaXNwbGF5KSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIF9jdXN0b206IHtcclxuICAgICAgICAgICAgZGlzcGxheSxcclxuICAgICAgICB9LFxyXG4gICAgfTtcclxufVxyXG4vLyB0byBzdXBwb3J0IG11bHRpcGxlIHJvdXRlciBpbnN0YW5jZXNcclxubGV0IHJvdXRlcklkID0gMDtcclxuZnVuY3Rpb24gYWRkRGV2dG9vbHMoYXBwLCByb3V0ZXIsIG1hdGNoZXIpIHtcclxuICAgIC8vIFRha2Ugb3ZlciByb3V0ZXIuYmVmb3JlRWFjaCBhbmQgYWZ0ZXJFYWNoXHJcbiAgICAvLyBpbmNyZW1lbnQgdG8gc3VwcG9ydCBtdWx0aXBsZSByb3V0ZXIgaW5zdGFuY2VzXHJcbiAgICBjb25zdCBpZCA9IHJvdXRlcklkKys7XHJcbiAgICBsaWIuc2V0dXBEZXZ0b29sc1BsdWdpbih7XHJcbiAgICAgICAgaWQ6ICdSb3V0ZXInICsgaWQgPyAnICcgKyBpZCA6ICcnLFxyXG4gICAgICAgIGxhYmVsOiAnUm91dGVyIGRldnRvb2xzJyxcclxuICAgICAgICBhcHAsXHJcbiAgICB9LCBhcGkgPT4ge1xyXG4gICAgICAgIGFwaS5vbi5pbnNwZWN0Q29tcG9uZW50KChwYXlsb2FkLCBjdHgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBheWxvYWQuaW5zdGFuY2VEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUm91dGluZycsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnJHJvdXRlJyxcclxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZvcm1hdFJvdXRlTG9jYXRpb24ocm91dGVyLmN1cnJlbnRSb3V0ZS52YWx1ZSwgJ0N1cnJlbnQgUm91dGUnKSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2F0Y2gocm91dGVyLmN1cnJlbnRSb3V0ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uc0xheWVySWQgPSAncm91dGVyOm5hdmlnYXRpb25zOicgKyBpZDtcclxuICAgICAgICBhcGkuYWRkVGltZWxpbmVMYXllcih7XHJcbiAgICAgICAgICAgIGlkOiBuYXZpZ2F0aW9uc0xheWVySWQsXHJcbiAgICAgICAgICAgIGxhYmVsOiBgUm91dGVyJHtpZCA/ICcgJyArIGlkIDogJyd9IE5hdmlnYXRpb25zYCxcclxuICAgICAgICAgICAgY29sb3I6IDB4NDBhOGM0LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGNvbnN0IGVycm9yc0xheWVySWQgPSAncm91dGVyOmVycm9ycydcclxuICAgICAgICAvLyBhcGkuYWRkVGltZWxpbmVMYXllcih7XHJcbiAgICAgICAgLy8gICBpZDogZXJyb3JzTGF5ZXJJZCxcclxuICAgICAgICAvLyAgIGxhYmVsOiAnUm91dGVyIEVycm9ycycsXHJcbiAgICAgICAgLy8gICBjb2xvcjogMHhlYTU0NTUsXHJcbiAgICAgICAgLy8gfSlcclxuICAgICAgICByb3V0ZXIub25FcnJvcihlcnJvciA9PiB7XHJcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgIGxheWVySWQ6IG5hdmlnYXRpb25zTGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGxvZ1R5cGU6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZTogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGVycm9yIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIGd1YXJkOiBmb3JtYXREaXNwbGF5KCdiZWZvcmVFYWNoJyksXHJcbiAgICAgICAgICAgICAgICBmcm9tOiBmb3JtYXRSb3V0ZUxvY2F0aW9uKGZyb20sICdDdXJyZW50IExvY2F0aW9uIGR1cmluZyB0aGlzIG5hdmlnYXRpb24nKSxcclxuICAgICAgICAgICAgICAgIHRvOiBmb3JtYXRSb3V0ZUxvY2F0aW9uKHRvLCAnVGFyZ2V0IGxvY2F0aW9uJyksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgIGxheWVySWQ6IG5hdmlnYXRpb25zTGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZTogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgICAgICBtZXRhOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcm91dGVyLmFmdGVyRWFjaCgodG8sIGZyb20sIGZhaWx1cmUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIGd1YXJkOiBmb3JtYXREaXNwbGF5KCdhZnRlckVhY2gnKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKGZhaWx1cmUpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEuZmFpbHVyZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBfY3VzdG9tOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmFpbHVyZSA/IGZhaWx1cmUubWVzc2FnZSA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnTmF2aWdhdGlvbiBGYWlsdXJlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZhaWx1cmUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBkYXRhLnN0YXR1cyA9IGZvcm1hdERpc3BsYXkoJ+KdjCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGF0YS5zdGF0dXMgPSBmb3JtYXREaXNwbGF5KCfinIUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB3ZSBzZXQgaGVyZSB0byBoYXZlIHRoZSByaWdodCBvcmRlclxyXG4gICAgICAgICAgICBkYXRhLmZyb20gPSBmb3JtYXRSb3V0ZUxvY2F0aW9uKGZyb20sICdDdXJyZW50IExvY2F0aW9uIGR1cmluZyB0aGlzIG5hdmlnYXRpb24nKTtcclxuICAgICAgICAgICAgZGF0YS50byA9IGZvcm1hdFJvdXRlTG9jYXRpb24odG8sICdUYXJnZXQgbG9jYXRpb24nKTtcclxuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xyXG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogbmF2aWdhdGlvbnNMYXllcklkLFxyXG4gICAgICAgICAgICAgICAgZXZlbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGxvZ1R5cGU6IGZhaWx1cmUgPyAnd2FybmluZycgOiAnZGVmYXVsdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0YToge30sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCByb3V0ZXJJbnNwZWN0b3JJZCA9ICdyb3V0ZXItaW5zcGVjdG9yOicgKyBpZDtcclxuICAgICAgICBhcGkuYWRkSW5zcGVjdG9yKHtcclxuICAgICAgICAgICAgaWQ6IHJvdXRlckluc3BlY3RvcklkLFxyXG4gICAgICAgICAgICBsYWJlbDogJ1JvdXRlcycgKyAoaWQgPyAnICcgKyBpZCA6ICcnKSxcclxuICAgICAgICAgICAgaWNvbjogJ2Jvb2snLFxyXG4gICAgICAgICAgICB0cmVlRmlsdGVyUGxhY2Vob2xkZXI6ICdTZWFyY2ggcm91dGVzJyxcclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkub24uZ2V0SW5zcGVjdG9yVHJlZShwYXlsb2FkID0+IHtcclxuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gcm91dGVySW5zcGVjdG9ySWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCByb3V0ZXMgPSBtYXRjaGVyLmdldFJvdXRlcygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuZmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm91dGVzID0gcm91dGVzLmZpbHRlcihyb3V0ZSA9PiAhcm91dGUucGFyZW50ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNhdmUgaXNBY3RpdmUgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNSb3V0ZU1hdGNoaW5nKHJvdXRlLCBwYXlsb2FkLmZpbHRlci50b0xvd2VyQ2FzZSgpKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyByZXNldCBtYXRjaCBzdGF0ZSBpZiBubyBmaWx0ZXIgaXMgcHJvdmlkZWRcclxuICAgICAgICAgICAgICAgIGlmICghcGF5bG9hZC5maWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByb3V0ZXMuZm9yRWFjaChyb3V0ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlLl9fdmRfbWF0Y2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBheWxvYWQucm9vdE5vZGVzID0gcm91dGVzLm1hcChmb3JtYXRSb3V0ZVJlY29yZEZvckluc3BlY3Rvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkub24uZ2V0SW5zcGVjdG9yU3RhdGUocGF5bG9hZCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IHJvdXRlckluc3BlY3RvcklkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZXMgPSBtYXRjaGVyLmdldFJvdXRlcygpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb3V0ZXMuZmluZChyb3V0ZSA9PiByb3V0ZS5yZWNvcmQucGF0aCA9PT0gcGF5bG9hZC5ub2RlSWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogZm9ybWF0Um91dGVSZWNvcmRNYXRjaGVyRm9yU3RhdGVJbnNwZWN0b3Iocm91dGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIG1vZGlmaWVyRm9yS2V5KGtleSkge1xyXG4gICAgaWYgKGtleS5vcHRpb25hbCkge1xyXG4gICAgICAgIHJldHVybiBrZXkucmVwZWF0YWJsZSA/ICcqJyA6ICc/JztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBrZXkucmVwZWF0YWJsZSA/ICcrJyA6ICcnO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGZvcm1hdFJvdXRlUmVjb3JkTWF0Y2hlckZvclN0YXRlSW5zcGVjdG9yKHJvdXRlKSB7XHJcbiAgICBjb25zdCB7IHJlY29yZCB9ID0gcm91dGU7XHJcbiAgICBjb25zdCBmaWVsZHMgPSBbXHJcbiAgICAgICAgeyBlZGl0YWJsZTogZmFsc2UsIGtleTogJ3BhdGgnLCB2YWx1ZTogcmVjb3JkLnBhdGggfSxcclxuICAgIF07XHJcbiAgICBpZiAocmVjb3JkLm5hbWUgIT0gbnVsbClcclxuICAgICAgICBmaWVsZHMucHVzaCh7XHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAga2V5OiAnbmFtZScsXHJcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQubmFtZSxcclxuICAgICAgICB9KTtcclxuICAgIGZpZWxkcy5wdXNoKHsgZWRpdGFibGU6IGZhbHNlLCBrZXk6ICdyZWdleHAnLCB2YWx1ZTogcm91dGUucmUgfSk7XHJcbiAgICBpZiAocm91dGUua2V5cy5sZW5ndGgpXHJcbiAgICAgICAgZmllbGRzLnB1c2goe1xyXG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGtleTogJ2tleXMnLFxyXG4gICAgICAgICAgICB2YWx1ZToge1xyXG4gICAgICAgICAgICAgICAgX2N1c3RvbToge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogcm91dGUua2V5c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGtleSA9PiBgJHtrZXkubmFtZX0ke21vZGlmaWVyRm9yS2V5KGtleSl9YClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKSxcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnUGFyYW0ga2V5cycsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJvdXRlLmtleXMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgaWYgKHJlY29yZC5yZWRpcmVjdCAhPSBudWxsKVxyXG4gICAgICAgIGZpZWxkcy5wdXNoKHtcclxuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBrZXk6ICdyZWRpcmVjdCcsXHJcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQucmVkaXJlY3QsXHJcbiAgICAgICAgfSk7XHJcbiAgICBpZiAocm91dGUuYWxpYXMubGVuZ3RoKVxyXG4gICAgICAgIGZpZWxkcy5wdXNoKHtcclxuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBrZXk6ICdhbGlhc2VzJyxcclxuICAgICAgICAgICAgdmFsdWU6IHJvdXRlLmFsaWFzLm1hcChhbGlhcyA9PiBhbGlhcy5yZWNvcmQucGF0aCksXHJcbiAgICAgICAgfSk7XHJcbiAgICBmaWVsZHMucHVzaCh7XHJcbiAgICAgICAga2V5OiAnc2NvcmUnLFxyXG4gICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICB2YWx1ZToge1xyXG4gICAgICAgICAgICBfY3VzdG9tOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiByb3V0ZS5zY29yZS5tYXAoc2NvcmUgPT4gc2NvcmUuam9pbignLCAnKSkuam9pbignIHwgJyksXHJcbiAgICAgICAgICAgICAgICB0b29sdGlwOiAnU2NvcmUgdXNlZCB0byBzb3J0IHJvdXRlcycsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogcm91dGUuc2NvcmUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZpZWxkcztcclxufVxyXG5mdW5jdGlvbiBmb3JtYXRSb3V0ZVJlY29yZEZvckluc3BlY3Rvcihyb3V0ZSkge1xyXG4gICAgY29uc3QgdGFncyA9IFtdO1xyXG4gICAgY29uc3QgeyByZWNvcmQgfSA9IHJvdXRlO1xyXG4gICAgaWYgKHJlY29yZC5uYW1lICE9IG51bGwpIHtcclxuICAgICAgICB0YWdzLnB1c2goe1xyXG4gICAgICAgICAgICBsYWJlbDogU3RyaW5nKHJlY29yZC5uYW1lKSxcclxuICAgICAgICAgICAgdGV4dENvbG9yOiAwLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IDB4MDBiY2Q0LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlY29yZC5hbGlhc09mKSB7XHJcbiAgICAgICAgdGFncy5wdXNoKHtcclxuICAgICAgICAgICAgbGFiZWw6ICdhbGlhcycsXHJcbiAgICAgICAgICAgIHRleHRDb2xvcjogMCxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAweGZmOTg0ZixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChyb3V0ZS5fX3ZkX21hdGNoKSB7XHJcbiAgICAgICAgdGFncy5wdXNoKHtcclxuICAgICAgICAgICAgbGFiZWw6ICdtYXRjaGVzJyxcclxuICAgICAgICAgICAgdGV4dENvbG9yOiAwLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IDB4ZjRmNGY0LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlY29yZC5yZWRpcmVjdCkge1xyXG4gICAgICAgIHRhZ3MucHVzaCh7XHJcbiAgICAgICAgICAgIGxhYmVsOiAncmVkaXJlY3Q6ICcgK1xyXG4gICAgICAgICAgICAgICAgKHR5cGVvZiByZWNvcmQucmVkaXJlY3QgPT09ICdzdHJpbmcnID8gcmVjb3JkLnJlZGlyZWN0IDogJ09iamVjdCcpLFxyXG4gICAgICAgICAgICB0ZXh0Q29sb3I6IDB4ZmZmZmZmLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IDB4NjY2NjY2LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpZDogcmVjb3JkLnBhdGgsXHJcbiAgICAgICAgbGFiZWw6IHJlY29yZC5wYXRoLFxyXG4gICAgICAgIHRhZ3MsXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNoaWxkcmVuOiByb3V0ZS5jaGlsZHJlbi5tYXAoZm9ybWF0Um91dGVSZWNvcmRGb3JJbnNwZWN0b3IpLFxyXG4gICAgfTtcclxufVxyXG5jb25zdCBFWFRSQUNUX1JFR0VYUF9SRSA9IC9eXFwvKC4qKVxcLyhbYS16XSopJC87XHJcbmZ1bmN0aW9uIGlzUm91dGVNYXRjaGluZyhyb3V0ZSwgZmlsdGVyKSB7XHJcbiAgICBjb25zdCBmb3VuZCA9IFN0cmluZyhyb3V0ZS5yZSkubWF0Y2goRVhUUkFDVF9SRUdFWFBfUkUpO1xyXG4gICAgcm91dGUuX192ZF9tYXRjaCA9IGZhbHNlO1xyXG4gICAgaWYgKCFmb3VuZCB8fCBmb3VuZC5sZW5ndGggPCAzKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIC8vIHVzZSBhIHJlZ2V4cCB3aXRob3V0ICQgYXQgdGhlIGVuZCB0byBtYXRjaCBuZXN0ZWQgcm91dGVzIGJldHRlclxyXG4gICAgY29uc3Qgbm9uRW5kaW5nUkUgPSBuZXcgUmVnRXhwKGZvdW5kWzFdLnJlcGxhY2UoL1xcJCQvLCAnJyksIGZvdW5kWzJdKTtcclxuICAgIGlmIChub25FbmRpbmdSRS50ZXN0KGZpbHRlcikpIHtcclxuICAgICAgICAvLyBtYXJrIGNoaWxkcmVuIGFzIG1hdGNoZXNcclxuICAgICAgICByb3V0ZS5jaGlsZHJlbi5zb21lKGNoaWxkID0+IGlzUm91dGVNYXRjaGluZyhjaGlsZCwgZmlsdGVyKSk7XHJcbiAgICAgICAgLy8gZXhjZXB0aW9uIGNhc2U6IGAvYFxyXG4gICAgICAgIGlmIChyb3V0ZS5yZWNvcmQucGF0aCAhPT0gJy8nIHx8IGZpbHRlciA9PT0gJy8nKSB7XHJcbiAgICAgICAgICAgIHJvdXRlLl9fdmRfbWF0Y2ggPSByb3V0ZS5yZS50ZXN0KGZpbHRlcik7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBoaWRlIHRoZSAvIHJvdXRlXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcGF0aCA9IHJvdXRlLnJlY29yZC5wYXRoLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBjb25zdCBkZWNvZGVkUGF0aCA9IGRlY29kZShwYXRoKTtcclxuICAgIC8vIGFsc28gYWxsb3cgcGFydGlhbCBtYXRjaGluZyBvbiB0aGUgcGF0aFxyXG4gICAgaWYgKCFmaWx0ZXIuc3RhcnRzV2l0aCgnLycpICYmXHJcbiAgICAgICAgKGRlY29kZWRQYXRoLmluY2x1ZGVzKGZpbHRlcikgfHwgcGF0aC5pbmNsdWRlcyhmaWx0ZXIpKSlcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIGlmIChkZWNvZGVkUGF0aC5zdGFydHNXaXRoKGZpbHRlcikgfHwgcGF0aC5zdGFydHNXaXRoKGZpbHRlcikpXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICBpZiAocm91dGUucmVjb3JkLm5hbWUgJiYgU3RyaW5nKHJvdXRlLnJlY29yZC5uYW1lKS5pbmNsdWRlcyhmaWx0ZXIpKVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgcmV0dXJuIHJvdXRlLmNoaWxkcmVuLnNvbWUoY2hpbGQgPT4gaXNSb3V0ZU1hdGNoaW5nKGNoaWxkLCBmaWx0ZXIpKTtcclxufVxuXG4vKipcclxuICogQ3JlYXRlcyBhIFJvdXRlciBpbnN0YW5jZSB0aGF0IGNhbiBiZSB1c2VkIGJ5IGEgVnVlIGFwcC5cclxuICpcclxuICogQHBhcmFtIG9wdGlvbnMgLSB7QGxpbmsgUm91dGVyT3B0aW9uc31cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlcihvcHRpb25zKSB7XHJcbiAgICBjb25zdCBtYXRjaGVyID0gY3JlYXRlUm91dGVyTWF0Y2hlcihvcHRpb25zLnJvdXRlcywgb3B0aW9ucyk7XHJcbiAgICBsZXQgcGFyc2VRdWVyeSQxID0gb3B0aW9ucy5wYXJzZVF1ZXJ5IHx8IHBhcnNlUXVlcnk7XHJcbiAgICBsZXQgc3RyaW5naWZ5UXVlcnkkMSA9IG9wdGlvbnMuc3RyaW5naWZ5UXVlcnkgfHwgc3RyaW5naWZ5UXVlcnk7XHJcbiAgICBsZXQgeyBzY3JvbGxCZWhhdmlvciB9ID0gb3B0aW9ucztcclxuICAgIGxldCByb3V0ZXJIaXN0b3J5ID0gb3B0aW9ucy5oaXN0b3J5O1xyXG4gICAgY29uc3QgYmVmb3JlR3VhcmRzID0gdXNlQ2FsbGJhY2tzKCk7XHJcbiAgICBjb25zdCBiZWZvcmVSZXNvbHZlR3VhcmRzID0gdXNlQ2FsbGJhY2tzKCk7XHJcbiAgICBjb25zdCBhZnRlckd1YXJkcyA9IHVzZUNhbGxiYWNrcygpO1xyXG4gICAgY29uc3QgY3VycmVudFJvdXRlID0gc2hhbGxvd1JlZihTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEKTtcclxuICAgIGxldCBwZW5kaW5nTG9jYXRpb24gPSBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEO1xyXG4gICAgLy8gbGVhdmUgdGhlIHNjcm9sbFJlc3RvcmF0aW9uIGlmIG5vIHNjcm9sbEJlaGF2aW9yIGlzIHByb3ZpZGVkXHJcbiAgICBpZiAoaXNCcm93c2VyICYmIHNjcm9sbEJlaGF2aW9yICYmICdzY3JvbGxSZXN0b3JhdGlvbicgaW4gaGlzdG9yeSkge1xyXG4gICAgICAgIGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSAnbWFudWFsJztcclxuICAgIH1cclxuICAgIGNvbnN0IG5vcm1hbGl6ZVBhcmFtcyA9IGFwcGx5VG9QYXJhbXMuYmluZChudWxsLCBwYXJhbVZhbHVlID0+ICcnICsgcGFyYW1WYWx1ZSk7XHJcbiAgICBjb25zdCBlbmNvZGVQYXJhbXMgPSBhcHBseVRvUGFyYW1zLmJpbmQobnVsbCwgZW5jb2RlUGFyYW0pO1xyXG4gICAgY29uc3QgZGVjb2RlUGFyYW1zID0gYXBwbHlUb1BhcmFtcy5iaW5kKG51bGwsIGRlY29kZSk7XHJcbiAgICBmdW5jdGlvbiBhZGRSb3V0ZShwYXJlbnRPclJvdXRlLCByb3V0ZSkge1xyXG4gICAgICAgIGxldCBwYXJlbnQ7XHJcbiAgICAgICAgbGV0IHJlY29yZDtcclxuICAgICAgICBpZiAoaXNSb3V0ZU5hbWUocGFyZW50T3JSb3V0ZSkpIHtcclxuICAgICAgICAgICAgcGFyZW50ID0gbWF0Y2hlci5nZXRSZWNvcmRNYXRjaGVyKHBhcmVudE9yUm91dGUpO1xyXG4gICAgICAgICAgICByZWNvcmQgPSByb3V0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlY29yZCA9IHBhcmVudE9yUm91dGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtYXRjaGVyLmFkZFJvdXRlKHJlY29yZCwgcGFyZW50KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVJvdXRlKG5hbWUpIHtcclxuICAgICAgICBsZXQgcmVjb3JkTWF0Y2hlciA9IG1hdGNoZXIuZ2V0UmVjb3JkTWF0Y2hlcihuYW1lKTtcclxuICAgICAgICBpZiAocmVjb3JkTWF0Y2hlcikge1xyXG4gICAgICAgICAgICBtYXRjaGVyLnJlbW92ZVJvdXRlKHJlY29yZE1hdGNoZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybihgQ2Fubm90IHJlbW92ZSBub24tZXhpc3RlbnQgcm91dGUgXCIke1N0cmluZyhuYW1lKX1cImApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldFJvdXRlcygpIHtcclxuICAgICAgICByZXR1cm4gbWF0Y2hlci5nZXRSb3V0ZXMoKS5tYXAocm91dGVNYXRjaGVyID0+IHJvdXRlTWF0Y2hlci5yZWNvcmQpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaGFzUm91dGUobmFtZSkge1xyXG4gICAgICAgIHJldHVybiAhIW1hdGNoZXIuZ2V0UmVjb3JkTWF0Y2hlcihuYW1lKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlc29sdmUocmF3TG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbikge1xyXG4gICAgICAgIC8vIGNvbnN0IG9iamVjdExvY2F0aW9uID0gcm91dGVyTG9jYXRpb25Bc09iamVjdChyYXdMb2NhdGlvbilcclxuICAgICAgICAvLyB3ZSBjcmVhdGUgYSBjb3B5IHRvIG1vZGlmeSBpdCBsYXRlclxyXG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbiA9IGFzc2lnbih7fSwgY3VycmVudExvY2F0aW9uIHx8IGN1cnJlbnRSb3V0ZS52YWx1ZSk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiByYXdMb2NhdGlvbiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgbGV0IGxvY2F0aW9uTm9ybWFsaXplZCA9IHBhcnNlVVJMKHBhcnNlUXVlcnkkMSwgcmF3TG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbi5wYXRoKTtcclxuICAgICAgICAgICAgbGV0IG1hdGNoZWRSb3V0ZSA9IG1hdGNoZXIucmVzb2x2ZSh7IHBhdGg6IGxvY2F0aW9uTm9ybWFsaXplZC5wYXRoIH0sIGN1cnJlbnRMb2NhdGlvbik7XHJcbiAgICAgICAgICAgIGxldCBocmVmID0gcm91dGVySGlzdG9yeS5jcmVhdGVIcmVmKGxvY2F0aW9uTm9ybWFsaXplZC5mdWxsUGF0aCk7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChocmVmLnN0YXJ0c1dpdGgoJy8vJykpXHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgTG9jYXRpb24gXCIke3Jhd0xvY2F0aW9ufVwiIHJlc29sdmVkIHRvIFwiJHtocmVmfVwiLiBBIHJlc29sdmVkIGxvY2F0aW9uIGNhbm5vdCBzdGFydCB3aXRoIG11bHRpcGxlIHNsYXNoZXMuYCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghbWF0Y2hlZFJvdXRlLm1hdGNoZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgTm8gbWF0Y2ggZm91bmQgZm9yIGxvY2F0aW9uIHdpdGggcGF0aCBcIiR7cmF3TG9jYXRpb259XCJgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBsb2NhdGlvbk5vcm1hbGl6ZWQgaXMgYWx3YXlzIGEgbmV3IG9iamVjdFxyXG4gICAgICAgICAgICByZXR1cm4gYXNzaWduKGxvY2F0aW9uTm9ybWFsaXplZCwgbWF0Y2hlZFJvdXRlLCB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGRlY29kZVBhcmFtcyhtYXRjaGVkUm91dGUucGFyYW1zKSxcclxuICAgICAgICAgICAgICAgIGhhc2g6IGRlY29kZShsb2NhdGlvbk5vcm1hbGl6ZWQuaGFzaCksXHJcbiAgICAgICAgICAgICAgICByZWRpcmVjdGVkRnJvbTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgaHJlZixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtYXRjaGVyTG9jYXRpb247XHJcbiAgICAgICAgLy8gcGF0aCBjb3VsZCBiZSByZWxhdGl2ZSBpbiBvYmplY3QgYXMgd2VsbFxyXG4gICAgICAgIGlmICgncGF0aCcgaW4gcmF3TG9jYXRpb24pIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgJ3BhcmFtcycgaW4gcmF3TG9jYXRpb24gJiZcclxuICAgICAgICAgICAgICAgICEoJ25hbWUnIGluIHJhd0xvY2F0aW9uKSAmJlxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocmF3TG9jYXRpb24ucGFyYW1zKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFBhdGggXCIke3Jhd0xvY2F0aW9uLnBhdGh9XCIgd2FzIHBhc3NlZCB3aXRoIHBhcmFtcyBidXQgdGhleSB3aWxsIGJlIGlnbm9yZWQuIFVzZSBhIG5hbWVkIHJvdXRlIGFsb25nc2lkZSBwYXJhbXMgaW5zdGVhZC5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXRjaGVyTG9jYXRpb24gPSBhc3NpZ24oe30sIHJhd0xvY2F0aW9uLCB7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBwYXJzZVVSTChwYXJzZVF1ZXJ5JDEsIHJhd0xvY2F0aW9uLnBhdGgsIGN1cnJlbnRMb2NhdGlvbi5wYXRoKS5wYXRoLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHBhc3MgZW5jb2RlZCB2YWx1ZXMgdG8gdGhlIG1hdGNoZXIgc28gaXQgY2FuIHByb2R1Y2UgZW5jb2RlZCBwYXRoIGFuZCBmdWxsUGF0aFxyXG4gICAgICAgICAgICBtYXRjaGVyTG9jYXRpb24gPSBhc3NpZ24oe30sIHJhd0xvY2F0aW9uLCB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGVuY29kZVBhcmFtcyhyYXdMb2NhdGlvbi5wYXJhbXMpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gY3VycmVudCBsb2NhdGlvbiBwYXJhbXMgYXJlIGRlY29kZWQsIHdlIG5lZWQgdG8gZW5jb2RlIHRoZW0gaW4gY2FzZSB0aGVcclxuICAgICAgICAgICAgLy8gbWF0Y2hlciBtZXJnZXMgdGhlIHBhcmFtc1xyXG4gICAgICAgICAgICBjdXJyZW50TG9jYXRpb24ucGFyYW1zID0gZW5jb2RlUGFyYW1zKGN1cnJlbnRMb2NhdGlvbi5wYXJhbXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbWF0Y2hlZFJvdXRlID0gbWF0Y2hlci5yZXNvbHZlKG1hdGNoZXJMb2NhdGlvbiwgY3VycmVudExvY2F0aW9uKTtcclxuICAgICAgICBjb25zdCBoYXNoID0gcmF3TG9jYXRpb24uaGFzaCB8fCAnJztcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhhc2ggJiYgIWhhc2guc3RhcnRzV2l0aCgnIycpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEEgXFxgaGFzaFxcYCBzaG91bGQgYWx3YXlzIHN0YXJ0IHdpdGggdGhlIGNoYXJhY3RlciBcIiNcIi4gUmVwbGFjZSBcIiR7aGFzaH1cIiB3aXRoIFwiIyR7aGFzaH1cIi5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZGVjb2RpbmcgdGhlbSkgdGhlIG1hdGNoZXIgbWlnaHQgaGF2ZSBtZXJnZWQgY3VycmVudCBsb2NhdGlvbiBwYXJhbXMgc29cclxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHJ1biB0aGUgZGVjb2RpbmcgYWdhaW5cclxuICAgICAgICBtYXRjaGVkUm91dGUucGFyYW1zID0gbm9ybWFsaXplUGFyYW1zKGRlY29kZVBhcmFtcyhtYXRjaGVkUm91dGUucGFyYW1zKSk7XHJcbiAgICAgICAgY29uc3QgZnVsbFBhdGggPSBzdHJpbmdpZnlVUkwoc3RyaW5naWZ5UXVlcnkkMSwgYXNzaWduKHt9LCByYXdMb2NhdGlvbiwge1xyXG4gICAgICAgICAgICBoYXNoOiBlbmNvZGVIYXNoKGhhc2gpLFxyXG4gICAgICAgICAgICBwYXRoOiBtYXRjaGVkUm91dGUucGF0aCxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgbGV0IGhyZWYgPSByb3V0ZXJIaXN0b3J5LmNyZWF0ZUhyZWYoZnVsbFBhdGgpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgaWYgKGhyZWYuc3RhcnRzV2l0aCgnLy8nKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgTG9jYXRpb24gXCIke3Jhd0xvY2F0aW9ufVwiIHJlc29sdmVkIHRvIFwiJHtocmVmfVwiLiBBIHJlc29sdmVkIGxvY2F0aW9uIGNhbm5vdCBzdGFydCB3aXRoIG11bHRpcGxlIHNsYXNoZXMuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIW1hdGNoZWRSb3V0ZS5tYXRjaGVkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgTm8gbWF0Y2ggZm91bmQgZm9yIGxvY2F0aW9uIHdpdGggcGF0aCBcIiR7J3BhdGgnIGluIHJhd0xvY2F0aW9uID8gcmF3TG9jYXRpb24ucGF0aCA6IHJhd0xvY2F0aW9ufVwiYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFzc2lnbih7XHJcbiAgICAgICAgICAgIGZ1bGxQYXRoLFxyXG4gICAgICAgICAgICAvLyBrZWVwIHRoZSBoYXNoIGVuY29kZWQgc28gZnVsbFBhdGggaXMgZWZmZWN0aXZlbHkgcGF0aCArIGVuY29kZWRRdWVyeSArXHJcbiAgICAgICAgICAgIC8vIGhhc2hcclxuICAgICAgICAgICAgaGFzaCxcclxuICAgICAgICAgICAgcXVlcnk6IFxyXG4gICAgICAgICAgICAvLyBpZiB0aGUgdXNlciBpcyB1c2luZyBhIGN1c3RvbSBxdWVyeSBsaWIgbGlrZSBxcywgd2UgbWlnaHQgaGF2ZVxyXG4gICAgICAgICAgICAvLyBuZXN0ZWQgb2JqZWN0cywgc28gd2Uga2VlcCB0aGUgcXVlcnkgYXMgaXMsIG1lYW5pbmcgaXQgY2FuIGNvbnRhaW5cclxuICAgICAgICAgICAgLy8gbnVtYmVycyBhdCBgJHJvdXRlLnF1ZXJ5YCwgYnV0IGF0IHRoZSBwb2ludCwgdGhlIHVzZXIgd2lsbCBoYXZlIHRvXHJcbiAgICAgICAgICAgIC8vIHVzZSB0aGVpciBvd24gdHlwZSBhbnl3YXkuXHJcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUtcm91dGVyLW5leHQvaXNzdWVzLzMyOCNpc3N1ZWNvbW1lbnQtNjQ5NDgxNTY3XHJcbiAgICAgICAgICAgIHN0cmluZ2lmeVF1ZXJ5JDEgPT09IHN0cmluZ2lmeVF1ZXJ5XHJcbiAgICAgICAgICAgICAgICA/IG5vcm1hbGl6ZVF1ZXJ5KHJhd0xvY2F0aW9uLnF1ZXJ5KVxyXG4gICAgICAgICAgICAgICAgOiByYXdMb2NhdGlvbi5xdWVyeSxcclxuICAgICAgICB9LCBtYXRjaGVkUm91dGUsIHtcclxuICAgICAgICAgICAgcmVkaXJlY3RlZEZyb206IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgaHJlZixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGxvY2F0aW9uQXNPYmplY3QodG8pIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIHRvID09PSAnc3RyaW5nJyA/IHsgcGF0aDogdG8gfSA6IGFzc2lnbih7fSwgdG8pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2hlY2tDYW5jZWxlZE5hdmlnYXRpb24odG8sIGZyb20pIHtcclxuICAgICAgICBpZiAocGVuZGluZ0xvY2F0aW9uICE9PSB0bykge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlUm91dGVyRXJyb3IoOCAvKiBOQVZJR0FUSU9OX0NBTkNFTExFRCAqLywge1xyXG4gICAgICAgICAgICAgICAgZnJvbSxcclxuICAgICAgICAgICAgICAgIHRvLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwdXNoKHRvKSB7XHJcbiAgICAgICAgcmV0dXJuIHB1c2hXaXRoUmVkaXJlY3QodG8pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVwbGFjZSh0bykge1xyXG4gICAgICAgIHJldHVybiBwdXNoKGFzc2lnbihsb2NhdGlvbkFzT2JqZWN0KHRvKSwgeyByZXBsYWNlOiB0cnVlIH0pKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGhhbmRsZVJlZGlyZWN0UmVjb3JkKHRvKSB7XHJcbiAgICAgICAgY29uc3QgbGFzdE1hdGNoZWQgPSB0by5tYXRjaGVkW3RvLm1hdGNoZWQubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgaWYgKGxhc3RNYXRjaGVkICYmIGxhc3RNYXRjaGVkLnJlZGlyZWN0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgcmVkaXJlY3QgfSA9IGxhc3RNYXRjaGVkO1xyXG4gICAgICAgICAgICAvLyB0cmFuc2Zvcm0gaXQgaW50byBhbiBvYmplY3QgdG8gcGFzcyB0aGUgb3JpZ2luYWwgUm91dGVMb2NhbGVPcHRpb25zXHJcbiAgICAgICAgICAgIGxldCBuZXdUYXJnZXRMb2NhdGlvbiA9IGxvY2F0aW9uQXNPYmplY3QodHlwZW9mIHJlZGlyZWN0ID09PSAnZnVuY3Rpb24nID8gcmVkaXJlY3QodG8pIDogcmVkaXJlY3QpO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAhKCdwYXRoJyBpbiBuZXdUYXJnZXRMb2NhdGlvbikgJiZcclxuICAgICAgICAgICAgICAgICEoJ25hbWUnIGluIG5ld1RhcmdldExvY2F0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgSW52YWxpZCByZWRpcmVjdCBmb3VuZDpcXG4ke0pTT04uc3RyaW5naWZ5KG5ld1RhcmdldExvY2F0aW9uLCBudWxsLCAyKX1cXG4gd2hlbiBuYXZpZ2F0aW5nIHRvIFwiJHt0by5mdWxsUGF0aH1cIi4gQSByZWRpcmVjdCBtdXN0IGNvbnRhaW4gYSBuYW1lIG9yIHBhdGguIFRoaXMgd2lsbCBicmVhayBpbiBwcm9kdWN0aW9uLmApO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlZGlyZWN0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGFzc2lnbih7XHJcbiAgICAgICAgICAgICAgICBxdWVyeTogdG8ucXVlcnksXHJcbiAgICAgICAgICAgICAgICBoYXNoOiB0by5oYXNoLFxyXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB0by5wYXJhbXMsXHJcbiAgICAgICAgICAgIH0sIG5ld1RhcmdldExvY2F0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwdXNoV2l0aFJlZGlyZWN0KHRvLCByZWRpcmVjdGVkRnJvbSkge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldExvY2F0aW9uID0gKHBlbmRpbmdMb2NhdGlvbiA9IHJlc29sdmUodG8pKTtcclxuICAgICAgICBjb25zdCBmcm9tID0gY3VycmVudFJvdXRlLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0by5zdGF0ZTtcclxuICAgICAgICBjb25zdCBmb3JjZSA9IHRvLmZvcmNlO1xyXG4gICAgICAgIC8vIHRvIGNvdWxkIGJlIGEgc3RyaW5nIHdoZXJlIGByZXBsYWNlYCBpcyBhIGZ1bmN0aW9uXHJcbiAgICAgICAgY29uc3QgcmVwbGFjZSA9IHRvLnJlcGxhY2UgPT09IHRydWU7XHJcbiAgICAgICAgY29uc3Qgc2hvdWxkUmVkaXJlY3QgPSBoYW5kbGVSZWRpcmVjdFJlY29yZCh0YXJnZXRMb2NhdGlvbik7XHJcbiAgICAgICAgaWYgKHNob3VsZFJlZGlyZWN0KVxyXG4gICAgICAgICAgICByZXR1cm4gcHVzaFdpdGhSZWRpcmVjdChhc3NpZ24oc2hvdWxkUmVkaXJlY3QsIHsgc3RhdGU6IGRhdGEsIGZvcmNlLCByZXBsYWNlIH0pLCBcclxuICAgICAgICAgICAgLy8ga2VlcCBvcmlnaW5hbCByZWRpcmVjdGVkRnJvbSBpZiBpdCBleGlzdHNcclxuICAgICAgICAgICAgcmVkaXJlY3RlZEZyb20gfHwgdGFyZ2V0TG9jYXRpb24pO1xyXG4gICAgICAgIC8vIGlmIGl0IHdhcyBhIHJlZGlyZWN0IHdlIGFscmVhZHkgY2FsbGVkIGBwdXNoV2l0aFJlZGlyZWN0YCBhYm92ZVxyXG4gICAgICAgIGNvbnN0IHRvTG9jYXRpb24gPSB0YXJnZXRMb2NhdGlvbjtcclxuICAgICAgICB0b0xvY2F0aW9uLnJlZGlyZWN0ZWRGcm9tID0gcmVkaXJlY3RlZEZyb207XHJcbiAgICAgICAgbGV0IGZhaWx1cmU7XHJcbiAgICAgICAgaWYgKCFmb3JjZSAmJiBpc1NhbWVSb3V0ZUxvY2F0aW9uKHN0cmluZ2lmeVF1ZXJ5JDEsIGZyb20sIHRhcmdldExvY2F0aW9uKSkge1xyXG4gICAgICAgICAgICBmYWlsdXJlID0gY3JlYXRlUm91dGVyRXJyb3IoMTYgLyogTkFWSUdBVElPTl9EVVBMSUNBVEVEICovLCB7IHRvOiB0b0xvY2F0aW9uLCBmcm9tIH0pO1xyXG4gICAgICAgICAgICAvLyB0cmlnZ2VyIHNjcm9sbCB0byBhbGxvdyBzY3JvbGxpbmcgdG8gdGhlIHNhbWUgYW5jaG9yXHJcbiAgICAgICAgICAgIGhhbmRsZVNjcm9sbChmcm9tLCBmcm9tLCBcclxuICAgICAgICAgICAgLy8gdGhpcyBpcyBhIHB1c2gsIHRoZSBvbmx5IHdheSBmb3IgaXQgdG8gYmUgdHJpZ2dlcmVkIGZyb20gYVxyXG4gICAgICAgICAgICAvLyBoaXN0b3J5Lmxpc3RlbiBpcyB3aXRoIGEgcmVkaXJlY3QsIHdoaWNoIG1ha2VzIGl0IGJlY29tZSBhIHB1c2hcclxuICAgICAgICAgICAgdHJ1ZSwgXHJcbiAgICAgICAgICAgIC8vIFRoaXMgY2Fubm90IGJlIHRoZSBmaXJzdCBuYXZpZ2F0aW9uIGJlY2F1c2UgdGhlIGluaXRpYWwgbG9jYXRpb25cclxuICAgICAgICAgICAgLy8gY2Fubm90IGJlIG1hbnVhbGx5IG5hdmlnYXRlZCB0b1xyXG4gICAgICAgICAgICBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoZmFpbHVyZSA/IFByb21pc2UucmVzb2x2ZShmYWlsdXJlKSA6IG5hdmlnYXRlKHRvTG9jYXRpb24sIGZyb20pKVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBpc05hdmlnYXRpb25GYWlsdXJlKGVycm9yKVxyXG4gICAgICAgICAgICA/IGVycm9yXHJcbiAgICAgICAgICAgIDogLy8gcmVqZWN0IGFueSB1bmtub3duIGVycm9yXHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyRXJyb3IoZXJyb3IpKVxyXG4gICAgICAgICAgICAudGhlbigoZmFpbHVyZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZmFpbHVyZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmF2aWdhdGlvbkZhaWx1cmUoZmFpbHVyZSwgMiAvKiBOQVZJR0FUSU9OX0dVQVJEX1JFRElSRUNUICovKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgYXJlIHJlZGlyZWN0aW5nIHRvIHRoZSBzYW1lIGxvY2F0aW9uIHdlIHdlcmUgYWxyZWFkeSBhdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1NhbWVSb3V0ZUxvY2F0aW9uKHN0cmluZ2lmeVF1ZXJ5JDEsIHJlc29sdmUoZmFpbHVyZS50byksIHRvTG9jYXRpb24pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCB3ZSBoYXZlIGRvbmUgaXQgYSBjb3VwbGUgb2YgdGltZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RlZEZyb20gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAocmVkaXJlY3RlZEZyb20uX2NvdW50ID0gcmVkaXJlY3RlZEZyb20uX2NvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdGVkRnJvbS5fY291bnQgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDEpID4gMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgRGV0ZWN0ZWQgYW4gaW5maW5pdGUgcmVkaXJlY3Rpb24gaW4gYSBuYXZpZ2F0aW9uIGd1YXJkIHdoZW4gZ29pbmcgZnJvbSBcIiR7ZnJvbS5mdWxsUGF0aH1cIiB0byBcIiR7dG9Mb2NhdGlvbi5mdWxsUGF0aH1cIi4gQWJvcnRpbmcgdG8gYXZvaWQgYSBTdGFjayBPdmVyZmxvdy4gVGhpcyB3aWxsIGJyZWFrIGluIHByb2R1Y3Rpb24gaWYgbm90IGZpeGVkLmApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbmZpbml0ZSByZWRpcmVjdCBpbiBuYXZpZ2F0aW9uIGd1YXJkJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHVzaFdpdGhSZWRpcmVjdChcclxuICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICBhc3NpZ24obG9jYXRpb25Bc09iamVjdChmYWlsdXJlLnRvKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgfSksIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXNlcnZlIHRoZSBvcmlnaW5hbCByZWRpcmVjdGVkRnJvbSBpZiBhbnlcclxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdGVkRnJvbSB8fCB0b0xvY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGZhaWwgd2UgZG9uJ3QgZmluYWxpemUgdGhlIG5hdmlnYXRpb25cclxuICAgICAgICAgICAgICAgIGZhaWx1cmUgPSBmaW5hbGl6ZU5hdmlnYXRpb24odG9Mb2NhdGlvbiwgZnJvbSwgdHJ1ZSwgcmVwbGFjZSwgZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJpZ2dlckFmdGVyRWFjaCh0b0xvY2F0aW9uLCBmcm9tLCBmYWlsdXJlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhaWx1cmU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciB0byByZWplY3QgYW5kIHNraXAgYWxsIG5hdmlnYXRpb24gZ3VhcmRzIGlmIGEgbmV3IG5hdmlnYXRpb24gaGFwcGVuZWRcclxuICAgICAqIEBwYXJhbSB0b1xyXG4gICAgICogQHBhcmFtIGZyb21cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY2hlY2tDYW5jZWxlZE5hdmlnYXRpb25BbmRSZWplY3QodG8sIGZyb20pIHtcclxuICAgICAgICBjb25zdCBlcnJvciA9IGNoZWNrQ2FuY2VsZWROYXZpZ2F0aW9uKHRvLCBmcm9tKTtcclxuICAgICAgICByZXR1cm4gZXJyb3IgPyBQcm9taXNlLnJlamVjdChlcnJvcikgOiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuICAgIC8vIFRPRE86IHJlZmFjdG9yIHRoZSB3aG9sZSBiZWZvcmUgZ3VhcmRzIGJ5IGludGVybmFsbHkgdXNpbmcgcm91dGVyLmJlZm9yZUVhY2hcclxuICAgIGZ1bmN0aW9uIG5hdmlnYXRlKHRvLCBmcm9tKSB7XHJcbiAgICAgICAgbGV0IGd1YXJkcztcclxuICAgICAgICBjb25zdCBbbGVhdmluZ1JlY29yZHMsIHVwZGF0aW5nUmVjb3JkcywgZW50ZXJpbmdSZWNvcmRzLF0gPSBleHRyYWN0Q2hhbmdpbmdSZWNvcmRzKHRvLCBmcm9tKTtcclxuICAgICAgICAvLyBhbGwgY29tcG9uZW50cyBoZXJlIGhhdmUgYmVlbiByZXNvbHZlZCBvbmNlIGJlY2F1c2Ugd2UgYXJlIGxlYXZpbmdcclxuICAgICAgICBndWFyZHMgPSBleHRyYWN0Q29tcG9uZW50c0d1YXJkcyhsZWF2aW5nUmVjb3Jkcy5yZXZlcnNlKCksICdiZWZvcmVSb3V0ZUxlYXZlJywgdG8sIGZyb20pO1xyXG4gICAgICAgIC8vIGxlYXZpbmdSZWNvcmRzIGlzIGFscmVhZHkgcmV2ZXJzZWRcclxuICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiBsZWF2aW5nUmVjb3Jkcykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGd1YXJkIG9mIHJlY29yZC5sZWF2ZUd1YXJkcykge1xyXG4gICAgICAgICAgICAgICAgZ3VhcmRzLnB1c2goZ3VhcmRUb1Byb21pc2VGbihndWFyZCwgdG8sIGZyb20pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjYW5jZWxlZE5hdmlnYXRpb25DaGVjayA9IGNoZWNrQ2FuY2VsZWROYXZpZ2F0aW9uQW5kUmVqZWN0LmJpbmQobnVsbCwgdG8sIGZyb20pO1xyXG4gICAgICAgIGd1YXJkcy5wdXNoKGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrKTtcclxuICAgICAgICAvLyBydW4gdGhlIHF1ZXVlIG9mIHBlciByb3V0ZSBiZWZvcmVSb3V0ZUxlYXZlIGd1YXJkc1xyXG4gICAgICAgIHJldHVybiAocnVuR3VhcmRRdWV1ZShndWFyZHMpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgLy8gY2hlY2sgZ2xvYmFsIGd1YXJkcyBiZWZvcmVFYWNoXHJcbiAgICAgICAgICAgIGd1YXJkcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGd1YXJkIG9mIGJlZm9yZUd1YXJkcy5saXN0KCkpIHtcclxuICAgICAgICAgICAgICAgIGd1YXJkcy5wdXNoKGd1YXJkVG9Qcm9taXNlRm4oZ3VhcmQsIHRvLCBmcm9tKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ3VhcmRzLnB1c2goY2FuY2VsZWROYXZpZ2F0aW9uQ2hlY2spO1xyXG4gICAgICAgICAgICByZXR1cm4gcnVuR3VhcmRRdWV1ZShndWFyZHMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgLy8gY2hlY2sgaW4gY29tcG9uZW50cyBiZWZvcmVSb3V0ZVVwZGF0ZVxyXG4gICAgICAgICAgICBndWFyZHMgPSBleHRyYWN0Q29tcG9uZW50c0d1YXJkcyh1cGRhdGluZ1JlY29yZHMsICdiZWZvcmVSb3V0ZVVwZGF0ZScsIHRvLCBmcm9tKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgdXBkYXRpbmdSZWNvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGd1YXJkIG9mIHJlY29yZC51cGRhdGVHdWFyZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBndWFyZHMucHVzaChndWFyZFRvUHJvbWlzZUZuKGd1YXJkLCB0bywgZnJvbSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGd1YXJkcy5wdXNoKGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrKTtcclxuICAgICAgICAgICAgLy8gcnVuIHRoZSBxdWV1ZSBvZiBwZXIgcm91dGUgYmVmb3JlRW50ZXIgZ3VhcmRzXHJcbiAgICAgICAgICAgIHJldHVybiBydW5HdWFyZFF1ZXVlKGd1YXJkcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBjaGVjayB0aGUgcm91dGUgYmVmb3JlRW50ZXJcclxuICAgICAgICAgICAgZ3VhcmRzID0gW107XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHRvLm1hdGNoZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGRvIG5vdCB0cmlnZ2VyIGJlZm9yZUVudGVyIG9uIHJldXNlZCB2aWV3c1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZC5iZWZvcmVFbnRlciAmJiBmcm9tLm1hdGNoZWQuaW5kZXhPZihyZWNvcmQpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlY29yZC5iZWZvcmVFbnRlcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBiZWZvcmVFbnRlciBvZiByZWNvcmQuYmVmb3JlRW50ZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWFyZHMucHVzaChndWFyZFRvUHJvbWlzZUZuKGJlZm9yZUVudGVyLCB0bywgZnJvbSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmRzLnB1c2goZ3VhcmRUb1Byb21pc2VGbihyZWNvcmQuYmVmb3JlRW50ZXIsIHRvLCBmcm9tKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGd1YXJkcy5wdXNoKGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrKTtcclxuICAgICAgICAgICAgLy8gcnVuIHRoZSBxdWV1ZSBvZiBwZXIgcm91dGUgYmVmb3JlRW50ZXIgZ3VhcmRzXHJcbiAgICAgICAgICAgIHJldHVybiBydW5HdWFyZFF1ZXVlKGd1YXJkcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBOT1RFOiBhdCB0aGlzIHBvaW50IHRvLm1hdGNoZWQgaXMgbm9ybWFsaXplZCBhbmQgZG9lcyBub3QgY29udGFpbiBhbnkgKCkgPT4gUHJvbWlzZTxDb21wb25lbnQ+XHJcbiAgICAgICAgICAgIC8vIGNsZWFyIGV4aXN0aW5nIGVudGVyQ2FsbGJhY2tzLCB0aGVzZSBhcmUgYWRkZWQgYnkgZXh0cmFjdENvbXBvbmVudHNHdWFyZHNcclxuICAgICAgICAgICAgdG8ubWF0Y2hlZC5mb3JFYWNoKHJlY29yZCA9PiAocmVjb3JkLmVudGVyQ2FsbGJhY2tzID0ge30pKTtcclxuICAgICAgICAgICAgLy8gY2hlY2sgaW4tY29tcG9uZW50IGJlZm9yZVJvdXRlRW50ZXJcclxuICAgICAgICAgICAgZ3VhcmRzID0gZXh0cmFjdENvbXBvbmVudHNHdWFyZHMoZW50ZXJpbmdSZWNvcmRzLCAnYmVmb3JlUm91dGVFbnRlcicsIHRvLCBmcm9tKTtcclxuICAgICAgICAgICAgZ3VhcmRzLnB1c2goY2FuY2VsZWROYXZpZ2F0aW9uQ2hlY2spO1xyXG4gICAgICAgICAgICAvLyBydW4gdGhlIHF1ZXVlIG9mIHBlciByb3V0ZSBiZWZvcmVFbnRlciBndWFyZHNcclxuICAgICAgICAgICAgcmV0dXJuIHJ1bkd1YXJkUXVldWUoZ3VhcmRzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGdsb2JhbCBndWFyZHMgYmVmb3JlUmVzb2x2ZVxyXG4gICAgICAgICAgICBndWFyZHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBndWFyZCBvZiBiZWZvcmVSZXNvbHZlR3VhcmRzLmxpc3QoKSkge1xyXG4gICAgICAgICAgICAgICAgZ3VhcmRzLnB1c2goZ3VhcmRUb1Byb21pc2VGbihndWFyZCwgdG8sIGZyb20pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBndWFyZHMucHVzaChjYW5jZWxlZE5hdmlnYXRpb25DaGVjayk7XHJcbiAgICAgICAgICAgIHJldHVybiBydW5HdWFyZFF1ZXVlKGd1YXJkcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gY2F0Y2ggYW55IG5hdmlnYXRpb24gY2FuY2VsZWRcclxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBpc05hdmlnYXRpb25GYWlsdXJlKGVyciwgOCAvKiBOQVZJR0FUSU9OX0NBTkNFTExFRCAqLylcclxuICAgICAgICAgICAgPyBlcnJcclxuICAgICAgICAgICAgOiBQcm9taXNlLnJlamVjdChlcnIpKSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB0cmlnZ2VyQWZ0ZXJFYWNoKHRvLCBmcm9tLCBmYWlsdXJlKSB7XHJcbiAgICAgICAgLy8gbmF2aWdhdGlvbiBpcyBjb25maXJtZWQsIGNhbGwgYWZ0ZXJHdWFyZHNcclxuICAgICAgICAvLyBUT0RPOiB3cmFwIHdpdGggZXJyb3IgaGFuZGxlcnNcclxuICAgICAgICBmb3IgKGNvbnN0IGd1YXJkIG9mIGFmdGVyR3VhcmRzLmxpc3QoKSlcclxuICAgICAgICAgICAgZ3VhcmQodG8sIGZyb20sIGZhaWx1cmUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiAtIENsZWFucyB1cCBhbnkgbmF2aWdhdGlvbiBndWFyZHNcclxuICAgICAqIC0gQ2hhbmdlcyB0aGUgdXJsIGlmIG5lY2Vzc2FyeVxyXG4gICAgICogLSBDYWxscyB0aGUgc2Nyb2xsQmVoYXZpb3JcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZmluYWxpemVOYXZpZ2F0aW9uKHRvTG9jYXRpb24sIGZyb20sIGlzUHVzaCwgcmVwbGFjZSwgZGF0YSkge1xyXG4gICAgICAgIC8vIGEgbW9yZSByZWNlbnQgbmF2aWdhdGlvbiB0b29rIHBsYWNlXHJcbiAgICAgICAgY29uc3QgZXJyb3IgPSBjaGVja0NhbmNlbGVkTmF2aWdhdGlvbih0b0xvY2F0aW9uLCBmcm9tKTtcclxuICAgICAgICBpZiAoZXJyb3IpXHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAvLyBvbmx5IGNvbnNpZGVyIGFzIHB1c2ggaWYgaXQncyBub3QgdGhlIGZpcnN0IG5hdmlnYXRpb25cclxuICAgICAgICBjb25zdCBpc0ZpcnN0TmF2aWdhdGlvbiA9IGZyb20gPT09IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQ7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSAhaXNCcm93c2VyID8ge30gOiBoaXN0b3J5LnN0YXRlO1xyXG4gICAgICAgIC8vIGNoYW5nZSBVUkwgb25seSBpZiB0aGUgdXNlciBkaWQgYSBwdXNoL3JlcGxhY2UgYW5kIGlmIGl0J3Mgbm90IHRoZSBpbml0aWFsIG5hdmlnYXRpb24gYmVjYXVzZVxyXG4gICAgICAgIC8vIGl0J3MganVzdCByZWZsZWN0aW5nIHRoZSB1cmxcclxuICAgICAgICBpZiAoaXNQdXNoKSB7XHJcbiAgICAgICAgICAgIC8vIG9uIHRoZSBpbml0aWFsIG5hdmlnYXRpb24sIHdlIHdhbnQgdG8gcmV1c2UgdGhlIHNjcm9sbCBwb3NpdGlvbiBmcm9tXHJcbiAgICAgICAgICAgIC8vIGhpc3Rvcnkgc3RhdGUgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgICAgIGlmIChyZXBsYWNlIHx8IGlzRmlyc3ROYXZpZ2F0aW9uKVxyXG4gICAgICAgICAgICAgICAgcm91dGVySGlzdG9yeS5yZXBsYWNlKHRvTG9jYXRpb24uZnVsbFBhdGgsIGFzc2lnbih7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBpc0ZpcnN0TmF2aWdhdGlvbiAmJiBzdGF0ZSAmJiBzdGF0ZS5zY3JvbGwsXHJcbiAgICAgICAgICAgICAgICB9LCBkYXRhKSk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJvdXRlckhpc3RvcnkucHVzaCh0b0xvY2F0aW9uLmZ1bGxQYXRoLCBkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWNjZXB0IGN1cnJlbnQgbmF2aWdhdGlvblxyXG4gICAgICAgIGN1cnJlbnRSb3V0ZS52YWx1ZSA9IHRvTG9jYXRpb247XHJcbiAgICAgICAgaGFuZGxlU2Nyb2xsKHRvTG9jYXRpb24sIGZyb20sIGlzUHVzaCwgaXNGaXJzdE5hdmlnYXRpb24pO1xyXG4gICAgICAgIG1hcmtBc1JlYWR5KCk7XHJcbiAgICB9XHJcbiAgICBsZXQgcmVtb3ZlSGlzdG9yeUxpc3RlbmVyO1xyXG4gICAgLy8gYXR0YWNoIGxpc3RlbmVyIHRvIGhpc3RvcnkgdG8gdHJpZ2dlciBuYXZpZ2F0aW9uc1xyXG4gICAgZnVuY3Rpb24gc2V0dXBMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgcmVtb3ZlSGlzdG9yeUxpc3RlbmVyID0gcm91dGVySGlzdG9yeS5saXN0ZW4oKHRvLCBfZnJvbSwgaW5mbykgPT4ge1xyXG4gICAgICAgICAgICAvLyBjYW5ub3QgYmUgYSByZWRpcmVjdCByb3V0ZSBiZWNhdXNlIGl0IHdhcyBpbiBoaXN0b3J5XHJcbiAgICAgICAgICAgIGxldCB0b0xvY2F0aW9uID0gcmVzb2x2ZSh0byk7XHJcbiAgICAgICAgICAgIC8vIGR1ZSB0byBkeW5hbWljIHJvdXRpbmcsIGFuZCB0byBoYXNoIGhpc3Rvcnkgd2l0aCBtYW51YWwgbmF2aWdhdGlvblxyXG4gICAgICAgICAgICAvLyAobWFudWFsbHkgY2hhbmdpbmcgdGhlIHVybCBvciBjYWxsaW5nIGhpc3RvcnkuaGFzaCA9ICcjL3NvbWV3aGVyZScpLFxyXG4gICAgICAgICAgICAvLyB0aGVyZSBjb3VsZCBiZSBhIHJlZGlyZWN0IHJlY29yZCBpbiBoaXN0b3J5XHJcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFJlZGlyZWN0ID0gaGFuZGxlUmVkaXJlY3RSZWNvcmQodG9Mb2NhdGlvbik7XHJcbiAgICAgICAgICAgIGlmIChzaG91bGRSZWRpcmVjdCkge1xyXG4gICAgICAgICAgICAgICAgcHVzaFdpdGhSZWRpcmVjdChhc3NpZ24oc2hvdWxkUmVkaXJlY3QsIHsgcmVwbGFjZTogdHJ1ZSB9KSwgdG9Mb2NhdGlvbikuY2F0Y2gobm9vcCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGVuZGluZ0xvY2F0aW9uID0gdG9Mb2NhdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgZnJvbSA9IGN1cnJlbnRSb3V0ZS52YWx1ZTtcclxuICAgICAgICAgICAgLy8gVE9ETzogc2hvdWxkIGJlIG1vdmVkIHRvIHdlYiBoaXN0b3J5P1xyXG4gICAgICAgICAgICBpZiAoaXNCcm93c2VyKSB7XHJcbiAgICAgICAgICAgICAgICBzYXZlU2Nyb2xsUG9zaXRpb24oZ2V0U2Nyb2xsS2V5KGZyb20uZnVsbFBhdGgsIGluZm8uZGVsdGEpLCBjb21wdXRlU2Nyb2xsUG9zaXRpb24oKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmF2aWdhdGUodG9Mb2NhdGlvbiwgZnJvbSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpc05hdmlnYXRpb25GYWlsdXJlKGVycm9yLCA0IC8qIE5BVklHQVRJT05fQUJPUlRFRCAqLyB8IDggLyogTkFWSUdBVElPTl9DQU5DRUxMRUQgKi8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmF2aWdhdGlvbkZhaWx1cmUoZXJyb3IsIDIgLyogTkFWSUdBVElPTl9HVUFSRF9SRURJUkVDVCAqLykpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3QgcmVzdG9yZSBoaXN0b3J5IG9uIHVua25vd24gZGlyZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8uZGVsdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlckhpc3RvcnkuZ28oLWluZm8uZGVsdGEsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZXJyb3IgaXMgYWxyZWFkeSBoYW5kbGVkIGJ5IHJvdXRlci5wdXNoIHdlIGp1c3Qgd2FudCB0byBhdm9pZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZ2dpbmcgdGhlIGVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAgcHVzaFdpdGhSZWRpcmVjdChcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBzaG91bGQgd2UgZm9yY2UgcmVwbGFjZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLnRvLCB0b0xvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXZvaWQgYW4gdW5jYXVnaHQgcmVqZWN0aW9uLCBsZXQgcHVzaCBjYWxsIHRyaWdnZXJFcnJvclxyXG4gICAgICAgICAgICAgICAgICAgICkuY2F0Y2gobm9vcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXZvaWQgdGhlIHRoZW4gYnJhbmNoXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBkbyBub3QgcmVzdG9yZSBoaXN0b3J5IG9uIHVua25vd24gZGlyZWN0aW9uXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mby5kZWx0YSlcclxuICAgICAgICAgICAgICAgICAgICByb3V0ZXJIaXN0b3J5LmdvKC1pbmZvLmRlbHRhLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAvLyB1bnJlY29nbml6ZWQgZXJyb3IsIHRyYW5zZmVyIHRvIHRoZSBnbG9iYWwgaGFuZGxlclxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXJFcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbigoZmFpbHVyZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZmFpbHVyZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGl6ZU5hdmlnYXRpb24oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFmdGVyIG5hdmlnYXRpb24sIGFsbCBtYXRjaGVkIGNvbXBvbmVudHMgYXJlIHJlc29sdmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvTG9jYXRpb24sIGZyb20sIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIC8vIHJldmVydCB0aGUgbmF2aWdhdGlvblxyXG4gICAgICAgICAgICAgICAgaWYgKGZhaWx1cmUgJiYgaW5mby5kZWx0YSlcclxuICAgICAgICAgICAgICAgICAgICByb3V0ZXJIaXN0b3J5LmdvKC1pbmZvLmRlbHRhLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyQWZ0ZXJFYWNoKHRvTG9jYXRpb24sIGZyb20sIGZhaWx1cmUpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKG5vb3ApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gSW5pdGlhbGl6YXRpb24gYW5kIEVycm9yc1xyXG4gICAgbGV0IHJlYWR5SGFuZGxlcnMgPSB1c2VDYWxsYmFja3MoKTtcclxuICAgIGxldCBlcnJvckhhbmRsZXJzID0gdXNlQ2FsbGJhY2tzKCk7XHJcbiAgICBsZXQgcmVhZHk7XHJcbiAgICAvKipcclxuICAgICAqIFRyaWdnZXIgZXJyb3JIYW5kbGVycyBhZGRlZCB2aWEgb25FcnJvciBhbmQgdGhyb3dzIHRoZSBlcnJvciBhcyB3ZWxsXHJcbiAgICAgKiBAcGFyYW0gZXJyb3IgLSBlcnJvciB0byB0aHJvd1xyXG4gICAgICogQHJldHVybnMgdGhlIGVycm9yIGFzIGEgcmVqZWN0ZWQgcHJvbWlzZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB0cmlnZ2VyRXJyb3IoZXJyb3IpIHtcclxuICAgICAgICBtYXJrQXNSZWFkeShlcnJvcik7XHJcbiAgICAgICAgZXJyb3JIYW5kbGVycy5saXN0KCkuZm9yRWFjaChoYW5kbGVyID0+IGhhbmRsZXIoZXJyb3IpKTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNSZWFkeSgpIHtcclxuICAgICAgICBpZiAocmVhZHkgJiYgY3VycmVudFJvdXRlLnZhbHVlICE9PSBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEKVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgcmVhZHlIYW5kbGVycy5hZGQoW3Jlc29sdmUsIHJlamVjdF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXJrIHRoZSByb3V0ZXIgYXMgcmVhZHksIHJlc29sdmluZyB0aGUgcHJvbWlzZWQgcmV0dXJuZWQgYnkgaXNSZWFkeSgpLiBDYW5cclxuICAgICAqIG9ubHkgYmUgY2FsbGVkIG9uY2UsIG90aGVyd2lzZSBkb2VzIG5vdGhpbmcuXHJcbiAgICAgKiBAcGFyYW0gZXJyIC0gb3B0aW9uYWwgZXJyb3JcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gbWFya0FzUmVhZHkoZXJyKSB7XHJcbiAgICAgICAgaWYgKHJlYWR5KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgcmVhZHkgPSB0cnVlO1xyXG4gICAgICAgIHNldHVwTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgcmVhZHlIYW5kbGVyc1xyXG4gICAgICAgICAgICAubGlzdCgpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKChbcmVzb2x2ZSwgcmVqZWN0XSkgPT4gKGVyciA/IHJlamVjdChlcnIpIDogcmVzb2x2ZSgpKSk7XHJcbiAgICAgICAgcmVhZHlIYW5kbGVycy5yZXNldCgpO1xyXG4gICAgfVxyXG4gICAgLy8gU2Nyb2xsIGJlaGF2aW9yXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVTY3JvbGwodG8sIGZyb20sIGlzUHVzaCwgaXNGaXJzdE5hdmlnYXRpb24pIHtcclxuICAgICAgICBpZiAoIWlzQnJvd3NlciB8fCAhc2Nyb2xsQmVoYXZpb3IpXHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICBsZXQgc2Nyb2xsUG9zaXRpb24gPSAoIWlzUHVzaCAmJiBnZXRTYXZlZFNjcm9sbFBvc2l0aW9uKGdldFNjcm9sbEtleSh0by5mdWxsUGF0aCwgMCkpKSB8fFxyXG4gICAgICAgICAgICAoKGlzRmlyc3ROYXZpZ2F0aW9uIHx8ICFpc1B1c2gpICYmXHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnN0YXRlICYmXHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnN0YXRlLnNjcm9sbCkgfHxcclxuICAgICAgICAgICAgbnVsbDtcclxuICAgICAgICByZXR1cm4gbmV4dFRpY2soKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiBzY3JvbGxCZWhhdmlvcih0bywgZnJvbSwgc2Nyb2xsUG9zaXRpb24pKVxyXG4gICAgICAgICAgICAudGhlbihwb3NpdGlvbiA9PiBwb3NpdGlvbiAmJiBzY3JvbGxUb1Bvc2l0aW9uKHBvc2l0aW9uKSlcclxuICAgICAgICAgICAgLmNhdGNoKHRyaWdnZXJFcnJvcik7XHJcbiAgICB9XHJcbiAgICBjb25zdCBnbyA9IChkZWx0YSkgPT4gcm91dGVySGlzdG9yeS5nbyhkZWx0YSk7XHJcbiAgICBsZXQgc3RhcnRlZDtcclxuICAgIGNvbnN0IGluc3RhbGxlZEFwcHMgPSBuZXcgU2V0KCk7XHJcbiAgICBjb25zdCByb3V0ZXIgPSB7XHJcbiAgICAgICAgY3VycmVudFJvdXRlLFxyXG4gICAgICAgIGFkZFJvdXRlLFxyXG4gICAgICAgIHJlbW92ZVJvdXRlLFxyXG4gICAgICAgIGhhc1JvdXRlLFxyXG4gICAgICAgIGdldFJvdXRlcyxcclxuICAgICAgICByZXNvbHZlLFxyXG4gICAgICAgIG9wdGlvbnMsXHJcbiAgICAgICAgcHVzaCxcclxuICAgICAgICByZXBsYWNlLFxyXG4gICAgICAgIGdvLFxyXG4gICAgICAgIGJhY2s6ICgpID0+IGdvKC0xKSxcclxuICAgICAgICBmb3J3YXJkOiAoKSA9PiBnbygxKSxcclxuICAgICAgICBiZWZvcmVFYWNoOiBiZWZvcmVHdWFyZHMuYWRkLFxyXG4gICAgICAgIGJlZm9yZVJlc29sdmU6IGJlZm9yZVJlc29sdmVHdWFyZHMuYWRkLFxyXG4gICAgICAgIGFmdGVyRWFjaDogYWZ0ZXJHdWFyZHMuYWRkLFxyXG4gICAgICAgIG9uRXJyb3I6IGVycm9ySGFuZGxlcnMuYWRkLFxyXG4gICAgICAgIGlzUmVhZHksXHJcbiAgICAgICAgaW5zdGFsbChhcHApIHtcclxuICAgICAgICAgICAgY29uc3Qgcm91dGVyID0gdGhpcztcclxuICAgICAgICAgICAgYXBwLmNvbXBvbmVudCgnUm91dGVyTGluaycsIFJvdXRlckxpbmspO1xyXG4gICAgICAgICAgICBhcHAuY29tcG9uZW50KCdSb3V0ZXJWaWV3JywgUm91dGVyVmlldyk7XHJcbiAgICAgICAgICAgIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcy4kcm91dGVyID0gcm91dGVyO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCAnJHJvdXRlJywge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiB1bnJlZihjdXJyZW50Um91dGUpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gdGhpcyBpbml0aWFsIG5hdmlnYXRpb24gaXMgb25seSBuZWNlc3Nhcnkgb24gY2xpZW50LCBvbiBzZXJ2ZXIgaXQgZG9lc24ndFxyXG4gICAgICAgICAgICAvLyBtYWtlIHNlbnNlIGJlY2F1c2UgaXQgd2lsbCBjcmVhdGUgYW4gZXh0cmEgdW5uZWNlc3NhcnkgbmF2aWdhdGlvbiBhbmQgY291bGRcclxuICAgICAgICAgICAgLy8gbGVhZCB0byBwcm9ibGVtc1xyXG4gICAgICAgICAgICBpZiAoaXNCcm93c2VyICYmXHJcbiAgICAgICAgICAgICAgICAvLyB1c2VkIGZvciB0aGUgaW5pdGlhbCBuYXZpZ2F0aW9uIGNsaWVudCBzaWRlIHRvIGF2b2lkIHB1c2hpbmdcclxuICAgICAgICAgICAgICAgIC8vIG11bHRpcGxlIHRpbWVzIHdoZW4gdGhlIHJvdXRlciBpcyB1c2VkIGluIG11bHRpcGxlIGFwcHNcclxuICAgICAgICAgICAgICAgICFzdGFydGVkICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Um91dGUudmFsdWUgPT09IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQpIHtcclxuICAgICAgICAgICAgICAgIC8vIHNlZSBhYm92ZVxyXG4gICAgICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBwdXNoKHJvdXRlckhpc3RvcnkubG9jYXRpb24pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybignVW5leHBlY3RlZCBlcnJvciB3aGVuIHN0YXJ0aW5nIHRoZSByb3V0ZXI6JywgZXJyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHJlYWN0aXZlUm91dGUgPSB7fTtcclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQpIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IHRoZSBrZXkgbWF0Y2hlc1xyXG4gICAgICAgICAgICAgICAgcmVhY3RpdmVSb3V0ZVtrZXldID0gY29tcHV0ZWQoKCkgPT4gY3VycmVudFJvdXRlLnZhbHVlW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFwcC5wcm92aWRlKHJvdXRlcktleSwgcm91dGVyKTtcclxuICAgICAgICAgICAgYXBwLnByb3ZpZGUocm91dGVMb2NhdGlvbktleSwgcmVhY3RpdmUocmVhY3RpdmVSb3V0ZSkpO1xyXG4gICAgICAgICAgICBsZXQgdW5tb3VudEFwcCA9IGFwcC51bm1vdW50O1xyXG4gICAgICAgICAgICBpbnN0YWxsZWRBcHBzLmFkZChhcHApO1xyXG4gICAgICAgICAgICBhcHAudW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbGxlZEFwcHMuZGVsZXRlKGFwcCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFsbGVkQXBwcy5zaXplIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUhpc3RvcnlMaXN0ZW5lcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSb3V0ZS52YWx1ZSA9IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50QXBwLmNhbGwodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSAmJiB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBhZGREZXZ0b29scyhhcHAsIHJvdXRlciwgbWF0Y2hlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgfTtcclxuICAgIHJldHVybiByb3V0ZXI7XHJcbn1cclxuZnVuY3Rpb24gcnVuR3VhcmRRdWV1ZShndWFyZHMpIHtcclxuICAgIHJldHVybiBndWFyZHMucmVkdWNlKChwcm9taXNlLCBndWFyZCkgPT4gcHJvbWlzZS50aGVuKCgpID0+IGd1YXJkKCkpLCBQcm9taXNlLnJlc29sdmUoKSk7XHJcbn1cclxuZnVuY3Rpb24gZXh0cmFjdENoYW5naW5nUmVjb3Jkcyh0bywgZnJvbSkge1xyXG4gICAgY29uc3QgbGVhdmluZ1JlY29yZHMgPSBbXTtcclxuICAgIGNvbnN0IHVwZGF0aW5nUmVjb3JkcyA9IFtdO1xyXG4gICAgY29uc3QgZW50ZXJpbmdSZWNvcmRzID0gW107XHJcbiAgICBjb25zdCBsZW4gPSBNYXRoLm1heChmcm9tLm1hdGNoZWQubGVuZ3RoLCB0by5tYXRjaGVkLmxlbmd0aCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgcmVjb3JkRnJvbSA9IGZyb20ubWF0Y2hlZFtpXTtcclxuICAgICAgICBpZiAocmVjb3JkRnJvbSkge1xyXG4gICAgICAgICAgICBpZiAodG8ubWF0Y2hlZC5pbmRleE9mKHJlY29yZEZyb20pIDwgMClcclxuICAgICAgICAgICAgICAgIGxlYXZpbmdSZWNvcmRzLnB1c2gocmVjb3JkRnJvbSk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHVwZGF0aW5nUmVjb3Jkcy5wdXNoKHJlY29yZEZyb20pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZWNvcmRUbyA9IHRvLm1hdGNoZWRbaV07XHJcbiAgICAgICAgaWYgKHJlY29yZFRvKSB7XHJcbiAgICAgICAgICAgIC8vIHRoZSB0eXBlIGRvZXNuJ3QgbWF0dGVyIGJlY2F1c2Ugd2UgYXJlIGNvbXBhcmluZyBwZXIgcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIGlmIChmcm9tLm1hdGNoZWQuaW5kZXhPZihyZWNvcmRUbykgPCAwKVxyXG4gICAgICAgICAgICAgICAgZW50ZXJpbmdSZWNvcmRzLnB1c2gocmVjb3JkVG8pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBbbGVhdmluZ1JlY29yZHMsIHVwZGF0aW5nUmVjb3JkcywgZW50ZXJpbmdSZWNvcmRzXTtcclxufVxuXG4vKipcclxuICogUmV0dXJucyB0aGUgcm91dGVyIGluc3RhbmNlLiBFcXVpdmFsZW50IHRvIHVzaW5nIGAkcm91dGVyYCBpbnNpZGVcclxuICogdGVtcGxhdGVzLlxyXG4gKi9cclxuZnVuY3Rpb24gdXNlUm91dGVyKCkge1xyXG4gICAgcmV0dXJuIGluamVjdChyb3V0ZXJLZXkpO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IHJvdXRlIGxvY2F0aW9uLiBFcXVpdmFsZW50IHRvIHVzaW5nIGAkcm91dGVgIGluc2lkZVxyXG4gKiB0ZW1wbGF0ZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiB1c2VSb3V0ZSgpIHtcclxuICAgIHJldHVybiBpbmplY3Qocm91dGVMb2NhdGlvbktleSk7XHJcbn1cblxuZXhwb3J0IHsgTmF2aWdhdGlvbkZhaWx1cmVUeXBlLCBSb3V0ZXJMaW5rLCBSb3V0ZXJWaWV3LCBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEIGFzIFNUQVJUX0xPQ0FUSU9OLCBjcmVhdGVNZW1vcnlIaXN0b3J5LCBjcmVhdGVSb3V0ZXIsIGNyZWF0ZVJvdXRlck1hdGNoZXIsIGNyZWF0ZVdlYkhhc2hIaXN0b3J5LCBjcmVhdGVXZWJIaXN0b3J5LCBpc05hdmlnYXRpb25GYWlsdXJlLCBvbkJlZm9yZVJvdXRlTGVhdmUsIG9uQmVmb3JlUm91dGVVcGRhdGUsIHBhcnNlUXVlcnksIHJvdXRlTG9jYXRpb25LZXksIHJvdXRlcktleSwgc3RyaW5naWZ5UXVlcnksIHVzZUxpbmssIHVzZVJvdXRlLCB1c2VSb3V0ZXIgfTtcbiIsImltcG9ydCB7IHNldERldnRvb2xzSG9vaywgaW5pdEN1c3RvbUZvcm1hdHRlciwgd2FybiB9IGZyb20gJ0B2dWUvcnVudGltZS1kb20nO1xuZXhwb3J0ICogZnJvbSAnQHZ1ZS9ydW50aW1lLWRvbSc7XG5pbXBvcnQgeyBnZXRHbG9iYWxUaGlzIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5mdW5jdGlvbiBpbml0RGV2KCkge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0R2xvYmFsVGhpcygpO1xyXG4gICAgdGFyZ2V0Ll9fVlVFX18gPSB0cnVlO1xyXG4gICAgc2V0RGV2dG9vbHNIb29rKHRhcmdldC5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fKTtcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmluZm8oYFlvdSBhcmUgcnVubmluZyBhIGRldmVsb3BtZW50IGJ1aWxkIG9mIFZ1ZS5cXG5gICtcclxuICAgICAgICAgICAgYE1ha2Ugc3VyZSB0byB1c2UgdGhlIHByb2R1Y3Rpb24gYnVpbGQgKCoucHJvZC5qcykgd2hlbiBkZXBsb3lpbmcgZm9yIHByb2R1Y3Rpb24uYCk7XHJcbiAgICAgICAgaW5pdEN1c3RvbUZvcm1hdHRlcigpO1xyXG4gICAgfVxyXG59XG5cbi8vIFRoaXMgZW50cnkgZXhwb3J0cyB0aGUgcnVudGltZSBvbmx5LCBhbmQgaXMgYnVpbHQgYXNcclxuKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluaXREZXYoKTtcclxuY29uc3QgY29tcGlsZSA9ICgpID0+IHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBSdW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArXHJcbiAgICAgICAgICAgICggYCBDb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGFsaWFzIFwidnVlXCIgdG8gXCJ2dWUvZGlzdC92dWUuZXNtLWJ1bmRsZXIuanNcIi5gXHJcbiAgICAgICAgICAgICAgICApIC8qIHNob3VsZCBub3QgaGFwcGVuICovKTtcclxuICAgIH1cclxufTtcblxuZXhwb3J0IHsgY29tcGlsZSB9O1xuIiwiaW1wb3J0IHtjcmVhdGVSb3V0ZXIsY3JlYXRlV2ViSGFzaEhpc3Rvcnl9IGZyb20gJ3Z1ZS1yb3V0ZXInXG4vLyBpbXBvcnQgeyBmcm9tIH0gZnJvbSBcImNvcmUtanMvZm4vYXJyYXlcIlxuXG5jb25zdCByb3V0ZXMgPSBbXG4gICAge1xuICAgICAgICBwYXRoOicvJyxjb21wb25lbnQ6ICgpID0+aW1wb3J0KCcuL2NvbXBvbmVudHMvSW5kZXgudnVlJylcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDonL2luZGV4Jyxjb21wb25lbnQ6ICgpID0+aW1wb3J0KCcuL2NvbXBvbmVudHMvSW5kZXgudnVlJylcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDonL3Rlc3QnLGNvbXBvbmVudDogKCkgPT5pbXBvcnQoJy4vY29tcG9uZW50cy9UZXN0LnZ1ZScpXG4gICAgfVxuXVxuY29uc3Qgcm91dGVyID0gY3JlYXRlUm91dGVyKHtcbiAgICBoaXN0b3J5OiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgpLFxuICAgIHJvdXRlcyxcbiAgfSk7XG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiLCJpbXBvcnQgeyByZW5kZXIgfSBmcm9tIFwiLi9BcHAudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWY2MTE1ODljJnNjb3BlZD10cnVlJmJpbmRpbmdzPXt9XCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vQXBwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1wiXG5leHBvcnQgKiBmcm9tIFwiLi9BcHAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCJcblxuaW1wb3J0IFwiLi9BcHAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9ZjYxMTU4OWMmc2NvcGVkPXRydWUmbGFuZz1jc3NcIlxuc2NyaXB0LnJlbmRlciA9IHJlbmRlclxuc2NyaXB0Ll9fc2NvcGVJZCA9IFwiZGF0YS12LWY2MTE1ODljXCJcblxuZXhwb3J0IGRlZmF1bHQgc2NyaXB0IiwiaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSBcIi4vSW5kZXgudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWI5YTU1YzU0JnNjb3BlZD10cnVlJmJpbmRpbmdzPXtcXFwidmFsdWVcXFwiOlxcXCJkYXRhXFxcIixcXFwiZGF0YUxpc3RcXFwiOlxcXCJkYXRhXFxcIixcXFwiYnRuRmlsZVxcXCI6XFxcIm9wdGlvbnNcXFwiLFxcXCJjaG9vc2VGaWxlXFxcIjpcXFwib3B0aW9uc1xcXCIsXFxcImJ0blVwbG9hZFxcXCI6XFxcIm9wdGlvbnNcXFwifVwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL0luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1wiXG5leHBvcnQgKiBmcm9tIFwiLi9JbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuXG5pbXBvcnQgXCIuL0luZGV4LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPWI5YTU1YzU0JnNjb3BlZD10cnVlJmxhbmc9Y3NzXCJcbnNjcmlwdC5yZW5kZXIgPSByZW5kZXJcbnNjcmlwdC5fX3Njb3BlSWQgPSBcImRhdGEtdi1iOWE1NWM1NFwiXG5cbmV4cG9ydCBkZWZhdWx0IHNjcmlwdCIsImltcG9ydCB7IHJlbmRlciB9IGZyb20gXCIuL1Rlc3QudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWFmYTY5N2JhJmJpbmRpbmdzPXt9XCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vVGVzdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuZXhwb3J0ICogZnJvbSBcIi4vVGVzdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuc2NyaXB0LnJlbmRlciA9IHJlbmRlclxuXG5leHBvcnQgZGVmYXVsdCBzY3JpcHQiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IG1vZHVsZVsnZGVmYXVsdCddIDpcblx0XHQoKSA9PiBtb2R1bGU7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHtjcmVhdGVBcHB9IGZyb20gJ3Z1ZSdcbmltcG9ydCBBcHAgZnJvbSAnLi9zcmMvQXBwLnZ1ZSdcbmltcG9ydCByb3V0ZXIgZnJvbSBcIi4vc3JjL3JvdXRlclwiO1xuLy8gaW1wb3J0IHZpZXdVSSBmcm9tICcuL2xpYi9pdmlldy11aSdcbi8vIGltcG9ydCAnLi9saWIvaXZpZXctdWkuY3NzJ1xuLy8gaW1wb3J0IHN0cm9lIGZyb20gJy4vc3RvcmUvc3RvcmUnXG5jcmVhdGVBcHAoQXBwKS51c2Uocm91dGVyKS5tb3VudCgnI3Jvb3QnKSJdLCJzb3VyY2VSb290IjoiIn0=