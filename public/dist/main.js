(()=>{"use strict";var e={874:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.computed=function(e){var n,t;return(0,r.isFunction)(e)?(n=e,t=r.NOOP):(n=e.get,t=e.set),new Se(n,t,(0,r.isFunction)(e)||!e.set)},n.customRef=function(e){return new _e(e)},n.effect=v,n.enableTracking=O,n.isProxy=function(e){return fe(e)||de(e)},n.isReactive=fe,n.isReadonly=de,n.isRef=he,n.markRaw=function(e){return(0,r.def)(e,"__v_skip",!0),e},n.pauseTracking=_,n.proxyRefs=function(e){return fe(e)?e:new Proxy(e,be)},n.reactive=le,n.readonly=ce,n.ref=function(e){return ge(e)},n.resetTracking=w,n.shallowReactive=function(e){return se(e,!1,B,oe)},n.shallowReadonly=function(e){return se(e,!0,V,ae)},n.shallowRef=function(e){return ge(e,!0)},n.stop=function(e){e.active&&(g(e),e.options.onStop&&e.options.onStop(),e.active=!1)},n.toRaw=pe,n.toRef=we,n.toRefs=function(e){var n=(0,r.isArray)(e)?new Array(e.length):{};for(var t in e)n[t]=we(e,t);return n},n.track=S,n.trigger=E,n.triggerRef=function(e){E(pe(e),"set","value",void 0)},n.unref=ye,n.ITERATE_KEY=void 0;var r=t(420);function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e}function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l,c=new WeakMap,s=[],f=Symbol("");n.ITERATE_KEY=f;var d=Symbol("");function p(e){return e&&!0===e._isEffect}function v(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.EMPTY_OBJ;p(e)&&(e=e.raw);var t=m(e,n);return n.lazy||t(),t}var h=0;function m(e,n){var t=function(){if(!t.active)return n.scheduler?void 0:e();if(!s.includes(t)){g(t);try{return O(),s.push(t),l=t,e()}finally{s.pop(),w(),l=s[s.length-1]}}};return t.id=h++,t.allowRecurse=!!n.allowRecurse,t._isEffect=!0,t.active=!0,t.raw=e,t.deps=[],t.options=n,t}function g(e){var n=e.deps;if(n.length){for(var t=0;t<n.length;t++)n[t].delete(e);n.length=0}}var y=!0,b=[];function _(){b.push(y),y=!1}function O(){b.push(y),y=!0}function w(){var e=b.pop();y=void 0===e||e}function S(e,n,t){if(y&&void 0!==l){var r=c.get(e);r||c.set(e,r=new Map);var o=r.get(t);o||r.set(t,o=new Set),o.has(l)||(o.add(l),l.deps.push(o))}}function E(e,n,t,o,a,i){var u=c.get(e);if(u){var s=new Set,p=function(e){e&&e.forEach((function(e){(e!==l||e.allowRecurse)&&s.add(e)}))};if("clear"===n)u.forEach(p);else if("length"===t&&(0,r.isArray)(e))u.forEach((function(e,n){("length"===n||n>=o)&&p(e)}));else switch(void 0!==t&&p(u.get(t)),n){case"add":(0,r.isArray)(e)?(0,r.isIntegerKey)(t)&&p(u.get("length")):(p(u.get(f)),(0,r.isMap)(e)&&p(u.get(d)));break;case"delete":(0,r.isArray)(e)||(p(u.get(f)),(0,r.isMap)(e)&&p(u.get(d)));break;case"set":(0,r.isMap)(e)&&p(u.get(f))}s.forEach((function(e){e.options.scheduler?e.options.scheduler(e):e()}))}}var T=new Set(Object.getOwnPropertyNames(Symbol).map((function(e){return Symbol[e]})).filter(r.isSymbol)),C=R(),P=R(!1,!0),k=R(!0),x=R(!0,!0),A={};function R(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(t,o,a){if("__v_isReactive"===o)return!e;if("__v_isReadonly"===o)return e;if("__v_raw"===o&&a===(e?ue:ie).get(t))return t;var i=(0,r.isArray)(t);if(i&&(0,r.hasOwn)(A,o))return Reflect.get(A,o,a);var u=Reflect.get(t,o,a);return((0,r.isSymbol)(o)?T.has(o):"__proto__"===o||"__v_isRef"===o)?u:(e||S(t,0,o),n?u:he(u)?i&&(0,r.isIntegerKey)(o)?u:u.value:(0,r.isObject)(u)?e?ce(u):le(u):u)}}["includes","indexOf","lastIndexOf"].forEach((function(e){var n=Array.prototype[e];A[e]=function(){for(var e=pe(this),t=0,r=this.length;t<r;t++)S(e,0,t+"");for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];var u=n.apply(e,a);return-1===u||!1===u?n.apply(e,a.map(pe)):u}})),["push","pop","shift","unshift","splice"].forEach((function(e){var n=Array.prototype[e];A[e]=function(){_();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=n.apply(this,t);return w(),o}}));var j=F(),M=F(!0);function F(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,t,o,a){var i=n[t];if(!e&&(o=pe(o),!(0,r.isArray)(n)&&he(i)&&!he(o)))return i.value=o,!0;var u=(0,r.isArray)(n)&&(0,r.isIntegerKey)(t)?Number(t)<n.length:(0,r.hasOwn)(n,t),l=Reflect.set(n,t,o,a);return n===pe(a)&&(u?(0,r.hasChanged)(o,i)&&E(n,"set",t,o):E(n,"add",t,o)),l}}var N={get:C,set:j,deleteProperty:function(e,n){var t=(0,r.hasOwn)(e,n),o=(e[n],Reflect.deleteProperty(e,n));return o&&t&&E(e,"delete",n,void 0),o},has:function(e,n){var t=Reflect.has(e,n);return(0,r.isSymbol)(n)&&T.has(n)||S(e,0,n),t},ownKeys:function(e){return S(e,0,(0,r.isArray)(e)?"length":f),Reflect.ownKeys(e)}},I={get:k,set:function(e,n){return!0},deleteProperty:function(e,n){return!0}},B=(0,r.extend)({},N,{get:P,set:M}),V=(0,r.extend)({},I,{get:x}),L=function(e){return(0,r.isObject)(e)?le(e):e},U=function(e){return(0,r.isObject)(e)?ce(e):e},D=function(e){return e},H=function(e){return Reflect.getPrototypeOf(e)};function z(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=pe(e=e.__v_raw),a=pe(n);n!==a&&!t&&S(o,0,n),!t&&S(o,0,a);var i=H(o),u=i.has,l=t?U:r?D:L;return u.call(o,n)?l(e.get(n)):u.call(o,a)?l(e.get(a)):void 0}function Y(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=this.__v_raw,r=pe(t),o=pe(e);return e!==o&&!n&&S(r,0,e),!n&&S(r,0,o),e===o?t.has(e):t.has(e)||t.has(o)}function $(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=e.__v_raw,!n&&S(pe(e),0,f),Reflect.get(e,"size",e)}function K(e){e=pe(e);var n=pe(this),t=H(n).has.call(n,e),r=n.add(e);return t||E(n,"add",e,e),r}function G(e,n){n=pe(n);var t=pe(this),o=H(t),a=o.has,i=o.get,u=a.call(t,e);u||(e=pe(e),u=a.call(t,e));var l=i.call(t,e),c=t.set(e,n);return u?(0,r.hasChanged)(n,l)&&E(t,"set",e,n):E(t,"add",e,n),c}function q(e){var n=pe(this),t=H(n),r=t.has,o=t.get,a=r.call(n,e);a||(e=pe(e),a=r.call(n,e)),o&&o.call(n,e);var i=n.delete(e);return a&&E(n,"delete",e,void 0),i}function J(){var e=pe(this),n=0!==e.size,t=e.clear();return n&&E(e,"clear",void 0,void 0),t}function W(e,n){return function(t,r){var o=this,a=o.__v_raw,i=pe(a),u=e?U:n?D:L;return!e&&S(i,0,f),a.forEach((function(e,n){return t.call(r,u(e),u(n),o)}))}}function Z(e,n,t){return function(){var o=this.__v_raw,a=pe(o),i=(0,r.isMap)(a),l="entries"===e||e===Symbol.iterator&&i,c="keys"===e&&i,s=o[e].apply(o,arguments),p=n?U:t?D:L;return!n&&S(a,0,c?d:f),u({next:function(){var e=s.next(),n=e.value,t=e.done;return t?{value:n,done:t}:{value:l?[p(n[0]),p(n[1])]:p(n),done:t}}},Symbol.iterator,(function(){return this}))}}function X(e){return function(){return"delete"!==e&&this}}var Q={get:function(e){return z(this,e)},get size(){return $(this)},has:Y,add:K,set:G,delete:q,clear:J,forEach:W(!1,!1)},ee={get:function(e){return z(this,e,!1,!0)},get size(){return $(this)},has:Y,add:K,set:G,delete:q,clear:J,forEach:W(!1,!0)},ne={get:function(e){return z(this,e,!0)},get size(){return $(this,!0)},has:function(e){return Y.call(this,e,!0)},add:X("add"),set:X("set"),delete:X("delete"),clear:X("clear"),forEach:W(!0,!1)};function te(e,n){var t=n?ee:e?ne:Q;return function(n,o,a){return"__v_isReactive"===o?!e:"__v_isReadonly"===o?e:"__v_raw"===o?n:Reflect.get((0,r.hasOwn)(t,o)&&o in n?t:n,o,a)}}["keys","values","entries",Symbol.iterator].forEach((function(e){Q[e]=Z(e,!1,!1),ne[e]=Z(e,!0,!1),ee[e]=Z(e,!1,!0)}));var re={get:te(!1,!1)},oe={get:te(!1,!0)},ae={get:te(!0,!1)},ie=new WeakMap,ue=new WeakMap;function le(e){return e&&e.__v_isReadonly?e:se(e,!1,N,re)}function ce(e){return se(e,!0,I,ae)}function se(e,n,t,o){if(!(0,r.isObject)(e))return e;if(e.__v_raw&&(!n||!e.__v_isReactive))return e;var a=n?ue:ie,i=a.get(e);if(i)return i;var u,l=(u=e).__v_skip||!Object.isExtensible(u)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,r.toRawType)(u));if(0===l)return e;var c=new Proxy(e,2===l?o:t);return a.set(e,c),c}function fe(e){return de(e)?fe(e.__v_raw):!(!e||!e.__v_isReactive)}function de(e){return!(!e||!e.__v_isReadonly)}function pe(e){return e&&pe(e.__v_raw)||e}var ve=function(e){return(0,r.isObject)(e)?le(e):e};function he(e){return Boolean(e&&!0===e.__v_isRef)}var me=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o(this,e),this._rawValue=n,this._shallow=t,this.__v_isRef=!0,this._value=t?n:ve(n)}return i(e,[{key:"value",get:function(){return S(pe(this),0,"value"),this._value},set:function(e){(0,r.hasChanged)(pe(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:ve(e),E(pe(this),"set","value",e))}}]),e}();function ge(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return he(e)?e:new me(e,n)}function ye(e){return he(e)?e.value:e}var be={get:function(e,n,t){return ye(Reflect.get(e,n,t))},set:function(e,n,t,r){var o=e[n];return he(o)&&!he(t)?(o.value=t,!0):Reflect.set(e,n,t,r)}},_e=function(){function e(n){var t=this;o(this,e),this.__v_isRef=!0;var r=n((function(){return S(t,0,"value")}),(function(){return E(t,"set","value")})),a=r.get,i=r.set;this._get=a,this._set=i}return i(e,[{key:"value",get:function(){return this._get()},set:function(e){this._set(e)}}]),e}(),Oe=function(){function e(n,t){o(this,e),this._object=n,this._key=t,this.__v_isRef=!0}return i(e,[{key:"value",get:function(){return this._object[this._key]},set:function(e){this._object[this._key]=e}}]),e}();function we(e,n){return he(e[n])?e[n]:new Oe(e,n)}var Se=function(){function e(n,t,r){var a=this;o(this,e),this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=v(n,{lazy:!0,scheduler:function(){a._dirty||(a._dirty=!0,E(pe(a),"set","value"))}}),this.__v_isReadonly=r}return i(e,[{key:"value",get:function(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),S(pe(this),0,"value"),this._value},set:function(e){this._setter(e)}}]),e}()},979:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.callWithAsyncErrorHandling=y,n.callWithErrorHandling=g,n.cloneVNode=rt,n.computed=Vt,n.createBlock=Wn,n.createCommentVNode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?(Gn(),Wn(zn,null,e)):tt(zn,null,e)},n.createHydrationRenderer=function(e){return xn(e,Tn)},n.createRenderer=function(e){return xn(e)},n.createSlots=function(e,n){for(var t=0;t<n.length;t++){var r=n[t];if((0,a.isArray)(r))for(var o=0;o<r.length;o++)e[r[o].name]=r[o].fn;else r&&(e[r.name]=r.fn)}return e},n.createStaticVNode=function(e,n){var t=tt(Yn,null,e);return t.staticCount=n,t},n.createTextVNode=ot,n.defineAsyncComponent=function(e){(0,a.isFunction)(e)&&(e={loader:e});var n,t=e,r=t.loader,i=t.loadingComponent,u=t.errorComponent,l=t.delay,c=void 0===l?200:l,s=t.timeout,f=t.suspensible,d=void 0===f||f,p=t.onError,v=null,h=0,m=function(){var e;return v||(e=v=r().catch((function(e){if(e=e instanceof Error?e:new Error(String(e)),p)return new Promise((function(n,t){p(e,(function(){return n((h++,v=null,m()))}),(function(){return t(e)}),h+1)}));throw e})).then((function(t){return e!==v&&v?v:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),n=t,t)})))};return Lt({__asyncLoader:m,name:"AsyncComponentWrapper",setup:function(){var e=Tt;if(n)return function(){return Ut(n,e)};var t=function(n){v=null,b(n,e,13,!u)};if(d&&e.suspense)return m().then((function(n){return function(){return Ut(n,e)}})).catch((function(e){return t(e),function(){return u?tt(u,{error:e}):null}}));var r=(0,o.ref)(!1),a=(0,o.ref)(),l=(0,o.ref)(!!c);return c&&setTimeout((function(){l.value=!1}),c),null!=s&&setTimeout((function(){if(!r.value&&!a.value){var e=new Error("Async component timed out after ".concat(s,"ms."));t(e),a.value=e}}),s),m().then((function(){r.value=!0})).catch((function(e){t(e),a.value=e})),function(){return r.value&&n?Ut(n,e):a.value&&u?tt(u,{error:a.value}):i&&!l.value?tt(i):void 0}}})},n.defineComponent=Lt,n.getTransitionRawChildren=en,n.h=function(e,n,t){var r=arguments.length;return 2===r?(0,a.isObject)(n)&&!(0,a.isArray)(n)?Zn(n)?tt(e,null,[n]):tt(e,n):tt(e,null,n):(r>3?t=Array.prototype.slice.call(arguments,2):3===r&&Zn(t)&&(t=[t]),tt(e,n,t))},n.handleError=b,n.initCustomFormatter=function(){return},n.inject=st,n.isVNode=Zn,n.mergeProps=lt,n.nextTick=F,n.onActivated=an,n.onDeactivated=un,n.openBlock=Gn,n.popScopeId=Oe,n.provide=ct,n.pushScopeId=_e,n.queuePostFlushCb=L,n.registerRuntimeCompiler=function(e){Pt=e},n.renderList=function(e,n){var t;if((0,a.isArray)(e)||(0,a.isString)(e)){t=new Array(e.length);for(var r=0,o=e.length;r<o;r++)t[r]=n(e[r],r)}else if("number"==typeof e){t=new Array(e);for(var i=0;i<e;i++)t[i]=n(i+1,i)}else if((0,a.isObject)(e))if(e[Symbol.iterator])t=Array.from(e,n);else{var u=Object.keys(e);t=new Array(u.length);for(var l=0,c=u.length;l<c;l++){var s=u[l];t[l]=n(e[s],s,l)}}else t=[];return t},n.renderSlot=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=e[n];he++;var a=(Gn(),Wn(Dn,{key:t.key},o?o(t):r?r():[],1===e._?64:-2));return he--,a},n.resolveComponent=function(e){return Ln(Bn,e)||e},n.resolveDirective=function(e){return Ln("directives",e)},n.resolveDynamicComponent=function(e){return(0,a.isString)(e)?Ln(Bn,e)||e:e||Vn},n.resolveTransitionHooks=We,n.setBlockTracking=function(e){Jn+=e},n.setDevtoolsHook=function(e){n.devtools=H=e},n.setTransitionHooks=Qe,n.toHandlers=function(e){var n={};for(var t in e)n[(0,a.toHandlerKey)(t)]=e[t];return n},n.transformVNodeArgs=function(e){},n.useTransitionState=Ke,n.warn=p,n.watch=He,n.watchEffect=function(e,n){return ze(e,null,n)},n.withCtx=ge,n.withDirectives=function(e,n){if(null===ne)return e;for(var t=ne.proxy,r=e.dirs||(e.dirs=[]),o=0;o<n.length;o++){var i=u(n[o],4),l=i[0],c=i[1],s=i[2],f=i[3],d=void 0===f?a.EMPTY_OBJ:f;(0,a.isFunction)(l)&&(l={mounted:l,updated:l}),r.push({dir:l,instance:t,value:c,oldValue:void 0,arg:s,modifiers:d})}return e},n.withScopeId=function(e){return function(n){return ge((function(){_e(e);var t=n.apply(this,arguments);return Oe(),t}))}},Object.defineProperty(n,"customRef",{enumerable:!0,get:function(){return o.customRef}}),Object.defineProperty(n,"isProxy",{enumerable:!0,get:function(){return o.isProxy}}),Object.defineProperty(n,"isReactive",{enumerable:!0,get:function(){return o.isReactive}}),Object.defineProperty(n,"isReadonly",{enumerable:!0,get:function(){return o.isReadonly}}),Object.defineProperty(n,"isRef",{enumerable:!0,get:function(){return o.isRef}}),Object.defineProperty(n,"markRaw",{enumerable:!0,get:function(){return o.markRaw}}),Object.defineProperty(n,"proxyRefs",{enumerable:!0,get:function(){return o.proxyRefs}}),Object.defineProperty(n,"reactive",{enumerable:!0,get:function(){return o.reactive}}),Object.defineProperty(n,"readonly",{enumerable:!0,get:function(){return o.readonly}}),Object.defineProperty(n,"ref",{enumerable:!0,get:function(){return o.ref}}),Object.defineProperty(n,"shallowReactive",{enumerable:!0,get:function(){return o.shallowReactive}}),Object.defineProperty(n,"shallowReadonly",{enumerable:!0,get:function(){return o.shallowReadonly}}),Object.defineProperty(n,"shallowRef",{enumerable:!0,get:function(){return o.shallowRef}}),Object.defineProperty(n,"toRaw",{enumerable:!0,get:function(){return o.toRaw}}),Object.defineProperty(n,"toRef",{enumerable:!0,get:function(){return o.toRef}}),Object.defineProperty(n,"toRefs",{enumerable:!0,get:function(){return o.toRefs}}),Object.defineProperty(n,"triggerRef",{enumerable:!0,get:function(){return o.triggerRef}}),Object.defineProperty(n,"unref",{enumerable:!0,get:function(){return o.unref}}),Object.defineProperty(n,"camelize",{enumerable:!0,get:function(){return a.camelize}}),Object.defineProperty(n,"capitalize",{enumerable:!0,get:function(){return a.capitalize}}),Object.defineProperty(n,"toDisplayString",{enumerable:!0,get:function(){return a.toDisplayString}}),Object.defineProperty(n,"toHandlerKey",{enumerable:!0,get:function(){return a.toHandlerKey}}),n.version=n.useSSRContext=n.ssrUtils=n.ssrContextKey=n.onUpdated=n.onUnmounted=n.onRenderTriggered=n.onRenderTracked=n.onMounted=n.onErrorCaptured=n.onBeforeUpdate=n.onBeforeUnmount=n.onBeforeMount=n.getCurrentInstance=n.devtools=n.createVNode=n.Text=n.Teleport=n.Suspense=n.Static=n.KeepAlive=n.Fragment=n.Comment=n.BaseTransition=void 0;var r,o=t(874),a=t(420);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return t}}(e,n)||s(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){if(e){if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var d=[];function p(e){(0,o.pauseTracking)();for(var n=d.length?d[d.length-1].component:null,t=n&&n.appContext.config.warnHandler,r=v(),a=arguments.length,i=new Array(a>1?a-1:0),u=1;u<a;u++)i[u-1]=arguments[u];if(t)g(t,n,11,[e+i.join(""),n&&n.proxy,r.map((function(e){var t=e.vnode;return"at <".concat(It(n,t.type),">")})).join("\n"),r]);else{var l,s=["[Vue warn]: ".concat(e)].concat(i);r.length&&s.push.apply(s,["\n"].concat(c(h(r)))),(l=console).warn.apply(l,c(s))}(0,o.resetTracking)()}function v(){var e=d[d.length-1];if(!e)return[];for(var n=[];e;){var t=n[0];t&&t.vnode===e?t.recurseCount++:n.push({vnode:e,recurseCount:0});var r=e.component&&e.component.parent;e=r&&r.vnode}return n}function h(e){var n=[];return e.forEach((function(e,t){var r,o,a,i,u,l,s,f,d,p;n.push.apply(n,c(0===t?[]:["\n"]).concat(c((u=(i=e).vnode,s=(l=i.recurseCount)>0?"... (".concat(l," recursive calls)"):"",f=!!u.component&&null==u.component.parent,d=" at <".concat(It(u.component,u.type,f)),p=">"+s,u.props?[d].concat(c((r=u.props,o=[],(a=Object.keys(r)).slice(0,3).forEach((function(e){o.push.apply(o,c(m(e,r[e])))})),a.length>3&&o.push(" ..."),o)),[p]):[d+p]))))})),n}function m(e,n,t){return(0,a.isString)(n)?(n=JSON.stringify(n),t?n:["".concat(e,"=").concat(n)]):"number"==typeof n||"boolean"==typeof n||null==n?t?n:["".concat(e,"=").concat(n)]:(0,o.isRef)(n)?(n=m(e,(0,o.toRaw)(n.value),!0),t?n:["".concat(e,"=Ref<"),n,">"]):(0,a.isFunction)(n)?["".concat(e,"=fn").concat(n.name?"<".concat(n.name,">"):"")]:(n=(0,o.toRaw)(n),t?n:["".concat(e,"="),n])}function g(e,n,t,r){var o;try{o=r?e.apply(void 0,c(r)):e()}catch(e){b(e,n,t)}return o}function y(e,n,t,r){if((0,a.isFunction)(e)){var o=g(e,n,t,r);return o&&(0,a.isPromise)(o)&&o.catch((function(e){b(e,n,t)})),o}for(var i=[],u=0;u<e.length;u++)i.push(y(e[u],n,t,r));return i}function b(e,n,t){var r=n?n.vnode:null;if(n){for(var o=n.parent,a=n.proxy,i=t;o;){var u=o.ec;if(u)for(var l=0;l<u.length;l++)if(!1===u[l](e,a,i))return;o=o.parent}var c=n.appContext.config.errorHandler;if(c)return void g(c,null,10,[e,a,i])}_(e,t,r)}function _(e,n,t){console.error(e)}l(r={},"bc","beforeCreate hook"),l(r,"c","created hook"),l(r,"bm","beforeMount hook"),l(r,"m","mounted hook"),l(r,"bu","beforeUpdate hook"),l(r,"u","updated"),l(r,"bum","beforeUnmount hook"),l(r,"um","unmounted hook"),l(r,"a","activated hook"),l(r,"da","deactivated hook"),l(r,"ec","errorCaptured hook"),l(r,"rtc","renderTracked hook"),l(r,"rtg","renderTriggered hook"),l(r,0,"setup function"),l(r,1,"render function"),l(r,2,"watcher getter"),l(r,3,"watcher callback"),l(r,4,"watcher cleanup function"),l(r,5,"native event handler"),l(r,6,"component event handler"),l(r,7,"vnode hook"),l(r,8,"directive hook"),l(r,9,"transition hook"),l(r,10,"app errorHandler"),l(r,11,"app warnHandler"),l(r,12,"ref function"),l(r,13,"async component loader"),l(r,14,"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/vue-next");var O=!1,w=!1,S=[],E=0,T=[],C=null,P=0,k=[],x=null,A=0,R=Promise.resolve(),j=null,M=null;function F(e){var n=j||R;return e?n.then(this?e.bind(this):e):n}function N(e){S.length&&S.includes(e,O&&e.allowRecurse?E+1:E)||e===M||(S.push(e),I())}function I(){O||w||(w=!0,j=R.then(Y))}function B(e,n,t,r){(0,a.isArray)(e)?t.push.apply(t,c(e)):n&&n.includes(e,e.allowRecurse?r+1:r)||t.push(e),I()}function V(e){B(e,C,T,P)}function L(e){B(e,x,k,A)}function U(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(T.length){for(M=n,C=c(new Set(T)),T.length=0,P=0;P<C.length;P++)C[P]();C=null,P=0,M=null,U(e,n)}}function D(e){if(k.length){var n,t=c(new Set(k));if(k.length=0,x)return void(n=x).push.apply(n,c(t));for((x=t).sort((function(e,n){return z(e)-z(n)})),A=0;A<x.length;A++)x[A]();x=null,A=0}}var H,z=function(e){return null==e.id?1/0:e.id};function Y(e){w=!1,O=!0,U(e),S.sort((function(e,n){return z(e)-z(n)}));try{for(E=0;E<S.length;E++){var n=S[E];n&&g(n,null,14)}}finally{E=0,S.length=0,D(),O=!1,j=null,(S.length||k.length)&&Y(e)}}function $(e,n){H&&H.emit("app:init",e,n,{Fragment:Dn,Text:Hn,Comment:zn,Static:Yn})}function K(e){H&&H.emit("app:unmount",e)}new Set,new Map,n.devtools=H;var G=W("component:added"),q=W("component:updated"),J=W("component:removed");function W(e){return function(n){H&&H.emit(e,n.appContext.app,n.uid,n.parent?n.parent.uid:void 0)}}function Z(e,n,t){H&&H.emit("component:emit",e.appContext.app,e,n,t)}function X(e,n){for(var t=e.vnode.props||a.EMPTY_OBJ,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var u=o,l=n.startsWith("update:"),c=l&&n.slice(7);if(c&&c in t){var s="".concat("modelValue"===c?"model":c,"Modifiers"),f=t[s]||a.EMPTY_OBJ,d=f.number,p=f.trim;p?u=o.map((function(e){return e.trim()})):d&&(u=o.map(a.toNumber))}__VUE_PROD_DEVTOOLS__&&Z(e,n,u);var v=(0,a.toHandlerKey)((0,a.camelize)(n)),h=t[v];!h&&l&&(h=t[v=(0,a.toHandlerKey)((0,a.hyphenate)(n))]),h&&y(h,e,6,u);var m=t[v+"Once"];if(m){if(e.emitted){if(e.emitted[v])return}else(e.emitted={})[v]=!0;y(m,e,6,u)}}function Q(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n.deopt&&void 0!==e.__emits)return e.__emits;var r=e.emits,o={},i=!1;if(__VUE_OPTIONS_API__&&!(0,a.isFunction)(e)){var u=function(e){i=!0,(0,a.extend)(o,Q(e,n,!0))};!t&&n.mixins.length&&n.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return r||i?((0,a.isArray)(r)?r.forEach((function(e){return o[e]=null})):(0,a.extend)(o,r),e.__emits=o):e.__emits=null}function ee(e,n){return!(!e||!(0,a.isOn)(n))&&(n=n.replace(/Once$/,""),(0,a.hasOwn)(e,n[2].toLowerCase()+n.slice(3))||(0,a.hasOwn)(e,n.slice(2)))}var ne=null;function te(e){ne=e}function re(e){var n,t=e.type,r=e.vnode,o=e.proxy,i=e.withProxy,l=e.props,c=u(e.propsOptions,1)[0],s=e.slots,f=e.attrs,d=e.emit,p=e.render,v=e.renderCache,h=e.data,m=e.setupState,g=e.ctx;ne=e;try{var y;if(4&r.shapeFlag){var _=i||o;n=at(p.call(_,_,v,l,m,h,g)),y=f}else{var O=t;n=at(O.length>1?O(l,{attrs:f,slots:s,emit:d}):O(l,null)),y=t.props?f:oe(f)}var w=n;if(!1!==t.inheritAttrs&&y){var S=Object.keys(y),E=w.shapeFlag;S.length&&(1&E||6&E)&&(c&&S.some(a.isModelListener)&&(y=ae(y,c)),w=rt(w,y))}r.dirs&&(w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&(w.transition=r.transition),n=w}catch(t){b(t,e,1),n=tt(zn)}return ne=null,n}var oe=function(e){var n;for(var t in e)("class"===t||"style"===t||(0,a.isOn)(t))&&((n||(n={}))[t]=e[t]);return n},ae=function(e,n){var t={};for(var r in e)(0,a.isModelListener)(r)&&r.slice(9)in n||(t[r]=e[r]);return t};function ie(e,n,t){var r=Object.keys(n);if(r.length!==Object.keys(e).length)return!0;for(var o=0;o<r.length;o++){var a=r[o];if(n[a]!==e[a]&&!ee(t,a))return!0}return!1}function ue(e,n){for(var t=e.vnode,r=e.parent;r&&r.subTree===t;)(t=r.vnode).el=n,r=r.parent}var le=function(e){return e.__isSuspense},ce={__isSuspense:!0,process:function(e,n,t,r,o,i,u,l,c){null==e?function(e,n,t,r,o,a,i,u){var l=u.p,c=(0,u.o.createElement)("div"),s=e.suspense=se(e,o,r,n,c,t,a,i,u);l(null,s.pendingBranch=e.ssContent,c,null,r,s,a),s.deps>0?(l(null,e.ssFallback,n,t,r,null,a),ve(s,e.ssFallback)):s.resolve()}(n,t,r,o,i,u,l,c):function(e,n,t,r,o,i,u){var l=u.p,c=u.um,s=u.o.createElement,f=n.suspense=e.suspense;f.vnode=n,n.el=e.el;var d=n.ssContent,p=n.ssFallback,v=f.activeBranch,h=f.pendingBranch,m=f.isInFallback,g=f.isHydrating;if(h)f.pendingBranch=d,Xn(d,h)?(l(h,d,f.hiddenContainer,null,o,f,i),f.deps<=0?f.resolve():m&&(l(v,p,t,r,o,null,i),ve(f,p))):(f.pendingId++,g?(f.isHydrating=!1,f.activeBranch=h):c(h,o,f),f.deps=0,f.effects.length=0,f.hiddenContainer=s("div"),m?(l(null,d,f.hiddenContainer,null,o,f,i),f.deps<=0?f.resolve():(l(v,p,t,r,o,null,i),ve(f,p))):v&&Xn(d,v)?(l(v,d,t,r,o,f,i),f.resolve(!0)):(l(null,d,f.hiddenContainer,null,o,f,i),f.deps<=0&&f.resolve()));else if(v&&Xn(d,v))l(v,d,t,r,o,f,i),ve(f,d);else{var y=n.props&&n.props.onPending;if((0,a.isFunction)(y)&&y(),f.pendingBranch=d,f.pendingId++,l(null,d,f.hiddenContainer,null,o,f,i),f.deps<=0)f.resolve();else{var b=f.timeout,_=f.pendingId;b>0?setTimeout((function(){f.pendingId===_&&f.fallback(p)}),b):0===b&&f.fallback(p)}}}(e,n,t,r,o,u,c)},hydrate:function(e,n,t,r,o,a,i,u){var l=n.suspense=se(n,r,t,e.parentNode,document.createElement("div"),null,o,a,i,!0),c=u(e,l.pendingBranch=n.ssContent,t,l,a);return 0===l.deps&&l.resolve(),c},create:se};function se(e,n,t,r,o,i,u,l,s){var f=arguments.length>9&&void 0!==arguments[9]&&arguments[9],d=s.p,p=s.m,v=s.um,h=s.n,m=s.o,g=m.parentNode,y=m.remove,_=(0,a.toNumber)(e.props&&e.props.timeout),O={vnode:e,parent:n,parentComponent:t,isSVG:u,container:r,hiddenContainer:o,anchor:i,deps:0,pendingId:0,timeout:"number"==typeof _?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:f,isUnmounted:!1,effects:[],resolve:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=O.vnode,t=O.activeBranch,r=O.pendingBranch,o=O.pendingId,i=O.effects,u=O.parentComponent,l=O.container;if(O.isHydrating)O.isHydrating=!1;else if(!e){var s=t&&r.transition&&"out-in"===r.transition.mode;s&&(t.transition.afterLeave=function(){o===O.pendingId&&p(r,l,f,0)});var f=O.anchor;t&&(f=h(t),v(t,u,O,!0)),s||p(r,l,f,0)}ve(O,r),O.pendingBranch=null,O.isInFallback=!1;for(var d=O.parent,m=!1;d;){if(d.pendingBranch){var g;(g=d.effects).push.apply(g,c(i)),m=!0;break}d=d.parent}m||L(i),O.effects=[];var y=n.props&&n.props.onResolve;(0,a.isFunction)(y)&&y()},fallback:function(e){if(O.pendingBranch){var n=O.vnode,t=O.activeBranch,r=O.parentComponent,o=O.container,i=O.isSVG,u=n.props&&n.props.onFallback;(0,a.isFunction)(u)&&u();var l=h(t),c=function(){O.isInFallback&&(d(null,e,o,l,r,null,i),ve(O,e))},s=e.transition&&"out-in"===e.transition.mode;s&&(t.transition.afterLeave=c),v(t,r,null,!0),O.isInFallback=!0,s||c()}},move:function(e,n,t){O.activeBranch&&p(O.activeBranch,e,n,t),O.container=e},next:function(){return O.activeBranch&&h(O.activeBranch)},registerDep:function(e,n){if(O.pendingBranch){var t=e.vnode.el;O.deps++,e.asyncDep.catch((function(n){b(n,e,0)})).then((function(r){if(!e.isUnmounted&&!O.isUnmounted&&O.pendingId===e.suspenseId){O.deps--,e.asyncResolved=!0;var o=e.vnode;Rt(e,r),t&&(o.el=t);var a=!t&&e.subTree.el;n(e,o,g(t||e.subTree.el),t?null:h(e.subTree),O,u,l),a&&y(a),ue(e,o.el),0===O.deps&&O.resolve()}}))}},unmount:function(e,n){O.isUnmounted=!0,O.activeBranch&&v(O.activeBranch,t,e,n),O.pendingBranch&&v(O.pendingBranch,t,e,n)}};return O}function fe(e){var n,t,r=e.shapeFlag,o=e.children;return 32&r?(n=de(o.default),t=de(o.fallback)):(n=de(o),t=at(null)),{content:n,fallback:t}}function de(e){var n;return(0,a.isFunction)(e)&&(e=e()),(0,a.isArray)(e)&&(e=1===(n=e.filter((function(e){return!(Zn(e)&&e.type===zn&&"v-if"!==e.children)}))).length&&Zn(n[0])?n[0]:null),at(e)}function pe(e,n){var t;n&&n.pendingBranch?(0,a.isArray)(e)?(t=n.effects).push.apply(t,c(e)):n.effects.push(e):L(e)}function ve(e,n){e.activeBranch=n;var t=e.vnode,r=e.parentComponent,o=t.el=n.el;r&&r.subTree===t&&(r.vnode.el=o,ue(r,o))}n.Suspense=ce;var he=0,me=function(e){return he+=e};function ge(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;if(!n)return e;var t=function(){he||Gn(!0);var t=ne;te(n);var r=e.apply(void 0,arguments);return te(t),he||qn(),r};return t._c=!0,t}var ye=null,be=[];function _e(e){be.push(ye=e)}function Oe(){be.pop(),ye=be[be.length-1]||null}function we(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={},u={};(0,a.def)(u,Qn,1),Se(e,n,i,u),t?e.props=r?i:(0,o.shallowReactive)(i):e.type.props?e.props=i:e.props=u,e.attrs=u}function Se(e,n,t,r){var i=u(e.propsOptions,2),l=i[0],c=i[1];if(n)for(var s in n){var f=n[s];if(!(0,a.isReservedProp)(s)){var d=void 0;l&&(0,a.hasOwn)(l,d=(0,a.camelize)(s))?t[d]=f:ee(e.emitsOptions,s)||(r[s]=f)}}if(c)for(var p=(0,o.toRaw)(t),v=0;v<c.length;v++){var h=c[v];t[h]=Ee(l,p,h,p[h],e)}}function Ee(e,n,t,r,o){var i=e[t];if(null!=i){var u=(0,a.hasOwn)(i,"default");if(u&&void 0===r){var l=i.default;i.type!==Function&&(0,a.isFunction)(l)?(kt(o),r=l(n),kt(null)):r=l}i[0]&&((0,a.hasOwn)(n,t)||u?!i[1]||""!==r&&r!==(0,a.hyphenate)(t)||(r=!0):r=!1)}return r}function Te(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n.deopt&&e.__props)return e.__props;var r=e.props,o={},i=[],l=!1;if(__VUE_OPTIONS_API__&&!(0,a.isFunction)(e)){var s=function(e){l=!0;var t=u(Te(e,n,!0),2),r=t[0],s=t[1];(0,a.extend)(o,r),s&&i.push.apply(i,c(s))};!t&&n.mixins.length&&n.mixins.forEach(s),e.extends&&s(e.extends),e.mixins&&e.mixins.forEach(s)}if(!r&&!l)return e.__props=a.EMPTY_ARR;if((0,a.isArray)(r))for(var f=0;f<r.length;f++){var d=(0,a.camelize)(r[f]);Ce(d)&&(o[d]=a.EMPTY_OBJ)}else if(r)for(var p in r){var v=(0,a.camelize)(p);if(Ce(v)){var h=r[p],m=o[v]=(0,a.isArray)(h)||(0,a.isFunction)(h)?{type:h}:h;if(m){var g=xe(Boolean,m.type),y=xe(String,m.type);m[0]=g>-1,m[1]=y<0||g<y,(g>-1||(0,a.hasOwn)(m,"default"))&&i.push(v)}}}return e.__props=[o,i]}function Ce(e){return"$"!==e[0]}function Pe(e){var n=e&&e.toString().match(/^\s*function (\w+)/);return n?n[1]:""}function ke(e,n){return Pe(e)===Pe(n)}function xe(e,n){if((0,a.isArray)(n)){for(var t=0,r=n.length;t<r;t++)if(ke(n[t],e))return t}else if((0,a.isFunction)(n))return ke(n,e)?0:-1;return-1}function Ae(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tt,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){var a=t[e]||(t[e]=[]),i=n.__weh||(n.__weh=function(){if(!t.isUnmounted){(0,o.pauseTracking)(),kt(t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var u=y(n,t,e,a);return kt(null),(0,o.resetTracking)(),u}});return r?a.unshift(i):a.push(i),i}}var Re=function(e){return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt;return!xt&&Ae(e,n,t)}},je=Re("bm");n.onBeforeMount=je;var Me=Re("m");n.onMounted=Me;var Fe=Re("bu");n.onBeforeUpdate=Fe;var Ne=Re("u");n.onUpdated=Ne;var Ie=Re("bum");n.onBeforeUnmount=Ie;var Be=Re("um");n.onUnmounted=Be;var Ve=Re("rtg");n.onRenderTriggered=Ve;var Le=Re("rtc");n.onRenderTracked=Le;var Ue=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt;Ae("ec",e,n)};n.onErrorCaptured=Ue;var De={};function He(e,n,t){return ze(e,n,t)}function ze(e,n){var t,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.EMPTY_OBJ,u=i.immediate,l=i.deep,c=i.flush,s=i.onTrack,f=i.onTrigger,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Tt,p=!1;if((0,o.isRef)(e)?(t=function(){return e.value},p=!!e._shallow):(0,o.isReactive)(e)?(t=function(){return e},l=!0):t=(0,a.isArray)(e)?function(){return e.map((function(e){return(0,o.isRef)(e)?e.value:(0,o.isReactive)(e)?$e(e):(0,a.isFunction)(e)?g(e,d,2):void 0}))}:(0,a.isFunction)(e)?n?function(){return g(e,d,2)}:function(){if(!d||!d.isUnmounted)return r&&r(),g(e,d,3,[m])}:a.NOOP,n&&l){var v=t;t=function(){return $e(v())}}var h,m=function(e){r=O.options.onStop=function(){g(e,d,4)}},b=(0,a.isArray)(e)?[]:De,_=function(){if(O.active)if(n){var e=O();(l||p||(0,a.hasChanged)(e,b))&&(r&&r(),y(n,d,3,[e,b===De?void 0:b,m]),b=e)}else O()};_.allowRecurse=!!n,h="sync"===c?_:"post"===c?function(){return Pn(_,d&&d.suspense)}:function(){!d||d.isMounted?V(_):_()};var O=(0,o.effect)(t,{lazy:!0,onTrack:s,onTrigger:f,scheduler:h});return Mt(O),n?u?_():b=O():"post"===c?Pn(O,d&&d.suspense):O(),function(){(0,o.stop)(O),d&&(0,a.remove)(d.effects,O)}}function Ye(e,n,t){var r=this.proxy;return ze((0,a.isString)(e)?function(){return r[e]}:e.bind(r),n.bind(r),t,this)}function $e(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(!(0,a.isObject)(e)||n.has(e))return e;if(n.add(e),(0,o.isRef)(e))$e(e.value,n);else if((0,a.isArray)(e))for(var t=0;t<e.length;t++)$e(e[t],n);else if((0,a.isSet)(e)||(0,a.isMap)(e))e.forEach((function(e){$e(e,n)}));else for(var r in e)$e(e[r],n);return e}function Ke(){var e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Me((function(){e.isMounted=!0})),Ie((function(){e.isUnmounting=!0})),e}var Ge=[Function,Array],qe={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ge,onEnter:Ge,onAfterEnter:Ge,onEnterCancelled:Ge,onBeforeLeave:Ge,onLeave:Ge,onAfterLeave:Ge,onLeaveCancelled:Ge,onBeforeAppear:Ge,onAppear:Ge,onAfterAppear:Ge,onAppearCancelled:Ge},setup:function(e,n){var t,r=n.slots,a=Ct(),i=Ke();return function(){var n=r.default&&en(r.default(),!0);if(n&&n.length){var u=(0,o.toRaw)(e),l=u.mode,c=n[0];if(i.isLeaving)return Ze(c);var s=Xe(c);if(!s)return Ze(c);var f=We(s,u,i,a);Qe(s,f);var d=a.subTree,p=d&&Xe(d),v=!1,h=s.type.getTransitionKey;if(h){var m=h();void 0===t?t=m:m!==t&&(t=m,v=!0)}if(p&&p.type!==zn&&(!Xn(s,p)||v)){var g=We(p,u,i,a);if(Qe(p,g),"out-in"===l)return i.isLeaving=!0,g.afterLeave=function(){i.isLeaving=!1,a.update()},Ze(c);"in-out"===l&&(g.delayLeave=function(e,n,t){Je(i,p)[String(p.key)]=p,e._leaveCb=function(){n(),e._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=t})}return c}}}};function Je(e,n){var t=e.leavingVNodes,r=t.get(n.type);return r||(r=Object.create(null),t.set(n.type,r)),r}function We(e,n,t,r){var o=n.appear,a=n.mode,i=n.persisted,u=void 0!==i&&i,l=n.onBeforeEnter,c=n.onEnter,s=n.onAfterEnter,f=n.onEnterCancelled,d=n.onBeforeLeave,p=n.onLeave,v=n.onAfterLeave,h=n.onLeaveCancelled,m=n.onBeforeAppear,g=n.onAppear,b=n.onAfterAppear,_=n.onAppearCancelled,O=String(e.key),w=Je(t,e),S=function(e,n){e&&y(e,r,9,n)},E={mode:a,persisted:u,beforeEnter:function(n){var r=l;if(!t.isMounted){if(!o)return;r=m||l}n._leaveCb&&n._leaveCb(!0);var a=w[O];a&&Xn(e,a)&&a.el._leaveCb&&a.el._leaveCb(),S(r,[n])},enter:function(e){var n=c,r=s,a=f;if(!t.isMounted){if(!o)return;n=g||c,r=b||s,a=_||f}var i=!1,u=e._enterCb=function(n){i||(i=!0,S(n?a:r,[e]),E.delayedLeave&&E.delayedLeave(),e._enterCb=void 0)};n?(n(e,u),n.length<=1&&u()):u()},leave:function(n,r){var o=String(e.key);if(n._enterCb&&n._enterCb(!0),t.isUnmounting)return r();S(d,[n]);var a=!1,i=n._leaveCb=function(t){a||(a=!0,r(),S(t?h:v,[n]),n._leaveCb=void 0,w[o]===e&&delete w[o])};w[o]=e,p?(p(n,i),p.length<=1&&i()):i()},clone:function(e){return We(e,n,t,r)}};return E}function Ze(e){if(nn(e))return(e=rt(e)).children=null,e}function Xe(e){return nn(e)?e.children?e.children[0]:void 0:e}function Qe(e,n){6&e.shapeFlag&&e.component?Qe(e.component.subTree,n):128&e.shapeFlag?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function en(e){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=[],r=0,o=0;o<e.length;o++){var a=e[o];a.type===Dn?(128&a.patchFlag&&r++,t=t.concat(en(a.children,n))):(n||a.type!==zn)&&t.push(a)}if(r>1)for(var i=0;i<t.length;i++)t[i].patchFlag=-2;return t}n.BaseTransition=qe;var nn=function(e){return e.type.__isKeepAlive},tn={name:"KeepAlive",__isKeepAlive:!0,inheritRef:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup:function(e,n){var t=n.slots,r=new Map,o=new Set,i=null,l=Ct(),c=l.suspense,s=l.ctx,f=s.renderer,d=f.p,p=f.m,v=f.um,h=(0,f.o.createElement)("div");function m(e){sn(e),v(e,l,c)}function g(e){r.forEach((function(n,t){var r=rn(n.type);!r||e&&e(r)||y(t)}))}function y(e){var n=r.get(e);i&&n.type===i.type?i&&sn(i):m(n),r.delete(e),o.delete(e)}s.activate=function(e,n,t,r,o){var i=e.component;p(e,n,t,0,c),d(i.vnode,e,n,t,i,c,r,o),Pn((function(){i.isDeactivated=!1,i.a&&(0,a.invokeArrayFns)(i.a);var n=e.props&&e.props.onVnodeMounted;n&&An(n,i.parent,e)}),c)},s.deactivate=function(e){var n=e.component;p(e,h,null,1,c),Pn((function(){n.da&&(0,a.invokeArrayFns)(n.da);var t=e.props&&e.props.onVnodeUnmounted;t&&An(t,n.parent,e),n.isDeactivated=!0}),c)},He((function(){return[e.include,e.exclude]}),(function(e){var n=u(e,2),t=n[0],r=n[1];t&&g((function(e){return on(t,e)})),r&&g((function(e){return!on(r,e)}))}),{flush:"post"});var b=null,_=function(){null!=b&&r.set(b,fn(l.subTree))};return Me(_),Ne(_),Ie((function(){r.forEach((function(e){var n=l.subTree,t=l.suspense,r=fn(n);if(e.type!==r.type)m(e);else{sn(r);var o=r.component.da;o&&Pn(o,t)}}))})),function(){if(b=null,!t.default)return null;var n=t.default(),a=n[0];if(n.length>1)return i=null,n;if(!Zn(a)||!(4&a.shapeFlag||128&a.shapeFlag))return i=null,a;var u=fn(a),l=u.type,c=rn(l),s=e.include,f=e.exclude,d=e.max;if(s&&(!c||!on(s,c))||f&&c&&on(f,c))return i=u,a;var p=null==u.key?l:u.key,v=r.get(p);return u.el&&(u=rt(u),128&a.shapeFlag&&(a.ssContent=u)),b=p,v?(u.el=v.el,u.component=v.component,u.transition&&Qe(u,u.transition),u.shapeFlag|=512,o.delete(p),o.add(p)):(o.add(p),d&&o.size>parseInt(d,10)&&y(o.values().next().value)),u.shapeFlag|=256,i=u,a}}};function rn(e){return e.displayName||e.name}function on(e,n){return(0,a.isArray)(e)?e.some((function(e){return on(e,n)})):(0,a.isString)(e)?e.split(",").indexOf(n)>-1:!!e.test&&e.test(n)}function an(e,n){ln(e,"a",n)}function un(e,n){ln(e,"da",n)}function ln(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tt,r=e.__wdc||(e.__wdc=function(){for(var n=t;n;){if(n.isDeactivated)return;n=n.parent}e()});if(Ae(n,r,t),t)for(var o=t.parent;o&&o.parent;)nn(o.parent.vnode)&&cn(r,n,t,o),o=o.parent}function cn(e,n,t,r){var o=Ae(n,e,r,!0);Be((function(){(0,a.remove)(r[n],o)}),t)}function sn(e){var n=e.shapeFlag;256&n&&(n-=256),512&n&&(n-=512),e.shapeFlag=n}function fn(e){return 128&e.shapeFlag?e.ssContent:e}n.KeepAlive=tn;var dn=function(e){return"_"===e[0]||"$stable"===e},pn=function(e){return(0,a.isArray)(e)?e.map(at):[at(e)]},vn=function(e,n,t){return ge((function(e){return pn(n(e))}),t)},hn=function(e,n){var t=e._ctx;for(var r in e)if(!dn(r)){var o=e[r];(0,a.isFunction)(o)?n[r]=vn(0,o,t):null!=o&&function(){var e=pn(o);n[r]=function(){return e}}()}},mn=function(e,n){var t=pn(n);e.slots.default=function(){return t}},gn=function(e,n){if(32&e.vnode.shapeFlag){var t=n._;t?(e.slots=n,(0,a.def)(n,"_",t)):hn(n,e.slots={})}else e.slots={},n&&mn(e,n);(0,a.def)(e.slots,Qn,1)};function yn(e,n,t,r){for(var o=e.dirs,a=n&&n.dirs,i=0;i<o.length;i++){var u=o[i];a&&(u.oldValue=a[i].value);var l=u.dir[r];l&&y(l,t,8,[e.el,u,e,n])}}function bn(){return{app:null,config:{isNativeTag:a.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:a.NO,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}var _n=0;function On(e,n){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null==r||(0,a.isObject)(r)||(r=null);var o=bn(),i=new Set,u=!1,l=o.app={_uid:_n++,_component:t,_props:r,_container:null,_context:o,version:Ht,get config(){return o.config},set config(e){},use:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return i.has(e)||(e&&(0,a.isFunction)(e.install)?(i.add(e),e.install.apply(e,[l].concat(t))):(0,a.isFunction)(e)&&(i.add(e),e.apply(void 0,[l].concat(t)))),l},mixin:function(e){return __VUE_OPTIONS_API__&&(o.mixins.includes(e)||(o.mixins.push(e),(e.props||e.emits)&&(o.deopt=!0))),l},component:function(e,n){return n?(o.components[e]=n,l):o.components[e]},directive:function(e,n){return n?(o.directives[e]=n,l):o.directives[e]},mount:function(a,i){if(!u){var c=tt(t,r);return c.appContext=o,i&&n?n(c,a):e(c,a),u=!0,l._container=a,a.__vue_app__=l,__VUE_PROD_DEVTOOLS__&&$(l,Ht),c.component.proxy}},unmount:function(){u&&(e(null,l._container),__VUE_PROD_DEVTOOLS__&&K(l))},provide:function(e,n){return o.provides[e]=n,l}};return l}}var wn=!1,Sn=function(e){return/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName},En=function(e){return 8===e.nodeType};function Tn(e){var n=e.mt,t=e.p,r=e.o,o=r.patchProp,i=r.nextSibling,u=r.parentNode,l=r.remove,c=r.insert,s=r.createComment,f=function t(r,o,a,l){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=En(r)&&"["===r.data,f=function(){return h(r,o,a,l,s)},g=o.type,y=o.ref,b=o.shapeFlag,_=r.nodeType;o.el=r;var O=null;switch(g){case Hn:3!==_?O=f():(r.data!==o.children&&(wn=!0,r.data=o.children),O=i(r));break;case zn:O=8!==_||s?f():i(r);break;case Yn:if(1===_){O=r;for(var w=!o.children.length,S=0;S<o.staticCount;S++)w&&(o.children+=O.outerHTML),S===o.staticCount-1&&(o.anchor=O),O=i(O);return O}O=f();break;case Dn:O=s?v(r,o,a,l,c):f();break;default:if(1&b)O=1!==_||o.type!==r.tagName.toLowerCase()?f():d(r,o,a,l,c);else if(6&b){var E=u(r),T=function(){n(o,E,null,a,l,Sn(E),c)},C=o.type.__asyncLoader;C?C().then(T):T(),O=s?m(r):i(r)}else 64&b?O=8!==_?f():o.type.hydrate(r,o,a,l,c,e,p):128&b&&(O=o.type.hydrate(r,o,a,l,Sn(u(r)),c,e,t))}return null!=y&&a&&kn(y,null,a,l,o),O},d=function(e,n,t,r,i){i=i||!!n.dynamicChildren;var u=n.props,c=n.patchFlag,s=n.shapeFlag,f=n.dirs;if(-1!==c){if(f&&yn(n,null,t,"created"),u)if(!i||16&c||32&c)for(var d in u)!(0,a.isReservedProp)(d)&&(0,a.isOn)(d)&&o(e,d,null,u[d]);else u.onClick&&o(e,"onClick",null,u.onClick);var v;if((v=u&&u.onVnodeBeforeMount)&&An(v,t,n),f&&yn(n,null,t,"beforeMount"),((v=u&&u.onVnodeMounted)||f)&&pe((function(){v&&An(v,t,n),f&&yn(n,null,t,"mounted")}),r),16&s&&(!u||!u.innerHTML&&!u.textContent))for(var h=p(e.firstChild,n,e,t,r,i);h;){wn=!0;var m=h;h=h.nextSibling,l(m)}else 8&s&&e.textContent!==n.children&&(wn=!0,e.textContent=n.children)}return e.nextSibling},p=function(e,n,r,o,a,i){i=i||!!n.dynamicChildren;for(var u=n.children,l=u.length,c=0;c<l;c++){var s=i?u[c]:u[c]=at(u[c]);e?e=f(e,s,o,a,i):(wn=!0,t(null,s,r,null,o,a,Sn(r)))}return e},v=function(e,n,t,r,o){var a=u(e),l=p(i(e),n,a,t,r,o);return l&&En(l)&&"]"===l.data?i(n.anchor=l):(wn=!0,c(n.anchor=s("]"),a,l),l)},h=function(e,n,r,o,a){if(wn=!0,n.el=null,a)for(var c=m(e);;){var s=i(e);if(!s||s===c)break;l(s)}var f=i(e),d=u(e);return l(e),t(null,n,d,f,r,o,Sn(d)),f},m=function(e){for(var n=0;e;)if((e=i(e))&&En(e)&&("["===e.data&&n++,"]"===e.data)){if(0===n)return i(e);n--}return e};return[function(e,n){wn=!1,f(n.firstChild,e,null,null),D(),wn&&console.error("Hydration completed but contains mismatches.")},f]}var Cn={scheduler:N,allowRecurse:!0},Pn=pe,kn=function e(n,t,r,i,u){if((0,a.isArray)(n))n.forEach((function(n,o){return e(n,t&&((0,a.isArray)(t)?t[o]:t),r,i,u)}));else{var l;l=u?4&u.shapeFlag?u.component.proxy:u.el:null;var c=n.i,s=n.r,f=t&&t.r,d=c.refs===a.EMPTY_OBJ?c.refs={}:c.refs,p=c.setupState;if(null!=f&&f!==s&&((0,a.isString)(f)?(d[f]=null,(0,a.hasOwn)(p,f)&&(p[f]=null)):(0,o.isRef)(f)&&(f.value=null)),(0,a.isString)(s)){var v=function(){d[s]=l,(0,a.hasOwn)(p,s)&&(p[s]=l)};l?(v.id=-1,Pn(v,i)):v()}else if((0,o.isRef)(s)){var h=function(){s.value=l};l?(h.id=-1,Pn(h,i)):h()}else(0,a.isFunction)(s)&&g(s,r,12,[l,d])}};function xn(e,n){"boolean"!=typeof __VUE_OPTIONS_API__&&((0,a.getGlobalThis)().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&((0,a.getGlobalThis)().__VUE_PROD_DEVTOOLS__=!1);var t,r,i=e.insert,l=e.remove,c=e.patchProp,s=e.forcePatchProp,f=e.createElement,d=e.createText,p=e.createComment,v=e.setText,h=e.setElementText,m=e.parentNode,g=e.nextSibling,y=e.setScopeId,b=void 0===y?a.NOOP:y,_=e.cloneNode,O=e.insertStaticContent,w=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];e&&!Xn(e,n)&&(r=oe(e),K(e,o,a,!0),e=null),-2===n.patchFlag&&(u=!1,n.dynamicChildren=null);var l=n.type,c=n.ref,s=n.shapeFlag;switch(l){case Hn:E(e,n,t,r);break;case zn:T(e,n,t,r);break;case Yn:null==e&&C(n,t,r,i);break;case Dn:F(e,n,t,r,o,a,i,u);break;default:1&s?P(e,n,t,r,o,a,i,u):6&s?N(e,n,t,r,o,a,i,u):(64&s||128&s)&&l.process(e,n,t,r,o,a,i,u,le)}null!=c&&o&&kn(c,e&&e.ref,o,a,n)},E=function(e,n,t,r){if(null==e)i(n.el=d(n.children),t,r);else{var o=n.el=e.el;n.children!==e.children&&v(o,n.children)}},T=function(e,n,t,r){null==e?i(n.el=p(n.children||""),t,r):n.el=e.el},C=function(e,n,t,r){var o=u(O(e.children,n,t,r),2);e.el=o[0],e.anchor=o[1]},P=function(e,n,t,r,o,a,i,u){i=i||"svg"===n.type,null==e?k(n,t,r,o,a,i,u):R(e,n,o,a,i,u)},k=function(e,n,t,r,o,u,l){var s,d,p=e.type,v=e.props,m=e.shapeFlag,g=e.transition,y=e.scopeId,b=e.patchFlag,O=e.dirs;if(e.el&&void 0!==_&&-1===b)s=e.el=_(e.el);else{if(s=e.el=f(e.type,u,v&&v.is),8&m?h(s,e.children):16&m&&A(e.children,s,null,r,o,u&&"foreignObject"!==p,l||!!e.dynamicChildren),O&&yn(e,null,r,"created"),v){for(var w in v)(0,a.isReservedProp)(w)||c(s,w,null,v[w],u,e.children,r,o,te);(d=v.onVnodeBeforeMount)&&An(d,r,e)}x(s,y,e,r)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(s,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(s,"__vueParentComponent",{value:r,enumerable:!1})),O&&yn(e,null,r,"beforeMount");var S=(!o||o&&!o.pendingBranch)&&g&&!g.persisted;S&&g.beforeEnter(s),i(s,n,t),((d=v&&v.onVnodeMounted)||S||O)&&Pn((function(){d&&An(d,r,e),S&&g.enter(s),O&&yn(e,null,r,"mounted")}),o)},x=function e(n,t,r,o){if(t&&b(n,t),o){var a=o.type.__scopeId;a&&a!==t&&b(n,a+"-s"),r===o.subTree&&e(n,o.vnode.scopeId,o.vnode,o.parent)}},A=function(e,n,t,r,o,a,i){for(var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=u;l<e.length;l++){var c=e[l]=i?it(e[l]):at(e[l]);w(null,c,n,t,r,o,a,i)}},R=function(e,n,t,r,o,i){var u=n.el=e.el,l=n.patchFlag,f=n.dynamicChildren,d=n.dirs;l|=16&e.patchFlag;var p,v=e.props||a.EMPTY_OBJ,m=n.props||a.EMPTY_OBJ;if((p=m.onVnodeBeforeUpdate)&&An(p,t,n,e),d&&yn(n,e,t,"beforeUpdate"),l>0){if(16&l)M(u,n,v,m,t,r,o);else if(2&l&&v.class!==m.class&&c(u,"class",null,m.class,o),4&l&&c(u,"style",v.style,m.style,o),8&l)for(var g=n.dynamicProps,y=0;y<g.length;y++){var b=g[y],_=v[b],O=m[b];(O!==_||s&&s(u,b))&&c(u,b,_,O,o,e.children,t,r,te)}1&l&&e.children!==n.children&&h(u,n.children)}else i||null!=f||M(u,n,v,m,t,r,o);var w=o&&"foreignObject"!==n.type;f?j(e.dynamicChildren,f,u,t,r,w):i||H(e,n,u,null,t,r,w),((p=m.onVnodeUpdated)||d)&&Pn((function(){p&&An(p,t,n,e),d&&yn(n,e,t,"updated")}),r)},j=function(e,n,t,r,o,a){for(var i=0;i<n.length;i++){var u=e[i],l=n[i],c=u.type===Dn||!Xn(u,l)||6&u.shapeFlag||64&u.shapeFlag?m(u.el):t;w(u,l,c,null,r,o,a,!0)}},M=function(e,n,t,r,o,i,u){if(t!==r){for(var l in r)if(!(0,a.isReservedProp)(l)){var f=r[l],d=t[l];(f!==d||s&&s(e,l))&&c(e,l,d,f,u,n.children,o,i,te)}if(t!==a.EMPTY_OBJ)for(var p in t)(0,a.isReservedProp)(p)||p in r||c(e,p,t[p],null,u,n.children,o,i,te)}},F=function(e,n,t,r,o,a,u,l){var c=n.el=e?e.el:d(""),s=n.anchor=e?e.anchor:d(""),f=n.patchFlag,p=n.dynamicChildren;f>0&&(l=!0),null==e?(i(c,t,r),i(s,t,r),A(n.children,t,s,o,a,u,l)):f>0&&64&f&&p?(j(e.dynamicChildren,p,t,o,a,u),(null!=n.key||o&&n===o.subTree)&&Rn(e,n,!0)):H(e,n,t,s,o,a,u,l)},N=function(e,n,t,r,o,a,i,u){null==e?512&n.shapeFlag?o.ctx.activate(n,t,r,i,u):I(n,t,r,o,a,i,u):B(e,n,u)},I=function(e,n,t,r,o,i,u){var l=e.component=function(e,n,t){var r=e.type,o=(n?n.appContext:e.appContext)||St,i={uid:Et++,vnode:e,type:r,parent:n,appContext:o,root:null,next:null,subTree:null,update:null,render:null,proxy:null,withProxy:null,effects:null,provides:n?n.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Te(r,o),emitsOptions:Q(r,o),emit:null,emitted:null,ctx:a.EMPTY_OBJ,data:a.EMPTY_OBJ,props:a.EMPTY_OBJ,attrs:a.EMPTY_OBJ,slots:a.EMPTY_OBJ,refs:a.EMPTY_OBJ,setupState:a.EMPTY_OBJ,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return i.ctx={_:i},i.root=n?n.root:i,i.emit=X.bind(null,i),__VUE_PROD_DEVTOOLS__&&G(i),i}(e,r,o);if(nn(e)&&(l.ctx.renderer=le),function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];xt=n;var t=e.vnode,r=t.props,o=t.children,a=4&t.shapeFlag;we(e,r,a,n),gn(e,o);a&&At(e,n);xt=!1}(l),l.asyncDep){if(o&&o.registerDep(l,V),!e.el){var c=l.subTree=tt(zn);T(null,c,n,t)}}else V(l,e,n,t,o,i,u)},B=function(e,n,t){var r,o,a=n.component=e.component;if(function(e,n,t){var r=e.props,o=e.children,a=e.component,i=n.props,u=n.children,l=n.patchFlag,c=a.emitsOptions;if(n.dirs||n.transition)return!0;if(!(t&&l>0))return!(!o&&!u||u&&u.$stable)||r!==i&&(r?!i||ie(r,i,c):!!i);if(1024&l)return!0;if(16&l)return r?ie(r,i,c):!!i;if(8&l)for(var s=n.dynamicProps,f=0;f<s.length;f++){var d=s[f];if(i[d]!==r[d]&&!ee(c,d))return!0}return!1}(e,n,t)){if(a.asyncDep&&!a.asyncResolved)return void L(a,n,t);a.next=n,r=a.update,(o=S.indexOf(r))>-1&&(S[o]=null),a.update()}else n.component=e.component,n.el=e.el,a.vnode=n},V=function(e,n,t,i,u,l,c){e.update=(0,o.effect)((function(){if(e.isMounted){var o,s=e.next,f=e.bu,d=e.u,p=e.parent,v=e.vnode,h=s;s?(s.el=v.el,L(e,s,c)):s=v,f&&(0,a.invokeArrayFns)(f),(o=s.props&&s.props.onVnodeBeforeUpdate)&&An(o,p,s,v);var g=re(e),y=e.subTree;e.subTree=g,w(y,g,m(y.el),oe(y),e,u,l),s.el=g.el,null===h&&ue(e,g.el),d&&Pn(d,u),(o=s.props&&s.props.onVnodeUpdated)&&Pn((function(){An(o,p,s,v)}),u),__VUE_PROD_DEVTOOLS__&&q(e)}else{var b,_=n.el,O=n.props,S=e.bm,E=e.m,T=e.parent;S&&(0,a.invokeArrayFns)(S),(b=O&&O.onVnodeBeforeMount)&&An(b,T,n);var C=e.subTree=re(e);_&&r?r(n.el,C,e,u):(w(null,C,t,i,e,u,l),n.el=C.el),E&&Pn(E,u),(b=O&&O.onVnodeMounted)&&Pn((function(){An(b,T,n)}),u);var P=e.a;P&&256&n.shapeFlag&&Pn(P,u),e.isMounted=!0}}),Cn)},L=function(e,n,t){n.component=e;var r=e.vnode.props;e.vnode=n,e.next=null,function(e,n,t,r){var i=e.props,l=e.attrs,c=e.vnode.patchFlag,s=(0,o.toRaw)(i),f=u(e.propsOptions,1)[0];if(!(r||c>0)||16&c){var d;for(var p in Se(e,n,i,l),s)n&&((0,a.hasOwn)(n,p)||(d=(0,a.hyphenate)(p))!==p&&(0,a.hasOwn)(n,d))||(f?!t||void 0===t[p]&&void 0===t[d]||(i[p]=Ee(f,n||a.EMPTY_OBJ,p,void 0,e)):delete i[p]);if(l!==s)for(var v in l)n&&(0,a.hasOwn)(n,v)||delete l[v]}else if(8&c)for(var h=e.vnode.dynamicProps,m=0;m<h.length;m++){var g=h[m],y=n[g];if(f)if((0,a.hasOwn)(l,g))l[g]=y;else{var b=(0,a.camelize)(g);i[b]=Ee(f,s,b,y,e)}else l[g]=y}(0,o.trigger)(e,"set","$attrs")}(e,n.props,r,t),function(e,n){var t=e.vnode,r=e.slots,o=!0,i=a.EMPTY_OBJ;if(32&t.shapeFlag){var u=n._;u?1===u?o=!1:(0,a.extend)(r,n):(o=!n.$stable,hn(n,r)),i=n}else n&&(mn(e,n),i={default:1});if(o)for(var l in r)dn(l)||l in i||delete r[l]}(e,n.children),U(void 0,e.update)},H=function(e,n,t,r,o,a,i){var u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=e&&e.children,c=e?e.shapeFlag:0,s=n.children,f=n.patchFlag,d=n.shapeFlag;if(f>0){if(128&f)return void Y(l,s,t,r,o,a,i,u);if(256&f)return void z(l,s,t,r,o,a,i,u)}8&d?(16&c&&te(l,o,a),s!==l&&h(t,s)):16&c?16&d?Y(l,s,t,r,o,a,i,u):te(l,o,a,!0):(8&c&&h(t,""),16&d&&A(s,t,r,o,a,i,u))},z=function(e,n,t,r,o,i,u,l){e=e||a.EMPTY_ARR,n=n||a.EMPTY_ARR;var c,s=e.length,f=n.length,d=Math.min(s,f);for(c=0;c<d;c++){var p=n[c]=l?it(n[c]):at(n[c]);w(e[c],p,t,null,o,i,u,l)}s>f?te(e,o,i,!0,!1,d):A(n,t,r,o,i,u,l,d)},Y=function(e,n,t,r,o,i,u,l){for(var c=0,s=n.length,f=e.length-1,d=s-1;c<=f&&c<=d;){var p=e[c],v=n[c]=l?it(n[c]):at(n[c]);if(!Xn(p,v))break;w(p,v,t,null,o,i,u,l),c++}for(;c<=f&&c<=d;){var h=e[f],m=n[d]=l?it(n[d]):at(n[d]);if(!Xn(h,m))break;w(h,m,t,null,o,i,u,l),f--,d--}if(c>f){if(c<=d)for(var g=d+1,y=g<s?n[g].el:r;c<=d;)w(null,n[c]=l?it(n[c]):at(n[c]),t,y,o,i,u),c++}else if(c>d)for(;c<=f;)K(e[c],o,i,!0),c++;else{var b,_=c,O=c,S=new Map;for(c=O;c<=d;c++){var E=n[c]=l?it(n[c]):at(n[c]);null!=E.key&&S.set(E.key,c)}var T=0,C=d-O+1,P=!1,k=0,x=new Array(C);for(c=0;c<C;c++)x[c]=0;for(c=_;c<=f;c++){var A=e[c];if(T>=C)K(A,o,i,!0);else{var R=void 0;if(null!=A.key)R=S.get(A.key);else for(b=O;b<=d;b++)if(0===x[b-O]&&Xn(A,n[b])){R=b;break}void 0===R?K(A,o,i,!0):(x[R-O]=c+1,R>=k?k=R:P=!0,w(A,n[R],t,null,o,i,u,l),T++)}}var j=P?function(e){var n,t,r,o,a,i=e.slice(),u=[0],l=e.length;for(n=0;n<l;n++){var c=e[n];if(0!==c){if(e[t=u[u.length-1]]<c){i[n]=t,u.push(n);continue}for(r=0,o=u.length-1;r<o;)e[u[a=(r+o)/2|0]]<c?r=a+1:o=a;c<e[u[r]]&&(r>0&&(i[n]=u[r-1]),u[r]=n)}}for(o=u[(r=u.length)-1];r-- >0;)u[r]=o,o=i[o];return u}(x):a.EMPTY_ARR;for(b=j.length-1,c=C-1;c>=0;c--){var M=O+c,F=n[M],N=M+1<s?n[M+1].el:r;0===x[c]?w(null,F,t,N,o,i,u):P&&(b<0||c!==j[b]?$(F,t,N,2):b--)}}},$=function e(n,t,r,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=n.el,l=n.type,c=n.transition,s=n.children,f=n.shapeFlag;if(6&f)e(n.component.subTree,t,r,o);else if(128&f)n.suspense.move(t,r,o);else if(64&f)l.move(n,t,r,le);else if(l!==Dn){var d=2!==o&&1&f&&c;if(d)if(0===o)c.beforeEnter(u),i(u,t,r),Pn((function(){return c.enter(u)}),a);else{var p=c.leave,v=c.delayLeave,h=c.afterLeave,m=function(){return i(u,t,r)},g=function(){p(u,(function(){m(),h&&h()}))};v?v(u,m,g):g()}else i(u,t,r)}else{i(u,t,r);for(var y=0;y<s.length;y++)e(s[y],t,r,o);i(n.anchor,t,r)}},K=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=e.type,i=e.props,u=e.ref,l=e.children,c=e.dynamicChildren,s=e.shapeFlag,f=e.patchFlag,d=e.dirs;if(null!=u&&n&&kn(u,null,n,t,null),256&s)n.ctx.deactivate(e);else{var p,v=1&s&&d;if((p=i&&i.onVnodeBeforeUnmount)&&An(p,n,e),6&s)ne(e.component,t,r);else{if(128&s)return void e.suspense.unmount(t,r);v&&yn(e,null,n,"beforeUnmount"),c&&(a!==Dn||f>0&&64&f)?te(c,n,t,!1,!0):(a===Dn&&(128&f||256&f)||!o&&16&s)&&te(l,n,t),64&s&&(r||!Mn(e.props))&&e.type.remove(e,le),r&&W(e)}((p=i&&i.onVnodeUnmounted)||v)&&Pn((function(){p&&An(p,n,e),v&&yn(e,null,n,"unmounted")}),t)}},W=function(e){var n=e.type,t=e.el,r=e.anchor,o=e.transition;if(n!==Dn){var a=function(){l(t),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){var i=o.leave,u=o.delayLeave,c=function(){return i(t,a)};u?u(e.el,a,c):c()}else a()}else Z(t,r)},Z=function(e,n){for(var t;e!==n;)t=g(e),l(e),e=t;l(n)},ne=function(e,n,t){var r=e.bum,i=e.effects,u=e.update,l=e.subTree,c=e.um;if(r&&(0,a.invokeArrayFns)(r),i)for(var s=0;s<i.length;s++)(0,o.stop)(i[s]);u&&((0,o.stop)(u),K(l,e,n,t)),c&&Pn(c,n),Pn((function(){e.isUnmounted=!0}),n),n&&n.pendingBranch&&!n.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===n.pendingId&&(n.deps--,0===n.deps&&n.resolve()),__VUE_PROD_DEVTOOLS__&&J(e)},te=function(e,n,t){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=a;i<e.length;i++)K(e[i],n,t,r,o)},oe=function e(n){return 6&n.shapeFlag?e(n.component.subTree):128&n.shapeFlag?n.suspense.next():g(n.anchor||n.el)},ae=function(e,n){null==e?n._vnode&&K(n._vnode,null,null,!0):w(n._vnode||null,e,n),D(),n._vnode=e},le={p:w,um:K,m:$,r:W,mt:I,mc:A,pc:H,pbc:j,n:oe,o:e};if(n){var ce=u(n(le),2);t=ce[0],r=ce[1]}return{render:ae,hydrate:t,createApp:On(ae,t)}}function An(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;y(e,n,7,[t,r])}function Rn(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.children,o=n.children;if((0,a.isArray)(r)&&(0,a.isArray)(o))for(var i=0;i<r.length;i++){var u=r[i],l=o[i];1&l.shapeFlag&&!l.dynamicChildren&&((l.patchFlag<=0||32===l.patchFlag)&&((l=o[i]=it(o[i])).el=u.el),t||Rn(u,l))}}var jn=function(e){return e.__isTeleport},Mn=function(e){return e&&(e.disabled||""===e.disabled)},Fn=function(e,n){var t=e&&e.to;return(0,a.isString)(t)?n?n(t):null:t};function Nn(e,n,t,r){var o=r.o.insert,a=r.m,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;0===i&&o(e.targetAnchor,n,t);var u=e.el,l=e.anchor,c=e.shapeFlag,s=e.children,f=e.props,d=2===i;if(d&&o(u,n,t),(!d||Mn(f))&&16&c)for(var p=0;p<s.length;p++)a(s[p],n,t,2);d&&o(l,n,t)}var In={__isTeleport:!0,process:function(e){function n(n,t,r,o,a,i,u,l,c){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e,n,t,r,o,a,i,u,l){var c=l.mc,s=l.pc,f=l.pbc,d=l.o,p=d.insert,v=d.querySelector,h=d.createText,m=(d.createComment,Mn(n.props)),g=n.shapeFlag,y=n.children;if(null==e){var b=n.el=h(""),_=n.anchor=h("");p(b,t,r),p(_,t,r);var O=n.target=Fn(n.props,v),w=n.targetAnchor=h("");O&&p(w,O);var S=function(e,n){16&g&&c(y,e,n,o,a,i,u)};m?S(t,_):O&&S(O,w)}else{n.el=e.el;var E=n.anchor=e.anchor,T=n.target=e.target,C=n.targetAnchor=e.targetAnchor,P=Mn(e.props),k=P?t:T,x=P?E:C;if(n.dynamicChildren?(f(e.dynamicChildren,n.dynamicChildren,k,o,a,i),Rn(e,n,!0)):u||s(e,n,k,x,o,a,i),m)P||Nn(n,t,E,l,1);else if((n.props&&n.props.to)!==(e.props&&e.props.to)){var A=n.target=Fn(n.props,v);A&&Nn(n,A,null,l,0)}else P&&Nn(n,T,C,l,1)}})),remove:function(e,n){var t=n.r,r=n.o.remove,o=e.shapeFlag,a=e.children;if(r(e.anchor),16&o)for(var i=0;i<a.length;i++)t(a[i])},move:Nn,hydrate:function(e,n,t,r,o,a,i){var u=a.o,l=u.nextSibling,c=u.parentNode,s=u.querySelector,f=n.target=Fn(n.props,s);if(f){var d=f._lpa||f.firstChild;16&n.shapeFlag&&(Mn(n.props)?(n.anchor=i(l(e),n,c(e),t,r,o),n.targetAnchor=d):(n.anchor=l(e),n.targetAnchor=i(d,n,f,t,r,o)),f._lpa=n.targetAnchor&&l(n.targetAnchor))}return n.anchor&&l(n.anchor)}};n.Teleport=In;var Bn="components",Vn=Symbol();function Ln(e,n){var t=ne||Tt;if(t){var r=t.type;if(e===Bn){var o=r.displayName||r.name;if(o&&(o===n||o===(0,a.camelize)(n)||o===(0,a.capitalize)((0,a.camelize)(n))))return r}return Un(t[e]||r[e],n)||Un(t.appContext[e],n)}}function Un(e,n){return e&&(e[n]||e[(0,a.camelize)(n)]||e[(0,a.capitalize)((0,a.camelize)(n))])}var Dn=Symbol(void 0);n.Fragment=Dn;var Hn=Symbol(void 0);n.Text=Hn;var zn=Symbol(void 0);n.Comment=zn;var Yn=Symbol(void 0);n.Static=Yn;var $n=[],Kn=null;function Gn(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];$n.push(Kn=e?null:[])}function qn(){$n.pop(),Kn=$n[$n.length-1]||null}var Jn=1;function Wn(e,n,t,r,o){var i=tt(e,n,t,r,o,!0);return i.dynamicChildren=Kn||a.EMPTY_ARR,qn(),Jn>0&&Kn&&Kn.push(i),i}function Zn(e){return!!e&&!0===e.__v_isVNode}function Xn(e,n){return e.type===n.type&&e.key===n.key}var Qn="__vInternal",et=function(e){var n=e.key;return null!=n?n:null},nt=function(e){var n=e.ref;return null!=n?(0,a.isArray)(n)?n:{i:ne,r:n}:null},tt=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&e!==Vn||(e=zn),Zn(e)){var s=rt(e,t,!0);return r&&ut(s,r),s}if(Bt(e)&&(e=e.__vccOpts),t){((0,o.isProxy)(t)||Qn in t)&&(t=(0,a.extend)({},t));var f=t,d=f.class,p=f.style;d&&!(0,a.isString)(d)&&(t.class=(0,a.normalizeClass)(d)),(0,a.isObject)(p)&&((0,o.isProxy)(p)&&!(0,a.isArray)(p)&&(p=(0,a.extend)({},p)),t.style=(0,a.normalizeStyle)(p))}var v=(0,a.isString)(e)?1:le(e)?128:jn(e)?64:(0,a.isObject)(e)?4:(0,a.isFunction)(e)?2:0,h=(l(n={__v_isVNode:!0},"__v_skip",!0),l(n,"type",e),l(n,"props",t),l(n,"key",t&&et(t)),l(n,"ref",t&&nt(t)),l(n,"scopeId",ye),l(n,"children",null),l(n,"component",null),l(n,"suspense",null),l(n,"ssContent",null),l(n,"ssFallback",null),l(n,"dirs",null),l(n,"transition",null),l(n,"el",null),l(n,"anchor",null),l(n,"target",null),l(n,"targetAnchor",null),l(n,"staticCount",0),l(n,"shapeFlag",v),l(n,"patchFlag",i),l(n,"dynamicProps",u),l(n,"dynamicChildren",null),l(n,"appContext",null),n);if(ut(h,r),128&v){var m=fe(h),g=m.content,y=m.fallback;h.ssContent=g,h.ssFallback=y}return Jn>0&&!c&&Kn&&(i>0||6&v)&&32!==i&&Kn.push(h),h};function rt(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.props,i=e.ref,u=e.patchFlag,c=n?lt(o||{},n):o;return l(t={__v_isVNode:!0},"__v_skip",!0),l(t,"type",e.type),l(t,"props",c),l(t,"key",c&&et(c)),l(t,"ref",n&&n.ref?r&&i?(0,a.isArray)(i)?i.concat(nt(n)):[i,nt(n)]:nt(n):i),l(t,"scopeId",e.scopeId),l(t,"children",e.children),l(t,"target",e.target),l(t,"targetAnchor",e.targetAnchor),l(t,"staticCount",e.staticCount),l(t,"shapeFlag",e.shapeFlag),l(t,"patchFlag",n&&e.type!==Dn?-1===u?16:16|u:u),l(t,"dynamicProps",e.dynamicProps),l(t,"dynamicChildren",e.dynamicChildren),l(t,"appContext",e.appContext),l(t,"dirs",e.dirs),l(t,"transition",e.transition),l(t,"component",e.component),l(t,"suspense",e.suspense),l(t,"ssContent",e.ssContent&&rt(e.ssContent)),l(t,"ssFallback",e.ssFallback&&rt(e.ssFallback)),l(t,"el",e.el),l(t,"anchor",e.anchor),t}function ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return tt(Hn,null,e,n)}function at(e){return null==e||"boolean"==typeof e?tt(zn):(0,a.isArray)(e)?tt(Dn,null,e):"object"===i(e)?null===e.el?e:rt(e):tt(Hn,null,String(e))}function it(e){return null===e.el?e:rt(e)}function ut(e,n){var t=0,r=e.shapeFlag;if(null==n)n=null;else if((0,a.isArray)(n))t=16;else if("object"===i(n)){if(1&r||64&r){var o=n.default;return void(o&&(o._c&&me(1),ut(e,o()),o._c&&me(-1)))}t=32;var u=n._;u||Qn in n?3===u&&ne&&(1024&ne.vnode.patchFlag?(n._=2,e.patchFlag|=1024):n._=1):n._ctx=ne}else(0,a.isFunction)(n)?(n={default:n,_ctx:ne},t=32):(n=String(n),64&r?(t=16,n=[ot(n)]):t=8);e.children=n,e.shapeFlag|=t}function lt(){for(var e=(0,a.extend)({},arguments.length<=0?void 0:arguments[0]),n=1;n<arguments.length;n++){var t=n<0||arguments.length<=n?void 0:arguments[n];for(var r in t)if("class"===r)e.class!==t.class&&(e.class=(0,a.normalizeClass)([e.class,t.class]));else if("style"===r)e.style=(0,a.normalizeStyle)([e.style,t.style]);else if((0,a.isOn)(r)){var o=e[r],i=t[r];o!==i&&(e[r]=o?[].concat(o,t[r]):i)}else""!==r&&(e[r]=t[r])}return e}function ct(e,n){if(Tt){var t=Tt.provides,r=Tt.parent&&Tt.parent.provides;r===t&&(t=Tt.provides=Object.create(r)),t[e]=n}}function st(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Tt||ne;if(r){var o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return t&&(0,a.isFunction)(n)?n():n}}n.createVNode=tt;var ft=!1;function dt(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=n.mixins,l=n.extends,c=n.data,s=n.computed,f=n.methods,d=n.watch,p=n.provide,v=n.inject,h=n.components,m=n.directives,g=n.beforeMount,y=n.mounted,b=n.beforeUpdate,_=n.updated,O=n.activated,w=n.deactivated,S=(n.beforeDestroy,n.beforeUnmount),E=(n.destroyed,n.unmounted),T=n.render,C=n.renderTracked,P=n.renderTriggered,k=n.errorCaptured,x=e.proxy,A=e.ctx,R=e.appContext.mixins;if(i&&T&&e.render===a.NOOP&&(e.render=T),i||(ft=!0,pt("beforeCreate","bc",n,e,R),ft=!1,mt(e,R,t,r,o)),l&&dt(e,l,t,r,o,!0),u&&mt(e,u,t,r,o),v)if((0,a.isArray)(v))for(var j=0;j<v.length;j++){var M=v[j];A[M]=st(M)}else for(var F in v){var N=v[F];(0,a.isObject)(N)?A[F]=st(N.from||F,N.default,!0):A[F]=st(N)}if(f)for(var I in f){var B=f[I];(0,a.isFunction)(B)&&(A[I]=B.bind(x))}if(i?c&&t.push(c):(t.length&&t.forEach((function(n){return gt(e,n,x)})),c&&gt(e,c,x)),s){var V=function(e){var n=s[e],t=Vt({get:(0,a.isFunction)(n)?n.bind(x,x):(0,a.isFunction)(n.get)?n.get.bind(x,x):a.NOOP,set:!(0,a.isFunction)(n)&&(0,a.isFunction)(n.set)?n.set.bind(x):a.NOOP});Object.defineProperty(A,e,{enumerable:!0,configurable:!0,get:function(){return t.value},set:function(e){return t.value=e}})};for(var L in s)V(L)}d&&r.push(d),!i&&r.length&&r.forEach((function(e){for(var n in e)yt(e[n],A,x,n)})),p&&o.push(p),!i&&o.length&&o.forEach((function(e){var n=(0,a.isFunction)(e)?e.call(x):e;for(var t in n)ct(t,n[t])})),i&&(h&&(0,a.extend)(e.components||(e.components=(0,a.extend)({},e.type.components)),h),m&&(0,a.extend)(e.directives||(e.directives=(0,a.extend)({},e.type.directives)),m)),i||pt("created","c",n,e,R),g&&je(g.bind(x)),y&&Me(y.bind(x)),b&&Fe(b.bind(x)),_&&Ne(_.bind(x)),O&&an(O.bind(x)),w&&un(w.bind(x)),k&&Ue(k.bind(x)),C&&Le(C.bind(x)),P&&Ve(P.bind(x)),S&&Ie(S.bind(x)),E&&Be(E.bind(x))}function pt(e,n,t,r,o){ht(e,n,o,r);var a=t.extends,i=t.mixins;a&&vt(e,n,a,r),i&&ht(e,n,i,r);var u=t[e];u&&y(u.bind(r.proxy),r,n)}function vt(e,n,t,r){t.extends&&vt(e,n,t.extends,r);var o=t[e];o&&y(o.bind(r.proxy),r,n)}function ht(e,n,t,r){for(var o=0;o<t.length;o++){var a=t[o].mixins;a&&ht(e,n,a,r);var i=t[o][e];i&&y(i.bind(r.proxy),r,n)}}function mt(e,n,t,r,o){for(var a=0;a<n.length;a++)dt(e,n[a],t,r,o,!0)}function gt(e,n,t){var r=n.call(t,t);(0,a.isObject)(r)&&(e.data===a.EMPTY_OBJ?e.data=(0,o.reactive)(r):(0,a.extend)(e.data,r))}function yt(e,n,t,r){var o=r.includes(".")?function(e,n){var t=n.split(".");return function(){for(var n=e,r=0;r<t.length&&n;r++)n=n[t[r]];return n}}(t,r):function(){return t[r]};if((0,a.isString)(e)){var i=n[e];(0,a.isFunction)(i)&&He(o,i)}else if((0,a.isFunction)(e))He(o,e.bind(t));else if((0,a.isObject)(e))if((0,a.isArray)(e))e.forEach((function(e){return yt(e,n,t,r)}));else{var u=(0,a.isFunction)(e.handler)?e.handler.bind(t):n[e.handler];(0,a.isFunction)(u)&&He(o,u,e)}}function bt(e,n,t){var r=t.appContext.config.optionMergeStrategies,o=n.mixins,i=n.extends;for(var u in i&&bt(e,i,t),o&&o.forEach((function(n){return bt(e,n,t)})),n)r&&(0,a.hasOwn)(r,u)?e[u]=r[u](e[u],n[u],t.proxy,u):e[u]=n[u]}var _t=(0,a.extend)(Object.create(null),{$:function(e){return e},$el:function(e){return e.vnode.el},$data:function(e){return e.data},$props:function(e){return e.props},$attrs:function(e){return e.attrs},$slots:function(e){return e.slots},$refs:function(e){return e.refs},$parent:function(e){return e.parent&&e.parent.proxy},$root:function(e){return e.root&&e.root.proxy},$emit:function(e){return e.emit},$options:function(e){return __VUE_OPTIONS_API__?function(e){var n=e.type,t=n.__merged,r=n.mixins,o=n.extends;if(t)return t;var a=e.appContext.mixins;if(!a.length&&!r&&!o)return n;var i={};return a.forEach((function(n){return bt(i,n,e)})),bt(i,n,e),n.__merged=i}(e):e.type},$forceUpdate:function(e){return function(){return N(e.update)}},$nextTick:function(e){return F.bind(e.proxy)},$watch:function(e){return __VUE_OPTIONS_API__?Ye.bind(e):a.NOOP}}),Ot={get:function(e,n){var t,r=e._,i=r.ctx,u=r.setupState,l=r.data,c=r.props,s=r.accessCache,f=r.type,d=r.appContext;if("__v_skip"===n)return!0;if("$"!==n[0]){var p=s[n];if(void 0!==p)switch(p){case 0:return u[n];case 1:return l[n];case 3:return i[n];case 2:return c[n]}else{if(u!==a.EMPTY_OBJ&&(0,a.hasOwn)(u,n))return s[n]=0,u[n];if(l!==a.EMPTY_OBJ&&(0,a.hasOwn)(l,n))return s[n]=1,l[n];if((t=r.propsOptions[0])&&(0,a.hasOwn)(t,n))return s[n]=2,c[n];if(i!==a.EMPTY_OBJ&&(0,a.hasOwn)(i,n))return s[n]=3,i[n];__VUE_OPTIONS_API__&&ft||(s[n]=4)}}var v,h,m=_t[n];return m?("$attrs"===n&&(0,o.track)(r,"get",n),m(r)):(v=f.__cssModules)&&(v=v[n])?v:i!==a.EMPTY_OBJ&&(0,a.hasOwn)(i,n)?(s[n]=3,i[n]):(h=d.config.globalProperties,(0,a.hasOwn)(h,n)?h[n]:void 0)},set:function(e,n,t){var r=e._,o=r.data,i=r.setupState,u=r.ctx;if(i!==a.EMPTY_OBJ&&(0,a.hasOwn)(i,n))i[n]=t;else if(o!==a.EMPTY_OBJ&&(0,a.hasOwn)(o,n))o[n]=t;else if(n in r.props)return!1;return!("$"===n[0]&&n.slice(1)in r||(u[n]=t,0))},has:function(e,n){var t,r=e._,o=r.data,i=r.setupState,u=r.accessCache,l=r.ctx,c=r.appContext,s=r.propsOptions;return void 0!==u[n]||o!==a.EMPTY_OBJ&&(0,a.hasOwn)(o,n)||i!==a.EMPTY_OBJ&&(0,a.hasOwn)(i,n)||(t=s[0])&&(0,a.hasOwn)(t,n)||(0,a.hasOwn)(l,n)||(0,a.hasOwn)(_t,n)||(0,a.hasOwn)(c.config.globalProperties,n)}},wt=(0,a.extend)({},Ot,{get:function(e,n){if(n!==Symbol.unscopables)return Ot.get(e,n,e)},has:function(e,n){return"_"!==n[0]&&!(0,a.isGloballyWhitelisted)(n)}}),St=bn(),Et=0,Tt=null,Ct=function(){return Tt||ne};n.getCurrentInstance=Ct;var Pt,kt=function(e){Tt=e},xt=!1;function At(e,n){var t=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ot);var r=t.setup;if(r){var i=e.setupContext=r.length>1?function(e){return{attrs:e.attrs,slots:e.slots,emit:e.emit}}(e):null;Tt=e,(0,o.pauseTracking)();var u=g(r,e,0,[e.props,i]);if((0,o.resetTracking)(),Tt=null,(0,a.isPromise)(u)){if(n)return u.then((function(n){Rt(e,n)}));e.asyncDep=u}else Rt(e,u)}else jt(e)}function Rt(e,n,t){(0,a.isFunction)(n)?e.render=n:(0,a.isObject)(n)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=n),e.setupState=(0,o.proxyRefs)(n)),jt(e)}function jt(e,n){var t=e.type;e.render||(Pt&&t.template&&!t.render&&(t.render=Pt(t.template,{isCustomElement:e.appContext.config.isCustomElement,delimiters:t.delimiters})),e.render=t.render||a.NOOP,e.render._rc&&(e.withProxy=new Proxy(e.ctx,wt))),__VUE_OPTIONS_API__&&(Tt=e,dt(e,t),Tt=null)}function Mt(e){Tt&&(Tt.effects||(Tt.effects=[])).push(e)}var Ft=/(?:^|[-_])(\w)/g,Nt=function(e){return e.replace(Ft,(function(e){return e.toUpperCase()})).replace(/[-_]/g,"")};function It(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,a.isFunction)(n)&&n.displayName||n.name;if(!r&&n.__file){var o=n.__file.match(/([^/\\]+)\.vue$/);o&&(r=o[1])}if(!r&&e&&e.parent){var i=function(e){for(var t in e)if(e[t]===n)return t};r=i(e.components||e.parent.type.components)||i(e.appContext.components)}return r?Nt(r):t?"App":"Anonymous"}function Bt(e){return(0,a.isFunction)(e)&&"__vccOpts"in e}function Vt(e){var n=(0,o.computed)(e);return Mt(n.effect),n}function Lt(e){return(0,a.isFunction)(e)?{setup:e,name:e.name}:e}function Ut(e,n){var t=n.vnode,r=t.props,o=t.children;return tt(e,r,o)}var Dt=Symbol("");n.ssrContextKey=Dt,n.useSSRContext=function(){var e=st(Dt);return e||p("Server rendering context not provided. Make sure to only call useSsrContext() conditionally in the server build."),e};var Ht="3.0.2";n.version=Ht,n.ssrUtils=null},391:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});var r={Transition:!0,TransitionGroup:!0,createApp:!0,createSSRApp:!0,hydrate:!0,render:!0,useCssModule:!0,useCssVars:!0,vModelCheckbox:!0,vModelDynamic:!0,vModelRadio:!0,vModelSelect:!0,vModelText:!0,vShow:!0,withKeys:!0,withModifiers:!0};n.useCssModule=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$style",n=(0,o.getCurrentInstance)();if(!n)return a.EMPTY_OBJ;var t=n.type.__cssModules;if(!t)return a.EMPTY_OBJ;var r=t[e];return r||a.EMPTY_OBJ},n.useCssVars=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=(0,o.getCurrentInstance)();if(t){var r=n&&t.type.__scopeId?"".concat(t.type.__scopeId.replace(/^data-v-/,""),"-"):"",a=function(){return I(t.subTree,e(t.proxy),r)};(0,o.onMounted)((function(){return(0,o.watchEffect)(a)})),(0,o.onUpdated)(a)}},n.withModifiers=n.withKeys=n.vShow=n.vModelText=n.vModelSelect=n.vModelRadio=n.vModelDynamic=n.vModelCheckbox=n.render=n.hydrate=n.createSSRApp=n.createApp=n.TransitionGroup=n.Transition=void 0;var o=t(979);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=t(420);function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return t}}(e,n)||l(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){if(e){if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var s,f,d="http://www.w3.org/2000/svg",p="undefined"!=typeof document?document:null,v={insert:function(e,n,t){n.insertBefore(e,t||null)},remove:function(e){var n=e.parentNode;n&&n.removeChild(e)},createElement:function(e,n,t){return n?p.createElementNS(d,e):p.createElement(e,t?{is:t}:void 0)},createText:function(e){return p.createTextNode(e)},createComment:function(e){return p.createComment(e)},setText:function(e,n){e.nodeValue=n},setElementText:function(e,n){e.textContent=n},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},querySelector:function(e){return p.querySelector(e)},setScopeId:function(e,n){e.setAttribute(n,"")},cloneNode:function(e){return e.cloneNode(!0)},insertStaticContent:function(e,n,t,r){var o=r?f||(f=p.createElementNS(d,"svg")):s||(s=p.createElement("div"));o.innerHTML=e;for(var a=o.firstChild,i=a,u=i;i;)u=i,v.insert(i,n,t),i=o.firstChild;return[a,u]}};function h(e,n,t){if(null==n&&(n=""),t)e.setAttribute("class",n);else{var r=e._vtc;r&&(n=(n?[n].concat(u(r)):u(r)).join(" ")),e.className=n}}function m(e,n,t){var r=e.style;if(t)if((0,a.isString)(t))n!==t&&(r.cssText=t);else{for(var o in t)y(r,o,t[o]);if(n&&!(0,a.isString)(n))for(var i in n)null==t[i]&&y(r,i,"")}else e.removeAttribute("style")}var g=/\s*!important$/;function y(e,n,t){if((0,a.isArray)(t))t.forEach((function(t){return y(e,n,t)}));else if(n.startsWith("--"))e.setProperty(n,t);else{var r=function(e,n){var t=_[n];if(t)return t;var r=(0,o.camelize)(n);if("filter"!==r&&r in e)return _[n]=r;r=(0,a.capitalize)(r);for(var i=0;i<b.length;i++){var u=b[i]+r;if(u in e)return _[n]=u}return n}(e,n);g.test(t)?e.setProperty((0,a.hyphenate)(r),t.replace(g,""),"important"):e[r]=t}}var b=["Webkit","Moz","ms"],_={},O="http://www.w3.org/1999/xlink";function w(e,n,t,r){if(r&&n.startsWith("xlink:"))null==t?e.removeAttributeNS(O,n.slice(6,n.length)):e.setAttributeNS(O,n,t);else{var o=(0,a.isSpecialBooleanAttr)(n);null==t||o&&!1===t?e.removeAttribute(n):e.setAttribute(n,o?"":t)}}function S(e,n,t,r,o,a,i){if("innerHTML"===n||"textContent"===n)return r&&i(r,o,a),void(e[n]=null==t?"":t);if("value"!==n||"PROGRESS"===e.tagName)if(""===t&&"boolean"==typeof e[n])e[n]=!0;else if(null==t&&"string"==typeof e[n])e[n]="",e.removeAttribute(n);else try{e[n]=t}catch(e){}else{e._value=t;var u=null==t?"":t;e.value!==u&&(e.value=u)}}var E=Date.now;"undefined"!=typeof document&&E()>document.createEvent("Event").timeStamp&&(E=function(){return performance.now()});var T=0,C=Promise.resolve(),P=function(){T=0};function k(e,n,t,r){e.addEventListener(n,t,r)}function x(e,n,t,r){e.removeEventListener(n,t,r)}function A(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=e._vei||(e._vei={}),u=a[n];if(r&&u)u.value=r;else{var l=j(n),c=i(l,2),s=c[0],f=c[1];if(r){var d=a[n]=M(r,o);k(e,s,d,f)}else u&&(x(e,s,u,f),a[n]=void 0)}}var R=/(?:Once|Passive|Capture)$/;function j(e){var n,t;if(R.test(e))for(n={};t=e.match(R);)e=e.slice(0,e.length-t[0].length),n[t[0].toLowerCase()]=!0;return[e.slice(2).toLowerCase(),n]}function M(e,n){var t=function e(t){(t.timeStamp||E())>=e.attached-1&&(0,o.callWithAsyncErrorHandling)(function(e,n){if((0,a.isArray)(n)){var t=e.stopImmediatePropagation;return e.stopImmediatePropagation=function(){t.call(e),e._stopped=!0},n.map((function(e){return function(n){return!n._stopped&&e(n)}}))}return n}(t,e.value),n,5,[t])};return t.value=e,t.attached=T||(C.then(P),T=E()),t}var F=/^on[a-z]/;function N(e,n,t,r){return r?"innerHTML"===n||!!(n in e&&F.test(n)&&(0,a.isFunction)(t)):!("spellcheck"===n||"draggable"===n||"form"===n&&"string"==typeof t||"list"===n&&"INPUT"===e.tagName||F.test(n)&&(0,a.isString)(t)||!(n in e))}function I(e,n,t){if(128&e.shapeFlag){var r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push((function(){I(r.activeBranch,n,t)}))}for(;e.component;)e=e.component.subTree;if(1&e.shapeFlag&&e.el){var a=e.el.style;for(var i in n)a.setProperty("--".concat(t).concat(i),(0,o.unref)(n[i]))}else e.type===o.Fragment&&e.children.forEach((function(e){return I(e,n,t)}))}var B="transition",V="animation",L=function(e,n){var t=n.slots;return(0,o.h)(o.BaseTransition,H(e),t)};n.Transition=L,L.displayName="Transition";var U={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},D=L.props=(0,a.extend)({},o.BaseTransition.props,U);function H(e){var n=e.name,t=void 0===n?"v":n,r=e.type,o=e.css,i=void 0===o||o,u=e.duration,l=e.enterFromClass,c=void 0===l?"".concat(t,"-enter-from"):l,s=e.enterActiveClass,f=void 0===s?"".concat(t,"-enter-active"):s,d=e.enterToClass,p=void 0===d?"".concat(t,"-enter-to"):d,v=e.appearFromClass,h=void 0===v?c:v,m=e.appearActiveClass,g=void 0===m?f:m,y=e.appearToClass,b=void 0===y?p:y,_=e.leaveFromClass,O=void 0===_?"".concat(t,"-leave-from"):_,w=e.leaveActiveClass,S=void 0===w?"".concat(t,"-leave-active"):w,E=e.leaveToClass,T=void 0===E?"".concat(t,"-leave-to"):E,C={};for(var P in e)P in U||(C[P]=e[P]);if(!i)return C;var k=function(e){if(null==e)return null;if((0,a.isObject)(e))return[z(e.enter),z(e.leave)];var n=z(e);return[n,n]}(u),x=k&&k[0],A=k&&k[1],R=C.onBeforeEnter,j=C.onEnter,M=C.onEnterCancelled,F=C.onLeave,N=C.onLeaveCancelled,I=C.onBeforeAppear,B=void 0===I?R:I,V=C.onAppear,L=void 0===V?j:V,D=C.onAppearCancelled,H=void 0===D?M:D,q=function(e,n,t){$(e,n?b:p),$(e,n?g:f),t&&t()},J=function(e,n){$(e,T),$(e,S),n&&n()},W=function(e){return function(n,t){var o=e?L:j,a=function(){return q(n,e,t)};o&&o(n,a),K((function(){$(n,e?h:c),Y(n,e?b:p),o&&o.length>1||(x?setTimeout(a,x):G(n,r,a))}))}};return(0,a.extend)(C,{onBeforeEnter:function(e){R&&R(e),Y(e,f),Y(e,c)},onBeforeAppear:function(e){B&&B(e),Y(e,g),Y(e,h)},onEnter:W(!1),onAppear:W(!0),onLeave:function(e,n){var t=function(){return J(e,n)};Y(e,S),Y(e,O),K((function(){$(e,O),Y(e,T),F&&F.length>1||(A?setTimeout(t,A):G(e,r,t))})),F&&F(e,t)},onEnterCancelled:function(e){q(e,!1),M&&M(e)},onAppearCancelled:function(e){q(e,!0),H&&H(e)},onLeaveCancelled:function(e){J(e),N&&N(e)}})}function z(e){return(0,a.toNumber)(e)}function Y(e,n){n.split(/\s+/).forEach((function(n){return n&&e.classList.add(n)})),(e._vtc||(e._vtc=new Set)).add(n)}function $(e,n){n.split(/\s+/).forEach((function(n){return n&&e.classList.remove(n)}));var t=e._vtc;t&&(t.delete(n),t.size||(e._vtc=void 0))}function K(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))}function G(e,n,t){var r=q(e,n),o=r.type,a=r.timeout,i=r.propCount;if(!o)return t();var u=o+"end",l=0,c=function(){e.removeEventListener(u,s),t()},s=function(n){n.target===e&&++l>=i&&c()};setTimeout((function(){l<i&&c()}),a+1),e.addEventListener(u,s)}function q(e,n){var t=window.getComputedStyle(e),r=function(e){return(t[e]||"").split(", ")},o=r("transitionDelay"),a=r("transitionDuration"),i=J(o,a),u=r("animationDelay"),l=r("animationDuration"),c=J(u,l),s=null,f=0,d=0;return n===B?i>0&&(s=B,f=i,d=a.length):n===V?c>0&&(s=V,f=c,d=l.length):d=(s=(f=Math.max(i,c))>0?i>c?B:V:null)?s===B?a.length:l.length:0,{type:s,timeout:f,propCount:d,hasTransform:s===B&&/\b(transform|all)(,|$)/.test(t.transitionProperty)}}function J(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max.apply(Math,u(n.map((function(n,t){return W(n)+W(e[t])}))))}function W(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Z(e){return e&&Z(e.__v_raw)||e}var X=new WeakMap,Q=new WeakMap,ee={name:"TransitionGroup",props:(0,a.extend)({},D,{tag:String,moveClass:String}),setup:function(e,n){var t,r,a=n.slots,i=(0,o.getCurrentInstance)(),u=(0,o.useTransitionState)();return(0,o.onUpdated)((function(){if(t.length){var n=e.moveClass||"".concat(e.name||"v","-move");if(function(e,n,t){var r=e.cloneNode();e._vtc&&e._vtc.forEach((function(e){e.split(/\s+/).forEach((function(e){return e&&r.classList.remove(e)}))})),t.split(/\s+/).forEach((function(e){return e&&r.classList.add(e)})),r.style.display="none";var o=1===n.nodeType?n:n.parentNode;o.appendChild(r);var a=q(r).hasTransform;return o.removeChild(r),a}(t[0].el,i.vnode.el,n)){t.forEach(ne),t.forEach(te);var r=t.filter(re);document.body.offsetHeight,r.forEach((function(e){var t=e.el,r=t.style;Y(t,n),r.transform=r.webkitTransform=r.transitionDuration="";var o=t._moveCb=function(e){e&&e.target!==t||e&&!/transform$/.test(e.propertyName)||(t.removeEventListener("transitionend",o),t._moveCb=null,$(t,n))};t.addEventListener("transitionend",o)}))}}})),function(){var n=Z(e),l=H(n),c=n.tag||o.Fragment;t=r,r=a.default?(0,o.getTransitionRawChildren)(a.default()):[];for(var s=0;s<r.length;s++){var f=r[s];null!=f.key&&(0,o.setTransitionHooks)(f,(0,o.resolveTransitionHooks)(f,l,u,i))}if(t)for(var d=0;d<t.length;d++){var p=t[d];(0,o.setTransitionHooks)(p,(0,o.resolveTransitionHooks)(p,l,u,i)),X.set(p,p.el.getBoundingClientRect())}return(0,o.createVNode)(c,null,r)}}};function ne(e){var n=e.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function te(e){Q.set(e,e.el.getBoundingClientRect())}function re(e){var n=X.get(e),t=Q.get(e),r=n.left-t.left,o=n.top-t.top;if(r||o){var a=e.el.style;return a.transform=a.webkitTransform="translate(".concat(r,"px,").concat(o,"px)"),a.transitionDuration="0s",e}}n.TransitionGroup=ee;var oe=function(e){var n=e.props["onUpdate:modelValue"];return(0,a.isArray)(n)?function(e){return(0,a.invokeArrayFns)(n,e)}:n};function ae(e){e.target.composing=!0}function ie(e){var n=e.target;n.composing&&(n.composing=!1,function(e,n){var t=document.createEvent("HTMLEvents");t.initEvent("input",!0,!0),e.dispatchEvent(t)}(n))}var ue={created:function(e,n,t){var r=n.modifiers,o=r.lazy,i=r.trim,u=r.number;e._assign=oe(t);var l=u||"number"===e.type;k(e,o?"change":"input",(function(n){if(!n.target.composing){var t=e.value;i?t=t.trim():l&&(t=(0,a.toNumber)(t)),e._assign(t)}})),i&&k(e,"change",(function(){e.value=e.value.trim()})),o||(k(e,"compositionstart",ae),k(e,"compositionend",ie),k(e,"change",ie))},mounted:function(e,n){var t=n.value;e.value=null==t?"":t},beforeUpdate:function(e,n,t){var r=n.value,o=n.modifiers,i=o.trim,u=o.number;if(e._assign=oe(t),!e.composing){if(document.activeElement===e){if(i&&e.value.trim()===r)return;if((u||"number"===e.type)&&(0,a.toNumber)(e.value)===r)return}var l=null==r?"":r;e.value!==l&&(e.value=l)}}};n.vModelText=ue;var le={created:function(e,n,t){ce(e,n,t),e._assign=oe(t),k(e,"change",(function(){var n=e._modelValue,t=pe(e),r=e.checked,o=e._assign;if((0,a.isArray)(n)){var i=(0,a.looseIndexOf)(n,t),l=-1!==i;if(r&&!l)o(n.concat(t));else if(!r&&l){var c=u(n);c.splice(i,1),o(c)}}else(0,a.isSet)(n)?r?n.add(t):n.delete(t):o(ve(e,r))}))},beforeUpdate:function(e,n,t){e._assign=oe(t),ce(e,n,t)}};function ce(e,n,t){var r=n.value,o=n.oldValue;e._modelValue=r,(0,a.isArray)(r)?e.checked=(0,a.looseIndexOf)(r,t.props.value)>-1:(0,a.isSet)(r)?e.checked=r.has(t.props.value):r!==o&&(e.checked=(0,a.looseEqual)(r,ve(e,!0)))}n.vModelCheckbox=le;var se={created:function(e,n,t){var r=n.value;e.checked=(0,a.looseEqual)(r,t.props.value),e._assign=oe(t),k(e,"change",(function(){e._assign(pe(e))}))},beforeUpdate:function(e,n,t){var r=n.value,o=n.oldValue;e._assign=oe(t),r!==o&&(e.checked=(0,a.looseEqual)(r,t.props.value))}};n.vModelRadio=se;var fe={created:function(e,n,t){var r=n.modifiers.number;k(e,"change",(function(){var n=Array.prototype.filter.call(e.options,(function(e){return e.selected})).map((function(e){return r?(0,a.toNumber)(pe(e)):pe(e)}));e._assign(e.multiple?n:n[0])})),e._assign=oe(t)},mounted:function(e,n){de(e,n.value)},beforeUpdate:function(e,n,t){e._assign=oe(t)},updated:function(e,n){de(e,n.value)}};function de(e,n){var t=e.multiple;if(!t||(0,a.isArray)(n)||(0,a.isSet)(n)){for(var r=0,o=e.options.length;r<o;r++){var i=e.options[r],u=pe(i);if(t)(0,a.isArray)(n)?i.selected=(0,a.looseIndexOf)(n,u)>-1:i.selected=n.has(u);else if((0,a.looseEqual)(pe(i),n))return void(e.selectedIndex=r)}t||(e.selectedIndex=-1)}}function pe(e){return"_value"in e?e._value:e.value}function ve(e,n){var t=n?"_trueValue":"_falseValue";return t in e?e[t]:n}n.vModelSelect=fe;var he={created:function(e,n,t){me(e,n,t,null,"created")},mounted:function(e,n,t){me(e,n,t,null,"mounted")},beforeUpdate:function(e,n,t,r){me(e,n,t,r,"beforeUpdate")},updated:function(e,n,t,r){me(e,n,t,r,"updated")}};function me(e,n,t,r,o){var a;switch(e.tagName){case"SELECT":a=fe;break;case"TEXTAREA":a=ue;break;default:switch(t.props&&t.props.type){case"checkbox":a=le;break;case"radio":a=se;break;default:a=ue}}var i=a[o];i&&i(e,n,t,r)}n.vModelDynamic=he;var ge=["ctrl","shift","alt","meta"],ye={stop:function(e){return e.stopPropagation()},prevent:function(e){return e.preventDefault()},self:function(e){return e.target!==e.currentTarget},ctrl:function(e){return!e.ctrlKey},shift:function(e){return!e.shiftKey},alt:function(e){return!e.altKey},meta:function(e){return!e.metaKey},left:function(e){return"button"in e&&0!==e.button},middle:function(e){return"button"in e&&1!==e.button},right:function(e){return"button"in e&&2!==e.button},exact:function(e,n){return ge.some((function(t){return e["".concat(t,"Key")]&&!n.includes(t)}))}};n.withModifiers=function(e,n){return function(t){for(var r=0;r<n.length;r++){var o=ye[n[r]];if(o&&o(t,n))return}for(var a=arguments.length,i=new Array(a>1?a-1:0),u=1;u<a;u++)i[u-1]=arguments[u];return e.apply(void 0,[t].concat(i))}};var be={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"};n.withKeys=function(e,n){return function(t){if("key"in t){var r=(0,a.hyphenate)(t.key);if(n.some((function(e){return e===r||be[e]===r})))return e(t)}}};var _e={beforeMount:function(e,n,t){var r=n.value,o=t.transition;e._vod="none"===e.style.display?"":e.style.display,o&&r?o.beforeEnter(e):Oe(e,r)},mounted:function(e,n,t){var r=n.value,o=t.transition;o&&r&&o.enter(e)},updated:function(e,n,t){var r=n.value,o=n.oldValue,a=t.transition;!r!=!o&&(a?r?(a.beforeEnter(e),Oe(e,!0),a.enter(e)):a.leave(e,(function(){Oe(e,!1)})):Oe(e,r))},beforeUnmount:function(e,n){Oe(e,n.value)}};function Oe(e,n){e.style.display=n?e._vod:"none"}n.vShow=_e;var we,Se=(0,a.extend)({patchProp:function(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0;switch(n){case"class":h(e,r,o);break;case"style":m(e,t,r);break;default:(0,a.isOn)(n)?(0,a.isModelListener)(n)||A(e,n,t,r,u):N(e,n,r,o)?S(e,n,r,i,u,l,c):("true-value"===n?e._trueValue=r:"false-value"===n&&(e._falseValue=r),w(e,n,r,o))}},forcePatchProp:function(e,n){return"value"===n}},v),Ee=!1;function Te(){return we||(we=(0,o.createRenderer)(Se))}function Ce(){return we=Ee?we:(0,o.createHydrationRenderer)(Se),Ee=!0,we}function Pe(e){return(0,a.isString)(e)?document.querySelector(e):e}n.render=function(){var e;(e=Te()).render.apply(e,arguments)},n.hydrate=function(){var e;(e=Ce()).hydrate.apply(e,arguments)},n.createApp=function(){var e,n=(e=Te()).createApp.apply(e,arguments),t=n.mount;return n.mount=function(e){var r=Pe(e);if(r){var o=n._component;(0,a.isFunction)(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";var i=t(r);return r.removeAttribute("v-cloak"),r.setAttribute("data-v-app",""),i}},n},n.createSSRApp=function(){var e,n=(e=Ce()).createApp.apply(e,arguments),t=n.mount;return n.mount=function(e){var n=Pe(e);if(n)return t(n,!0)},n}},420:(e,n,t)=>{var r;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){if(e){if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){for(var t=Object.create(null),r=e.split(","),o=0;o<r.length;o++)t[r[o]]=!0;return n?function(e){return!!t[e.toLowerCase()]}:function(e){return!!t[e]}}Object.defineProperty(n,"__esModule",{value:!0}),n.escapeHtml=function(e){var n=""+e,t=T.exec(n);if(!t)return n;var r,o,a="",i=0;for(o=t.index;o<n.length;o++){switch(n.charCodeAt(o)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==o&&(a+=n.substring(i,o)),i=o+1,a+=r}return i!==o?a+n.substring(i,o):a},n.escapeHtmlComment=function(e){return e.replace(C,"")},n.generateCodeFrame=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=e.split(/\r?\n/),o=0,a=[],i=0;i<r.length;i++)if((o+=r[i].length+1)>=n){for(var u=i-2;u<=i+2||t>o;u++)if(!(u<0||u>=r.length)){var l=u+1;a.push("".concat(l).concat(" ".repeat(Math.max(3-String(l).length,0)),"|  ").concat(r[u]));var c=r[u].length;if(u===i){var s=n-(o-c)+1,f=Math.max(1,t>o?c-s:t-n);a.push("   |  "+" ".repeat(s)+"^".repeat(f))}else if(u>i){if(t>o){var d=Math.max(Math.min(t-o,c),1);a.push("   |  "+"^".repeat(d))}o+=c+1}}break}return a.join("\n")},n.isSSRSafeAttrName=function(e){if(m.hasOwnProperty(e))return m[e];var n=h.test(e);return n&&console.error("unsafe attribute name: ".concat(e)),m[e]=!n},n.looseEqual=P,n.looseIndexOf=function(e,n){return e.findIndex((function(e){return P(e,n)}))},n.makeMap=c,n.normalizeClass=function e(n){var t="";if(B(n))t=n;else if(j(n))for(var r=0;r<n.length;r++)t+=e(n[r])+" ";else if(V(n))for(var o in n)n[o]&&(t+=o+" ");return t.trim()},n.normalizeStyle=function e(n){if(j(n)){for(var t={},r=0;r<n.length;r++){var o=n[r],a=e(B(o)?O(o):o);if(a)for(var i in a)t[i]=a[i]}return t}if(V(n))return n},n.parseStringStyle=O,n.stringifyStyle=function(e){var n="";if(!e)return n;for(var t in e){var r=e[t],o=t.startsWith("--")?t:G(t);(B(r)||"number"==typeof r&&g(o))&&(n+="".concat(o,":").concat(r,";"))}return n},n.toTypeString=n.toRawType=n.toNumber=n.toHandlerKey=n.toDisplayString=n.remove=n.propsToAttrMap=n.objectToString=n.isVoidTag=n.isSymbol=n.isString=n.isSpecialBooleanAttr=n.isSet=n.isSVGTag=n.isReservedProp=n.isPromise=n.isPlainObject=n.isOn=n.isObject=n.isNoUnitNumericStyleProp=n.isModelListener=n.isMap=n.isKnownAttr=n.isIntegerKey=n.isHTMLTag=n.isGloballyWhitelisted=n.isFunction=n.isDate=n.isBooleanAttr=n.isArray=n.invokeArrayFns=n.hyphenate=n.hasOwn=n.hasChanged=n.getGlobalThis=n.extend=n.def=n.capitalize=n.camelize=n.babelParserDefaultPlugins=n.PatchFlagNames=n.NOOP=n.NO=n.EMPTY_OBJ=n.EMPTY_ARR=void 0;var s=(l(r={},1,"TEXT"),l(r,2,"CLASS"),l(r,4,"STYLE"),l(r,8,"PROPS"),l(r,16,"FULL_PROPS"),l(r,32,"HYDRATE_EVENTS"),l(r,64,"STABLE_FRAGMENT"),l(r,128,"KEYED_FRAGMENT"),l(r,256,"UNKEYED_FRAGMENT"),l(r,1024,"DYNAMIC_SLOTS"),l(r,512,"NEED_PATCH"),l(r,-1,"HOISTED"),l(r,-2,"BAIL"),r);n.PatchFlagNames=s;var f=c("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl");n.isGloballyWhitelisted=f;var d="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",p=c(d);n.isSpecialBooleanAttr=p;var v=c(d+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");n.isBooleanAttr=v;var h=/[>/="'\u0009\u000a\u000c\u0020]/,m={};n.propsToAttrMap={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"};var g=c("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width");n.isNoUnitNumericStyleProp=g;var y=c("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap");n.isKnownAttr=y;var b=/;(?![^(]*\))/g,_=/:(.+)/;function O(e){var n={};return e.split(b).forEach((function(e){if(e){var t=e.split(_);t.length>1&&(n[t[0].trim()]=t[1].trim())}})),n}var w=c("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot");n.isHTMLTag=w;var S=c("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view");n.isSVGTag=S;var E=c("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr");n.isVoidTag=E;var T=/["'&<>]/,C=/^-?>|<!--|-->|--!>|<!-$/g;function P(e,n){if(e===n)return!0;var t=N(e),r=N(n);if(t||r)return!(!t||!r)&&e.getTime()===n.getTime();if(t=j(e),r=j(n),t||r)return!(!t||!r)&&function(e,n){if(e.length!==n.length)return!1;for(var t=!0,r=0;t&&r<e.length;r++)t=P(e[r],n[r]);return t}(e,n);if(t=V(e),r=V(n),t||r){if(!t||!r)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var o in e){var a=e.hasOwnProperty(o),i=n.hasOwnProperty(o);if(a&&!i||!a&&i||!P(e[o],n[o]))return!1}}return String(e)===String(n)}n.toDisplayString=function(e){return null==e?"":V(e)?JSON.stringify(e,k,2):String(e)};var k=function(e,n){return M(n)?l({},"Map(".concat(n.size,")"),a(n.entries()).reduce((function(e,n){var t,r,o=(r=2,function(e){if(Array.isArray(e))return e}(t=n)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return t}}(t,r)||i(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],u=o[1];return e["".concat(a," =>")]=u,e}),{})):F(n)?l({},"Set(".concat(n.size,")"),a(n.values())):!V(n)||j(n)||D(n)?n:String(n)};n.babelParserDefaultPlugins=["bigInt","optionalChaining","nullishCoalescingOperator"];n.EMPTY_OBJ={};n.EMPTY_ARR=[],n.NOOP=function(){},n.NO=function(){return!1};var x=/^on[^a-z]/;n.isOn=function(e){return x.test(e)},n.isModelListener=function(e){return e.startsWith("onUpdate:")};var A=Object.assign;n.extend=A,n.remove=function(e,n){var t=e.indexOf(n);t>-1&&e.splice(t,1)};var R=Object.prototype.hasOwnProperty;n.hasOwn=function(e,n){return R.call(e,n)};var j=Array.isArray;n.isArray=j;var M=function(e){return"[object Map]"===U(e)};n.isMap=M;var F=function(e){return"[object Set]"===U(e)};n.isSet=F;var N=function(e){return e instanceof Date};n.isDate=N;var I=function(e){return"function"==typeof e};n.isFunction=I;var B=function(e){return"string"==typeof e};n.isString=B,n.isSymbol=function(e){return"symbol"===o(e)};var V=function(e){return null!==e&&"object"===o(e)};n.isObject=V,n.isPromise=function(e){return V(e)&&I(e.then)&&I(e.catch)};var L=Object.prototype.toString;n.objectToString=L;var U=function(e){return L.call(e)};n.toTypeString=U,n.toRawType=function(e){return U(e).slice(8,-1)};var D=function(e){return"[object Object]"===U(e)};n.isPlainObject=D,n.isIntegerKey=function(e){return B(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e};var H=c(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted");n.isReservedProp=H;var z=function(e){var n=Object.create(null);return function(t){return n[t]||(n[t]=e(t))}},Y=/-(\w)/g,$=z((function(e){return e.replace(Y,(function(e,n){return n?n.toUpperCase():""}))}));n.camelize=$;var K=/\B([A-Z])/g,G=z((function(e){return e.replace(K,"-$1").toLowerCase()}));n.hyphenate=G;var q=z((function(e){return e.charAt(0).toUpperCase()+e.slice(1)}));n.capitalize=q;var J,W=z((function(e){return e?"on".concat(q(e)):""}));n.toHandlerKey=W,n.hasChanged=function(e,n){return e!==n&&(e==e||n==n)},n.invokeArrayFns=function(e,n){for(var t=0;t<e.length;t++)e[t](n)},n.def=function(e,n,t){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value:t})},n.toNumber=function(e){var n=parseFloat(e);return isNaN(n)?e:n},n.getGlobalThis=function(){return J||(J="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t.g?t.g:{})}},327:(e,n)=>{Object.defineProperty(n,"X",{value:!0}),n.Z=void 0,n.Z={data:function(){return{}}}},998:(e,n)=>{Object.defineProperty(n,"X",{value:!0}),n.Z=void 0;var t={data:function(){return{value:"",dataList:""}},created:function(){var e=window.location.origin,n=this;$.ajax({url:e+"/getFile",type:"get",data:"",dataType:"json",processData:!1,contentType:!1,success:function(e){n.dataList=e,console.log(e)},fail:function(e){console.log(e)}})},methods:{btnFile:function(){$("#file").click()},chooseFile:function(e){for(var n=e.target.files.length,t=window.location.origin,r="",o="",a=new FormData,i=0;i<n;i++)o=e.target.files[i],r=e.target.files[i].name,a.append("file"+i,o),a.append("fileName"+i,r),this.value+=e.target.files[i].name+"  ";$.ajax({url:t+"/upload",type:"post",data:a,dataType:"json",processData:!1,contentType:!1,success:function(e){console.log(e)},fail:function(e){console.log(e)}}),console.log(e.target.files.length)},btnUpload:function(){}}};n.Z=t},667:()=>{},78:(e,n,t)=>{n.s=void 0;var r=t(876),o=(0,r.withScopeId)("data-v-f611589c");(0,r.pushScopeId)("data-v-f611589c");var a={id:"app"};(0,r.popScopeId)();var i=o((function(e,n,t,o,i,u){var l=(0,r.resolveComponent)("router-view");return(0,r.openBlock)(),(0,r.createBlock)("div",a,[(0,r.createVNode)(l)])}));n.s=i},393:(e,n,t)=>{n.s=void 0;var r=t(876),o=(0,r.withScopeId)("data-v-f6bece04");(0,r.pushScopeId)("data-v-f6bece04");var a={class:"index"},i=(0,r.createVNode)("h2",{class:"title"}," ",-1),u={class:"search"},l={style:{width:"10%"}},c={style:{width:"10%"}},s={class:"content"},f=(0,r.createVNode)("thead",null,[(0,r.createVNode)("tr",null,[(0,r.createVNode)("th",null,""),(0,r.createVNode)("th",null,""),(0,r.createVNode)("th",null," "),(0,r.createVNode)("th",null,""),(0,r.createVNode)("th",null,"")])],-1);(0,r.popScopeId)();var d=o((function(e,n,t,o,d,p){return(0,r.openBlock)(),(0,r.createBlock)("div",a,[i,(0,r.createVNode)("div",u,[(0,r.withDirectives)((0,r.createVNode)("input",{type:"text",class:"upload_file","onUpdate:modelValue":n[1]||(n[1]=function(e){return d.value=e})},null,512),[[r.vModelText,d.value]]),(0,r.createVNode)("div",l,[(0,r.createVNode)("input",{type:"file",style:{display:"none"},id:"file",multiple:"multiple",onChange:n[2]||(n[2]=function(e){return p.chooseFile(e)})},null,32),(0,r.createVNode)("a",{href:"javascript:;",class:"choose",onClick:n[3]||(n[3]=function(){return p.btnFile.apply(p,arguments)})},"")]),(0,r.createVNode)("div",c,[(0,r.createCommentVNode)(' <input type="file" style="display:none" @click="uploadFile"> '),(0,r.createVNode)("a",{href:"javascript:;",class:"btnUpload",onClick:n[4]||(n[4]=function(){return p.btnUpload.apply(p,arguments)})},"")])]),(0,r.createVNode)("div",s,[(0,r.createVNode)("table",null,[f,(0,r.createVNode)("tbody",null,[((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(d.dataList,(function(e,n){return(0,r.openBlock)(),(0,r.createBlock)("tr",{key:n},[(0,r.createVNode)("td",null,(0,r.toDisplayString)(e.id),1),(0,r.createVNode)("td",null,(0,r.toDisplayString)(e.url),1),(0,r.createVNode)("td",null,[(0,r.createVNode)("img",{src:e.url,alt:""},null,8,["src"])]),(0,r.createVNode)("td",null,(0,r.toDisplayString)(e.time),1),(0,r.createVNode)("td",null,(0,r.toDisplayString)(e.time),1)])})),128))])])])])}));n.s=d},137:(e,n,t)=>{n.s=function(e,n,t,a,i,u){return(0,r.openBlock)(),(0,r.createBlock)("div",o," aaaadsadasd ")};var r=t(876),o={class:"test"}},284:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createMemoryHistory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=[],t=[""],r=0;function o(e){++r===t.length||t.splice(r),t.push(e)}function a(e,t,r){var o,a={direction:r.direction,delta:r.delta,type:w.pop},i=c(n);try{for(i.s();!(o=i.n()).done;)(0,o.value)(e,t,a)}catch(e){i.e(e)}finally{i.f()}}var i={location:"",state:{},base:e,createHref:F.bind(null,e),replace:function(e){t.splice(r--,1),o(e)},push:function(e,n){o(e)},listen:function(e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}},destroy:function(){n=[]},go:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this.location,i=e<0?S.back:S.forward;r=Math.max(0,Math.min(r+e,t.length-1)),n&&a(this.location,o,{direction:i,delta:e})}};return Object.defineProperty(i,"location",{get:function(){return t[r]}}),i},n.createRouter=function(e){var n=re(e.routes,e),t=e.parseQuery||Ce,r=e.stringifyQuery||Pe,a=e.scrollBehavior,i=e.history,l=xe(),s=xe(),f=xe(),d=(0,o.shallowRef)(z),p=z;b&&a&&"scrollRestoration"in history&&(history.scrollRestoration="manual");var v,h=O.bind(null,(function(e){return""+e})),m=O.bind(null,Ee),w=O.bind(null,Te);function S(e,o){if(o=_({},o||d.value),"string"==typeof e){var a=C(t,e,o.path),u=n.resolve({path:a.path},o),l=i.createHref(a.fullPath);return _(a,u,{params:w(u.params),hash:Te(a.hash),redirectedFrom:void 0,href:l})}var c;"path"in e?c=_({},e,{path:C(t,e.path,o.path).path}):(c=_({},e,{params:m(e.params)}),o.params=m(o.params));var s=n.resolve(c,o),f=e.hash||"";s.params=h(w(s.params));var p,v=function(e,n){var t=n.query?e(n.query):"";return n.path+(t&&"?")+t+(n.hash||"")}(r,_({},e,{hash:(p=f,we(p).replace(ye,"{").replace(_e,"}").replace(me,"^")),path:s.path})),g=i.createHref(v);return _({fullPath:v,hash:f,query:r===Pe?ke(e.query):e.query},s,{redirectedFrom:void 0,href:g})}function T(e){return"string"==typeof e?{path:e}:_({},e)}function P(e,n){if(p!==e)return K(8,{from:n,to:e})}function A(e){return j(e)}function R(e){var n=e.matched[e.matched.length-1];if(n&&n.redirect){var t=n.redirect,r=T("function"==typeof t?t(e):t);return _({query:e.query,hash:e.hash,params:e.params},r)}}function j(e,n){var t=p=S(e),o=d.value,a=e.state,i=e.force,u=!0===e.replace,l=R(t);if(l)return j(_(l,{state:a,force:i,replace:u}),n||t);var c,s=t;return s.redirectedFrom=n,!i&&function(e,n,t){var r=n.matched.length-1,o=t.matched.length-1;return r>-1&&r===o&&k(n.matched[r],t.matched[o])&&x(n.params,t.params)&&e(n.query)===e(t.query)&&n.hash===t.hash}(r,o,t)&&(c=K(16,{to:s,from:o}),J(o,o,!0,!1)),(c?Promise.resolve(c):F(s,o)).catch((function(e){return G(e)?e:$(e)})).then((function(e){if(e){if(G(e,2))return j(_(T(e.to),{state:a,force:i,replace:u}),n||s)}else e=L(s,o,!0,u,a);return V(s,o,e),e}))}function M(e,n){var t=P(e,n);return t?Promise.reject(t):Promise.resolve()}function F(e,n){var t,r=u(function(e,n){for(var t=[],r=[],o=[],a=Math.max(n.matched.length,e.matched.length),i=0;i<a;i++){var u=n.matched[i];u&&(e.matched.indexOf(u)<0?t.push(u):r.push(u));var l=e.matched[i];l&&n.matched.indexOf(l)<0&&o.push(l)}return[t,r,o]}(e,n),3),o=r[0],a=r[1],i=r[2];t=je(o.reverse(),"beforeRouteLeave",e,n);var f,d=c(o);try{for(d.s();!(f=d.n()).done;){var p,v=c(f.value.leaveGuards);try{for(v.s();!(p=v.n()).done;){var h=p.value;t.push(Re(h,e,n))}}catch(e){v.e(e)}finally{v.f()}}}catch(e){d.e(e)}finally{d.f()}var m=M.bind(null,e,n);return t.push(m),rn(t).then((function(){t=[];var r,o=c(l.list());try{for(o.s();!(r=o.n()).done;){var a=r.value;t.push(Re(a,e,n))}}catch(e){o.e(e)}finally{o.f()}return t.push(m),rn(t)})).then((function(){t=je(a,"beforeRouteUpdate",e,n);var r,o=c(a);try{for(o.s();!(r=o.n()).done;){var i,u=c(r.value.updateGuards);try{for(u.s();!(i=u.n()).done;){var l=i.value;t.push(Re(l,e,n))}}catch(e){u.e(e)}finally{u.f()}}}catch(e){o.e(e)}finally{o.f()}return t.push(m),rn(t)})).then((function(){t=[];var r,o=c(e.matched);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.beforeEnter&&n.matched.indexOf(a)<0)if(Array.isArray(a.beforeEnter)){var i,u=c(a.beforeEnter);try{for(u.s();!(i=u.n()).done;){var l=i.value;t.push(Re(l,e,n))}}catch(e){u.e(e)}finally{u.f()}}else t.push(Re(a.beforeEnter,e,n))}}catch(e){o.e(e)}finally{o.f()}return t.push(m),rn(t)})).then((function(){return e.matched.forEach((function(e){return e.enterCallbacks={}})),(t=je(i,"beforeRouteEnter",e,n)).push(m),rn(t)})).then((function(){t=[];var r,o=c(s.list());try{for(o.s();!(r=o.n()).done;){var a=r.value;t.push(Re(a,e,n))}}catch(e){o.e(e)}finally{o.f()}return t.push(m),rn(t)})).catch((function(e){return G(e,8)?e:Promise.reject(e)}))}function V(e,n,t){var r,o=c(f.list());try{for(o.s();!(r=o.n()).done;)(0,r.value)(e,n,t)}catch(e){o.e(e)}finally{o.f()}}function L(e,n,t,r,o){var a=P(e,n);if(a)return a;var u=n===z,l=b?history.state:{};t&&(r||u?i.replace(e.fullPath,_({scroll:u&&l&&l.scroll},o)):i.push(e.fullPath,o)),d.value=e,J(e,n,t,u),q()}var U,D=xe(),Y=xe();function $(e){return q(e),Y.list().forEach((function(n){return n(e)})),Promise.reject(e)}function q(e){U||(U=!0,v=i.listen((function(e,n,t){var r=S(e),o=R(r);if(o)j(_(o,{replace:!0}),r).catch(E);else{p=r;var a,u,l=d.value;b&&(a=I(l.fullPath,t.delta),u=N(),B.set(a,u)),F(r,l).catch((function(e){return G(e,12)?e:G(e,2)?(t.delta&&i.go(-t.delta,!1),j(e.to,r).catch(E),Promise.reject()):(t.delta&&i.go(-t.delta,!1),$(e))})).then((function(e){(e=e||L(r,l,!1))&&t.delta&&i.go(-t.delta,!1),V(r,l,e)})).catch(E)}})),D.list().forEach((function(n){var t=u(n,2),r=t[0],o=t[1];return e?o(e):r()})),D.reset())}function J(e,n,t,r){if(!b||!a)return Promise.resolve();var i,u,l=!t&&(i=I(e.fullPath,0),u=B.get(i),B.delete(i),u)||(r||!t)&&history.state&&history.state.scroll||null;return(0,o.nextTick)().then((function(){return a(e,n,l)})).then((function(e){return e&&function(e){var n;if("el"in e){var t=e.el,r="string"==typeof t&&t.startsWith("#"),o="string"==typeof t?r?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!o)return;n=function(e,n){var t=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:n.behavior,left:r.left-t.left-(n.left||0),top:r.top-t.top-(n.top||0)}}(o,e)}else n=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(null!=n.left?n.left:window.pageXOffset,null!=n.top?n.top:window.pageYOffset)}(e)})).catch($)}var W,Z=function(e){return i.go(e)},X=new Set;return{currentRoute:d,addRoute:function(e,t){var r,o;return H(e)?(r=n.getRecordMatcher(e),o=t):o=e,n.addRoute(o,r)},removeRoute:function(e){var t=n.getRecordMatcher(e);t&&n.removeRoute(t)},hasRoute:function(e){return!!n.getRecordMatcher(e)},getRoutes:function(){return n.getRoutes().map((function(e){return e.record}))},resolve:S,options:e,push:A,replace:function(e){return A(_(T(e),{replace:!0}))},go:Z,back:function(){return Z(-1)},forward:function(){return Z(1)},beforeEach:l.add,beforeResolve:s.add,afterEach:f.add,onError:Y.add,isReady:function(){return U&&d.value!==z?Promise.resolve():new Promise((function(e,n){D.add([e,n])}))},install:function(e){var t=this;e.component("RouterLink",Fe),e.component("RouterView",Ve),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{get:function(){return(0,o.unref)(d)}}),b&&!W&&d.value===z&&(W=!0,A(i.location).catch((function(e){})));var r={},a=function(e){r[e]=(0,o.computed)((function(){return d.value[e]}))};for(var u in z)a(u);e.provide(g,t),e.provide(y,(0,o.reactive)(r));var l=e.unmount;X.add(e),e.unmount=function(){X.delete(e),X.size<1&&(v(),d.value=z,W=!1,U=!1),l.call(this,arguments)},__VUE_PROD_DEVTOOLS__&&function(e,n,t){var r=Xe++;Je.setupDevtoolsPlugin({id:" "+r,label:"Router devtools",app:e},(function(a){a.on.inspectComponent((function(e,t){e.instanceData&&e.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:We(n.currentRoute.value,"Current Route")})})),(0,o.watch)(n.currentRoute,(function(){a.notifyComponentUpdate()}));var i="router:navigations:"+r;a.addTimelineLayer({id:i,label:"Router".concat(r?" "+r:""," Navigations"),color:4237508}),n.onError((function(e){a.addTimelineEvent({layerId:i,event:{logType:"error",time:Date.now(),data:{error:e}}})})),n.beforeEach((function(e,n){var t={guard:Ze("beforeEach"),from:We(n,"Current Location during this navigation"),to:We(e,"Target location")};a.addTimelineEvent({layerId:i,event:{time:Date.now(),meta:{},data:t}})})),n.afterEach((function(e,n,t){var r={guard:Ze("afterEach")};t?(r.failure={_custom:{type:Error,readOnly:!0,display:t?t.message:"",tooltip:"Navigation Failure",value:t}},r.status=Ze("")):r.status=Ze(""),r.from=We(n,"Current Location during this navigation"),r.to=We(e,"Target location"),a.addTimelineEvent({layerId:i,event:{time:Date.now(),data:r,logType:t?"warning":"default",meta:{}}})}));var u="router-inspector:"+r;a.addInspector({id:u,label:"Routes"+(r?" "+r:""),icon:"book",treeFilterPlaceholder:"Search routes"}),a.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===u){var r=t.getRoutes();n.filter&&(r=r.filter((function(e){return!e.parent&&tn(e,n.filter.toLowerCase())}))),n.filter||r.forEach((function(e){e.__vd_match=!1})),n.rootNodes=r.map(en)}})),a.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===u){var r=t.getRoutes().find((function(e){return e.record.path===n.nodeId}));r&&(n.state={options:Qe(r)})}}))}))}(e,t,n)}}},n.createRouterMatcher=re,n.createWebHashHistory=function(e){return(e=location.host?e||location.pathname:"").indexOf("#")<0&&(e+="#"),D(e)},n.createWebHistory=D,n.isNavigationFailure=G,n.onBeforeRouteLeave=function(e){var n=(0,o.inject)(h,{}).value;n&&Ae(n.leaveGuards,e)},n.onBeforeRouteUpdate=function(e){var n=(0,o.inject)(h,{}).value;n&&Ae(n.updateGuards,e)},n.parseQuery=Ce,n.stringifyQuery=Pe,n.useLink=Me,n.useRoute=function(){return(0,o.inject)(y)},n.useRouter=function(){return(0,o.inject)(g)},n.routerKey=n.routeLocationKey=n.START_LOCATION=n.RouterView=n.RouterLink=n.NavigationFailureType=void 0;var r,o=t(876);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return t}}(e,n)||s(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=s(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw a}}}}function s(e,n){if(e){if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p="function"==typeof Symbol&&"symbol"===d(Symbol.toStringTag),v=function(e){return p?Symbol(e):"_vr_"+e},h=v("rvlm"),m=v("rvd"),g=v("r");n.routerKey=g;var y=v("rl");n.routeLocationKey=y;var b="undefined"!=typeof window,_=Object.assign;function O(e,n){var t={};for(var r in n){var o=n[r];t[r]=Array.isArray(o)?o.map(e):e(o)}return t}var w,S,E=function(){},T=/\/$/;function C(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",o={},a="",i="",u=n.indexOf("?"),l=n.indexOf("#",u>-1?u:0);return u>-1&&(t=n.slice(0,u),o=e(a=n.slice(u+1,l>-1?l:n.length))),l>-1&&(t=t||n.slice(0,l),i=n.slice(l,n.length)),{fullPath:(t=j(null!=t?t:n,r))+(a&&"?")+a+i,path:t,query:o,hash:i}}function P(e,n){return!n||e.toLowerCase().indexOf(n.toLowerCase())?e:e.slice(n.length)||"/"}function k(e,n){return(e.aliasOf||e)===(n.aliasOf||n)}function x(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var t in e)if(!A(e[t],n[t]))return!1;return!0}function A(e,n){return Array.isArray(e)?R(e,n):Array.isArray(n)?R(n,e):e===n}function R(e,n){return Array.isArray(n)?e.length===n.length&&e.every((function(e,t){return e===n[t]})):1===e.length&&e[0]===n}function j(e,n){if(e.startsWith("/"))return e;if(!e)return n;var t,r,o=n.split("/"),a=e.split("/"),i=o.length-1;for(t=0;t<a.length;t++)if(r=a[t],1!==i&&"."!==r){if(".."!==r)break;i--}return o.slice(0,i).join("/")+"/"+a.slice(t-(t===a.length?1:0)).join("/")}!function(e){e.pop="pop",e.push="push"}(w||(w={})),function(e){e.back="back",e.forward="forward",e.unknown=""}(S||(S={}));var M=/^[^#]+#/;function F(e,n){return e.replace(M,"#")+n}var N=function(){return{left:window.pageXOffset,top:window.pageYOffset}};function I(e,n){return(history.state?history.state.position-n:-1)+e}var B=new Map,V=function(){return location.protocol+"//"+location.host};function L(e,n){var t=n.pathname,r=n.search,o=n.hash;if(e.indexOf("#")>-1){var a=o.slice(1);return"/"!==a[0]&&(a="/"+a),P(a,"")}return P(t,e)+r+o}function U(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{back:e,current:n,forward:t,replaced:r,position:window.history.length,scroll:o?N():null}}function D(e){var n=function(e){var n=window,t=n.history,r=n.location,o={value:L(e,r)},a={value:t.state};function i(n,o,i){var u=e.indexOf("#"),l=u>-1?e.slice(u)+n:V()+e+n;try{t[i?"replaceState":"pushState"](o,"",l),a.value=o}catch(e){console.error(e),r[i?"replace":"assign"](l)}}return a.value||i(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:o,state:a,push:function(e,n){var r=_({},a.value,t.state,{forward:e,scroll:N()});i(r.current,r,!0),i(e,_({},U(o.value,e,null),{position:r.position+1},n),!1),o.value=e},replace:function(e,n){i(e,_({},t.state,U(a.value.back,e,a.value.forward,!0),n,{position:a.value.position}),!0),o.value=e}}}(e=function(e){if(!e)if(b){var n=document.querySelector("base");e=(e=n&&n.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(T,"")}(e)),t=function(e,n,t,r){var o=[],a=[],i=null,u=function(a){var u=a.state,l=L(e,location),c=t.value,s=n.value,f=0;if(u){if(t.value=l,n.value=u,i&&i===c)return void(i=null);f=s?u.position-s.position:0}else r(l);o.forEach((function(e){e(t.value,c,{delta:f,type:w.pop,direction:f?f>0?S.forward:S.back:S.unknown})}))};function l(){var e=window.history;e.state&&e.replaceState(_({},e.state,{scroll:N()}),"")}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",l),{pauseListeners:function(){i=t.value},listen:function(e){o.push(e);var n=function(){var n=o.indexOf(e);n>-1&&o.splice(n,1)};return a.push(n),n},destroy:function(){var e,n=c(a);try{for(n.s();!(e=n.n()).done;)(0,e.value)()}catch(e){n.e(e)}finally{n.f()}a=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",l)}}}(e,n.state,n.location,n.replace),r=_({location:"",base:e,go:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n||t.pauseListeners(),history.go(e)},createHref:F.bind(null,e)},n,t);return Object.defineProperty(r,"location",{get:function(){return n.location.value}}),Object.defineProperty(r,"state",{get:function(){return n.state.value}}),r}function H(e){return"string"==typeof e||"symbol"===d(e)}var z={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};n.START_LOCATION=z;var Y,$=v("nf");function K(e,n){return _(new Error,l({type:e},$,!0),n)}function G(e,n){return e instanceof Error&&$ in e&&(null==n||!!(e.type&n))}n.NavigationFailureType=Y,function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(Y||(n.NavigationFailureType=Y={})),l(r={},1,(function(e){var n=e.location,t=e.currentLocation;return"No match for\n ".concat(JSON.stringify(n)).concat(t?"\nwhile being at\n"+JSON.stringify(t):"")})),l(r,2,(function(e){var n=e.from,t=e.to;return'Redirected from "'.concat(n.fullPath,'" to "').concat(function(e){if("string"==typeof e)return e;if("path"in e)return e.path;var n,t={},r=c(q);try{for(r.s();!(n=r.n()).done;){var o=n.value;o in e&&(t[o]=e[o])}}catch(e){r.e(e)}finally{r.f()}return JSON.stringify(t,null,2)}(t),'" via a navigation guard.')})),l(r,4,(function(e){var n=e.from,t=e.to;return'Navigation aborted from "'.concat(n.fullPath,'" to "').concat(t.fullPath,'" via a navigation guard.')})),l(r,8,(function(e){var n=e.from,t=e.to;return'Navigation cancelled from "'.concat(n.fullPath,'" to "').concat(t.fullPath,'" with a new navigation.')})),l(r,16,(function(e){var n=e.from;return e.to,'Avoided redundant navigation to current location: "'.concat(n.fullPath,'".')}));var q=["params","query","hash"],J="[^/]+?",W={sensitive:!1,strict:!1,start:!0,end:!0},Z=/[.+*?^${}()[\]/\\]/g;function X(e,n){for(var t=0;t<e.length&&t<n.length;){var r=n[t]-e[t];if(r)return r;t++}return e.length<n.length?1===e.length&&80===e[0]?-1:1:e.length>n.length?1===n.length&&80===n[0]?1:-1:0}function Q(e,n){for(var t=0,r=e.score,o=n.score;t<r.length&&t<o.length;){var a=X(r[t],o[t]);if(a)return a;t++}return o.length-r.length}var ee={type:0,value:""},ne=/[a-zA-Z0-9_]/;function te(e,n,t){var r=function(e,n){var t,r=_({},W,n),o=[],a=r.start?"^":"",i=[],u=c(e);try{for(u.s();!(t=u.n()).done;){var l=t.value,s=l.length?[]:[90];r.strict&&!l.length&&(a+="/");for(var f=0;f<l.length;f++){var d=l[f],p=40+(r.sensitive?.25:0);if(0===d.type)f||(a+="/"),a+=d.value.replace(Z,"\\$&"),p+=40;else if(1===d.type){var v=d.value,h=d.repeatable,m=d.optional,g=d.regexp;i.push({name:v,repeatable:h,optional:m});var y=g||J;if(y!==J){p+=10;try{new RegExp("(".concat(y,")"))}catch(e){throw new Error('Invalid custom RegExp for param "'.concat(v,'" (').concat(y,"): ")+e.message)}}var b=h?"((?:".concat(y,")(?:/(?:").concat(y,"))*)"):"(".concat(y,")");f||(b=m?"(?:/".concat(b,")"):"/"+b),m&&(b+="?"),a+=b,p+=20,m&&(p+=-8),h&&(p+=-20),".*"===y&&(p+=-50)}s.push(p)}o.push(s)}}catch(e){u.e(e)}finally{u.f()}if(r.strict&&r.end){var O=o.length-1;o[O][o[O].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&(a+="(?:/|$)");var w=new RegExp(a,r.sensitive?"":"i");return{re:w,score:o,keys:i,parse:function(e){var n=e.match(w),t={};if(!n)return null;for(var r=1;r<n.length;r++){var o=n[r]||"",a=i[r-1];t[a.name]=o&&a.repeatable?o.split("/"):o}return t},stringify:function(n){var t,r="",o=!1,a=c(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;o&&r.endsWith("/")||(r+="/"),o=!1;var u,l=c(i);try{for(l.s();!(u=l.n()).done;){var s=u.value;if(0===s.type)r+=s.value;else if(1===s.type){var f=s.value,d=s.repeatable,p=s.optional,v=f in n?n[f]:"";if(Array.isArray(v)&&!d)throw new Error('Provided param "'.concat(f,'" is an array but it is not repeatable (* or + modifiers)'));var h=Array.isArray(v)?v.join("/"):v;if(!h){if(!p)throw new Error('Missing required param "'.concat(f,'"'));r.endsWith("/")?r=r.slice(0,-1):o=!0}r+=h}}}catch(e){l.e(e)}finally{l.f()}}}catch(e){a.e(e)}finally{a.f()}return r}}}(function(e){if(!e)return[[]];if("/"===e)return[[ee]];if(!e.startsWith("/"))throw new Error('Invalid path "'.concat(e,'"'));function n(e){throw new Error("ERR (".concat(r,')/"').concat(c,'": ').concat(e))}var t,r=0,o=r,a=[];function i(){t&&a.push(t),t=[]}var u,l=0,c="",s="";function f(){c&&(0===r?t.push({type:0,value:c}):1===r||2===r||3===r?(t.length>1&&("*"===u||"+"===u)&&n("A repeatable param (".concat(c,") must be alone in its segment. eg: '/:ids+.")),t.push({type:1,value:c,regexp:s,repeatable:"*"===u||"+"===u,optional:"*"===u||"?"===u})):n("Invalid state to consume buffer"),c="")}function d(){c+=u}for(;l<e.length;)if("\\"!==(u=e[l++])||2===r)switch(r){case 0:"/"===u?(c&&f(),i()):":"===u?(f(),r=1):d();break;case 4:d(),r=o;break;case 1:"("===u?(r=2,s=""):ne.test(u)?d():(f(),r=0,"*"!==u&&"?"!==u&&"+"!==u&&l--);break;case 2:")"===u?"\\"==s[s.length-1]?s=s.slice(0,-1)+u:r=3:s+=u;break;case 3:f(),r=0,"*"!==u&&"?"!==u&&"+"!==u&&l--;break;default:n("Unknown state")}else o=r,r=4;return 2===r&&n('Unfinished custom RegExp for param "'.concat(c,'"')),f(),i(),a}(e.path),t),o=_(r,{record:e,parent:n,children:[],alias:[]});return n&&!o.record.aliasOf==!n.record.aliasOf&&n.children.push(o),o}function re(e,n){var t=[],r=new Map;function o(e,t,r){var u=!r,l=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:oe(e),children:e.children||[],instances:{},leaveGuards:[],updateGuards:[],enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);l.aliasOf=r&&r.record;var s,f,d=ue(n,e),p=[l];if("alias"in e){var v,h=c("string"==typeof e.alias?[e.alias]:e.alias);try{for(h.s();!(v=h.n()).done;){var m=v.value;p.push(_({},l,{components:r?r.record.components:l.components,path:m,aliasOf:r?r.record:l}))}}catch(e){h.e(e)}finally{h.f()}}for(var g=0,y=p;g<y.length;g++){var b=y[g],O=b.path;if(t&&"/"!==O[0]){var w=t.record.path,S="/"===w[w.length-1]?"":"/";b.path=t.record.path+(O&&S+O)}if(s=te(b,t,d),r?r.alias.push(s):((f=f||s)!==s&&f.alias.push(s),u&&e.name&&!ae(s)&&a(e.name)),"children"in l)for(var T=l.children,C=0;C<T.length;C++)o(T[C],s,r&&r.children[C]);r=r||s,i(s)}return f?function(){a(f)}:E}function a(e){if(H(e)){var n=r.get(e);n&&(r.delete(e),t.splice(t.indexOf(n),1),n.children.forEach(a),n.alias.forEach(a))}else{var o=t.indexOf(e);o>-1&&(t.splice(o,1),e.record.name&&r.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function i(e){for(var n=0;n<t.length&&Q(e,t[n])>=0;)n++;t.splice(n,0,e),e.record.name&&!ae(e)&&r.set(e.record.name,e)}return n=ue({strict:!1,end:!0,sensitive:!1},n),e.forEach((function(e){return o(e)})),{addRoute:o,resolve:function(e,n){var o,a,i,u={};if("name"in e&&e.name){if(!(o=r.get(e.name)))throw K(1,{location:e});i=o.record.name,u=_(function(e,n){var t,r={},o=c(n);try{for(o.s();!(t=o.n()).done;){var a=t.value;a in e&&(r[a]=e[a])}}catch(e){o.e(e)}finally{o.f()}return r}(n.params,o.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}))),e.params),a=o.stringify(u)}else if("path"in e)a=e.path,(o=t.find((function(e){return e.re.test(a)})))&&(u=o.parse(a),i=o.record.name);else{if(!(o=n.name?r.get(n.name):t.find((function(e){return e.re.test(n.path)}))))throw K(1,{location:e,currentLocation:n});i=o.record.name,u=_({},n.params,e.params),a=o.stringify(u)}for(var l=[],s=o;s;)l.unshift(s.record),s=s.parent;return{name:i,path:a,params:u,matched:l,meta:ie(l)}},removeRoute:a,getRoutes:function(){return t},getRecordMatcher:function(e){return r.get(e)}}}function oe(e){var n={},t=e.props||!1;if("component"in e)n.default=t;else for(var r in e.components)n[r]="boolean"==typeof t?t:t[r];return n}function ae(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ie(e){return e.reduce((function(e,n){return _(e,n.meta)}),{})}function ue(e,n){var t={};for(var r in e)t[r]=r in n?n[r]:e[r];return t}var le=/#/g,ce=/&/g,se=/\//g,fe=/=/g,de=/\?/g,pe=/\+/g,ve=/%5B/g,he=/%5D/g,me=/%5E/g,ge=/%60/g,ye=/%7B/g,be=/%7C/g,_e=/%7D/g,Oe=/%20/g;function we(e){return encodeURI(""+e).replace(be,"|").replace(ve,"[").replace(he,"]")}function Se(e){return we(e).replace(pe,"%2B").replace(Oe,"+").replace(le,"%23").replace(ce,"%26").replace(ge,"`").replace(ye,"{").replace(_e,"}").replace(me,"^")}function Ee(e){return function(e){return we(e).replace(le,"%23").replace(de,"%3F")}(e).replace(se,"%2F")}function Te(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}function Ce(e){var n={};if(""===e||"?"===e)return n;for(var t=("?"===e[0]?e.slice(1):e).split("&"),r=0;r<t.length;++r){var o=t[r].replace(pe," "),a=o.indexOf("="),i=Te(a<0?o:o.slice(0,a)),u=a<0?null:Te(o.slice(a+1));if(i in n){var l=n[i];Array.isArray(l)||(l=n[i]=[l]),l.push(u)}else n[i]=u}return n}function Pe(e){var n="";for(var t in e){n.length&&(n+="&");var r=e[t];if(t=Se(t).replace(fe,"%3D"),null!=r)for(var o=Array.isArray(r)?r.map((function(e){return e&&Se(e)})):[r&&Se(r)],a=0;a<o.length;a++)n+=(a?"&":"")+t,null!=o[a]&&(n+="="+o[a]);else void 0!==r&&(n+=t)}return n}function ke(e){var n={};for(var t in e){var r=e[t];void 0!==r&&(n[t]=Array.isArray(r)?r.map((function(e){return null==e?null:""+e})):null==r?r:""+r)}return n}function xe(){var e=[];return{add:function(n){return e.push(n),function(){var t=e.indexOf(n);t>-1&&e.splice(t,1)}},list:function(){return e},reset:function(){e=[]}}}function Ae(e,n){var t=function(){var t=e.indexOf(n);t>-1&&e.splice(t,1)};(0,o.onUnmounted)(t),(0,o.onDeactivated)(t),(0,o.onActivated)((function(){e.indexOf(n)<0&&e.push(n)})),e.push(n)}function Re(e,n,t,r,o){var a=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return function(){return new Promise((function(i,u){var l=function(e){var l;!1===e?u(K(4,{from:t,to:n})):e instanceof Error?u(e):"string"==typeof(l=e)||l&&"object"===d(l)?u(K(2,{from:n,to:e})):(a&&r.enterCallbacks[o]===a&&"function"==typeof e&&a.push(e),i())},c=e.call(r&&r.instances[o],n,t,l),s=Promise.resolve(c);e.length<3&&(s=s.then(l)),s.catch((function(e){return u(e)}))}))}}function je(e,n,t,r){var o,a=[],i=c(e);try{var u=function(){var e=o.value,i=function(o){var i=e.components[o];if("beforeRouteEnter"!==n&&!e.instances[o])return"continue";if(function(e){return"object"===d(e)||"displayName"in e||"props"in e||"__vccOpts"in e}(i)){var u=(i.__vccOpts||i)[n];u&&a.push(Re(u,t,r,e,o))}else{var l=i();l=l.catch(console.error),a.push((function(){return l.then((function(a){if(!a)return Promise.reject(new Error("Couldn't resolve component \"".concat(o,'" at "').concat(e.path,'"')));var i,u=(i=a).__esModule||p&&"Module"===i[Symbol.toStringTag]?a.default:a;e.components[o]=u;var l=u[n];return l&&Re(l,t,r,e,o)()}))}))}};for(var u in e.components)i(u)};for(i.s();!(o=i.n()).done;)u()}catch(e){i.e(e)}finally{i.f()}return a}function Me(e){var n=(0,o.inject)(g),t=(0,o.inject)(y),r=(0,o.computed)((function(){return n.resolve((0,o.unref)(e.to))})),a=(0,o.computed)((function(){var e=r.value.matched,n=e.length,o=e[n-1],a=t.matched;if(!o||!a.length)return-1;var i=a.findIndex(k.bind(null,o));if(i>-1)return i;var u=Ie(e[n-2]);return n>1&&Ie(o)===u&&a[a.length-1].path!==u?a.findIndex(k.bind(null,e[n-2])):i})),i=(0,o.computed)((function(){return a.value>-1&&function(e,n){var t=function(t){var r=n[t],o=e[t];if("string"==typeof r){if(r!==o)return{v:!1}}else if(!Array.isArray(o)||o.length!==r.length||r.some((function(e,n){return e!==o[n]})))return{v:!1}};for(var r in n){var o=t(r);if("object"===d(o))return o.v}return!0}(t.params,r.value.params)})),u=(0,o.computed)((function(){return a.value>-1&&a.value===t.matched.length-1&&x(t.params,r.value.params)}));return{route:r,href:(0,o.computed)((function(){return r.value.href})),isActive:i,isExactActive:u,navigate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ne(t)?n[(0,o.unref)(e.replace)?"replace":"push"]((0,o.unref)(e.to)):Promise.resolve()}}}var Fe=(0,o.defineComponent)({name:"RouterLink",props:{to:{type:[String,Object],required:!0},activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup:function(e,n){var t=n.slots,r=n.attrs,a=(0,o.reactive)(Me(e)),i=(0,o.inject)(g).options,u=(0,o.computed)((function(){var n;return l(n={},Be(e.activeClass,i.linkActiveClass,"router-link-active"),a.isActive),l(n,Be(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active"),a.isExactActive),n}));return function(){var n=t.default&&t.default(a);return e.custom?n:(0,o.h)("a",_({"aria-current":a.isExactActive?e.ariaCurrentValue:null,onClick:a.navigate,href:a.href},r,{class:u.value}),n)}}});function Ne(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}function Ie(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}n.RouterLink=Fe;var Be=function(e,n,t){return null!=e?e:null!=n?n:t},Ve=(0,o.defineComponent)({name:"RouterView",props:{name:{type:String,default:"default"},route:Object},setup:function(e,n){var t=n.attrs,r=n.slots,a=(0,o.inject)(y),i=(0,o.inject)(m,0),l=(0,o.computed)((function(){return(e.route||a).matched[i]}));(0,o.provide)(m,i+1),(0,o.provide)(h,l);var c=(0,o.ref)();return(0,o.watch)((function(){return[c.value,l.value,e.name]}),(function(e,n){var t=u(e,3),r=t[0],o=t[1],a=t[2],i=u(n,3),l=i[0],c=i[1];i[2],o&&(o.instances[a]=r,c&&r===l&&(o.leaveGuards=c.leaveGuards,o.updateGuards=c.updateGuards)),!r||!o||c&&k(o,c)&&l||(o.enterCallbacks[a]||[]).forEach((function(e){return e(r)}))}),{flush:"post"}),function(){var n=e.route||a,i=l.value,u=i&&i.components[e.name],s=e.name;if(!u)return r.default?r.default({Component:u,route:n}):null;var f=i.props[e.name],d=f?!0===f?n.params:"function"==typeof f?f(n):f:null,p=(0,o.h)(u,_({},d,t,{onVnodeUnmounted:function(e){e.component.isUnmounted&&(i.instances[s]=null)},ref:c}));return r.default?r.default({Component:p,route:n}):p}}});n.RouterView=Ve;var Le="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{};function Ue(e,n,t){return e(t={path:n,exports:{},require:function(e,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&t.path)}},t.exports),t.exports}var De=Ue((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hook=n.target=n.isBrowser=void 0,n.isBrowser="undefined"!=typeof navigator,n.target=n.isBrowser?window:void 0!==Le?Le:{},n.hook=n.target.__VUE_DEVTOOLS_GLOBAL_HOOK__})),He=Ue((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ApiHookEvents=void 0,(n.ApiHookEvents||(n.ApiHookEvents={})).SETUP_DEVTOOLS_PLUGIN="devtools-plugin:setup"})),ze=Ue((function(e,n){Object.defineProperty(n,"__esModule",{value:!0})})),Ye=Ue((function(e,n){Object.defineProperty(n,"__esModule",{value:!0})})),$e=Ue((function(e,n){Object.defineProperty(n,"__esModule",{value:!0})})),Ke=Ue((function(e,n){Object.defineProperty(n,"__esModule",{value:!0})})),Ge=Ue((function(e,n){var t;Object.defineProperty(n,"__esModule",{value:!0}),n.Hooks=void 0,(t=n.Hooks||(n.Hooks={})).TRANSFORM_CALL="transformCall",t.GET_APP_RECORD_NAME="getAppRecordName",t.GET_APP_ROOT_INSTANCE="getAppRootInstance",t.REGISTER_APPLICATION="registerApplication",t.WALK_COMPONENT_TREE="walkComponentTree",t.WALK_COMPONENT_PARENTS="walkComponentParents",t.INSPECT_COMPONENT="inspectComponent",t.GET_COMPONENT_BOUNDS="getComponentBounds",t.GET_COMPONENT_NAME="getComponentName",t.GET_ELEMENT_COMPONENT="getElementComponent",t.GET_INSPECTOR_TREE="getInspectorTree",t.GET_INSPECTOR_STATE="getInspectorState"})),qe=Ue((function(e,n){var t=Le&&Le.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),r=Le&&Le.__exportStar||function(e,n){for(var r in e)"default"===r||n.hasOwnProperty(r)||t(n,e,r)};Object.defineProperty(n,"__esModule",{value:!0}),r(ze,n),r(Ye,n),r($e,n),r(Ke,n),r(Ge,n)})),Je=Ue((function(e,n){var t=Le&&Le.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),r=Le&&Le.__exportStar||function(e,n){for(var r in e)"default"===r||n.hasOwnProperty(r)||t(n,e,r)};Object.defineProperty(n,"__esModule",{value:!0}),n.setupDevtoolsPlugin=void 0,r(qe,n),n.setupDevtoolsPlugin=function(e,n){De.hook?De.hook.emit(He.ApiHookEvents.SETUP_DEVTOOLS_PLUGIN,e,n):(De.target.__VUE_DEVTOOLS_PLUGINS__=De.target.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:n})}}));function We(e,n){var t=i(i({},e),{},{matched:e.matched.map((function(e){return e.instances,e.children,e.aliasOf,function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,["instances","children","aliasOf"])}))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:n,value:t}}}function Ze(e){return{_custom:{display:e}}}var Xe=0;function Qe(e){var n=e.record,t=[{editable:!1,key:"path",value:n.path}];return null!=n.name&&t.push({editable:!1,key:"name",value:n.name}),t.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&t.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map((function(e){return"".concat(e.name).concat(function(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}(e))})).join(" "),tooltip:"Param keys",value:e.keys}}}),null!=n.redirect&&t.push({editable:!1,key:"redirect",value:n.redirect}),e.alias.length&&t.push({editable:!1,key:"aliases",value:e.alias.map((function(e){return e.record.path}))}),t.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map((function(e){return e.join(", ")})).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),t}function en(e){var n=[],t=e.record;return null!=t.name&&n.push({label:String(t.name),textColor:0,backgroundColor:48340}),t.aliasOf&&n.push({label:"alias",textColor:0,backgroundColor:16750671}),e.__vd_match&&n.push({label:"matches",textColor:0,backgroundColor:16053492}),t.redirect&&n.push({label:"redirect: "+("string"==typeof t.redirect?t.redirect:"Object"),textColor:16777215,backgroundColor:6710886}),{id:t.path,label:t.path,tags:n,children:e.children.map(en)}}var nn=/^\/(.*)\/([a-z]*)$/;function tn(e,n){var t=String(e.re).match(nn);if(e.__vd_match=!1,!t||t.length<3)return!1;if(new RegExp(t[1].replace(/\$$/,""),t[2]).test(n))return e.children.some((function(e){return tn(e,n)})),("/"!==e.record.path||"/"===n)&&(e.__vd_match=e.re.test(n),!0);var r=e.record.path.toLowerCase(),o=Te(r);return!(n.startsWith("/")||!o.includes(n)&&!r.includes(n))||!(!o.startsWith(n)&&!r.startsWith(n))||!(!e.record.name||!String(e.record.name).includes(n))||e.children.some((function(e){return tn(e,n)}))}function rn(e){return e.reduce((function(e,n){return e.then((function(){return n()}))}),Promise.resolve())}},876:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});var r={compile:!0};n.compile=void 0;var o=t(391);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))})),t(420),n.compile=function(){}},207:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t(284);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=a();if(n&&n.has(e))return n.get(e);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=r?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(t,i,u):t[i]=e[i]}return t.default=e,n&&n.set(e,t),t}var u=[{path:"/",component:function(){return Promise.resolve().then((function(){return i(t(286))}))}},{path:"/index",component:function(){return Promise.resolve().then((function(){return i(t(286))}))}},{path:"/test",component:function(){return Promise.resolve().then((function(){return i(t(504))}))}}],l=(0,r.createRouter)({history:(0,r.createWebHashHistory)(),routes:u});n.default=l},443:(e,n,t)=>{t.r(n),t.d(n,{__esModule:()=>o.X,default:()=>a});var r=t(78),o=t(327);o.Z.render=r.s,o.Z.__scopeId="data-v-f611589c";const a=o.Z},286:(e,n,t)=>{t.r(n),t.d(n,{__esModule:()=>o.X,default:()=>a});var r=t(393),o=t(998);o.Z.render=r.s,o.Z.__scopeId="data-v-f6bece04";const a=o.Z},504:(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});var r=t(249),o=t(955),a={};for(const e in o)"default"!==e&&(a[e]=()=>o[e]);t.d(n,a),o.default.render=r.s;const i=o.default},955:(e,n,t)=>{t.r(n),t.d(n,{default:()=>o.a});var r=t(667),o=t.n(r),a={};for(const e in r)"default"!==e&&(a[e]=()=>r[e]);t.d(n,a)},249:(e,n,t)=>{t.d(n,{s:()=>r.s});var r=t(137)}},n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{}};return e[r](o,o.exports,t),o.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=t(876),n=o(t(443)),r=o(t(207));function o(e){return e&&e.__esModule?e:{default:e}}(0,e.createApp)(n.default).use(r.default).mount("#root")})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wdWJsaWMvLi9ub2RlX21vZHVsZXMvQHZ1ZS9yZWFjdGl2aXR5L2Rpc3QvcmVhY3Rpdml0eS5lc20tYnVuZGxlci5qcyIsIndlYnBhY2s6Ly9wdWJsaWMvLi9ub2RlX21vZHVsZXMvQHZ1ZS9ydW50aW1lLWNvcmUvZGlzdC9ydW50aW1lLWNvcmUuZXNtLWJ1bmRsZXIuanMiLCJ3ZWJwYWNrOi8vcHVibGljLy4vbm9kZV9tb2R1bGVzL0B2dWUvcnVudGltZS1kb20vZGlzdC9ydW50aW1lLWRvbS5lc20tYnVuZGxlci5qcyIsIndlYnBhY2s6Ly9wdWJsaWMvLi9ub2RlX21vZHVsZXMvQHZ1ZS9zaGFyZWQvZGlzdC9zaGFyZWQuZXNtLWJ1bmRsZXIuanMiLCJ3ZWJwYWNrOi8vcHVibGljLy4vc3JjL0FwcC52dWUiLCJ3ZWJwYWNrOi8vcHVibGljLy4vc3JjL2NvbXBvbmVudHMvSW5kZXgudnVlIiwid2VicGFjazovL3B1YmxpYy8uL3NyYy9jb21wb25lbnRzL1Rlc3QudnVlIiwid2VicGFjazovL3B1YmxpYy8uL25vZGVfbW9kdWxlcy92dWUtcm91dGVyL2Rpc3QvdnVlLXJvdXRlci5lc20tYnVuZGxlci5qcyIsIndlYnBhY2s6Ly9wdWJsaWMvLi9ub2RlX21vZHVsZXMvdnVlL2Rpc3QvdnVlLnJ1bnRpbWUuZXNtLWJ1bmRsZXIuanMiLCJ3ZWJwYWNrOi8vcHVibGljLy4vc3JjL3JvdXRlci5qcyIsIndlYnBhY2s6Ly9wdWJsaWMvLi9zcmMvQXBwLnZ1ZT9kMTU0Iiwid2VicGFjazovL3B1YmxpYy8uL3NyYy9jb21wb25lbnRzL0luZGV4LnZ1ZT80YjlkIiwid2VicGFjazovL3B1YmxpYy8uL3NyYy9jb21wb25lbnRzL1Rlc3QudnVlPzc3YTgiLCJ3ZWJwYWNrOi8vcHVibGljL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3B1YmxpYy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9wdWJsaWMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3B1YmxpYy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3B1YmxpYy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3B1YmxpYy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3B1YmxpYy8uL21haW4uanMiXSwibmFtZXMiOlsiZ2V0dGVyT3JPcHRpb25zIiwiZ2V0dGVyIiwic2V0dGVyIiwiaXNGdW5jdGlvbiIsIk5PT1AiLCJnZXQiLCJzZXQiLCJDb21wdXRlZFJlZkltcGwiLCJmYWN0b3J5IiwiQ3VzdG9tUmVmSW1wbCIsInZhbHVlIiwiaXNSZWFjdGl2ZSIsImlzUmVhZG9ubHkiLCJkZWYiLCJvYmplY3RXaXRoUmVmcyIsIlByb3h5Iiwic2hhbGxvd1Vud3JhcEhhbmRsZXJzIiwiY3JlYXRlUmVmIiwidGFyZ2V0IiwiY3JlYXRlUmVhY3RpdmVPYmplY3QiLCJzaGFsbG93UmVhY3RpdmVIYW5kbGVycyIsInNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMiLCJzaGFsbG93UmVhZG9ubHlIYW5kbGVycyIsInJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzIiwiZWZmZWN0IiwiYWN0aXZlIiwiY2xlYW51cCIsIm9wdGlvbnMiLCJvblN0b3AiLCJvYmplY3QiLCJyZXQiLCJpc0FycmF5IiwiQXJyYXkiLCJsZW5ndGgiLCJrZXkiLCJ0b1JlZiIsInJlZiIsInRyaWdnZXIiLCJ0b1JhdyIsImFjdGl2ZUVmZmVjdCIsInRhcmdldE1hcCIsIldlYWtNYXAiLCJlZmZlY3RTdGFjayIsIklURVJBVEVfS0VZIiwiU3ltYm9sIiwiTUFQX0tFWV9JVEVSQVRFX0tFWSIsImlzRWZmZWN0IiwiZm4iLCJfaXNFZmZlY3QiLCJFTVBUWV9PQkoiLCJyYXciLCJjcmVhdGVSZWFjdGl2ZUVmZmVjdCIsImxhenkiLCJ1aWQiLCJzY2hlZHVsZXIiLCJ1bmRlZmluZWQiLCJpbmNsdWRlcyIsImVuYWJsZVRyYWNraW5nIiwicHVzaCIsInBvcCIsInJlc2V0VHJhY2tpbmciLCJpZCIsImFsbG93UmVjdXJzZSIsImRlcHMiLCJpIiwic2hvdWxkVHJhY2siLCJ0cmFja1N0YWNrIiwicGF1c2VUcmFja2luZyIsImxhc3QiLCJ0cmFjayIsInR5cGUiLCJkZXBzTWFwIiwiTWFwIiwiZGVwIiwiU2V0IiwiaGFzIiwiYWRkIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsIm9sZFRhcmdldCIsImVmZmVjdHMiLCJlZmZlY3RzVG9BZGQiLCJmb3JFYWNoIiwiaXNJbnRlZ2VyS2V5IiwiaXNNYXAiLCJidWlsdEluU3ltYm9scyIsIk9iamVjdCIsImdldE93blByb3BlcnR5TmFtZXMiLCJtYXAiLCJmaWx0ZXIiLCJpc1N5bWJvbCIsImNyZWF0ZUdldHRlciIsInNoYWxsb3dHZXQiLCJyZWFkb25seUdldCIsInNoYWxsb3dSZWFkb25seUdldCIsImFycmF5SW5zdHJ1bWVudGF0aW9ucyIsInNoYWxsb3ciLCJyZWNlaXZlciIsInJlYWRvbmx5TWFwIiwicmVhY3RpdmVNYXAiLCJ0YXJnZXRJc0FycmF5IiwiaGFzT3duIiwiUmVmbGVjdCIsInJlcyIsImlzUmVmIiwiaXNPYmplY3QiLCJyZWFkb25seSIsInJlYWN0aXZlIiwibWV0aG9kIiwicHJvdG90eXBlIiwiYXJyIiwidGhpcyIsImwiLCJhcmdzIiwiYXBwbHkiLCJjcmVhdGVTZXR0ZXIiLCJzaGFsbG93U2V0IiwiaGFkS2V5IiwiTnVtYmVyIiwicmVzdWx0IiwiaGFzQ2hhbmdlZCIsIm11dGFibGVIYW5kbGVycyIsImRlbGV0ZVByb3BlcnR5Iiwib3duS2V5cyIsInJlYWRvbmx5SGFuZGxlcnMiLCJleHRlbmQiLCJ0b1JlYWN0aXZlIiwidG9SZWFkb25seSIsInRvU2hhbGxvdyIsImdldFByb3RvIiwidiIsImdldFByb3RvdHlwZU9mIiwiZ2V0JDEiLCJpc1NoYWxsb3ciLCJyYXdUYXJnZXQiLCJyYXdLZXkiLCJ3cmFwIiwiY2FsbCIsImhhcyQxIiwic2l6ZSIsInNldCQxIiwiZGVsZXRlRW50cnkiLCJjbGVhciIsImhhZEl0ZW1zIiwiY3JlYXRlRm9yRWFjaCIsImNhbGxiYWNrIiwidGhpc0FyZyIsIm9ic2VydmVkIiwiY3JlYXRlSXRlcmFibGVNZXRob2QiLCJ0YXJnZXRJc01hcCIsImlzUGFpciIsIml0ZXJhdG9yIiwiaXNLZXlPbmx5IiwiaW5uZXJJdGVyYXRvciIsIm5leHQiLCJkb25lIiwiY3JlYXRlUmVhZG9ubHlNZXRob2QiLCJtdXRhYmxlSW5zdHJ1bWVudGF0aW9ucyIsImRlbGV0ZSIsInNoYWxsb3dJbnN0cnVtZW50YXRpb25zIiwicmVhZG9ubHlJbnN0cnVtZW50YXRpb25zIiwiY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyIiwiaW5zdHJ1bWVudGF0aW9ucyIsIm11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMiLCJiYXNlSGFuZGxlcnMiLCJjb2xsZWN0aW9uSGFuZGxlcnMiLCJwcm94eU1hcCIsImV4aXN0aW5nUHJveHkiLCJ0YXJnZXRUeXBlIiwiaXNFeHRlbnNpYmxlIiwicmF3VHlwZSIsInRhcmdldFR5cGVNYXAiLCJ0b1Jhd1R5cGUiLCJwcm94eSIsImNvbnZlcnQiLCJ2YWwiLCJyIiwiQm9vbGVhbiIsIl9fdl9pc1JlZiIsIlJlZkltcGwiLCJfcmF3VmFsdWUiLCJfc2hhbGxvdyIsIl92YWx1ZSIsIm5ld1ZhbCIsInJhd1ZhbHVlIiwidW5yZWYiLCJfZ2V0IiwiX3NldCIsIk9iamVjdFJlZkltcGwiLCJfb2JqZWN0IiwiX2tleSIsIl9zZXR0ZXIiLCJfZGlydHkiLCJ0ZXh0IiwiYXNCbG9jayIsIm9wZW5CbG9jayIsImNyZWF0ZUJsb2NrIiwiQ29tbWVudCIsImNyZWF0ZVZOb2RlIiwiYmFzZUNyZWF0ZVJlbmRlcmVyIiwiY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zIiwic2xvdHMiLCJkeW5hbWljU2xvdHMiLCJzbG90IiwiaiIsIm5hbWUiLCJjb250ZW50IiwibnVtYmVyT2ZOb2RlcyIsInZub2RlIiwiU3RhdGljIiwic3RhdGljQ291bnQiLCJzb3VyY2UiLCJsb2FkZXIiLCJyZXNvbHZlZENvbXAiLCJsb2FkaW5nQ29tcG9uZW50IiwiZXJyb3JDb21wb25lbnQiLCJkZWxheSIsInRpbWVvdXQiLCJzdXNwZW5zaWJsZSIsInVzZXJPbkVycm9yIiwib25FcnJvciIsInBlbmRpbmdSZXF1ZXN0IiwicmV0cmllcyIsImxvYWQiLCJ0aGlzUmVxdWVzdCIsImVyciIsIkVycm9yIiwiU3RyaW5nIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ0aGVuIiwiY29tcCIsIl9fZXNNb2R1bGUiLCJ0b1N0cmluZ1RhZyIsImRlZmluZUNvbXBvbmVudCIsIl9fYXN5bmNMb2FkZXIiLCJzZXR1cCIsImluc3RhbmNlIiwiY3VycmVudEluc3RhbmNlIiwiY3JlYXRlSW5uZXJDb21wIiwiaGFuZGxlRXJyb3IiLCJzdXNwZW5zZSIsImVycm9yIiwibG9hZGVkIiwiZGVsYXllZCIsInNldFRpbWVvdXQiLCJwcm9wc09yQ2hpbGRyZW4iLCJjaGlsZHJlbiIsImFyZ3VtZW50cyIsImlzVk5vZGUiLCJzbGljZSIsIl9jb21waWxlIiwiY29tcGlsZSIsInJlbmRlckl0ZW0iLCJpc1N0cmluZyIsImZyb20iLCJrZXlzIiwicHJvcHMiLCJmYWxsYmFjayIsImlzUmVuZGVyaW5nQ29tcGlsZWRTbG90IiwicmVuZGVyZWQiLCJGcmFnbWVudCIsIl8iLCJyZXNvbHZlQXNzZXQiLCJDT01QT05FTlRTIiwiY29tcG9uZW50IiwiTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCIsImhvb2siLCJkZXZ0b29scyIsIm9iaiIsInRvSGFuZGxlcktleSIsInRyYW5zZm9ybWVyIiwiZG9XYXRjaCIsImRpcmVjdGl2ZXMiLCJjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UiLCJiaW5kaW5ncyIsImRpcnMiLCJkaXIiLCJhcmciLCJtb2RpZmllcnMiLCJtb3VudGVkIiwidXBkYXRlZCIsIndpdGhDdHgiLCJwdXNoU2NvcGVJZCIsInBvcFNjb3BlSWQiLCJzdGFjayIsIndhcm4iLCJtc2ciLCJhcHBXYXJuSGFuZGxlciIsImFwcENvbnRleHQiLCJjb25maWciLCJ3YXJuSGFuZGxlciIsInRyYWNlIiwiZ2V0Q29tcG9uZW50VHJhY2UiLCJjYWxsV2l0aEVycm9ySGFuZGxpbmciLCJqb2luIiwiZm9ybWF0Q29tcG9uZW50TmFtZSIsIndhcm5BcmdzIiwiZm9ybWF0VHJhY2UiLCJjb25zb2xlIiwiY3VycmVudFZOb2RlIiwibm9ybWFsaXplZFN0YWNrIiwicmVjdXJzZUNvdW50IiwicGFyZW50SW5zdGFuY2UiLCJwYXJlbnQiLCJsb2dzIiwiZW50cnkiLCJwb3N0Zml4IiwiaXNSb290Iiwib3BlbiIsImNsb3NlIiwiZm9ybWF0UHJvcCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyIsImlzUHJvbWlzZSIsInZhbHVlcyIsImNvbnRleHRWTm9kZSIsImN1ciIsImV4cG9zZWRJbnN0YW5jZSIsImVycm9ySW5mbyIsImVycm9yQ2FwdHVyZWRIb29rcyIsImVjIiwiYXBwRXJyb3JIYW5kbGVyIiwiZXJyb3JIYW5kbGVyIiwibG9nRXJyb3IiLCJpc0ZsdXNoaW5nIiwiaXNGbHVzaFBlbmRpbmciLCJxdWV1ZSIsImZsdXNoSW5kZXgiLCJwZW5kaW5nUHJlRmx1c2hDYnMiLCJhY3RpdmVQcmVGbHVzaENicyIsInByZUZsdXNoSW5kZXgiLCJwZW5kaW5nUG9zdEZsdXNoQ2JzIiwiYWN0aXZlUG9zdEZsdXNoQ2JzIiwicG9zdEZsdXNoSW5kZXgiLCJyZXNvbHZlZFByb21pc2UiLCJjdXJyZW50Rmx1c2hQcm9taXNlIiwiY3VycmVudFByZUZsdXNoUGFyZW50Sm9iIiwibmV4dFRpY2siLCJwIiwiYmluZCIsInF1ZXVlSm9iIiwiam9iIiwicXVldWVGbHVzaCIsImZsdXNoSm9icyIsInF1ZXVlQ2IiLCJjYiIsImFjdGl2ZVF1ZXVlIiwicGVuZGluZ1F1ZXVlIiwiaW5kZXgiLCJxdWV1ZVByZUZsdXNoQ2IiLCJxdWV1ZVBvc3RGbHVzaENiIiwiZmx1c2hQcmVGbHVzaENicyIsInNlZW4iLCJwYXJlbnRKb2IiLCJmbHVzaFBvc3RGbHVzaENicyIsImRlZHVwZWQiLCJzb3J0IiwiYSIsImIiLCJnZXRJZCIsIkluZmluaXR5IiwiZGV2dG9vbHNJbml0QXBwIiwiYXBwIiwidmVyc2lvbiIsImVtaXQiLCJUZXh0IiwiZGV2dG9vbHNVbm1vdW50QXBwIiwiZGV2dG9vbHNDb21wb25lbnRBZGRlZCIsImNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayIsImRldnRvb2xzQ29tcG9uZW50VXBkYXRlZCIsImRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCIsImRldnRvb2xzQ29tcG9uZW50RW1pdCIsImV2ZW50IiwicGFyYW1zIiwicmF3QXJncyIsImlzTW9kZWxMaXN0ZW5lciIsInN0YXJ0c1dpdGgiLCJtb2RlbEFyZyIsIm1vZGlmaWVyc0tleSIsIm51bWJlciIsInRyaW0iLCJ0b051bWJlciIsIl9fVlVFX1BST0RfREVWVE9PTFNfXyIsImhhbmRsZXJOYW1lIiwiY2FtZWxpemUiLCJoYW5kbGVyIiwiaHlwaGVuYXRlIiwib25jZUhhbmRsZXIiLCJlbWl0dGVkIiwibm9ybWFsaXplRW1pdHNPcHRpb25zIiwiYXNNaXhpbiIsImRlb3B0IiwiX19lbWl0cyIsImVtaXRzIiwibm9ybWFsaXplZCIsImhhc0V4dGVuZHMiLCJfX1ZVRV9PUFRJT05TX0FQSV9fIiwiZXh0ZW5kRW1pdHMiLCJtaXhpbnMiLCJpc0VtaXRMaXN0ZW5lciIsImlzT24iLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UiLCJyZW5kZXJDb21wb25lbnRSb290IiwiQ29tcG9uZW50Iiwid2l0aFByb3h5IiwicHJvcHNPcHRpb25zIiwiYXR0cnMiLCJyZW5kZXIiLCJyZW5kZXJDYWNoZSIsImRhdGEiLCJzZXR1cFN0YXRlIiwiY3R4IiwiZmFsbHRocm91Z2hBdHRycyIsInNoYXBlRmxhZyIsInByb3h5VG9Vc2UiLCJub3JtYWxpemVWTm9kZSIsImdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCIsInJvb3QiLCJpbmhlcml0QXR0cnMiLCJzb21lIiwiZmlsdGVyTW9kZWxMaXN0ZW5lcnMiLCJjbG9uZVZOb2RlIiwiY29uY2F0IiwidHJhbnNpdGlvbiIsImhhc1Byb3BzQ2hhbmdlZCIsInByZXZQcm9wcyIsIm5leHRQcm9wcyIsImVtaXRzT3B0aW9ucyIsIm5leHRLZXlzIiwidXBkYXRlSE9DSG9zdEVsIiwiZWwiLCJzdWJUcmVlIiwiaXNTdXNwZW5zZSIsIl9faXNTdXNwZW5zZSIsIlN1c3BlbnNlIiwicHJvY2VzcyIsIm4xIiwibjIiLCJjb250YWluZXIiLCJhbmNob3IiLCJwYXJlbnRDb21wb25lbnQiLCJwYXJlbnRTdXNwZW5zZSIsImlzU1ZHIiwib3B0aW1pemVkIiwicmVuZGVyZXJJbnRlcm5hbHMiLCJwYXRjaCIsImhpZGRlbkNvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJvIiwiY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSIsInBlbmRpbmdCcmFuY2giLCJzc0NvbnRlbnQiLCJzc0ZhbGxiYWNrIiwic2V0QWN0aXZlQnJhbmNoIiwibW91bnRTdXNwZW5zZSIsInVubW91bnQiLCJ1bSIsIm5ld0JyYW5jaCIsIm5ld0ZhbGxiYWNrIiwiYWN0aXZlQnJhbmNoIiwiaXNJbkZhbGxiYWNrIiwiaXNIeWRyYXRpbmciLCJpc1NhbWVWTm9kZVR5cGUiLCJwZW5kaW5nSWQiLCJvblBlbmRpbmciLCJwYXRjaFN1c3BlbnNlIiwiaHlkcmF0ZSIsIm5vZGUiLCJoeWRyYXRlTm9kZSIsInBhcmVudE5vZGUiLCJkb2N1bWVudCIsImNyZWF0ZSIsIm1vdmUiLCJtIiwibiIsInJlbW92ZSIsImlzVW5tb3VudGVkIiwicmVzdW1lIiwiZGVsYXlFbnRlciIsIm1vZGUiLCJhZnRlckxlYXZlIiwiaGFzVW5yZXNvbHZlZEFuY2VzdG9yIiwib25SZXNvbHZlIiwiZmFsbGJhY2tWTm9kZSIsIm9uRmFsbGJhY2siLCJtb3VudEZhbGxiYWNrIiwicmVnaXN0ZXJEZXAiLCJzZXR1cFJlbmRlckVmZmVjdCIsImh5ZHJhdGVkRWwiLCJhc3luY0RlcCIsImFzeW5jU2V0dXBSZXN1bHQiLCJzdXNwZW5zZUlkIiwiYXN5bmNSZXNvbHZlZCIsImhhbmRsZVNldHVwUmVzdWx0IiwicGxhY2Vob2xkZXIiLCJkb1JlbW92ZSIsIm5vcm1hbGl6ZVN1c3BlbnNlQ2hpbGRyZW4iLCJub3JtYWxpemVTdXNwZW5zZVNsb3QiLCJzIiwiZmlsdGVyZWQiLCJjaGlsZCIsInF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlIiwiYnJhbmNoIiwic2V0Q29tcGlsZWRTbG90UmVuZGVyaW5nIiwicmVuZGVyRm5XaXRoQ29udGV4dCIsIm93bmVyIiwiY2xvc2VCbG9jayIsIl9jIiwiY3VycmVudFNjb3BlSWQiLCJzY29wZUlkU3RhY2siLCJpbml0UHJvcHMiLCJyYXdQcm9wcyIsImlzU3RhdGVmdWwiLCJpc1NTUiIsIkludGVybmFsT2JqZWN0S2V5Iiwic2V0RnVsbFByb3BzIiwic2hhbGxvd1JlYWN0aXZlIiwibmVlZENhc3RLZXlzIiwiaXNSZXNlcnZlZFByb3AiLCJjYW1lbEtleSIsInJhd0N1cnJlbnRQcm9wcyIsInJlc29sdmVQcm9wVmFsdWUiLCJvcHQiLCJoYXNEZWZhdWx0IiwiZGVmYXVsdFZhbHVlIiwiRnVuY3Rpb24iLCJzZXRDdXJyZW50SW5zdGFuY2UiLCJub3JtYWxpemVQcm9wc09wdGlvbnMiLCJfX3Byb3BzIiwiZXh0ZW5kUHJvcHMiLCJFTVBUWV9BUlIiLCJub3JtYWxpemVkS2V5IiwidmFsaWRhdGVQcm9wTmFtZSIsInByb3AiLCJib29sZWFuSW5kZXgiLCJnZXRUeXBlSW5kZXgiLCJzdHJpbmdJbmRleCIsImdldFR5cGUiLCJjdG9yIiwibWF0Y2giLCJ0b1N0cmluZyIsImlzU2FtZVR5cGUiLCJleHBlY3RlZFR5cGVzIiwibGVuIiwiaW5qZWN0SG9vayIsInByZXBlbmQiLCJob29rcyIsIndyYXBwZWRIb29rIiwiX193ZWgiLCJ1bnNoaWZ0IiwiY3JlYXRlSG9vayIsImxpZmVjeWNsZSIsImlzSW5TU1JDb21wb25lbnRTZXR1cCIsIm9uQmVmb3JlTW91bnQiLCJvbk1vdW50ZWQiLCJvbkJlZm9yZVVwZGF0ZSIsIm9uVXBkYXRlZCIsIm9uQmVmb3JlVW5tb3VudCIsIm9uVW5tb3VudGVkIiwib25SZW5kZXJUcmlnZ2VyZWQiLCJvblJlbmRlclRyYWNrZWQiLCJvbkVycm9yQ2FwdHVyZWQiLCJJTklUSUFMX1dBVENIRVJfVkFMVUUiLCJ3YXRjaCIsImltbWVkaWF0ZSIsImRlZXAiLCJmbHVzaCIsIm9uVHJhY2siLCJvblRyaWdnZXIiLCJmb3JjZVRyaWdnZXIiLCJ0cmF2ZXJzZSIsIm9uSW52YWxpZGF0ZSIsImJhc2VHZXR0ZXIiLCJydW5uZXIiLCJxdWV1ZVBvc3RSZW5kZXJFZmZlY3QiLCJpc01vdW50ZWQiLCJyZWNvcmRJbnN0YW5jZUJvdW5kRWZmZWN0Iiwic3RvcCIsImluc3RhbmNlV2F0Y2giLCJwdWJsaWNUaGlzIiwiaXNTZXQiLCJ1c2VUcmFuc2l0aW9uU3RhdGUiLCJzdGF0ZSIsImlzTGVhdmluZyIsImlzVW5tb3VudGluZyIsImxlYXZpbmdWTm9kZXMiLCJUcmFuc2l0aW9uSG9va1ZhbGlkYXRvciIsIkJhc2VUcmFuc2l0aW9uIiwiYXBwZWFyIiwicGVyc2lzdGVkIiwib25CZWZvcmVFbnRlciIsIm9uRW50ZXIiLCJvbkFmdGVyRW50ZXIiLCJvbkVudGVyQ2FuY2VsbGVkIiwib25CZWZvcmVMZWF2ZSIsIm9uTGVhdmUiLCJvbkFmdGVyTGVhdmUiLCJvbkxlYXZlQ2FuY2VsbGVkIiwib25CZWZvcmVBcHBlYXIiLCJvbkFwcGVhciIsIm9uQWZ0ZXJBcHBlYXIiLCJvbkFwcGVhckNhbmNlbGxlZCIsInByZXZUcmFuc2l0aW9uS2V5IiwiZ2V0Q3VycmVudEluc3RhbmNlIiwiZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuIiwiZW1wdHlQbGFjZWhvbGRlciIsImlubmVyQ2hpbGQiLCJnZXRLZWVwQWxpdmVDaGlsZCIsImVudGVySG9va3MiLCJyZXNvbHZlVHJhbnNpdGlvbkhvb2tzIiwic2V0VHJhbnNpdGlvbkhvb2tzIiwib2xkQ2hpbGQiLCJvbGRJbm5lckNoaWxkIiwidHJhbnNpdGlvbktleUNoYW5nZWQiLCJnZXRUcmFuc2l0aW9uS2V5IiwibGVhdmluZ0hvb2tzIiwidXBkYXRlIiwiZGVsYXlMZWF2ZSIsImVhcmx5UmVtb3ZlIiwiZGVsYXllZExlYXZlIiwiZ2V0TGVhdmluZ05vZGVzRm9yVHlwZSIsIl9sZWF2ZUNiIiwibGVhdmluZ1ZOb2Rlc0NhY2hlIiwiY2FsbEhvb2siLCJiZWZvcmVFbnRlciIsImxlYXZpbmdWTm9kZSIsImVudGVyIiwiYWZ0ZXJIb29rIiwiY2FuY2VsSG9vayIsImNhbGxlZCIsIl9lbnRlckNiIiwiY2FuY2VsbGVkIiwibGVhdmUiLCJjbG9uZSIsImlzS2VlcEFsaXZlIiwia2VlcENvbW1lbnQiLCJrZXllZEZyYWdtZW50Q291bnQiLCJwYXRjaEZsYWciLCJfX2lzS2VlcEFsaXZlIiwiS2VlcEFsaXZlIiwiaW5oZXJpdFJlZiIsImluY2x1ZGUiLCJSZWdFeHAiLCJleGNsdWRlIiwibWF4IiwiY2FjaGUiLCJjdXJyZW50Iiwic2hhcmVkQ29udGV4dCIsInJlbmRlcmVyIiwiX3VubW91bnQiLCJzdG9yYWdlQ29udGFpbmVyIiwicmVzZXRTaGFwZUZsYWciLCJwcnVuZUNhY2hlIiwiZ2V0TmFtZSIsInBydW5lQ2FjaGVFbnRyeSIsImNhY2hlZCIsImFjdGl2YXRlIiwiaXNEZWFjdGl2YXRlZCIsImludm9rZUFycmF5Rm5zIiwidm5vZGVIb29rIiwib25Wbm9kZU1vdW50ZWQiLCJpbnZva2VWTm9kZUhvb2siLCJkZWFjdGl2YXRlIiwiZGEiLCJvblZub2RlVW5tb3VudGVkIiwibWF0Y2hlcyIsInBlbmRpbmdDYWNoZUtleSIsImNhY2hlU3VidHJlZSIsImdldElubmVyQ2hpbGQiLCJyYXdWTm9kZSIsImNhY2hlZFZOb2RlIiwicGFyc2VJbnQiLCJkaXNwbGF5TmFtZSIsInBhdHRlcm4iLCJzcGxpdCIsImluZGV4T2YiLCJ0ZXN0Iiwib25BY3RpdmF0ZWQiLCJyZWdpc3RlcktlZXBBbGl2ZUhvb2siLCJvbkRlYWN0aXZhdGVkIiwiX193ZGMiLCJpbmplY3RUb0tlZXBBbGl2ZVJvb3QiLCJrZWVwQWxpdmVSb290IiwiaW5qZWN0ZWQiLCJpc0ludGVybmFsS2V5Iiwibm9ybWFsaXplU2xvdFZhbHVlIiwibm9ybWFsaXplU2xvdCIsInJhd1Nsb3QiLCJub3JtYWxpemVPYmplY3RTbG90cyIsInJhd1Nsb3RzIiwiX2N0eCIsIm5vcm1hbGl6ZVZOb2RlU2xvdHMiLCJpbml0U2xvdHMiLCJpbnZva2VEaXJlY3RpdmVIb29rIiwicHJldlZOb2RlIiwib2xkQmluZGluZ3MiLCJiaW5kaW5nIiwiY3JlYXRlQXBwQ29udGV4dCIsImlzTmF0aXZlVGFnIiwiTk8iLCJwZXJmb3JtYW5jZSIsImdsb2JhbFByb3BlcnRpZXMiLCJvcHRpb25NZXJnZVN0cmF0ZWdpZXMiLCJpc0N1c3RvbUVsZW1lbnQiLCJjb21wb25lbnRzIiwicHJvdmlkZXMiLCJjcmVhdGVBcHBBUEkiLCJyb290Q29tcG9uZW50Iiwicm9vdFByb3BzIiwiY29udGV4dCIsImluc3RhbGxlZFBsdWdpbnMiLCJfdWlkIiwiX2NvbXBvbmVudCIsIl9wcm9wcyIsIl9jb250YWluZXIiLCJfY29udGV4dCIsInVzZSIsInBsdWdpbiIsImluc3RhbGwiLCJtaXhpbiIsImRpcmVjdGl2ZSIsIm1vdW50Iiwicm9vdENvbnRhaW5lciIsImlzSHlkcmF0ZSIsIl9fdnVlX2FwcF9fIiwicHJvdmlkZSIsImhhc01pc21hdGNoIiwiaXNTVkdDb250YWluZXIiLCJuYW1lc3BhY2VVUkkiLCJ0YWdOYW1lIiwiaXNDb21tZW50Iiwibm9kZVR5cGUiLCJtb3VudENvbXBvbmVudCIsIm10IiwicGF0Y2hQcm9wIiwibmV4dFNpYmxpbmciLCJpbnNlcnQiLCJjcmVhdGVDb21tZW50IiwiaXNGcmFnbWVudFN0YXJ0Iiwib25NaXNtYXRjaCIsImhhbmRsZU1pc21hdGNoIiwiZG9tVHlwZSIsIm5leHROb2RlIiwibmVlZFRvQWRvcHRDb250ZW50Iiwib3V0ZXJIVE1MIiwiaHlkcmF0ZUZyYWdtZW50IiwiaHlkcmF0ZUVsZW1lbnQiLCJoeWRyYXRlQ29tcG9uZW50IiwibG9hZEFzeW5jIiwibG9jYXRlQ2xvc2luZ0FzeW5jQW5jaG9yIiwiaHlkcmF0ZUNoaWxkcmVuIiwic2V0UmVmIiwiZHluYW1pY0NoaWxkcmVuIiwib25DbGljayIsInZub2RlSG9va3MiLCJvblZub2RlQmVmb3JlTW91bnQiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImZpcnN0Q2hpbGQiLCJwYXJlbnRWTm9kZSIsImlzRnJhZ21lbnQiLCJlbmQiLCJwcm9kRWZmZWN0T3B0aW9ucyIsInJhd1JlZiIsIm9sZFJhd1JlZiIsIm9sZFJlZiIsInJlZnMiLCJkb1NldCIsImNyZWF0ZUh5ZHJhdGlvbkZucyIsImdldEdsb2JhbFRoaXMiLCJob3N0SW5zZXJ0IiwiaG9zdFJlbW92ZSIsImhvc3RQYXRjaFByb3AiLCJob3N0Rm9yY2VQYXRjaFByb3AiLCJmb3JjZVBhdGNoUHJvcCIsImhvc3RDcmVhdGVFbGVtZW50IiwiaG9zdENyZWF0ZVRleHQiLCJjcmVhdGVUZXh0IiwiaG9zdENyZWF0ZUNvbW1lbnQiLCJob3N0U2V0VGV4dCIsInNldFRleHQiLCJob3N0U2V0RWxlbWVudFRleHQiLCJzZXRFbGVtZW50VGV4dCIsImhvc3RQYXJlbnROb2RlIiwiaG9zdE5leHRTaWJsaW5nIiwic2V0U2NvcGVJZCIsImhvc3RTZXRTY29wZUlkIiwiaG9zdENsb25lTm9kZSIsImNsb25lTm9kZSIsImhvc3RJbnNlcnRTdGF0aWNDb250ZW50IiwiaW5zZXJ0U3RhdGljQ29udGVudCIsImdldE5leHRIb3N0Tm9kZSIsInByb2Nlc3NUZXh0IiwicHJvY2Vzc0NvbW1lbnROb2RlIiwibW91bnRTdGF0aWNOb2RlIiwicHJvY2Vzc0ZyYWdtZW50IiwicHJvY2Vzc0VsZW1lbnQiLCJwcm9jZXNzQ29tcG9uZW50IiwiaW50ZXJuYWxzIiwibW91bnRFbGVtZW50IiwicGF0Y2hFbGVtZW50Iiwic2NvcGVJZCIsImlzIiwibW91bnRDaGlsZHJlbiIsInVubW91bnRDaGlsZHJlbiIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsIm5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzIiwidHJlZU93bmVySWQiLCJfX3Njb3BlSWQiLCJzdGFydCIsImNsb25lSWZNb3VudGVkIiwib2xkUHJvcHMiLCJuZXdQcm9wcyIsIm9uVm5vZGVCZWZvcmVVcGRhdGUiLCJwYXRjaFByb3BzIiwic3R5bGUiLCJwcm9wc1RvVXBkYXRlIiwiZHluYW1pY1Byb3BzIiwicHJldiIsImFyZUNoaWxkcmVuU1ZHIiwicGF0Y2hCbG9ja0NoaWxkcmVuIiwicGF0Y2hDaGlsZHJlbiIsIm9uVm5vZGVVcGRhdGVkIiwib2xkQ2hpbGRyZW4iLCJuZXdDaGlsZHJlbiIsImZhbGxiYWNrQ29udGFpbmVyIiwib2xkVk5vZGUiLCJuZXdWTm9kZSIsImZyYWdtZW50U3RhcnRBbmNob3IiLCJmcmFnbWVudEVuZEFuY2hvciIsInRyYXZlcnNlU3RhdGljQ2hpbGRyZW4iLCJ1cGRhdGVDb21wb25lbnQiLCJpbml0aWFsVk5vZGUiLCJlbXB0eUFwcENvbnRleHQiLCJ1aWQkMSIsImFjY2Vzc0NhY2hlIiwic2V0dXBDb250ZXh0IiwiYmMiLCJjIiwiYm0iLCJidSIsInUiLCJidW0iLCJydGciLCJydGMiLCJjcmVhdGVDb21wb25lbnRJbnN0YW5jZSIsInNldHVwU3RhdGVmdWxDb21wb25lbnQiLCJzZXR1cENvbXBvbmVudCIsIm5leHRWTm9kZSIsInByZXZDaGlsZHJlbiIsIm5leHRDaGlsZHJlbiIsIiRzdGFibGUiLCJzaG91bGRVcGRhdGVDb21wb25lbnQiLCJ1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIiLCJvcmlnaW5OZXh0IiwibmV4dFRyZWUiLCJwcmV2VHJlZSIsInJhd1ByZXZQcm9wcyIsImtlYmFiS2V5IiwiY2FtZWxpemVkS2V5IiwidXBkYXRlUHJvcHMiLCJuZWVkRGVsZXRpb25DaGVjayIsImRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCIsImRlZmF1bHQiLCJ1cGRhdGVTbG90cyIsImMxIiwicHJldlNoYXBlRmxhZyIsImMyIiwicGF0Y2hLZXllZENoaWxkcmVuIiwicGF0Y2hVbmtleWVkQ2hpbGRyZW4iLCJvbGRMZW5ndGgiLCJuZXdMZW5ndGgiLCJjb21tb25MZW5ndGgiLCJNYXRoIiwibWluIiwibmV4dENoaWxkIiwicGFyZW50QW5jaG9yIiwibDIiLCJlMSIsImUyIiwibmV4dFBvcyIsInMxIiwiczIiLCJrZXlUb05ld0luZGV4TWFwIiwicGF0Y2hlZCIsInRvQmVQYXRjaGVkIiwibW92ZWQiLCJtYXhOZXdJbmRleFNvRmFyIiwibmV3SW5kZXhUb09sZEluZGV4TWFwIiwicHJldkNoaWxkIiwibmV3SW5kZXgiLCJpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZSIsImFyckkiLCJnZXRTZXF1ZW5jZSIsIm5leHRJbmRleCIsIm1vdmVUeXBlIiwibmVlZFRyYW5zaXRpb24iLCJwZXJmb3JtTGVhdmUiLCJzaG91bGRJbnZva2VEaXJzIiwib25Wbm9kZUJlZm9yZVVubW91bnQiLCJ1bm1vdW50Q29tcG9uZW50IiwiaXNUZWxlcG9ydERpc2FibGVkIiwicGVyZm9ybVJlbW92ZSIsInJlbW92ZUZyYWdtZW50IiwiX3Zub2RlIiwibWMiLCJwYyIsInBiYyIsImNyZWF0ZUFwcCIsImNoMSIsImNoMiIsImlzVGVsZXBvcnQiLCJfX2lzVGVsZXBvcnQiLCJkaXNhYmxlZCIsInJlc29sdmVUYXJnZXQiLCJzZWxlY3QiLCJ0YXJnZXRTZWxlY3RvciIsInRvIiwibW92ZVRlbGVwb3J0IiwidGFyZ2V0QW5jaG9yIiwiaXNSZW9yZGVyIiwiVGVsZXBvcnQiLCJxdWVyeVNlbGVjdG9yIiwibWFpbkFuY2hvciIsIndhc0Rpc2FibGVkIiwiY3VycmVudENvbnRhaW5lciIsImN1cnJlbnRBbmNob3IiLCJuZXh0VGFyZ2V0IiwidGFyZ2V0Tm9kZSIsIl9scGEiLCJzZWxmTmFtZSIsImNhcGl0YWxpemUiLCJyZWdpc3RyeSIsImJsb2NrU3RhY2siLCJjdXJyZW50QmxvY2siLCJkaXNhYmxlVHJhY2tpbmciLCJfX3ZfaXNWTm9kZSIsIm5vcm1hbGl6ZUtleSIsIm5vcm1hbGl6ZVJlZiIsImlzQmxvY2tOb2RlIiwiY2xvbmVkIiwibm9ybWFsaXplQ2hpbGRyZW4iLCJpc0NsYXNzQ29tcG9uZW50IiwiX192Y2NPcHRzIiwiaXNQcm94eSIsImtsYXNzIiwibm9ybWFsaXplQ2xhc3MiLCJub3JtYWxpemVTdHlsZSIsImV4dHJhUHJvcHMiLCJtZXJnZVJlZiIsIm1lcmdlZFByb3BzIiwibWVyZ2VQcm9wcyIsImNyZWF0ZVRleHRWTm9kZSIsImZsYWciLCJzbG90RmxhZyIsInRvTWVyZ2UiLCJleGlzdGluZyIsImluY29taW5nIiwicGFyZW50UHJvdmlkZXMiLCJpbmplY3QiLCJ0cmVhdERlZmF1bHRBc0ZhY3RvcnkiLCJpc0luQmVmb3JlQ3JlYXRlIiwiYXBwbHlPcHRpb25zIiwiZGVmZXJyZWREYXRhIiwiZGVmZXJyZWRXYXRjaCIsImRlZmVycmVkUHJvdmlkZSIsImV4dGVuZHNPcHRpb25zIiwiZGF0YU9wdGlvbnMiLCJjb21wdXRlZE9wdGlvbnMiLCJjb21wdXRlZCIsIm1ldGhvZHMiLCJ3YXRjaE9wdGlvbnMiLCJwcm92aWRlT3B0aW9ucyIsImluamVjdE9wdGlvbnMiLCJiZWZvcmVNb3VudCIsImJlZm9yZVVwZGF0ZSIsImFjdGl2YXRlZCIsImRlYWN0aXZhdGVkIiwiYmVmb3JlVW5tb3VudCIsImJlZm9yZURlc3Ryb3kiLCJ1bm1vdW50ZWQiLCJkZXN0cm95ZWQiLCJyZW5kZXJUcmFja2VkIiwicmVuZGVyVHJpZ2dlcmVkIiwiZXJyb3JDYXB0dXJlZCIsImdsb2JhbE1peGlucyIsImNhbGxTeW5jSG9vayIsImFwcGx5TWl4aW5zIiwibWV0aG9kSGFuZGxlciIsImRhdGFGbiIsInJlc29sdmVEYXRhIiwiY29uZmlndXJhYmxlIiwiY3JlYXRlV2F0Y2hlciIsImNhbGxIb29rRnJvbU1peGlucyIsImJhc2UiLCJjYWxsSG9va0Zyb21FeHRlbmRzIiwic2VsZkhvb2siLCJiYXNlSG9vayIsImNoYWluZWRNaXhpbnMiLCJwYXRoIiwic2VnbWVudHMiLCJjcmVhdGVQYXRoR2V0dGVyIiwibWVyZ2VPcHRpb25zIiwic3RyYXRzIiwicHVibGljUHJvcGVydGllc01hcCIsIiQiLCIkZWwiLCIkZGF0YSIsIiRwcm9wcyIsIiRhdHRycyIsIiRzbG90cyIsIiRyZWZzIiwiJHBhcmVudCIsIiRyb290IiwiJGVtaXQiLCIkb3B0aW9ucyIsIl9fbWVyZ2VkIiwicmVzb2x2ZU1lcmdlZE9wdGlvbnMiLCIkZm9yY2VVcGRhdGUiLCIkbmV4dFRpY2siLCIkd2F0Y2giLCJQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMiLCJub3JtYWxpemVkUHJvcHMiLCJjc3NNb2R1bGUiLCJwdWJsaWNHZXR0ZXIiLCJfX2Nzc01vZHVsZXMiLCJSdW50aW1lQ29tcGlsZWRQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMiLCJ1bnNjb3BhYmxlcyIsImlzR2xvYmFsbHlXaGl0ZWxpc3RlZCIsImNyZWF0ZVNldHVwQ29udGV4dCIsInNldHVwUmVzdWx0IiwicmVzb2x2ZWRSZXN1bHQiLCJmaW5pc2hDb21wb25lbnRTZXR1cCIsImRldnRvb2xzUmF3U2V0dXBTdGF0ZSIsInByb3h5UmVmcyIsInRlbXBsYXRlIiwiZGVsaW1pdGVycyIsIl9yYyIsImNsYXNzaWZ5UkUiLCJjbGFzc2lmeSIsInN0ciIsInRvVXBwZXJDYXNlIiwiX19maWxlIiwiaW5mZXJGcm9tUmVnaXN0cnkiLCJzc3JDb250ZXh0S2V5IiwibW9kdWxlcyIsIm1vZCIsInNjb3BlZCIsInByZWZpeCIsInNldFZhcnMiLCJzZXRWYXJzT25WTm9kZSIsIndhdGNoRWZmZWN0IiwidGVtcENvbnRhaW5lciIsInRlbXBTVkdDb250YWluZXIiLCJzdmdOUyIsImRvYyIsIm5vZGVPcHMiLCJpbnNlcnRCZWZvcmUiLCJyZW1vdmVDaGlsZCIsInRhZyIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZVRleHROb2RlIiwibm9kZVZhbHVlIiwic2VsZWN0b3IiLCJzZXRBdHRyaWJ1dGUiLCJ0ZW1wIiwiZmlyc3QiLCJwYXRjaENsYXNzIiwidHJhbnNpdGlvbkNsYXNzZXMiLCJfdnRjIiwiY2xhc3NOYW1lIiwicGF0Y2hTdHlsZSIsImNzc1RleHQiLCJzZXRTdHlsZSIsInJlbW92ZUF0dHJpYnV0ZSIsImltcG9ydGFudFJFIiwic2V0UHJvcGVydHkiLCJwcmVmaXhlZCIsInJhd05hbWUiLCJwcmVmaXhDYWNoZSIsInByZWZpeGVzIiwiYXV0b1ByZWZpeCIsInhsaW5rTlMiLCJwYXRjaEF0dHIiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsInNldEF0dHJpYnV0ZU5TIiwiaXNCb29sZWFuIiwiaXNTcGVjaWFsQm9vbGVhbkF0dHIiLCJwYXRjaERPTVByb3AiLCJlIiwiX2dldE5vdyIsIkRhdGUiLCJub3ciLCJjcmVhdGVFdmVudCIsInRpbWVTdGFtcCIsImNhY2hlZE5vdyIsInJlc2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwYXRjaEV2ZW50IiwicHJldlZhbHVlIiwibmV4dFZhbHVlIiwiaW52b2tlcnMiLCJfdmVpIiwiZXhpc3RpbmdJbnZva2VyIiwicGFyc2VOYW1lIiwiaW52b2tlciIsImNyZWF0ZUludm9rZXIiLCJvcHRpb25zTW9kaWZpZXJSRSIsImluaXRpYWxWYWx1ZSIsImF0dGFjaGVkIiwib3JpZ2luYWxTdG9wIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiX3N0b3BwZWQiLCJwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIm5hdGl2ZU9uUkUiLCJzaG91bGRTZXRBc1Byb3AiLCJ2YXJzIiwiVFJBTlNJVElPTiIsIkFOSU1BVElPTiIsIlRyYW5zaXRpb24iLCJoIiwicmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyIsIkRPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMiLCJjc3MiLCJkdXJhdGlvbiIsImVudGVyRnJvbUNsYXNzIiwiZW50ZXJBY3RpdmVDbGFzcyIsImVudGVyVG9DbGFzcyIsImFwcGVhckZyb21DbGFzcyIsImFwcGVhckFjdGl2ZUNsYXNzIiwiYXBwZWFyVG9DbGFzcyIsImxlYXZlRnJvbUNsYXNzIiwibGVhdmVBY3RpdmVDbGFzcyIsImxlYXZlVG9DbGFzcyIsIlRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMiLCJiYXNlUHJvcHMiLCJkdXJhdGlvbnMiLCJOdW1iZXJPZiIsIm5vcm1hbGl6ZUR1cmF0aW9uIiwiZW50ZXJEdXJhdGlvbiIsImxlYXZlRHVyYXRpb24iLCJmaW5pc2hFbnRlciIsImlzQXBwZWFyIiwicmVtb3ZlVHJhbnNpdGlvbkNsYXNzIiwiZmluaXNoTGVhdmUiLCJtYWtlRW50ZXJIb29rIiwibmV4dEZyYW1lIiwiYWRkVHJhbnNpdGlvbkNsYXNzIiwid2hlblRyYW5zaXRpb25FbmRzIiwiY2xzIiwiY2xhc3NMaXN0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZXhwZWN0ZWRUeXBlIiwiZ2V0VHJhbnNpdGlvbkluZm8iLCJwcm9wQ291bnQiLCJlbmRFdmVudCIsImVuZGVkIiwib25FbmQiLCJzdHlsZXMiLCJ3aW5kb3ciLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0U3R5bGVQcm9wZXJ0aWVzIiwidHJhbnNpdGlvbkRlbGF5cyIsInRyYW5zaXRpb25EdXJhdGlvbnMiLCJ0cmFuc2l0aW9uVGltZW91dCIsImdldFRpbWVvdXQiLCJhbmltYXRpb25EZWxheXMiLCJhbmltYXRpb25EdXJhdGlvbnMiLCJhbmltYXRpb25UaW1lb3V0IiwiaGFzVHJhbnNmb3JtIiwiZGVsYXlzIiwiZCIsInRvTXMiLCJwb3NpdGlvbk1hcCIsIm5ld1Bvc2l0aW9uTWFwIiwiVHJhbnNpdGlvbkdyb3VwIiwibW92ZUNsYXNzIiwiZGlzcGxheSIsImFwcGVuZENoaWxkIiwiaGFzQ1NTVHJhbnNmb3JtIiwiY2FsbFBlbmRpbmdDYnMiLCJyZWNvcmRQb3NpdGlvbiIsIm1vdmVkQ2hpbGRyZW4iLCJhcHBseVRyYW5zbGF0aW9uIiwiYm9keSIsIm9mZnNldEhlaWdodCIsInRyYW5zZm9ybSIsIndlYmtpdFRyYW5zZm9ybSIsInRyYW5zaXRpb25EdXJhdGlvbiIsIl9tb3ZlQ2IiLCJwcm9wZXJ0eU5hbWUiLCJjc3NUcmFuc2l0aW9uUHJvcHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJvbGRQb3MiLCJuZXdQb3MiLCJkeCIsImxlZnQiLCJkeSIsInRvcCIsImdldE1vZGVsQXNzaWduZXIiLCJvbkNvbXBvc2l0aW9uU3RhcnQiLCJjb21wb3NpbmciLCJvbkNvbXBvc2l0aW9uRW5kIiwiaW5pdEV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsInZNb2RlbFRleHQiLCJjcmVhdGVkIiwiX2Fzc2lnbiIsImNhc3RUb051bWJlciIsImRvbVZhbHVlIiwiYWN0aXZlRWxlbWVudCIsInZNb2RlbENoZWNrYm94Iiwic2V0Q2hlY2tlZCIsIm1vZGVsVmFsdWUiLCJfbW9kZWxWYWx1ZSIsImVsZW1lbnRWYWx1ZSIsImdldFZhbHVlIiwiY2hlY2tlZCIsImFzc2lnbiIsImxvb3NlSW5kZXhPZiIsImZvdW5kIiwic3BsaWNlIiwiZ2V0Q2hlY2tib3hWYWx1ZSIsImxvb3NlRXF1YWwiLCJ2TW9kZWxSYWRpbyIsInZNb2RlbFNlbGVjdCIsInNlbGVjdGVkVmFsIiwic2VsZWN0ZWQiLCJtdWx0aXBsZSIsInNldFNlbGVjdGVkIiwiX2JpbmRpbmciLCJpc011bHRpcGxlIiwib3B0aW9uIiwib3B0aW9uVmFsdWUiLCJzZWxlY3RlZEluZGV4Iiwidk1vZGVsRHluYW1pYyIsImNhbGxNb2RlbEhvb2siLCJtb2RlbFRvVXNlIiwic3lzdGVtTW9kaWZpZXJzIiwibW9kaWZpZXJHdWFyZHMiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50IiwicHJldmVudERlZmF1bHQiLCJzZWxmIiwiY3VycmVudFRhcmdldCIsImN0cmwiLCJjdHJsS2V5Iiwic2hpZnQiLCJzaGlmdEtleSIsImFsdCIsImFsdEtleSIsIm1ldGEiLCJtZXRhS2V5IiwiYnV0dG9uIiwibWlkZGxlIiwicmlnaHQiLCJleGFjdCIsImd1YXJkIiwia2V5TmFtZXMiLCJlc2MiLCJzcGFjZSIsInVwIiwiZG93biIsImV2ZW50S2V5IiwiayIsInZTaG93IiwiX3ZvZCIsInNldERpc3BsYXkiLCJyZW5kZXJlck9wdGlvbnMiLCJfdHJ1ZVZhbHVlIiwiX2ZhbHNlVmFsdWUiLCJlbmFibGVkSHlkcmF0aW9uIiwiZW5zdXJlUmVuZGVyZXIiLCJjcmVhdGVSZW5kZXJlciIsImVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyIiwiY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIiLCJub3JtYWxpemVDb250YWluZXIiLCJjb250YWluZXJPclNlbGVjdG9yIiwibWFrZU1hcCIsImV4cGVjdHNMb3dlckNhc2UiLCJsaXN0Iiwic3RyaW5nIiwiZXNjYXBlUkUiLCJleGVjIiwiZXNjYXBlZCIsImh0bWwiLCJsYXN0SW5kZXgiLCJjaGFyQ29kZUF0Iiwic3Vic3RyaW5nIiwic3JjIiwiY29tbWVudFN0cmlwUkUiLCJsaW5lcyIsImNvdW50IiwibGluZSIsInJlcGVhdCIsImxpbmVMZW5ndGgiLCJwYWQiLCJhdHRyVmFsaWRhdGlvbkNhY2hlIiwiaGFzT3duUHJvcGVydHkiLCJpc1Vuc2FmZSIsInVuc2FmZUF0dHJDaGFyUkUiLCJmaW5kSW5kZXgiLCJpdGVtIiwicGFyc2VTdHJpbmdTdHlsZSIsImlzTm9Vbml0TnVtZXJpY1N0eWxlUHJvcCIsIlBhdGNoRmxhZ05hbWVzIiwic3BlY2lhbEJvb2xlYW5BdHRycyIsImlzQm9vbGVhbkF0dHIiLCJhY2NlcHRDaGFyc2V0IiwiaHRtbEZvciIsImh0dHBFcXVpdiIsImlzS25vd25BdHRyIiwibGlzdERlbGltaXRlclJFIiwicHJvcGVydHlEZWxpbWl0ZXJSRSIsInRtcCIsImlzSFRNTFRhZyIsImlzU1ZHVGFnIiwiaXNWb2lkVGFnIiwiYVZhbGlkVHlwZSIsImlzRGF0ZSIsImJWYWxpZFR5cGUiLCJnZXRUaW1lIiwiZXF1YWwiLCJsb29zZUNvbXBhcmVBcnJheXMiLCJhSGFzS2V5IiwiYkhhc0tleSIsInJlcGxhY2VyIiwiZW50cmllcyIsInJlZHVjZSIsImlzUGxhaW5PYmplY3QiLCJvblJFIiwidG9UeXBlU3RyaW5nIiwib2JqZWN0VG9TdHJpbmciLCJjYWNoZVN0cmluZ0Z1bmN0aW9uIiwiY2FtZWxpemVSRSIsImh5cGhlbmF0ZVJFIiwiY2hhckF0IiwiX2dsb2JhbFRoaXMiLCJmbnMiLCJwYXJzZUZsb2F0IiwiaXNOYU4iLCJnbG9iYWxUaGlzIiwiZ2xvYmFsIiwiZGF0YUxpc3QiLCJvcmlnaW4iLCJsb2NhdGlvbiIsImFqYXgiLCJ1cmwiLCJkYXRhVHlwZSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJzdWNjZXNzIiwibG9nIiwiZmFpbCIsImJ0bkZpbGUiLCJjbGljayIsImNob29zZUZpbGUiLCJmaWxlcyIsImZpbGVOYW1lIiwiZmlsZSIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJidG5VcGxvYWQiLCJjbGFzcyIsIiRldmVudCIsImhyZWYiLCJ0aW1lIiwibGlzdGVuZXJzIiwicG9zaXRpb24iLCJzZXRMb2NhdGlvbiIsInRyaWdnZXJMaXN0ZW5lcnMiLCJpbmZvIiwiZGlyZWN0aW9uIiwiZGVsdGEiLCJOYXZpZ2F0aW9uVHlwZSIsInJvdXRlckhpc3RvcnkiLCJjcmVhdGVIcmVmIiwibGlzdGVuIiwiZGVzdHJveSIsImdvIiwic2hvdWxkVHJpZ2dlciIsIk5hdmlnYXRpb25EaXJlY3Rpb24iLCJiYWNrIiwiZm9yd2FyZCIsIm1hdGNoZXIiLCJjcmVhdGVSb3V0ZXJNYXRjaGVyIiwicm91dGVzIiwicGFyc2VRdWVyeSQxIiwicGFyc2VRdWVyeSIsInN0cmluZ2lmeVF1ZXJ5JDEiLCJzdHJpbmdpZnlRdWVyeSIsInNjcm9sbEJlaGF2aW9yIiwiaGlzdG9yeSIsImJlZm9yZUd1YXJkcyIsInVzZUNhbGxiYWNrcyIsImJlZm9yZVJlc29sdmVHdWFyZHMiLCJhZnRlckd1YXJkcyIsImN1cnJlbnRSb3V0ZSIsInNoYWxsb3dSZWYiLCJTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEIiwicGVuZGluZ0xvY2F0aW9uIiwiaXNCcm93c2VyIiwic2Nyb2xsUmVzdG9yYXRpb24iLCJyZW1vdmVIaXN0b3J5TGlzdGVuZXIiLCJub3JtYWxpemVQYXJhbXMiLCJhcHBseVRvUGFyYW1zIiwicGFyYW1WYWx1ZSIsImVuY29kZVBhcmFtcyIsImVuY29kZVBhcmFtIiwiZGVjb2RlUGFyYW1zIiwiZGVjb2RlIiwicmF3TG9jYXRpb24iLCJjdXJyZW50TG9jYXRpb24iLCJsb2NhdGlvbk5vcm1hbGl6ZWQiLCJwYXJzZVVSTCIsIm1hdGNoZWRSb3V0ZSIsImZ1bGxQYXRoIiwiaGFzaCIsInJlZGlyZWN0ZWRGcm9tIiwibWF0Y2hlckxvY2F0aW9uIiwicXVlcnkiLCJzdHJpbmdpZnlVUkwiLCJjb21tb25FbmNvZGUiLCJFTkNfQ1VSTFlfT1BFTl9SRSIsIkVOQ19DVVJMWV9DTE9TRV9SRSIsIkVOQ19DQVJFVF9SRSIsIm5vcm1hbGl6ZVF1ZXJ5IiwibG9jYXRpb25Bc09iamVjdCIsImNoZWNrQ2FuY2VsZWROYXZpZ2F0aW9uIiwiY3JlYXRlUm91dGVyRXJyb3IiLCJwdXNoV2l0aFJlZGlyZWN0IiwiaGFuZGxlUmVkaXJlY3RSZWNvcmQiLCJsYXN0TWF0Y2hlZCIsIm1hdGNoZWQiLCJyZWRpcmVjdCIsIm5ld1RhcmdldExvY2F0aW9uIiwidGFyZ2V0TG9jYXRpb24iLCJmb3JjZSIsInNob3VsZFJlZGlyZWN0IiwiZmFpbHVyZSIsInRvTG9jYXRpb24iLCJhTGFzdEluZGV4IiwiYkxhc3RJbmRleCIsImlzU2FtZVJvdXRlUmVjb3JkIiwiaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtcyIsImlzU2FtZVJvdXRlTG9jYXRpb24iLCJoYW5kbGVTY3JvbGwiLCJuYXZpZ2F0ZSIsImlzTmF2aWdhdGlvbkZhaWx1cmUiLCJ0cmlnZ2VyRXJyb3IiLCJmaW5hbGl6ZU5hdmlnYXRpb24iLCJ0cmlnZ2VyQWZ0ZXJFYWNoIiwiY2hlY2tDYW5jZWxlZE5hdmlnYXRpb25BbmRSZWplY3QiLCJndWFyZHMiLCJsZWF2aW5nUmVjb3JkcyIsInVwZGF0aW5nUmVjb3JkcyIsImVudGVyaW5nUmVjb3JkcyIsInJlY29yZEZyb20iLCJyZWNvcmRUbyIsImV4dHJhY3RDaGFuZ2luZ1JlY29yZHMiLCJleHRyYWN0Q29tcG9uZW50c0d1YXJkcyIsInJldmVyc2UiLCJsZWF2ZUd1YXJkcyIsImd1YXJkVG9Qcm9taXNlRm4iLCJjYW5jZWxlZE5hdmlnYXRpb25DaGVjayIsInJ1bkd1YXJkUXVldWUiLCJ1cGRhdGVHdWFyZHMiLCJyZWNvcmQiLCJlbnRlckNhbGxiYWNrcyIsImlzUHVzaCIsImlzRmlyc3ROYXZpZ2F0aW9uIiwic2Nyb2xsIiwibWFya0FzUmVhZHkiLCJyZWFkeSIsInJlYWR5SGFuZGxlcnMiLCJlcnJvckhhbmRsZXJzIiwiX2Zyb20iLCJub29wIiwic2Nyb2xsUG9zaXRpb24iLCJnZXRTY3JvbGxLZXkiLCJjb21wdXRlU2Nyb2xsUG9zaXRpb24iLCJzY3JvbGxQb3NpdGlvbnMiLCJzY3JvbGxUb09wdGlvbnMiLCJwb3NpdGlvbkVsIiwiaXNJZFNlbGVjdG9yIiwiZ2V0RWxlbWVudEJ5SWQiLCJvZmZzZXQiLCJkb2NSZWN0IiwiZG9jdW1lbnRFbGVtZW50IiwiZWxSZWN0IiwiYmVoYXZpb3IiLCJnZXRFbGVtZW50UG9zaXRpb24iLCJzY3JvbGxUbyIsInBhZ2VYT2Zmc2V0IiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb1Bvc2l0aW9uIiwic3RhcnRlZCIsImluc3RhbGxlZEFwcHMiLCJhZGRSb3V0ZSIsInBhcmVudE9yUm91dGUiLCJyb3V0ZSIsImlzUm91dGVOYW1lIiwiZ2V0UmVjb3JkTWF0Y2hlciIsInJlbW92ZVJvdXRlIiwicmVjb3JkTWF0Y2hlciIsImhhc1JvdXRlIiwiZ2V0Um91dGVzIiwicm91dGVNYXRjaGVyIiwiYmVmb3JlRWFjaCIsImJlZm9yZVJlc29sdmUiLCJhZnRlckVhY2giLCJpc1JlYWR5Iiwicm91dGVyIiwiUm91dGVyTGluayIsIlJvdXRlclZpZXciLCIkcm91dGVyIiwicmVhY3RpdmVSb3V0ZSIsInJvdXRlcktleSIsInJvdXRlTG9jYXRpb25LZXkiLCJ1bm1vdW50QXBwIiwicm91dGVySWQiLCJsaWIiLCJzZXR1cERldnRvb2xzUGx1Z2luIiwibGFiZWwiLCJhcGkiLCJvbiIsImluc3BlY3RDb21wb25lbnQiLCJwYXlsb2FkIiwiaW5zdGFuY2VEYXRhIiwiZWRpdGFibGUiLCJmb3JtYXRSb3V0ZUxvY2F0aW9uIiwibm90aWZ5Q29tcG9uZW50VXBkYXRlIiwibmF2aWdhdGlvbnNMYXllcklkIiwiYWRkVGltZWxpbmVMYXllciIsImNvbG9yIiwiYWRkVGltZWxpbmVFdmVudCIsImxheWVySWQiLCJsb2dUeXBlIiwiZm9ybWF0RGlzcGxheSIsIl9jdXN0b20iLCJyZWFkT25seSIsIm1lc3NhZ2UiLCJ0b29sdGlwIiwic3RhdHVzIiwicm91dGVySW5zcGVjdG9ySWQiLCJhZGRJbnNwZWN0b3IiLCJpY29uIiwidHJlZUZpbHRlclBsYWNlaG9sZGVyIiwiZ2V0SW5zcGVjdG9yVHJlZSIsImluc3BlY3RvcklkIiwiaXNSb3V0ZU1hdGNoaW5nIiwiX192ZF9tYXRjaCIsInJvb3ROb2RlcyIsImZvcm1hdFJvdXRlUmVjb3JkRm9ySW5zcGVjdG9yIiwiZ2V0SW5zcGVjdG9yU3RhdGUiLCJmaW5kIiwibm9kZUlkIiwiZm9ybWF0Um91dGVSZWNvcmRNYXRjaGVyRm9yU3RhdGVJbnNwZWN0b3IiLCJhZGREZXZ0b29scyIsImhvc3QiLCJwYXRobmFtZSIsImNyZWF0ZVdlYkhpc3RvcnkiLCJsZWF2ZUd1YXJkIiwiYWN0aXZlUmVjb3JkIiwibWF0Y2hlZFJvdXRlS2V5IiwicmVnaXN0ZXJHdWFyZCIsInVwZGF0ZUd1YXJkIiwiaGFzU3ltYm9sIiwiUG9seVN5bWJvbCIsInZpZXdEZXB0aEtleSIsIm5ld1BhcmFtcyIsIlRSQUlMSU5HX1NMQVNIX1JFIiwic2VhcmNoU3RyaW5nIiwic2VhcmNoUG9zIiwiaGFzaFBvcyIsInJlc29sdmVSZWxhdGl2ZVBhdGgiLCJzdHJpcEJhc2UiLCJhbGlhc09mIiwiaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtc1ZhbHVlIiwiaXNFcXVpdmFsZW50QXJyYXkiLCJldmVyeSIsInRvUG9zaXRpb24iLCJzZWdtZW50IiwiZnJvbVNlZ21lbnRzIiwidG9TZWdtZW50cyIsIkJFRk9SRV9IQVNIX1JFIiwiY3JlYXRlQmFzZUxvY2F0aW9uIiwicHJvdG9jb2wiLCJjcmVhdGVDdXJyZW50TG9jYXRpb24iLCJzZWFyY2giLCJwYXRoRnJvbUhhc2giLCJidWlsZFN0YXRlIiwicmVwbGFjZWQiLCJjb21wdXRlU2Nyb2xsIiwiaGlzdG9yeU5hdmlnYXRpb24iLCJoaXN0b3J5U3RhdGUiLCJjaGFuZ2VMb2NhdGlvbiIsImhhc2hJbmRleCIsImN1cnJlbnRTdGF0ZSIsInVzZUhpc3RvcnlTdGF0ZU5hdmlnYXRpb24iLCJiYXNlRWwiLCJnZXRBdHRyaWJ1dGUiLCJub3JtYWxpemVCYXNlIiwiaGlzdG9yeUxpc3RlbmVycyIsInRlYXJkb3ducyIsInBhdXNlU3RhdGUiLCJwb3BTdGF0ZUhhbmRsZXIiLCJmcm9tU3RhdGUiLCJsaXN0ZW5lciIsInVua25vd24iLCJiZWZvcmVVbmxvYWRMaXN0ZW5lciIsInJlcGxhY2VTdGF0ZSIsInBhdXNlTGlzdGVuZXJzIiwidGVhcmRvd24iLCJ1c2VIaXN0b3J5TGlzdGVuZXJzIiwiTmF2aWdhdGlvbkZhaWx1cmVUeXBlIiwiTmF2aWdhdGlvbkZhaWx1cmVTeW1ib2wiLCJwcm9wZXJ0aWVzVG9Mb2ciLCJzdHJpbmdpZnlSb3V0ZSIsIkJBU0VfUEFSQU1fUEFUVEVSTiIsIkJBU0VfUEFUSF9QQVJTRVJfT1BUSU9OUyIsInNlbnNpdGl2ZSIsInN0cmljdCIsIlJFR0VYX0NIQVJTX1JFIiwiY29tcGFyZVNjb3JlQXJyYXkiLCJkaWZmIiwiY29tcGFyZVBhdGhQYXJzZXJTY29yZSIsImFTY29yZSIsInNjb3JlIiwiYlNjb3JlIiwiUk9PVF9UT0tFTiIsIlZBTElEX1BBUkFNX1JFIiwiY3JlYXRlUm91dGVSZWNvcmRNYXRjaGVyIiwicGFyc2VyIiwiZXh0cmFPcHRpb25zIiwic2VnbWVudFNjb3JlcyIsInRva2VuSW5kZXgiLCJ0b2tlbiIsInN1YlNlZ21lbnRTY29yZSIsInJlcGVhdGFibGUiLCJvcHRpb25hbCIsInJlZ2V4cCIsInJlIiwic3ViUGF0dGVybiIsInBhcnNlIiwiYXZvaWREdXBsaWNhdGVkU2xhc2giLCJlbmRzV2l0aCIsInBhcmFtIiwidG9rZW5zVG9QYXJzZXIiLCJjcmFzaCIsImJ1ZmZlciIsInByZXZpb3VzU3RhdGUiLCJ0b2tlbnMiLCJmaW5hbGl6ZVNlZ21lbnQiLCJjaGFyIiwiY3VzdG9tUmUiLCJjb25zdW1lQnVmZmVyIiwiYWRkQ2hhclRvQnVmZmVyIiwidG9rZW5pemVQYXRoIiwiYWxpYXMiLCJnbG9iYWxPcHRpb25zIiwibWF0Y2hlcnMiLCJtYXRjaGVyTWFwIiwib3JpZ2luYWxSZWNvcmQiLCJpc1Jvb3RBZGQiLCJtYWluTm9ybWFsaXplZFJlY29yZCIsIm5vcm1hbGl6ZVJlY29yZFByb3BzIiwiaW5zdGFuY2VzIiwibm9ybWFsaXplUm91dGVSZWNvcmQiLCJvcmlnaW5hbE1hdGNoZXIiLCJub3JtYWxpemVkUmVjb3JkcyIsIm5vcm1hbGl6ZWRSZWNvcmQiLCJwYXJlbnRQYXRoIiwiY29ubmVjdGluZ1NsYXNoIiwiaXNBbGlhc1JlY29yZCIsImluc2VydE1hdGNoZXIiLCJtYXRjaGVyUmVmIiwicGFyYW1zRnJvbUxvY2F0aW9uIiwicGFyZW50TWF0Y2hlciIsIm1lcmdlTWV0YUZpZWxkcyIsInByb3BzT2JqZWN0IiwiZGVmYXVsdHMiLCJwYXJ0aWFsT3B0aW9ucyIsIkhBU0hfUkUiLCJBTVBFUlNBTkRfUkUiLCJTTEFTSF9SRSIsIkVRVUFMX1JFIiwiSU1fUkUiLCJQTFVTX1JFIiwiRU5DX0JSQUNLRVRfT1BFTl9SRSIsIkVOQ19CUkFDS0VUX0NMT1NFX1JFIiwiRU5DX0JBQ0tUSUNLX1JFIiwiRU5DX1BJUEVfUkUiLCJFTkNfU1BBQ0VfUkUiLCJlbmNvZGVVUkkiLCJlbmNvZGVRdWVyeVZhbHVlIiwiZW5jb2RlUGF0aCIsImRlY29kZVVSSUNvbXBvbmVudCIsInNlYXJjaFBhcmFtcyIsInNlYXJjaFBhcmFtIiwiZXFQb3MiLCJjdXJyZW50VmFsdWUiLCJub3JtYWxpemVkUXVlcnkiLCJoYW5kbGVycyIsInJlbW92ZUZyb21MaXN0IiwiZW50ZXJDYWxsYmFja0FycmF5IiwidmFsaWQiLCJndWFyZFJldHVybiIsImd1YXJkQ2FsbCIsImd1YXJkVHlwZSIsInJhd0NvbXBvbmVudCIsImlzUm91dGVDb21wb25lbnQiLCJjb21wb25lbnRQcm9taXNlIiwicmVzb2x2ZWQiLCJyZXNvbHZlZENvbXBvbmVudCIsInVzZUxpbmsiLCJhY3RpdmVSZWNvcmRJbmRleCIsInJvdXRlTWF0Y2hlZCIsImN1cnJlbnRNYXRjaGVkIiwicGFyZW50UmVjb3JkUGF0aCIsImdldE9yaWdpbmFsUGF0aCIsImlzQWN0aXZlIiwib3V0ZXIiLCJpbm5lciIsImlubmVyVmFsdWUiLCJvdXRlclZhbHVlIiwiaW5jbHVkZXNQYXJhbXMiLCJpc0V4YWN0QWN0aXZlIiwiZ3VhcmRFdmVudCIsInJlcXVpcmVkIiwiYWN0aXZlQ2xhc3MiLCJleGFjdEFjdGl2ZUNsYXNzIiwiY3VzdG9tIiwiYXJpYUN1cnJlbnRWYWx1ZSIsImxpbmsiLCJlbENsYXNzIiwiZ2V0TGlua0NsYXNzIiwibGlua0FjdGl2ZUNsYXNzIiwibGlua0V4YWN0QWN0aXZlQ2xhc3MiLCJkZWZhdWx0UHJldmVudGVkIiwicHJvcENsYXNzIiwiZ2xvYmFsQ2xhc3MiLCJkZWZhdWx0Q2xhc3MiLCJpbmplY3RlZFJvdXRlIiwiZGVwdGgiLCJtYXRjaGVkUm91dGVSZWYiLCJ2aWV3UmVmIiwib2xkSW5zdGFuY2UiLCJWaWV3Q29tcG9uZW50IiwiY3VycmVudE5hbWUiLCJyb3V0ZVByb3BzT3B0aW9uIiwicm91dGVQcm9wcyIsImNvbW1vbmpzR2xvYmFsIiwiY3JlYXRlQ29tbW9uanNNb2R1bGUiLCJiYXNlZGlyIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcXVpcmUiLCJjb21tb25qc1JlcXVpcmUiLCJlbnYiLCJuYXZpZ2F0b3IiLCJfX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fIiwiX2NvbnN0IiwiQXBpSG9va0V2ZW50cyIsIkhvb2tzIiwiYXBpJDEiLCJfX2NyZWF0ZUJpbmRpbmciLCJrMiIsIl9fZXhwb3J0U3RhciIsInBsdWdpbkRlc2NyaXB0b3IiLCJzZXR1cEZuIiwiU0VUVVBfREVWVE9PTFNfUExVR0lOIiwiX19WVUVfREVWVE9PTFNfUExVR0lOU19fIiwicm91dGVMb2NhdGlvbiIsImNvcHkiLCJmaWVsZHMiLCJtb2RpZmllckZvcktleSIsInRhZ3MiLCJ0ZXh0Q29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJFWFRSQUNUX1JFR0VYUF9SRSIsImRlY29kZWRQYXRoIiwicHJvbWlzZSIsImNyZWF0ZVJvdXRlciIsImNyZWF0ZVdlYkhhc2hIaXN0b3J5IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJnIiwiQXBwIl0sIm1hcHBpbmdzIjoib0dBNHpCQSxTQUFrQkEsR0FDZCxJQUFJQyxFQUNBQyxFQWFKLE9BWkksSUFBQUMsWUFBV0gsSUFDWEMsRUFBU0QsRUFDVEUsRUFJTUUsU0FHTkgsRUFBU0QsRUFBZ0JLLElBQ3pCSCxFQUFTRixFQUFnQk0sS0FFdEIsSUFBSUMsR0FBZ0JOLEVBQVFDLEdBQVEsSUFBQUMsWUFBV0gsS0FBcUJBLEVBQWdCTSxNLFlBM0UvRixTQUFtQkUsR0FDZixPQUFPLElBQUlDLEdBQWNELEksd0NBckY3QixTQUFpQkUsR0FDYixPQUFPQyxHQUFXRCxJQUFVRSxHQUFXRixJLHFEQUszQyxTQUFpQkEsR0FFYixPQURBLElBQUFHLEtBQUlILEVBQU8sWUFBdUIsR0FDM0JBLEcsOEJBeURYLFNBQW1CSSxHQUNmLE9BQU9ILEdBQVdHLEdBQ1pBLEVBQ0EsSUFBSUMsTUFBTUQsRUFBZ0JFLEssa0NBckRwQyxTQUFhTixHQUNULE9BQU9PLEdBQVVQLEksb0NBbEVyQixTQUF5QlEsR0FDckIsT0FBT0MsR0FBcUJE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LE9BQU84TCxZQUFhLENBQUVoTyxNQUFPLFdBRTdENEUsT0FBT290QixlQUFlMDdCLEVBQVMsYUFBYyxDQUFFMXRELE9BQU8sSyxNQ0x2RCxhQUNBLFlBQ0EsWSxvREFJQSxJQUFBdzRCLFdBQVVxM0IsV0FBS3RqQyxJQUFJK3hCLFdBQVExeEIsTUFBTSxVIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFTVBUWV9PQkosIGlzQXJyYXksIGlzTWFwLCBpc0ludGVnZXJLZXksIGlzU3ltYm9sLCBleHRlbmQsIGhhc093biwgaXNPYmplY3QsIGhhc0NoYW5nZWQsIGNhcGl0YWxpemUsIHRvUmF3VHlwZSwgZGVmLCBpc0Z1bmN0aW9uLCBOT09QIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5jb25zdCB0YXJnZXRNYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCBlZmZlY3RTdGFjayA9IFtdO1xyXG5sZXQgYWN0aXZlRWZmZWN0O1xyXG5jb25zdCBJVEVSQVRFX0tFWSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnaXRlcmF0ZScgOiAnJyk7XHJcbmNvbnN0IE1BUF9LRVlfSVRFUkFURV9LRVkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ01hcCBrZXkgaXRlcmF0ZScgOiAnJyk7XHJcbmZ1bmN0aW9uIGlzRWZmZWN0KGZuKSB7XHJcbiAgICByZXR1cm4gZm4gJiYgZm4uX2lzRWZmZWN0ID09PSB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIGVmZmVjdChmbiwgb3B0aW9ucyA9IEVNUFRZX09CSikge1xyXG4gICAgaWYgKGlzRWZmZWN0KGZuKSkge1xyXG4gICAgICAgIGZuID0gZm4ucmF3O1xyXG4gICAgfVxyXG4gICAgY29uc3QgZWZmZWN0ID0gY3JlYXRlUmVhY3RpdmVFZmZlY3QoZm4sIG9wdGlvbnMpO1xyXG4gICAgaWYgKCFvcHRpb25zLmxhenkpIHtcclxuICAgICAgICBlZmZlY3QoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBlZmZlY3Q7XHJcbn1cclxuZnVuY3Rpb24gc3RvcChlZmZlY3QpIHtcclxuICAgIGlmIChlZmZlY3QuYWN0aXZlKSB7XHJcbiAgICAgICAgY2xlYW51cChlZmZlY3QpO1xyXG4gICAgICAgIGlmIChlZmZlY3Qub3B0aW9ucy5vblN0b3ApIHtcclxuICAgICAgICAgICAgZWZmZWN0Lm9wdGlvbnMub25TdG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVmZmVjdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG5sZXQgdWlkID0gMDtcclxuZnVuY3Rpb24gY3JlYXRlUmVhY3RpdmVFZmZlY3QoZm4sIG9wdGlvbnMpIHtcclxuICAgIGNvbnN0IGVmZmVjdCA9IGZ1bmN0aW9uIHJlYWN0aXZlRWZmZWN0KCkge1xyXG4gICAgICAgIGlmICghZWZmZWN0LmFjdGl2ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5zY2hlZHVsZXIgPyB1bmRlZmluZWQgOiBmbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWVmZmVjdFN0YWNrLmluY2x1ZGVzKGVmZmVjdCkpIHtcclxuICAgICAgICAgICAgY2xlYW51cChlZmZlY3QpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlVHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgICAgIGVmZmVjdFN0YWNrLnB1c2goZWZmZWN0KTtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUVmZmVjdCA9IGVmZmVjdDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgZWZmZWN0U3RhY2sucG9wKCk7XHJcbiAgICAgICAgICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVFZmZlY3QgPSBlZmZlY3RTdGFja1tlZmZlY3RTdGFjay5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlZmZlY3QuaWQgPSB1aWQrKztcclxuICAgIGVmZmVjdC5hbGxvd1JlY3Vyc2UgPSAhIW9wdGlvbnMuYWxsb3dSZWN1cnNlO1xyXG4gICAgZWZmZWN0Ll9pc0VmZmVjdCA9IHRydWU7XHJcbiAgICBlZmZlY3QuYWN0aXZlID0gdHJ1ZTtcclxuICAgIGVmZmVjdC5yYXcgPSBmbjtcclxuICAgIGVmZmVjdC5kZXBzID0gW107XHJcbiAgICBlZmZlY3Qub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICByZXR1cm4gZWZmZWN0O1xyXG59XHJcbmZ1bmN0aW9uIGNsZWFudXAoZWZmZWN0KSB7XHJcbiAgICBjb25zdCB7IGRlcHMgfSA9IGVmZmVjdDtcclxuICAgIGlmIChkZXBzLmxlbmd0aCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVwcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBkZXBzW2ldLmRlbGV0ZShlZmZlY3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZXBzLmxlbmd0aCA9IDA7XHJcbiAgICB9XHJcbn1cclxubGV0IHNob3VsZFRyYWNrID0gdHJ1ZTtcclxuY29uc3QgdHJhY2tTdGFjayA9IFtdO1xyXG5mdW5jdGlvbiBwYXVzZVRyYWNraW5nKCkge1xyXG4gICAgdHJhY2tTdGFjay5wdXNoKHNob3VsZFRyYWNrKTtcclxuICAgIHNob3VsZFRyYWNrID0gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gZW5hYmxlVHJhY2tpbmcoKSB7XHJcbiAgICB0cmFja1N0YWNrLnB1c2goc2hvdWxkVHJhY2spO1xyXG4gICAgc2hvdWxkVHJhY2sgPSB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIHJlc2V0VHJhY2tpbmcoKSB7XHJcbiAgICBjb25zdCBsYXN0ID0gdHJhY2tTdGFjay5wb3AoKTtcclxuICAgIHNob3VsZFRyYWNrID0gbGFzdCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGxhc3Q7XHJcbn1cclxuZnVuY3Rpb24gdHJhY2sodGFyZ2V0LCB0eXBlLCBrZXkpIHtcclxuICAgIGlmICghc2hvdWxkVHJhY2sgfHwgYWN0aXZlRWZmZWN0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcclxuICAgIGlmICghZGVwc01hcCkge1xyXG4gICAgICAgIHRhcmdldE1hcC5zZXQodGFyZ2V0LCAoZGVwc01hcCA9IG5ldyBNYXAoKSkpO1xyXG4gICAgfVxyXG4gICAgbGV0IGRlcCA9IGRlcHNNYXAuZ2V0KGtleSk7XHJcbiAgICBpZiAoIWRlcCkge1xyXG4gICAgICAgIGRlcHNNYXAuc2V0KGtleSwgKGRlcCA9IG5ldyBTZXQoKSkpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFkZXAuaGFzKGFjdGl2ZUVmZmVjdCkpIHtcclxuICAgICAgICBkZXAuYWRkKGFjdGl2ZUVmZmVjdCk7XHJcbiAgICAgICAgYWN0aXZlRWZmZWN0LmRlcHMucHVzaChkZXApO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYWN0aXZlRWZmZWN0Lm9wdGlvbnMub25UcmFjaykge1xyXG4gICAgICAgICAgICBhY3RpdmVFZmZlY3Qub3B0aW9ucy5vblRyYWNrKHtcclxuICAgICAgICAgICAgICAgIGVmZmVjdDogYWN0aXZlRWZmZWN0LFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgICAgIGtleVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdHJpZ2dlcih0YXJnZXQsIHR5cGUsIGtleSwgbmV3VmFsdWUsIG9sZFZhbHVlLCBvbGRUYXJnZXQpIHtcclxuICAgIGNvbnN0IGRlcHNNYXAgPSB0YXJnZXRNYXAuZ2V0KHRhcmdldCk7XHJcbiAgICBpZiAoIWRlcHNNYXApIHtcclxuICAgICAgICAvLyBuZXZlciBiZWVuIHRyYWNrZWRcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBlZmZlY3RzID0gbmV3IFNldCgpO1xyXG4gICAgY29uc3QgYWRkID0gKGVmZmVjdHNUb0FkZCkgPT4ge1xyXG4gICAgICAgIGlmIChlZmZlY3RzVG9BZGQpIHtcclxuICAgICAgICAgICAgZWZmZWN0c1RvQWRkLmZvckVhY2goZWZmZWN0ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QgIT09IGFjdGl2ZUVmZmVjdCB8fCBlZmZlY3QuYWxsb3dSZWN1cnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5hZGQoZWZmZWN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGlmICh0eXBlID09PSBcImNsZWFyXCIgLyogQ0xFQVIgKi8pIHtcclxuICAgICAgICAvLyBjb2xsZWN0aW9uIGJlaW5nIGNsZWFyZWRcclxuICAgICAgICAvLyB0cmlnZ2VyIGFsbCBlZmZlY3RzIGZvciB0YXJnZXRcclxuICAgICAgICBkZXBzTWFwLmZvckVhY2goYWRkKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGtleSA9PT0gJ2xlbmd0aCcgJiYgaXNBcnJheSh0YXJnZXQpKSB7XHJcbiAgICAgICAgZGVwc01hcC5mb3JFYWNoKChkZXAsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbGVuZ3RoJyB8fCBrZXkgPj0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGFkZChkZXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBzY2hlZHVsZSBydW5zIGZvciBTRVQgfCBBREQgfCBERUxFVEVcclxuICAgICAgICBpZiAoa2V5ICE9PSB2b2lkIDApIHtcclxuICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KGtleSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhbHNvIHJ1biBmb3IgaXRlcmF0aW9uIGtleSBvbiBBREQgfCBERUxFVEUgfCBNYXAuU0VUXHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhZGRcIiAvKiBBREQgKi86XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXJyYXkodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNJbnRlZ2VyS2V5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBuZXcgaW5kZXggYWRkZWQgdG8gYXJyYXkgLT4gbGVuZ3RoIGNoYW5nZXNcclxuICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoJ2xlbmd0aCcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZGVsZXRlXCIgLyogREVMRVRFICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoTUFQX0tFWV9JVEVSQVRFX0tFWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwic2V0XCIgLyogU0VUICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHJ1biA9IChlZmZlY3QpID0+IHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGVmZmVjdC5vcHRpb25zLm9uVHJpZ2dlcikge1xyXG4gICAgICAgICAgICBlZmZlY3Qub3B0aW9ucy5vblRyaWdnZXIoe1xyXG4gICAgICAgICAgICAgICAgZWZmZWN0LFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWUsXHJcbiAgICAgICAgICAgICAgICBvbGRUYXJnZXRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlZmZlY3Qub3B0aW9ucy5zY2hlZHVsZXIpIHtcclxuICAgICAgICAgICAgZWZmZWN0Lm9wdGlvbnMuc2NoZWR1bGVyKGVmZmVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlZmZlY3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZWZmZWN0cy5mb3JFYWNoKHJ1bik7XHJcbn1cblxuY29uc3QgYnVpbHRJblN5bWJvbHMgPSBuZXcgU2V0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFN5bWJvbClcclxuICAgIC5tYXAoa2V5ID0+IFN5bWJvbFtrZXldKVxyXG4gICAgLmZpbHRlcihpc1N5bWJvbCkpO1xyXG5jb25zdCBnZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcigpO1xyXG5jb25zdCBzaGFsbG93R2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIoZmFsc2UsIHRydWUpO1xyXG5jb25zdCByZWFkb25seUdldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlR2V0dGVyKHRydWUpO1xyXG5jb25zdCBzaGFsbG93UmVhZG9ubHlHZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcih0cnVlLCB0cnVlKTtcclxuY29uc3QgYXJyYXlJbnN0cnVtZW50YXRpb25zID0ge307XHJcblsnaW5jbHVkZXMnLCAnaW5kZXhPZicsICdsYXN0SW5kZXhPZiddLmZvckVhY2goa2V5ID0+IHtcclxuICAgIGNvbnN0IG1ldGhvZCA9IEFycmF5LnByb3RvdHlwZVtrZXldO1xyXG4gICAgYXJyYXlJbnN0cnVtZW50YXRpb25zW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgIGNvbnN0IGFyciA9IHRvUmF3KHRoaXMpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgdHJhY2soYXJyLCBcImdldFwiIC8qIEdFVCAqLywgaSArICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gd2UgcnVuIHRoZSBtZXRob2QgdXNpbmcgdGhlIG9yaWdpbmFsIGFyZ3MgZmlyc3QgKHdoaWNoIG1heSBiZSByZWFjdGl2ZSlcclxuICAgICAgICBjb25zdCByZXMgPSBtZXRob2QuYXBwbHkoYXJyLCBhcmdzKTtcclxuICAgICAgICBpZiAocmVzID09PSAtMSB8fCByZXMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIHRoYXQgZGlkbid0IHdvcmssIHJ1biBpdCBhZ2FpbiB1c2luZyByYXcgdmFsdWVzLlxyXG4gICAgICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KGFyciwgYXJncy5tYXAodG9SYXcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSk7XHJcblsncHVzaCcsICdwb3AnLCAnc2hpZnQnLCAndW5zaGlmdCcsICdzcGxpY2UnXS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICBjb25zdCBtZXRob2QgPSBBcnJheS5wcm90b3R5cGVba2V5XTtcclxuICAgIGFycmF5SW5zdHJ1bWVudGF0aW9uc1trZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcclxuICAgICAgICBwYXVzZVRyYWNraW5nKCk7XHJcbiAgICAgICAgY29uc3QgcmVzID0gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfTtcclxufSk7XHJcbmZ1bmN0aW9uIGNyZWF0ZUdldHRlcihpc1JlYWRvbmx5ID0gZmFsc2UsIHNoYWxsb3cgPSBmYWxzZSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpIHtcclxuICAgICAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIgLyogSVNfUkVBQ1RJVkUgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuICFpc1JlYWRvbmx5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIiAvKiBJU19SRUFET05MWSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNSZWFkb25seTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9yYXdcIiAvKiBSQVcgKi8gJiZcclxuICAgICAgICAgICAgcmVjZWl2ZXIgPT09IChpc1JlYWRvbmx5ID8gcmVhZG9ubHlNYXAgOiByZWFjdGl2ZU1hcCkuZ2V0KHRhcmdldCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0SXNBcnJheSA9IGlzQXJyYXkodGFyZ2V0KTtcclxuICAgICAgICBpZiAodGFyZ2V0SXNBcnJheSAmJiBoYXNPd24oYXJyYXlJbnN0cnVtZW50YXRpb25zLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldChhcnJheUluc3RydW1lbnRhdGlvbnMsIGtleSwgcmVjZWl2ZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXMgPSBSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpO1xyXG4gICAgICAgIGlmIChpc1N5bWJvbChrZXkpXHJcbiAgICAgICAgICAgID8gYnVpbHRJblN5bWJvbHMuaGFzKGtleSlcclxuICAgICAgICAgICAgOiBrZXkgPT09IGBfX3Byb3RvX19gIHx8IGtleSA9PT0gYF9fdl9pc1JlZmApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc1JlYWRvbmx5KSB7XHJcbiAgICAgICAgICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiAvKiBHRVQgKi8sIGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFsbG93KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1JlZihyZXMpKSB7XHJcbiAgICAgICAgICAgIC8vIHJlZiB1bndyYXBwaW5nIC0gZG9lcyBub3QgYXBwbHkgZm9yIEFycmF5ICsgaW50ZWdlciBrZXkuXHJcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFVud3JhcCA9ICF0YXJnZXRJc0FycmF5IHx8ICFpc0ludGVnZXJLZXkoa2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHNob3VsZFVud3JhcCA/IHJlcy52YWx1ZSA6IHJlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KHJlcykpIHtcclxuICAgICAgICAgICAgLy8gQ29udmVydCByZXR1cm5lZCB2YWx1ZSBpbnRvIGEgcHJveHkgYXMgd2VsbC4gd2UgZG8gdGhlIGlzT2JqZWN0IGNoZWNrXHJcbiAgICAgICAgICAgIC8vIGhlcmUgdG8gYXZvaWQgaW52YWxpZCB2YWx1ZSB3YXJuaW5nLiBBbHNvIG5lZWQgdG8gbGF6eSBhY2Nlc3MgcmVhZG9ubHlcclxuICAgICAgICAgICAgLy8gYW5kIHJlYWN0aXZlIGhlcmUgdG8gYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jeS5cclxuICAgICAgICAgICAgcmV0dXJuIGlzUmVhZG9ubHkgPyByZWFkb25seShyZXMpIDogcmVhY3RpdmUocmVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH07XHJcbn1cclxuY29uc3Qgc2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVTZXR0ZXIoKTtcclxuY29uc3Qgc2hhbGxvd1NldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlU2V0dGVyKHRydWUpO1xyXG5mdW5jdGlvbiBjcmVhdGVTZXR0ZXIoc2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcclxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xyXG4gICAgICAgIGlmICghc2hhbGxvdykge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkgJiYgaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBoYWRLZXkgPSBpc0FycmF5KHRhcmdldCkgJiYgaXNJbnRlZ2VyS2V5KGtleSlcclxuICAgICAgICAgICAgPyBOdW1iZXIoa2V5KSA8IHRhcmdldC5sZW5ndGhcclxuICAgICAgICAgICAgOiBoYXNPd24odGFyZ2V0LCBrZXkpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xyXG4gICAgICAgIC8vIGRvbid0IHRyaWdnZXIgaWYgdGFyZ2V0IGlzIHNvbWV0aGluZyB1cCBpbiB0aGUgcHJvdG90eXBlIGNoYWluIG9mIG9yaWdpbmFsXHJcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdG9SYXcocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgICAgIGlmICghaGFkS2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiAvKiBBREQgKi8sIGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGhhc0NoYW5nZWQodmFsdWUsIG9sZFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIgLyogU0VUICovLCBrZXksIHZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpIHtcclxuICAgIGNvbnN0IGhhZEtleSA9IGhhc093bih0YXJnZXQsIGtleSk7XHJcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSk7XHJcbiAgICBpZiAocmVzdWx0ICYmIGhhZEtleSkge1xyXG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImRlbGV0ZVwiIC8qIERFTEVURSAqLywga2V5LCB1bmRlZmluZWQsIG9sZFZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gaGFzKHRhcmdldCwga2V5KSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0Lmhhcyh0YXJnZXQsIGtleSk7XHJcbiAgICBpZiAoIWlzU3ltYm9sKGtleSkgfHwgIWJ1aWx0SW5TeW1ib2xzLmhhcyhrZXkpKSB7XHJcbiAgICAgICAgdHJhY2sodGFyZ2V0LCBcImhhc1wiIC8qIEhBUyAqLywga2V5KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gb3duS2V5cyh0YXJnZXQpIHtcclxuICAgIHRyYWNrKHRhcmdldCwgXCJpdGVyYXRlXCIgLyogSVRFUkFURSAqLywgaXNBcnJheSh0YXJnZXQpID8gJ2xlbmd0aCcgOiBJVEVSQVRFX0tFWSk7XHJcbiAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldCk7XHJcbn1cclxuY29uc3QgbXV0YWJsZUhhbmRsZXJzID0ge1xyXG4gICAgZ2V0LFxyXG4gICAgc2V0LFxyXG4gICAgZGVsZXRlUHJvcGVydHksXHJcbiAgICBoYXMsXHJcbiAgICBvd25LZXlzXHJcbn07XHJcbmNvbnN0IHJlYWRvbmx5SGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6IHJlYWRvbmx5R2V0LFxyXG4gICAgc2V0KHRhcmdldCwga2V5KSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFNldCBvcGVyYXRpb24gb24ga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLCB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcbiAgICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBEZWxldGUgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCwgdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzID0gZXh0ZW5kKHt9LCBtdXRhYmxlSGFuZGxlcnMsIHtcclxuICAgIGdldDogc2hhbGxvd0dldCxcclxuICAgIHNldDogc2hhbGxvd1NldFxyXG59KTtcclxuLy8gUHJvcHMgaGFuZGxlcnMgYXJlIHNwZWNpYWwgaW4gdGhlIHNlbnNlIHRoYXQgaXQgc2hvdWxkIG5vdCB1bndyYXAgdG9wLWxldmVsXHJcbi8vIHJlZnMgKGluIG9yZGVyIHRvIGFsbG93IHJlZnMgdG8gYmUgZXhwbGljaXRseSBwYXNzZWQgZG93biksIGJ1dCBzaG91bGRcclxuLy8gcmV0YWluIHRoZSByZWFjdGl2aXR5IG9mIHRoZSBub3JtYWwgcmVhZG9ubHkgb2JqZWN0LlxyXG5jb25zdCBzaGFsbG93UmVhZG9ubHlIYW5kbGVycyA9IGV4dGVuZCh7fSwgcmVhZG9ubHlIYW5kbGVycywge1xyXG4gICAgZ2V0OiBzaGFsbG93UmVhZG9ubHlHZXRcclxufSk7XG5cbmNvbnN0IHRvUmVhY3RpdmUgPSAodmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSA/IHJlYWN0aXZlKHZhbHVlKSA6IHZhbHVlO1xyXG5jb25zdCB0b1JlYWRvbmx5ID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgPyByZWFkb25seSh2YWx1ZSkgOiB2YWx1ZTtcclxuY29uc3QgdG9TaGFsbG93ID0gKHZhbHVlKSA9PiB2YWx1ZTtcclxuY29uc3QgZ2V0UHJvdG8gPSAodikgPT4gUmVmbGVjdC5nZXRQcm90b3R5cGVPZih2KTtcclxuZnVuY3Rpb24gZ2V0JDEodGFyZ2V0LCBrZXksIGlzUmVhZG9ubHkgPSBmYWxzZSwgaXNTaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIC8vICMxNzcyOiByZWFkb25seShyZWFjdGl2ZShNYXApKSBzaG91bGQgcmV0dXJuIHJlYWRvbmx5ICsgcmVhY3RpdmUgdmVyc2lvblxyXG4gICAgLy8gb2YgdGhlIHZhbHVlXHJcbiAgICB0YXJnZXQgPSB0YXJnZXRbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgaWYgKGtleSAhPT0gcmF3S2V5KSB7XHJcbiAgICAgICAgIWlzUmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiIC8qIEdFVCAqLywga2V5KTtcclxuICAgIH1cclxuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJnZXRcIiAvKiBHRVQgKi8sIHJhd0tleSk7XHJcbiAgICBjb25zdCB7IGhhcyB9ID0gZ2V0UHJvdG8ocmF3VGFyZ2V0KTtcclxuICAgIGNvbnN0IHdyYXAgPSBpc1JlYWRvbmx5ID8gdG9SZWFkb25seSA6IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IHRvUmVhY3RpdmU7XHJcbiAgICBpZiAoaGFzLmNhbGwocmF3VGFyZ2V0LCBrZXkpKSB7XHJcbiAgICAgICAgcmV0dXJuIHdyYXAodGFyZ2V0LmdldChrZXkpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGhhcy5jYWxsKHJhd1RhcmdldCwgcmF3S2V5KSkge1xyXG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQocmF3S2V5KSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaGFzJDEoa2V5LCBpc1JlYWRvbmx5ID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgaWYgKGtleSAhPT0gcmF3S2V5KSB7XHJcbiAgICAgICAgIWlzUmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcImhhc1wiIC8qIEhBUyAqLywga2V5KTtcclxuICAgIH1cclxuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiAvKiBIQVMgKi8sIHJhd0tleSk7XHJcbiAgICByZXR1cm4ga2V5ID09PSByYXdLZXlcclxuICAgICAgICA/IHRhcmdldC5oYXMoa2V5KVxyXG4gICAgICAgIDogdGFyZ2V0LmhhcyhrZXkpIHx8IHRhcmdldC5oYXMocmF3S2V5KTtcclxufVxyXG5mdW5jdGlvbiBzaXplKHRhcmdldCwgaXNSZWFkb25seSA9IGZhbHNlKSB7XHJcbiAgICB0YXJnZXQgPSB0YXJnZXRbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHRvUmF3KHRhcmdldCksIFwiaXRlcmF0ZVwiIC8qIElURVJBVEUgKi8sIElURVJBVEVfS0VZKTtcclxuICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsICdzaXplJywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiBhZGQodmFsdWUpIHtcclxuICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XHJcbiAgICBjb25zdCBwcm90byA9IGdldFByb3RvKHRhcmdldCk7XHJcbiAgICBjb25zdCBoYWRLZXkgPSBwcm90by5oYXMuY2FsbCh0YXJnZXQsIHZhbHVlKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5hZGQodmFsdWUpO1xyXG4gICAgaWYgKCFoYWRLZXkpIHtcclxuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiAvKiBBREQgKi8sIHZhbHVlLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIHNldCQxKGtleSwgdmFsdWUpIHtcclxuICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XHJcbiAgICBjb25zdCB7IGhhcywgZ2V0IH0gPSBnZXRQcm90byh0YXJnZXQpO1xyXG4gICAgbGV0IGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcclxuICAgIGlmICghaGFkS2V5KSB7XHJcbiAgICAgICAga2V5ID0gdG9SYXcoa2V5KTtcclxuICAgICAgICBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KTtcclxuICAgIH1cclxuICAgIGNvbnN0IG9sZFZhbHVlID0gZ2V0LmNhbGwodGFyZ2V0LCBrZXkpO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LnNldChrZXksIHZhbHVlKTtcclxuICAgIGlmICghaGFkS2V5KSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIgLyogQUREICovLCBrZXksIHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGhhc0NoYW5nZWQodmFsdWUsIG9sZFZhbHVlKSkge1xyXG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcInNldFwiIC8qIFNFVCAqLywga2V5LCB2YWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBkZWxldGVFbnRyeShrZXkpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xyXG4gICAgY29uc3QgeyBoYXMsIGdldCB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcclxuICAgIGxldCBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XHJcbiAgICBpZiAoIWhhZEtleSkge1xyXG4gICAgICAgIGtleSA9IHRvUmF3KGtleSk7XHJcbiAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBvbGRWYWx1ZSA9IGdldCA/IGdldC5jYWxsKHRhcmdldCwga2V5KSA6IHVuZGVmaW5lZDtcclxuICAgIC8vIGZvcndhcmQgdGhlIG9wZXJhdGlvbiBiZWZvcmUgcXVldWVpbmcgcmVhY3Rpb25zXHJcbiAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuZGVsZXRlKGtleSk7XHJcbiAgICBpZiAoaGFkS2V5KSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIgLyogREVMRVRFICovLCBrZXksIHVuZGVmaW5lZCwgb2xkVmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBjbGVhcigpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xyXG4gICAgY29uc3QgaGFkSXRlbXMgPSB0YXJnZXQuc2l6ZSAhPT0gMDtcclxuICAgIGNvbnN0IG9sZFRhcmdldCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgID8gaXNNYXAodGFyZ2V0KVxyXG4gICAgICAgICAgICA/IG5ldyBNYXAodGFyZ2V0KVxyXG4gICAgICAgICAgICA6IG5ldyBTZXQodGFyZ2V0KVxyXG4gICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgLy8gZm9yd2FyZCB0aGUgb3BlcmF0aW9uIGJlZm9yZSBxdWV1ZWluZyByZWFjdGlvbnNcclxuICAgIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5jbGVhcigpO1xyXG4gICAgaWYgKGhhZEl0ZW1zKSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiY2xlYXJcIiAvKiBDTEVBUiAqLywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9sZFRhcmdldCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUZvckVhY2goaXNSZWFkb25seSwgaXNTaGFsbG93KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZykge1xyXG4gICAgICAgIGNvbnN0IG9ic2VydmVkID0gdGhpcztcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBvYnNlcnZlZFtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dO1xyXG4gICAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICAgICAgY29uc3Qgd3JhcCA9IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogaXNTaGFsbG93ID8gdG9TaGFsbG93IDogdG9SZWFjdGl2ZTtcclxuICAgICAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaXRlcmF0ZVwiIC8qIElURVJBVEUgKi8sIElURVJBVEVfS0VZKTtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gaW1wb3J0YW50OiBtYWtlIHN1cmUgdGhlIGNhbGxiYWNrIGlzXHJcbiAgICAgICAgICAgIC8vIDEuIGludm9rZWQgd2l0aCB0aGUgcmVhY3RpdmUgbWFwIGFzIGB0aGlzYCBhbmQgM3JkIGFyZ1xyXG4gICAgICAgICAgICAvLyAyLiB0aGUgdmFsdWUgcmVjZWl2ZWQgc2hvdWxkIGJlIGEgY29ycmVzcG9uZGluZyByZWFjdGl2ZS9yZWFkb25seS5cclxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgd3JhcCh2YWx1ZSksIHdyYXAoa2V5KSwgb2JzZXJ2ZWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGlzUmVhZG9ubHksIGlzU2hhbGxvdykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIiAvKiBSQVcgKi9dO1xyXG4gICAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0SXNNYXAgPSBpc01hcChyYXdUYXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IGlzUGFpciA9IG1ldGhvZCA9PT0gJ2VudHJpZXMnIHx8IChtZXRob2QgPT09IFN5bWJvbC5pdGVyYXRvciAmJiB0YXJnZXRJc01hcCk7XHJcbiAgICAgICAgY29uc3QgaXNLZXlPbmx5ID0gbWV0aG9kID09PSAna2V5cycgJiYgdGFyZ2V0SXNNYXA7XHJcbiAgICAgICAgY29uc3QgaW5uZXJJdGVyYXRvciA9IHRhcmdldFttZXRob2RdKC4uLmFyZ3MpO1xyXG4gICAgICAgIGNvbnN0IHdyYXAgPSBpc1JlYWRvbmx5ID8gdG9SZWFkb25seSA6IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IHRvUmVhY3RpdmU7XHJcbiAgICAgICAgIWlzUmVhZG9ubHkgJiZcclxuICAgICAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcIml0ZXJhdGVcIiAvKiBJVEVSQVRFICovLCBpc0tleU9ubHkgPyBNQVBfS0VZX0lURVJBVEVfS0VZIDogSVRFUkFURV9LRVkpO1xyXG4gICAgICAgIC8vIHJldHVybiBhIHdyYXBwZWQgaXRlcmF0b3Igd2hpY2ggcmV0dXJucyBvYnNlcnZlZCB2ZXJzaW9ucyBvZiB0aGVcclxuICAgICAgICAvLyB2YWx1ZXMgZW1pdHRlZCBmcm9tIHRoZSByZWFsIGl0ZXJhdG9yXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLy8gaXRlcmF0b3IgcHJvdG9jb2xcclxuICAgICAgICAgICAgbmV4dCgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGlubmVySXRlcmF0b3IubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmVcclxuICAgICAgICAgICAgICAgICAgICA/IHsgdmFsdWUsIGRvbmUgfVxyXG4gICAgICAgICAgICAgICAgICAgIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXNQYWlyID8gW3dyYXAodmFsdWVbMF0pLCB3cmFwKHZhbHVlWzFdKV0gOiB3cmFwKHZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGl0ZXJhYmxlIHByb3RvY29sXHJcbiAgICAgICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVSZWFkb25seU1ldGhvZCh0eXBlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGFyZ3NbMF0gPyBgb24ga2V5IFwiJHthcmdzWzBdfVwiIGAgOiBgYDtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGAke2NhcGl0YWxpemUodHlwZSl9IG9wZXJhdGlvbiAke2tleX1mYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLCB0b1Jhdyh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0eXBlID09PSBcImRlbGV0ZVwiIC8qIERFTEVURSAqLyA/IGZhbHNlIDogdGhpcztcclxuICAgIH07XHJcbn1cclxuY29uc3QgbXV0YWJsZUluc3RydW1lbnRhdGlvbnMgPSB7XHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSk7XHJcbiAgICB9LFxyXG4gICAgZ2V0IHNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHNpemUodGhpcyk7XHJcbiAgICB9LFxyXG4gICAgaGFzOiBoYXMkMSxcclxuICAgIGFkZCxcclxuICAgIHNldDogc2V0JDEsXHJcbiAgICBkZWxldGU6IGRlbGV0ZUVudHJ5LFxyXG4gICAgY2xlYXIsXHJcbiAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKGZhbHNlLCBmYWxzZSlcclxufTtcclxuY29uc3Qgc2hhbGxvd0luc3RydW1lbnRhdGlvbnMgPSB7XHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSwgZmFsc2UsIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBzaXplKHRoaXMpO1xyXG4gICAgfSxcclxuICAgIGhhczogaGFzJDEsXHJcbiAgICBhZGQsXHJcbiAgICBzZXQ6IHNldCQxLFxyXG4gICAgZGVsZXRlOiBkZWxldGVFbnRyeSxcclxuICAgIGNsZWFyLFxyXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgdHJ1ZSlcclxufTtcclxuY29uc3QgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zID0ge1xyXG4gICAgZ2V0KGtleSkge1xyXG4gICAgICAgIHJldHVybiBnZXQkMSh0aGlzLCBrZXksIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBzaXplKHRoaXMsIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGhhcyhrZXkpIHtcclxuICAgICAgICByZXR1cm4gaGFzJDEuY2FsbCh0aGlzLCBrZXksIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGFkZDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJhZGRcIiAvKiBBREQgKi8pLFxyXG4gICAgc2V0OiBjcmVhdGVSZWFkb25seU1ldGhvZChcInNldFwiIC8qIFNFVCAqLyksXHJcbiAgICBkZWxldGU6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiZGVsZXRlXCIgLyogREVMRVRFICovKSxcclxuICAgIGNsZWFyOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImNsZWFyXCIgLyogQ0xFQVIgKi8pLFxyXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaCh0cnVlLCBmYWxzZSlcclxufTtcclxuY29uc3QgaXRlcmF0b3JNZXRob2RzID0gWydrZXlzJywgJ3ZhbHVlcycsICdlbnRyaWVzJywgU3ltYm9sLml0ZXJhdG9yXTtcclxuaXRlcmF0b3JNZXRob2RzLmZvckVhY2gobWV0aG9kID0+IHtcclxuICAgIG11dGFibGVJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGZhbHNlLCBmYWxzZSk7XHJcbiAgICByZWFkb25seUluc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgc2hhbGxvd0luc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgZmFsc2UsIHRydWUpO1xyXG59KTtcclxuZnVuY3Rpb24gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGlzUmVhZG9ubHksIHNoYWxsb3cpIHtcclxuICAgIGNvbnN0IGluc3RydW1lbnRhdGlvbnMgPSBzaGFsbG93XHJcbiAgICAgICAgPyBzaGFsbG93SW5zdHJ1bWVudGF0aW9uc1xyXG4gICAgICAgIDogaXNSZWFkb25seVxyXG4gICAgICAgICAgICA/IHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1xyXG4gICAgICAgICAgICA6IG11dGFibGVJbnN0cnVtZW50YXRpb25zO1xyXG4gICAgcmV0dXJuICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IHtcclxuICAgICAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIgLyogSVNfUkVBQ1RJVkUgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuICFpc1JlYWRvbmx5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIiAvKiBJU19SRUFET05MWSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNSZWFkb25seTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9yYXdcIiAvKiBSQVcgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KGhhc093bihpbnN0cnVtZW50YXRpb25zLCBrZXkpICYmIGtleSBpbiB0YXJnZXRcclxuICAgICAgICAgICAgPyBpbnN0cnVtZW50YXRpb25zXHJcbiAgICAgICAgICAgIDogdGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcclxuICAgIH07XHJcbn1cclxuY29uc3QgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCBmYWxzZSlcclxufTtcclxuY29uc3Qgc2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCB0cnVlKVxyXG59O1xyXG5jb25zdCByZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKHRydWUsIGZhbHNlKVxyXG59O1xyXG5mdW5jdGlvbiBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KSB7XHJcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgaWYgKHJhd0tleSAhPT0ga2V5ICYmIGhhcy5jYWxsKHRhcmdldCwgcmF3S2V5KSkge1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSB0b1Jhd1R5cGUodGFyZ2V0KTtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFJlYWN0aXZlICR7dHlwZX0gY29udGFpbnMgYm90aCB0aGUgcmF3IGFuZCByZWFjdGl2ZSBgICtcclxuICAgICAgICAgICAgYHZlcnNpb25zIG9mIHRoZSBzYW1lIG9iamVjdCR7dHlwZSA9PT0gYE1hcGAgPyBgIGFzIGtleXNgIDogYGB9LCBgICtcclxuICAgICAgICAgICAgYHdoaWNoIGNhbiBsZWFkIHRvIGluY29uc2lzdGVuY2llcy4gYCArXHJcbiAgICAgICAgICAgIGBBdm9pZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlbiB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBgICtcclxuICAgICAgICAgICAgYG9mIGFuIG9iamVjdCBhbmQgb25seSB1c2UgdGhlIHJlYWN0aXZlIHZlcnNpb24gaWYgcG9zc2libGUuYCk7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgcmVhY3RpdmVNYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCByZWFkb25seU1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmZ1bmN0aW9uIHRhcmdldFR5cGVNYXAocmF3VHlwZSkge1xyXG4gICAgc3dpdGNoIChyYXdUeXBlKSB7XHJcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcclxuICAgICAgICBjYXNlICdBcnJheSc6XHJcbiAgICAgICAgICAgIHJldHVybiAxIC8qIENPTU1PTiAqLztcclxuICAgICAgICBjYXNlICdNYXAnOlxyXG4gICAgICAgIGNhc2UgJ1NldCc6XHJcbiAgICAgICAgY2FzZSAnV2Vha01hcCc6XHJcbiAgICAgICAgY2FzZSAnV2Vha1NldCc6XHJcbiAgICAgICAgICAgIHJldHVybiAyIC8qIENPTExFQ1RJT04gKi87XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIDAgLyogSU5WQUxJRCAqLztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRUYXJnZXRUeXBlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWVbXCJfX3Zfc2tpcFwiIC8qIFNLSVAgKi9dIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKVxyXG4gICAgICAgID8gMCAvKiBJTlZBTElEICovXHJcbiAgICAgICAgOiB0YXJnZXRUeXBlTWFwKHRvUmF3VHlwZSh2YWx1ZSkpO1xyXG59XHJcbmZ1bmN0aW9uIHJlYWN0aXZlKHRhcmdldCkge1xyXG4gICAgLy8gaWYgdHJ5aW5nIHRvIG9ic2VydmUgYSByZWFkb25seSBwcm94eSwgcmV0dXJuIHRoZSByZWFkb25seSB2ZXJzaW9uLlxyXG4gICAgaWYgKHRhcmdldCAmJiB0YXJnZXRbXCJfX3ZfaXNSZWFkb25seVwiIC8qIElTX1JFQURPTkxZICovXSkge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBmYWxzZSwgbXV0YWJsZUhhbmRsZXJzLCBtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzKTtcclxufVxyXG4vLyBSZXR1cm4gYSByZWFjdGl2ZS1jb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QsIHdoZXJlIG9ubHkgdGhlIHJvb3QgbGV2ZWxcclxuLy8gcHJvcGVydGllcyBhcmUgcmVhY3RpdmUsIGFuZCBkb2VzIE5PVCB1bndyYXAgcmVmcyBub3IgcmVjdXJzaXZlbHkgY29udmVydFxyXG4vLyByZXR1cm5lZCBwcm9wZXJ0aWVzLlxyXG5mdW5jdGlvbiBzaGFsbG93UmVhY3RpdmUodGFyZ2V0KSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBmYWxzZSwgc2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMsIHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMpO1xyXG59XHJcbmZ1bmN0aW9uIHJlYWRvbmx5KHRhcmdldCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgdHJ1ZSwgcmVhZG9ubHlIYW5kbGVycywgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMpO1xyXG59XHJcbi8vIFJldHVybiBhIHJlYWN0aXZlLWNvcHkgb2YgdGhlIG9yaWdpbmFsIG9iamVjdCwgd2hlcmUgb25seSB0aGUgcm9vdCBsZXZlbFxyXG4vLyBwcm9wZXJ0aWVzIGFyZSByZWFkb25seSwgYW5kIGRvZXMgTk9UIHVud3JhcCByZWZzIG5vciByZWN1cnNpdmVseSBjb252ZXJ0XHJcbi8vIHJldHVybmVkIHByb3BlcnRpZXMuXHJcbi8vIFRoaXMgaXMgdXNlZCBmb3IgY3JlYXRpbmcgdGhlIHByb3BzIHByb3h5IG9iamVjdCBmb3Igc3RhdGVmdWwgY29tcG9uZW50cy5cclxuZnVuY3Rpb24gc2hhbGxvd1JlYWRvbmx5KHRhcmdldCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgdHJ1ZSwgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMsIHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzKTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIGlzUmVhZG9ubHksIGJhc2VIYW5kbGVycywgY29sbGVjdGlvbkhhbmRsZXJzKSB7XHJcbiAgICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgdmFsdWUgY2Fubm90IGJlIG1hZGUgcmVhY3RpdmU6ICR7U3RyaW5nKHRhcmdldCl9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICAvLyB0YXJnZXQgaXMgYWxyZWFkeSBhIFByb3h5LCByZXR1cm4gaXQuXHJcbiAgICAvLyBleGNlcHRpb246IGNhbGxpbmcgcmVhZG9ubHkoKSBvbiBhIHJlYWN0aXZlIG9iamVjdFxyXG4gICAgaWYgKHRhcmdldFtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dICYmXHJcbiAgICAgICAgIShpc1JlYWRvbmx5ICYmIHRhcmdldFtcIl9fdl9pc1JlYWN0aXZlXCIgLyogSVNfUkVBQ1RJVkUgKi9dKSkge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICAvLyB0YXJnZXQgYWxyZWFkeSBoYXMgY29ycmVzcG9uZGluZyBQcm94eVxyXG4gICAgY29uc3QgcHJveHlNYXAgPSBpc1JlYWRvbmx5ID8gcmVhZG9ubHlNYXAgOiByZWFjdGl2ZU1hcDtcclxuICAgIGNvbnN0IGV4aXN0aW5nUHJveHkgPSBwcm94eU1hcC5nZXQodGFyZ2V0KTtcclxuICAgIGlmIChleGlzdGluZ1Byb3h5KSB7XHJcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nUHJveHk7XHJcbiAgICB9XHJcbiAgICAvLyBvbmx5IGEgd2hpdGVsaXN0IG9mIHZhbHVlIHR5cGVzIGNhbiBiZSBvYnNlcnZlZC5cclxuICAgIGNvbnN0IHRhcmdldFR5cGUgPSBnZXRUYXJnZXRUeXBlKHRhcmdldCk7XHJcbiAgICBpZiAodGFyZ2V0VHlwZSA9PT0gMCAvKiBJTlZBTElEICovKSB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH1cclxuICAgIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KHRhcmdldCwgdGFyZ2V0VHlwZSA9PT0gMiAvKiBDT0xMRUNUSU9OICovID8gY29sbGVjdGlvbkhhbmRsZXJzIDogYmFzZUhhbmRsZXJzKTtcclxuICAgIHByb3h5TWFwLnNldCh0YXJnZXQsIHByb3h5KTtcclxuICAgIHJldHVybiBwcm94eTtcclxufVxyXG5mdW5jdGlvbiBpc1JlYWN0aXZlKHZhbHVlKSB7XHJcbiAgICBpZiAoaXNSZWFkb25seSh2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZVtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dKTtcclxuICAgIH1cclxuICAgIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWN0aXZlXCIgLyogSVNfUkVBQ1RJVkUgKi9dKTtcclxufVxyXG5mdW5jdGlvbiBpc1JlYWRvbmx5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNSZWFkb25seVwiIC8qIElTX1JFQURPTkxZICovXSk7XHJcbn1cclxuZnVuY3Rpb24gaXNQcm94eSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGlzUmVhY3RpdmUodmFsdWUpIHx8IGlzUmVhZG9ubHkodmFsdWUpO1xyXG59XHJcbmZ1bmN0aW9uIHRvUmF3KG9ic2VydmVkKSB7XHJcbiAgICByZXR1cm4gKChvYnNlcnZlZCAmJiB0b1JhdyhvYnNlcnZlZFtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dKSkgfHwgb2JzZXJ2ZWQpO1xyXG59XHJcbmZ1bmN0aW9uIG1hcmtSYXcodmFsdWUpIHtcclxuICAgIGRlZih2YWx1ZSwgXCJfX3Zfc2tpcFwiIC8qIFNLSVAgKi8sIHRydWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XG5cbmNvbnN0IGNvbnZlcnQgPSAodmFsKSA9PiBpc09iamVjdCh2YWwpID8gcmVhY3RpdmUodmFsKSA6IHZhbDtcclxuZnVuY3Rpb24gaXNSZWYocikge1xyXG4gICAgcmV0dXJuIEJvb2xlYW4ociAmJiByLl9fdl9pc1JlZiA9PT0gdHJ1ZSk7XHJcbn1cclxuZnVuY3Rpb24gcmVmKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVmKHZhbHVlKTtcclxufVxyXG5mdW5jdGlvbiBzaGFsbG93UmVmKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVmKHZhbHVlLCB0cnVlKTtcclxufVxyXG5jbGFzcyBSZWZJbXBsIHtcclxuICAgIGNvbnN0cnVjdG9yKF9yYXdWYWx1ZSwgX3NoYWxsb3cgPSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gX3Jhd1ZhbHVlO1xyXG4gICAgICAgIHRoaXMuX3NoYWxsb3cgPSBfc2hhbGxvdztcclxuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBfc2hhbGxvdyA/IF9yYXdWYWx1ZSA6IGNvbnZlcnQoX3Jhd1ZhbHVlKTtcclxuICAgIH1cclxuICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICB0cmFjayh0b1Jhdyh0aGlzKSwgXCJnZXRcIiAvKiBHRVQgKi8sICd2YWx1ZScpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcclxuICAgICAgICBpZiAoaGFzQ2hhbmdlZCh0b1JhdyhuZXdWYWwpLCB0aGlzLl9yYXdWYWx1ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmF3VmFsdWUgPSBuZXdWYWw7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5fc2hhbGxvdyA/IG5ld1ZhbCA6IGNvbnZlcnQobmV3VmFsKTtcclxuICAgICAgICAgICAgdHJpZ2dlcih0b1Jhdyh0aGlzKSwgXCJzZXRcIiAvKiBTRVQgKi8sICd2YWx1ZScsIG5ld1ZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlZihyYXdWYWx1ZSwgc2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICBpZiAoaXNSZWYocmF3VmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhd1ZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBSZWZJbXBsKHJhd1ZhbHVlLCBzaGFsbG93KTtcclxufVxyXG5mdW5jdGlvbiB0cmlnZ2VyUmVmKHJlZikge1xyXG4gICAgdHJpZ2dlcih0b1JhdyhyZWYpLCBcInNldFwiIC8qIFNFVCAqLywgJ3ZhbHVlJywgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gcmVmLnZhbHVlIDogdm9pZCAwKTtcclxufVxyXG5mdW5jdGlvbiB1bnJlZihyZWYpIHtcclxuICAgIHJldHVybiBpc1JlZihyZWYpID8gcmVmLnZhbHVlIDogcmVmO1xyXG59XHJcbmNvbnN0IHNoYWxsb3dVbndyYXBIYW5kbGVycyA9IHtcclxuICAgIGdldDogKHRhcmdldCwga2V5LCByZWNlaXZlcikgPT4gdW5yZWYoUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSksXHJcbiAgICBzZXQ6ICh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcclxuICAgICAgICBpZiAoaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgb2xkVmFsdWUudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBwcm94eVJlZnMob2JqZWN0V2l0aFJlZnMpIHtcclxuICAgIHJldHVybiBpc1JlYWN0aXZlKG9iamVjdFdpdGhSZWZzKVxyXG4gICAgICAgID8gb2JqZWN0V2l0aFJlZnNcclxuICAgICAgICA6IG5ldyBQcm94eShvYmplY3RXaXRoUmVmcywgc2hhbGxvd1Vud3JhcEhhbmRsZXJzKTtcclxufVxyXG5jbGFzcyBDdXN0b21SZWZJbXBsIHtcclxuICAgIGNvbnN0cnVjdG9yKGZhY3RvcnkpIHtcclxuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgeyBnZXQsIHNldCB9ID0gZmFjdG9yeSgoKSA9PiB0cmFjayh0aGlzLCBcImdldFwiIC8qIEdFVCAqLywgJ3ZhbHVlJyksICgpID0+IHRyaWdnZXIodGhpcywgXCJzZXRcIiAvKiBTRVQgKi8sICd2YWx1ZScpKTtcclxuICAgICAgICB0aGlzLl9nZXQgPSBnZXQ7XHJcbiAgICAgICAgdGhpcy5fc2V0ID0gc2V0O1xyXG4gICAgfVxyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9nZXQoKTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcclxuICAgICAgICB0aGlzLl9zZXQobmV3VmFsKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjdXN0b21SZWYoZmFjdG9yeSkge1xyXG4gICAgcmV0dXJuIG5ldyBDdXN0b21SZWZJbXBsKGZhY3RvcnkpO1xyXG59XHJcbmZ1bmN0aW9uIHRvUmVmcyhvYmplY3QpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzUHJveHkob2JqZWN0KSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgdG9SZWZzKCkgZXhwZWN0cyBhIHJlYWN0aXZlIG9iamVjdCBidXQgcmVjZWl2ZWQgYSBwbGFpbiBvbmUuYCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXQgPSBpc0FycmF5KG9iamVjdCkgPyBuZXcgQXJyYXkob2JqZWN0Lmxlbmd0aCkgOiB7fTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xyXG4gICAgICAgIHJldFtrZXldID0gdG9SZWYob2JqZWN0LCBrZXkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5jbGFzcyBPYmplY3RSZWZJbXBsIHtcclxuICAgIGNvbnN0cnVjdG9yKF9vYmplY3QsIF9rZXkpIHtcclxuICAgICAgICB0aGlzLl9vYmplY3QgPSBfb2JqZWN0O1xyXG4gICAgICAgIHRoaXMuX2tleSA9IF9rZXk7XHJcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcclxuICAgICAgICB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XSA9IG5ld1ZhbDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB0b1JlZihvYmplY3QsIGtleSkge1xyXG4gICAgcmV0dXJuIGlzUmVmKG9iamVjdFtrZXldKVxyXG4gICAgICAgID8gb2JqZWN0W2tleV1cclxuICAgICAgICA6IG5ldyBPYmplY3RSZWZJbXBsKG9iamVjdCwga2V5KTtcclxufVxuXG5jbGFzcyBDb21wdXRlZFJlZkltcGwge1xyXG4gICAgY29uc3RydWN0b3IoZ2V0dGVyLCBfc2V0dGVyLCBpc1JlYWRvbmx5KSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGVyID0gX3NldHRlcjtcclxuICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZWZmZWN0ID0gZWZmZWN0KGdldHRlciwge1xyXG4gICAgICAgICAgICBsYXp5OiB0cnVlLFxyXG4gICAgICAgICAgICBzY2hlZHVsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fZGlydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcih0b1Jhdyh0aGlzKSwgXCJzZXRcIiAvKiBTRVQgKi8sICd2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpc1tcIl9fdl9pc1JlYWRvbmx5XCIgLyogSVNfUkVBRE9OTFkgKi9dID0gaXNSZWFkb25seTtcclxuICAgIH1cclxuICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fZGlydHkpIHtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB0aGlzLmVmZmVjdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cmFjayh0b1Jhdyh0aGlzKSwgXCJnZXRcIiAvKiBHRVQgKi8sICd2YWx1ZScpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZShuZXdWYWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3NldHRlcihuZXdWYWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY29tcHV0ZWQoZ2V0dGVyT3JPcHRpb25zKSB7XHJcbiAgICBsZXQgZ2V0dGVyO1xyXG4gICAgbGV0IHNldHRlcjtcclxuICAgIGlmIChpc0Z1bmN0aW9uKGdldHRlck9yT3B0aW9ucykpIHtcclxuICAgICAgICBnZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnM7XHJcbiAgICAgICAgc2V0dGVyID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgICAgID8gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCB2YWx1ZSBpcyByZWFkb25seScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDogTk9PUDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucy5nZXQ7XHJcbiAgICAgICAgc2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLnNldDtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgQ29tcHV0ZWRSZWZJbXBsKGdldHRlciwgc2V0dGVyLCBpc0Z1bmN0aW9uKGdldHRlck9yT3B0aW9ucykgfHwgIWdldHRlck9yT3B0aW9ucy5zZXQpO1xyXG59XG5cbmV4cG9ydCB7IElURVJBVEVfS0VZLCBjb21wdXRlZCwgY3VzdG9tUmVmLCBlZmZlY3QsIGVuYWJsZVRyYWNraW5nLCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgbWFya1JhdywgcGF1c2VUcmFja2luZywgcHJveHlSZWZzLCByZWFjdGl2ZSwgcmVhZG9ubHksIHJlZiwgcmVzZXRUcmFja2luZywgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVhZG9ubHksIHNoYWxsb3dSZWYsIHN0b3AsIHRvUmF3LCB0b1JlZiwgdG9SZWZzLCB0cmFjaywgdHJpZ2dlciwgdHJpZ2dlclJlZiwgdW5yZWYgfTtcbiIsImltcG9ydCB7IHBhdXNlVHJhY2tpbmcsIHJlc2V0VHJhY2tpbmcsIGlzUmVmLCB0b1Jhdywgc2hhbGxvd1JlYWN0aXZlLCB0cmlnZ2VyLCBpc1JlYWN0aXZlLCBlZmZlY3QsIHN0b3AsIGlzUHJveHksIHJlYWN0aXZlLCBzaGFsbG93UmVhZG9ubHksIHRyYWNrLCBwcm94eVJlZnMsIGNvbXB1dGVkIGFzIGNvbXB1dGVkJDEsIHJlZiwgaXNSZWFkb25seSB9IGZyb20gJ0B2dWUvcmVhY3Rpdml0eSc7XG5leHBvcnQgeyBjdXN0b21SZWYsIGlzUHJveHksIGlzUmVhY3RpdmUsIGlzUmVhZG9ubHksIGlzUmVmLCBtYXJrUmF3LCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFkb25seSwgcmVmLCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgc2hhbGxvd1JlZiwgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRyaWdnZXJSZWYsIHVucmVmIH0gZnJvbSAnQHZ1ZS9yZWFjdGl2aXR5JztcbmltcG9ydCB7IGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCBpc1Byb21pc2UsIGlzQXJyYXksIGV4dGVuZCwgRU1QVFlfT0JKLCB0b0hhbmRsZXJLZXksIHRvTnVtYmVyLCBoeXBoZW5hdGUsIGNhbWVsaXplLCBpc09uLCBoYXNPd24sIGlzTW9kZWxMaXN0ZW5lciwgZGVmLCBpc1Jlc2VydmVkUHJvcCwgRU1QVFlfQVJSLCBpc09iamVjdCwgY2FwaXRhbGl6ZSwgdG9SYXdUeXBlLCBtYWtlTWFwLCByZW1vdmUsIE5PT1AsIGhhc0NoYW5nZWQsIGlzU2V0LCBpc01hcCwgaW52b2tlQXJyYXlGbnMsIE5PLCBnZXRHbG9iYWxUaGlzLCBub3JtYWxpemVDbGFzcywgbm9ybWFsaXplU3R5bGUsIGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCB9IGZyb20gJ0B2dWUvc2hhcmVkJztcbmV4cG9ydCB7IGNhbWVsaXplLCBjYXBpdGFsaXplLCB0b0Rpc3BsYXlTdHJpbmcsIHRvSGFuZGxlcktleSB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3Qgc3RhY2sgPSBbXTtcclxuZnVuY3Rpb24gcHVzaFdhcm5pbmdDb250ZXh0KHZub2RlKSB7XHJcbiAgICBzdGFjay5wdXNoKHZub2RlKTtcclxufVxyXG5mdW5jdGlvbiBwb3BXYXJuaW5nQ29udGV4dCgpIHtcclxuICAgIHN0YWNrLnBvcCgpO1xyXG59XHJcbmZ1bmN0aW9uIHdhcm4obXNnLCAuLi5hcmdzKSB7XHJcbiAgICAvLyBhdm9pZCBwcm9wcyBmb3JtYXR0aW5nIG9yIHdhcm4gaGFuZGxlciB0cmFja2luZyBkZXBzIHRoYXQgbWlnaHQgYmUgbXV0YXRlZFxyXG4gICAgLy8gZHVyaW5nIHBhdGNoLCBsZWFkaW5nIHRvIGluZmluaXRlIHJlY3Vyc2lvbi5cclxuICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgIGNvbnN0IGluc3RhbmNlID0gc3RhY2subGVuZ3RoID8gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0uY29tcG9uZW50IDogbnVsbDtcclxuICAgIGNvbnN0IGFwcFdhcm5IYW5kbGVyID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcud2FybkhhbmRsZXI7XHJcbiAgICBjb25zdCB0cmFjZSA9IGdldENvbXBvbmVudFRyYWNlKCk7XHJcbiAgICBpZiAoYXBwV2FybkhhbmRsZXIpIHtcclxuICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoYXBwV2FybkhhbmRsZXIsIGluc3RhbmNlLCAxMSAvKiBBUFBfV0FSTl9IQU5ETEVSICovLCBbXHJcbiAgICAgICAgICAgIG1zZyArIGFyZ3Muam9pbignJyksXHJcbiAgICAgICAgICAgIGluc3RhbmNlICYmIGluc3RhbmNlLnByb3h5LFxyXG4gICAgICAgICAgICB0cmFjZVxyXG4gICAgICAgICAgICAgICAgLm1hcCgoeyB2bm9kZSB9KSA9PiBgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgdm5vZGUudHlwZSl9PmApXHJcbiAgICAgICAgICAgICAgICAuam9pbignXFxuJyksXHJcbiAgICAgICAgICAgIHRyYWNlXHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCB3YXJuQXJncyA9IFtgW1Z1ZSB3YXJuXTogJHttc2d9YCwgLi4uYXJnc107XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKHRyYWNlLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAvLyBhdm9pZCBzcGFtbWluZyBjb25zb2xlIGR1cmluZyB0ZXN0c1xyXG4gICAgICAgICAgICAhZmFsc2UpIHtcclxuICAgICAgICAgICAgd2FybkFyZ3MucHVzaChgXFxuYCwgLi4uZm9ybWF0VHJhY2UodHJhY2UpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS53YXJuKC4uLndhcm5BcmdzKTtcclxuICAgIH1cclxuICAgIHJlc2V0VHJhY2tpbmcoKTtcclxufVxyXG5mdW5jdGlvbiBnZXRDb21wb25lbnRUcmFjZSgpIHtcclxuICAgIGxldCBjdXJyZW50Vk5vZGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcclxuICAgIGlmICghY3VycmVudFZOb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgLy8gd2UgY2FuJ3QganVzdCB1c2UgdGhlIHN0YWNrIGJlY2F1c2UgaXQgd2lsbCBiZSBpbmNvbXBsZXRlIGR1cmluZyB1cGRhdGVzXHJcbiAgICAvLyB0aGF0IGRpZCBub3Qgc3RhcnQgZnJvbSB0aGUgcm9vdC4gUmUtY29uc3RydWN0IHRoZSBwYXJlbnQgY2hhaW4gdXNpbmdcclxuICAgIC8vIGluc3RhbmNlIHBhcmVudCBwb2ludGVycy5cclxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTdGFjayA9IFtdO1xyXG4gICAgd2hpbGUgKGN1cnJlbnRWTm9kZSkge1xyXG4gICAgICAgIGNvbnN0IGxhc3QgPSBub3JtYWxpemVkU3RhY2tbMF07XHJcbiAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC52bm9kZSA9PT0gY3VycmVudFZOb2RlKSB7XHJcbiAgICAgICAgICAgIGxhc3QucmVjdXJzZUNvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBub3JtYWxpemVkU3RhY2sucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB2bm9kZTogY3VycmVudFZOb2RlLFxyXG4gICAgICAgICAgICAgICAgcmVjdXJzZUNvdW50OiAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJlbnRJbnN0YW5jZSA9IGN1cnJlbnRWTm9kZS5jb21wb25lbnQgJiYgY3VycmVudFZOb2RlLmNvbXBvbmVudC5wYXJlbnQ7XHJcbiAgICAgICAgY3VycmVudFZOb2RlID0gcGFyZW50SW5zdGFuY2UgJiYgcGFyZW50SW5zdGFuY2Uudm5vZGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbm9ybWFsaXplZFN0YWNrO1xyXG59XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbmZ1bmN0aW9uIGZvcm1hdFRyYWNlKHRyYWNlKSB7XHJcbiAgICBjb25zdCBsb2dzID0gW107XHJcbiAgICB0cmFjZS5mb3JFYWNoKChlbnRyeSwgaSkgPT4ge1xyXG4gICAgICAgIGxvZ3MucHVzaCguLi4oaSA9PT0gMCA/IFtdIDogW2BcXG5gXSksIC4uLmZvcm1hdFRyYWNlRW50cnkoZW50cnkpKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGxvZ3M7XHJcbn1cclxuZnVuY3Rpb24gZm9ybWF0VHJhY2VFbnRyeSh7IHZub2RlLCByZWN1cnNlQ291bnQgfSkge1xyXG4gICAgY29uc3QgcG9zdGZpeCA9IHJlY3Vyc2VDb3VudCA+IDAgPyBgLi4uICgke3JlY3Vyc2VDb3VudH0gcmVjdXJzaXZlIGNhbGxzKWAgOiBgYDtcclxuICAgIGNvbnN0IGlzUm9vdCA9IHZub2RlLmNvbXBvbmVudCA/IHZub2RlLmNvbXBvbmVudC5wYXJlbnQgPT0gbnVsbCA6IGZhbHNlO1xyXG4gICAgY29uc3Qgb3BlbiA9IGAgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZSh2bm9kZS5jb21wb25lbnQsIHZub2RlLnR5cGUsIGlzUm9vdCl9YDtcclxuICAgIGNvbnN0IGNsb3NlID0gYD5gICsgcG9zdGZpeDtcclxuICAgIHJldHVybiB2bm9kZS5wcm9wc1xyXG4gICAgICAgID8gW29wZW4sIC4uLmZvcm1hdFByb3BzKHZub2RlLnByb3BzKSwgY2xvc2VdXHJcbiAgICAgICAgOiBbb3BlbiArIGNsb3NlXTtcclxufVxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5mdW5jdGlvbiBmb3JtYXRQcm9wcyhwcm9wcykge1xyXG4gICAgY29uc3QgcmVzID0gW107XHJcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocHJvcHMpO1xyXG4gICAga2V5cy5zbGljZSgwLCAzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgcmVzLnB1c2goLi4uZm9ybWF0UHJvcChrZXksIHByb3BzW2tleV0pKTtcclxuICAgIH0pO1xyXG4gICAgaWYgKGtleXMubGVuZ3RoID4gMykge1xyXG4gICAgICAgIHJlcy5wdXNoKGAgLi4uYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbmZ1bmN0aW9uIGZvcm1hdFByb3Aoa2V5LCB2YWx1ZSwgcmF3KSB7XHJcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHxcclxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyB8fFxyXG4gICAgICAgIHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgdmFsdWUgPSBmb3JtYXRQcm9wKGtleSwgdG9SYXcodmFsdWUudmFsdWUpLCB0cnVlKTtcclxuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1SZWY8YCwgdmFsdWUsIGA+YF07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBbYCR7a2V5fT1mbiR7dmFsdWUubmFtZSA/IGA8JHt2YWx1ZS5uYW1lfT5gIDogYGB9YF07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1gLCB2YWx1ZV07XHJcbiAgICB9XHJcbn1cblxuY29uc3QgRXJyb3JUeXBlU3RyaW5ncyA9IHtcclxuICAgIFtcImJjXCIgLyogQkVGT1JFX0NSRUFURSAqL106ICdiZWZvcmVDcmVhdGUgaG9vaycsXHJcbiAgICBbXCJjXCIgLyogQ1JFQVRFRCAqL106ICdjcmVhdGVkIGhvb2snLFxyXG4gICAgW1wiYm1cIiAvKiBCRUZPUkVfTU9VTlQgKi9dOiAnYmVmb3JlTW91bnQgaG9vaycsXHJcbiAgICBbXCJtXCIgLyogTU9VTlRFRCAqL106ICdtb3VudGVkIGhvb2snLFxyXG4gICAgW1wiYnVcIiAvKiBCRUZPUkVfVVBEQVRFICovXTogJ2JlZm9yZVVwZGF0ZSBob29rJyxcclxuICAgIFtcInVcIiAvKiBVUERBVEVEICovXTogJ3VwZGF0ZWQnLFxyXG4gICAgW1wiYnVtXCIgLyogQkVGT1JFX1VOTU9VTlQgKi9dOiAnYmVmb3JlVW5tb3VudCBob29rJyxcclxuICAgIFtcInVtXCIgLyogVU5NT1VOVEVEICovXTogJ3VubW91bnRlZCBob29rJyxcclxuICAgIFtcImFcIiAvKiBBQ1RJVkFURUQgKi9dOiAnYWN0aXZhdGVkIGhvb2snLFxyXG4gICAgW1wiZGFcIiAvKiBERUFDVElWQVRFRCAqL106ICdkZWFjdGl2YXRlZCBob29rJyxcclxuICAgIFtcImVjXCIgLyogRVJST1JfQ0FQVFVSRUQgKi9dOiAnZXJyb3JDYXB0dXJlZCBob29rJyxcclxuICAgIFtcInJ0Y1wiIC8qIFJFTkRFUl9UUkFDS0VEICovXTogJ3JlbmRlclRyYWNrZWQgaG9vaycsXHJcbiAgICBbXCJydGdcIiAvKiBSRU5ERVJfVFJJR0dFUkVEICovXTogJ3JlbmRlclRyaWdnZXJlZCBob29rJyxcclxuICAgIFswIC8qIFNFVFVQX0ZVTkNUSU9OICovXTogJ3NldHVwIGZ1bmN0aW9uJyxcclxuICAgIFsxIC8qIFJFTkRFUl9GVU5DVElPTiAqL106ICdyZW5kZXIgZnVuY3Rpb24nLFxyXG4gICAgWzIgLyogV0FUQ0hfR0VUVEVSICovXTogJ3dhdGNoZXIgZ2V0dGVyJyxcclxuICAgIFszIC8qIFdBVENIX0NBTExCQUNLICovXTogJ3dhdGNoZXIgY2FsbGJhY2snLFxyXG4gICAgWzQgLyogV0FUQ0hfQ0xFQU5VUCAqL106ICd3YXRjaGVyIGNsZWFudXAgZnVuY3Rpb24nLFxyXG4gICAgWzUgLyogTkFUSVZFX0VWRU5UX0hBTkRMRVIgKi9dOiAnbmF0aXZlIGV2ZW50IGhhbmRsZXInLFxyXG4gICAgWzYgLyogQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVIgKi9dOiAnY29tcG9uZW50IGV2ZW50IGhhbmRsZXInLFxyXG4gICAgWzcgLyogVk5PREVfSE9PSyAqL106ICd2bm9kZSBob29rJyxcclxuICAgIFs4IC8qIERJUkVDVElWRV9IT09LICovXTogJ2RpcmVjdGl2ZSBob29rJyxcclxuICAgIFs5IC8qIFRSQU5TSVRJT05fSE9PSyAqL106ICd0cmFuc2l0aW9uIGhvb2snLFxyXG4gICAgWzEwIC8qIEFQUF9FUlJPUl9IQU5ETEVSICovXTogJ2FwcCBlcnJvckhhbmRsZXInLFxyXG4gICAgWzExIC8qIEFQUF9XQVJOX0hBTkRMRVIgKi9dOiAnYXBwIHdhcm5IYW5kbGVyJyxcclxuICAgIFsxMiAvKiBGVU5DVElPTl9SRUYgKi9dOiAncmVmIGZ1bmN0aW9uJyxcclxuICAgIFsxMyAvKiBBU1lOQ19DT01QT05FTlRfTE9BREVSICovXTogJ2FzeW5jIGNvbXBvbmVudCBsb2FkZXInLFxyXG4gICAgWzE0IC8qIFNDSEVEVUxFUiAqL106ICdzY2hlZHVsZXIgZmx1c2guIFRoaXMgaXMgbGlrZWx5IGEgVnVlIGludGVybmFscyBidWcuICcgK1xyXG4gICAgICAgICdQbGVhc2Ugb3BlbiBhbiBpc3N1ZSBhdCBodHRwczovL25ldy1pc3N1ZS52dWVqcy5vcmcvP3JlcG89dnVlanMvdnVlLW5leHQnXHJcbn07XHJcbmZ1bmN0aW9uIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpIHtcclxuICAgIGxldCByZXM7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJlcyA9IGFyZ3MgPyBmbiguLi5hcmdzKSA6IGZuKCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbmZ1bmN0aW9uIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncyk7XHJcbiAgICAgICAgaWYgKHJlcyAmJiBpc1Byb21pc2UocmVzKSkge1xyXG4gICAgICAgICAgICByZXMuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhbHVlcy5wdXNoKGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuW2ldLCBpbnN0YW5jZSwgdHlwZSwgYXJncykpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlcztcclxufVxyXG5mdW5jdGlvbiBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xyXG4gICAgY29uc3QgY29udGV4dFZOb2RlID0gaW5zdGFuY2UgPyBpbnN0YW5jZS52bm9kZSA6IG51bGw7XHJcbiAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICBsZXQgY3VyID0gaW5zdGFuY2UucGFyZW50O1xyXG4gICAgICAgIC8vIHRoZSBleHBvc2VkIGluc3RhbmNlIGlzIHRoZSByZW5kZXIgcHJveHkgdG8ga2VlcCBpdCBjb25zaXN0ZW50IHdpdGggMi54XHJcbiAgICAgICAgY29uc3QgZXhwb3NlZEluc3RhbmNlID0gaW5zdGFuY2UucHJveHk7XHJcbiAgICAgICAgLy8gaW4gcHJvZHVjdGlvbiB0aGUgaG9vayByZWNlaXZlcyBvbmx5IHRoZSBlcnJvciBjb2RlXHJcbiAgICAgICAgY29uc3QgZXJyb3JJbmZvID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gRXJyb3JUeXBlU3RyaW5nc1t0eXBlXSA6IHR5cGU7XHJcbiAgICAgICAgd2hpbGUgKGN1cikge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvckNhcHR1cmVkSG9va3MgPSBjdXIuZWM7XHJcbiAgICAgICAgICAgIGlmIChlcnJvckNhcHR1cmVkSG9va3MpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXJyb3JDYXB0dXJlZEhvb2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rc1tpXShlcnIsIGV4cG9zZWRJbnN0YW5jZSwgZXJyb3JJbmZvKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXIgPSBjdXIucGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhcHAtbGV2ZWwgaGFuZGxpbmdcclxuICAgICAgICBjb25zdCBhcHBFcnJvckhhbmRsZXIgPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5lcnJvckhhbmRsZXI7XHJcbiAgICAgICAgaWYgKGFwcEVycm9ySGFuZGxlcikge1xyXG4gICAgICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoYXBwRXJyb3JIYW5kbGVyLCBudWxsLCAxMCAvKiBBUFBfRVJST1JfSEFORExFUiAqLywgW2VyciwgZXhwb3NlZEluc3RhbmNlLCBlcnJvckluZm9dKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxvZ0Vycm9yKGVyciwgdHlwZSwgY29udGV4dFZOb2RlLCB0aHJvd0luRGV2KTtcclxufVxyXG5mdW5jdGlvbiBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldiA9IHRydWUpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCBpbmZvID0gRXJyb3JUeXBlU3RyaW5nc1t0eXBlXTtcclxuICAgICAgICBpZiAoY29udGV4dFZOb2RlKSB7XHJcbiAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChjb250ZXh0Vk5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3YXJuKGBVbmhhbmRsZWQgZXJyb3Ike2luZm8gPyBgIGR1cmluZyBleGVjdXRpb24gb2YgJHtpbmZvfWAgOiBgYH1gKTtcclxuICAgICAgICBpZiAoY29udGV4dFZOb2RlKSB7XHJcbiAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNyYXNoIGluIGRldiBieSBkZWZhdWx0IHNvIGl0J3MgbW9yZSBub3RpY2VhYmxlXHJcbiAgICAgICAgaWYgKHRocm93SW5EZXYpIHtcclxuICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIHJlY292ZXIgaW4gcHJvZCB0byByZWR1Y2UgdGhlIGltcGFjdCBvbiBlbmQtdXNlclxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH1cclxufVxuXG5sZXQgaXNGbHVzaGluZyA9IGZhbHNlO1xyXG5sZXQgaXNGbHVzaFBlbmRpbmcgPSBmYWxzZTtcclxuY29uc3QgcXVldWUgPSBbXTtcclxubGV0IGZsdXNoSW5kZXggPSAwO1xyXG5jb25zdCBwZW5kaW5nUHJlRmx1c2hDYnMgPSBbXTtcclxubGV0IGFjdGl2ZVByZUZsdXNoQ2JzID0gbnVsbDtcclxubGV0IHByZUZsdXNoSW5kZXggPSAwO1xyXG5jb25zdCBwZW5kaW5nUG9zdEZsdXNoQ2JzID0gW107XHJcbmxldCBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xyXG5sZXQgcG9zdEZsdXNoSW5kZXggPSAwO1xyXG5jb25zdCByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxubGV0IGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xyXG5sZXQgY3VycmVudFByZUZsdXNoUGFyZW50Sm9iID0gbnVsbDtcclxuY29uc3QgUkVDVVJTSU9OX0xJTUlUID0gMTAwO1xyXG5mdW5jdGlvbiBuZXh0VGljayhmbikge1xyXG4gICAgY29uc3QgcCA9IGN1cnJlbnRGbHVzaFByb21pc2UgfHwgcmVzb2x2ZWRQcm9taXNlO1xyXG4gICAgcmV0dXJuIGZuID8gcC50aGVuKHRoaXMgPyBmbi5iaW5kKHRoaXMpIDogZm4pIDogcDtcclxufVxyXG5mdW5jdGlvbiBxdWV1ZUpvYihqb2IpIHtcclxuICAgIC8vIHRoZSBkZWR1cGUgc2VhcmNoIHVzZXMgdGhlIHN0YXJ0SW5kZXggYXJndW1lbnQgb2YgQXJyYXkuaW5jbHVkZXMoKVxyXG4gICAgLy8gYnkgZGVmYXVsdCB0aGUgc2VhcmNoIGluZGV4IGluY2x1ZGVzIHRoZSBjdXJyZW50IGpvYiB0aGF0IGlzIGJlaW5nIHJ1blxyXG4gICAgLy8gc28gaXQgY2Fubm90IHJlY3Vyc2l2ZWx5IHRyaWdnZXIgaXRzZWxmIGFnYWluLlxyXG4gICAgLy8gaWYgdGhlIGpvYiBpcyBhIHdhdGNoKCkgY2FsbGJhY2ssIHRoZSBzZWFyY2ggd2lsbCBzdGFydCB3aXRoIGEgKzEgaW5kZXggdG9cclxuICAgIC8vIGFsbG93IGl0IHJlY3Vyc2l2ZWx5IHRyaWdnZXIgaXRzZWxmIC0gaXQgaXMgdGhlIHVzZXIncyByZXNwb25zaWJpbGl0eSB0b1xyXG4gICAgLy8gZW5zdXJlIGl0IGRvZXNuJ3QgZW5kIHVwIGluIGFuIGluZmluaXRlIGxvb3AuXHJcbiAgICBpZiAoKCFxdWV1ZS5sZW5ndGggfHxcclxuICAgICAgICAhcXVldWUuaW5jbHVkZXMoam9iLCBpc0ZsdXNoaW5nICYmIGpvYi5hbGxvd1JlY3Vyc2UgPyBmbHVzaEluZGV4ICsgMSA6IGZsdXNoSW5kZXgpKSAmJlxyXG4gICAgICAgIGpvYiAhPT0gY3VycmVudFByZUZsdXNoUGFyZW50Sm9iKSB7XHJcbiAgICAgICAgcXVldWUucHVzaChqb2IpO1xyXG4gICAgICAgIHF1ZXVlRmx1c2goKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBxdWV1ZUZsdXNoKCkge1xyXG4gICAgaWYgKCFpc0ZsdXNoaW5nICYmICFpc0ZsdXNoUGVuZGluZykge1xyXG4gICAgICAgIGlzRmx1c2hQZW5kaW5nID0gdHJ1ZTtcclxuICAgICAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gcmVzb2x2ZWRQcm9taXNlLnRoZW4oZmx1c2hKb2JzKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpbnZhbGlkYXRlSm9iKGpvYikge1xyXG4gICAgY29uc3QgaSA9IHF1ZXVlLmluZGV4T2Yoam9iKTtcclxuICAgIGlmIChpID4gLTEpIHtcclxuICAgICAgICBxdWV1ZVtpXSA9IG51bGw7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcXVldWVDYihjYiwgYWN0aXZlUXVldWUsIHBlbmRpbmdRdWV1ZSwgaW5kZXgpIHtcclxuICAgIGlmICghaXNBcnJheShjYikpIHtcclxuICAgICAgICBpZiAoIWFjdGl2ZVF1ZXVlIHx8XHJcbiAgICAgICAgICAgICFhY3RpdmVRdWV1ZS5pbmNsdWRlcyhjYiwgY2IuYWxsb3dSZWN1cnNlID8gaW5kZXggKyAxIDogaW5kZXgpKSB7XHJcbiAgICAgICAgICAgIHBlbmRpbmdRdWV1ZS5wdXNoKGNiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBpZiBjYiBpcyBhbiBhcnJheSwgaXQgaXMgYSBjb21wb25lbnQgbGlmZWN5Y2xlIGhvb2sgd2hpY2ggY2FuIG9ubHkgYmVcclxuICAgICAgICAvLyB0cmlnZ2VyZWQgYnkgYSBqb2IsIHdoaWNoIGlzIGFscmVhZHkgZGVkdXBlZCBpbiB0aGUgbWFpbiBxdWV1ZSwgc29cclxuICAgICAgICAvLyB3ZSBjYW4gc2tpcCBkdXBsaWNhdGUgY2hlY2sgaGVyZSB0byBpbXByb3ZlIHBlcmZcclxuICAgICAgICBwZW5kaW5nUXVldWUucHVzaCguLi5jYik7XHJcbiAgICB9XHJcbiAgICBxdWV1ZUZsdXNoKCk7XHJcbn1cclxuZnVuY3Rpb24gcXVldWVQcmVGbHVzaENiKGNiKSB7XHJcbiAgICBxdWV1ZUNiKGNiLCBhY3RpdmVQcmVGbHVzaENicywgcGVuZGluZ1ByZUZsdXNoQ2JzLCBwcmVGbHVzaEluZGV4KTtcclxufVxyXG5mdW5jdGlvbiBxdWV1ZVBvc3RGbHVzaENiKGNiKSB7XHJcbiAgICBxdWV1ZUNiKGNiLCBhY3RpdmVQb3N0Rmx1c2hDYnMsIHBlbmRpbmdQb3N0Rmx1c2hDYnMsIHBvc3RGbHVzaEluZGV4KTtcclxufVxyXG5mdW5jdGlvbiBmbHVzaFByZUZsdXNoQ2JzKHNlZW4sIHBhcmVudEpvYiA9IG51bGwpIHtcclxuICAgIGlmIChwZW5kaW5nUHJlRmx1c2hDYnMubGVuZ3RoKSB7XHJcbiAgICAgICAgY3VycmVudFByZUZsdXNoUGFyZW50Sm9iID0gcGFyZW50Sm9iO1xyXG4gICAgICAgIGFjdGl2ZVByZUZsdXNoQ2JzID0gWy4uLm5ldyBTZXQocGVuZGluZ1ByZUZsdXNoQ2JzKV07XHJcbiAgICAgICAgcGVuZGluZ1ByZUZsdXNoQ2JzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBzZWVuID0gc2VlbiB8fCBuZXcgTWFwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJlRmx1c2hJbmRleCA9IDA7IHByZUZsdXNoSW5kZXggPCBhY3RpdmVQcmVGbHVzaENicy5sZW5ndGg7IHByZUZsdXNoSW5kZXgrKykge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgYWN0aXZlUHJlRmx1c2hDYnNbcHJlRmx1c2hJbmRleF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFjdGl2ZVByZUZsdXNoQ2JzW3ByZUZsdXNoSW5kZXhdKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjdGl2ZVByZUZsdXNoQ2JzID0gbnVsbDtcclxuICAgICAgICBwcmVGbHVzaEluZGV4ID0gMDtcclxuICAgICAgICBjdXJyZW50UHJlRmx1c2hQYXJlbnRKb2IgPSBudWxsO1xyXG4gICAgICAgIC8vIHJlY3Vyc2l2ZWx5IGZsdXNoIHVudGlsIGl0IGRyYWluc1xyXG4gICAgICAgIGZsdXNoUHJlRmx1c2hDYnMoc2VlbiwgcGFyZW50Sm9iKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBmbHVzaFBvc3RGbHVzaENicyhzZWVuKSB7XHJcbiAgICBpZiAocGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGgpIHtcclxuICAgICAgICBjb25zdCBkZWR1cGVkID0gWy4uLm5ldyBTZXQocGVuZGluZ1Bvc3RGbHVzaENicyldO1xyXG4gICAgICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoID0gMDtcclxuICAgICAgICAvLyAjMTk0NyBhbHJlYWR5IGhhcyBhY3RpdmUgcXVldWUsIG5lc3RlZCBmbHVzaFBvc3RGbHVzaENicyBjYWxsXHJcbiAgICAgICAgaWYgKGFjdGl2ZVBvc3RGbHVzaENicykge1xyXG4gICAgICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnMucHVzaCguLi5kZWR1cGVkKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBkZWR1cGVkO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgc2VlbiA9IHNlZW4gfHwgbmV3IE1hcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnMuc29ydCgoYSwgYikgPT4gZ2V0SWQoYSkgLSBnZXRJZChiKSk7XHJcbiAgICAgICAgZm9yIChwb3N0Rmx1c2hJbmRleCA9IDA7IHBvc3RGbHVzaEluZGV4IDwgYWN0aXZlUG9zdEZsdXNoQ2JzLmxlbmd0aDsgcG9zdEZsdXNoSW5kZXgrKykge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgYWN0aXZlUG9zdEZsdXNoQ2JzW3Bvc3RGbHVzaEluZGV4XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzW3Bvc3RGbHVzaEluZGV4XSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xyXG4gICAgICAgIHBvc3RGbHVzaEluZGV4ID0gMDtcclxuICAgIH1cclxufVxyXG5jb25zdCBnZXRJZCA9IChqb2IpID0+IGpvYi5pZCA9PSBudWxsID8gSW5maW5pdHkgOiBqb2IuaWQ7XHJcbmZ1bmN0aW9uIGZsdXNoSm9icyhzZWVuKSB7XHJcbiAgICBpc0ZsdXNoUGVuZGluZyA9IGZhbHNlO1xyXG4gICAgaXNGbHVzaGluZyA9IHRydWU7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgc2VlbiA9IHNlZW4gfHwgbmV3IE1hcCgpO1xyXG4gICAgfVxyXG4gICAgZmx1c2hQcmVGbHVzaENicyhzZWVuKTtcclxuICAgIC8vIFNvcnQgcXVldWUgYmVmb3JlIGZsdXNoLlxyXG4gICAgLy8gVGhpcyBlbnN1cmVzIHRoYXQ6XHJcbiAgICAvLyAxLiBDb21wb25lbnRzIGFyZSB1cGRhdGVkIGZyb20gcGFyZW50IHRvIGNoaWxkLiAoYmVjYXVzZSBwYXJlbnQgaXMgYWx3YXlzXHJcbiAgICAvLyAgICBjcmVhdGVkIGJlZm9yZSB0aGUgY2hpbGQgc28gaXRzIHJlbmRlciBlZmZlY3Qgd2lsbCBoYXZlIHNtYWxsZXJcclxuICAgIC8vICAgIHByaW9yaXR5IG51bWJlcilcclxuICAgIC8vIDIuIElmIGEgY29tcG9uZW50IGlzIHVubW91bnRlZCBkdXJpbmcgYSBwYXJlbnQgY29tcG9uZW50J3MgdXBkYXRlLFxyXG4gICAgLy8gICAgaXRzIHVwZGF0ZSBjYW4gYmUgc2tpcHBlZC5cclxuICAgIC8vIEpvYnMgY2FuIG5ldmVyIGJlIG51bGwgYmVmb3JlIGZsdXNoIHN0YXJ0cywgc2luY2UgdGhleSBhcmUgb25seSBpbnZhbGlkYXRlZFxyXG4gICAgLy8gZHVyaW5nIGV4ZWN1dGlvbiBvZiBhbm90aGVyIGZsdXNoZWQgam9iLlxyXG4gICAgcXVldWUuc29ydCgoYSwgYikgPT4gZ2V0SWQoYSkgLSBnZXRJZChiKSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAoZmx1c2hJbmRleCA9IDA7IGZsdXNoSW5kZXggPCBxdWV1ZS5sZW5ndGg7IGZsdXNoSW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcclxuICAgICAgICAgICAgaWYgKGpvYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBqb2IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGpvYiwgbnVsbCwgMTQgLyogU0NIRURVTEVSICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIGZsdXNoSW5kZXggPSAwO1xyXG4gICAgICAgIHF1ZXVlLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbik7XHJcbiAgICAgICAgaXNGbHVzaGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xyXG4gICAgICAgIC8vIHNvbWUgcG9zdEZsdXNoQ2IgcXVldWVkIGpvYnMhXHJcbiAgICAgICAgLy8ga2VlcCBmbHVzaGluZyB1bnRpbCBpdCBkcmFpbnMuXHJcbiAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCB8fCBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmbHVzaEpvYnMoc2Vlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBmbikge1xyXG4gICAgaWYgKCFzZWVuLmhhcyhmbikpIHtcclxuICAgICAgICBzZWVuLnNldChmbiwgMSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBjb3VudCA9IHNlZW4uZ2V0KGZuKTtcclxuICAgICAgICBpZiAoY291bnQgPiBSRUNVUlNJT05fTElNSVQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYXhpbXVtIHJlY3Vyc2l2ZSB1cGRhdGVzIGV4Y2VlZGVkLiBgICtcclxuICAgICAgICAgICAgICAgIGBUaGlzIG1lYW5zIHlvdSBoYXZlIGEgcmVhY3RpdmUgZWZmZWN0IHRoYXQgaXMgbXV0YXRpbmcgaXRzIG93biBgICtcclxuICAgICAgICAgICAgICAgIGBkZXBlbmRlbmNpZXMgYW5kIHRodXMgcmVjdXJzaXZlbHkgdHJpZ2dlcmluZyBpdHNlbGYuIFBvc3NpYmxlIHNvdXJjZXMgYCArXHJcbiAgICAgICAgICAgICAgICBgaW5jbHVkZSBjb21wb25lbnQgdGVtcGxhdGUsIHJlbmRlciBmdW5jdGlvbiwgdXBkYXRlZCBob29rIG9yIGAgK1xyXG4gICAgICAgICAgICAgICAgYHdhdGNoZXIgc291cmNlIGZ1bmN0aW9uLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2Vlbi5zZXQoZm4sIGNvdW50ICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xyXG5sZXQgaXNIbXJVcGRhdGluZyA9IGZhbHNlO1xyXG5jb25zdCBobXJEaXJ0eUNvbXBvbmVudHMgPSBuZXcgU2V0KCk7XHJcbi8vIEV4cG9zZSB0aGUgSE1SIHJ1bnRpbWUgb24gdGhlIGdsb2JhbCBvYmplY3RcclxuLy8gVGhpcyBtYWtlcyBpdCBlbnRpcmVseSB0cmVlLXNoYWthYmxlIHdpdGhvdXQgcG9sbHV0aW5nIHRoZSBleHBvcnRzIGFuZCBtYWtlc1xyXG4vLyBpdCBlYXNpZXIgdG8gYmUgdXNlZCBpbiB0b29saW5ncyBsaWtlIHZ1ZS1sb2FkZXJcclxuLy8gTm90ZTogZm9yIGEgY29tcG9uZW50IHRvIGJlIGVsaWdpYmxlIGZvciBITVIgaXQgYWxzbyBuZWVkcyB0aGUgX19obXJJZCBvcHRpb25cclxuLy8gdG8gYmUgc2V0IHNvIHRoYXQgaXRzIGluc3RhbmNlcyBjYW4gYmUgcmVnaXN0ZXJlZCAvIHJlbW92ZWQuXHJcbmlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgKHRydWUgKSkge1xyXG4gICAgY29uc3QgZ2xvYmFsT2JqZWN0ID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICA/IGdsb2JhbFxyXG4gICAgICAgIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgID8gc2VsZlxyXG4gICAgICAgICAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICA/IHdpbmRvd1xyXG4gICAgICAgICAgICAgICAgOiB7fTtcclxuICAgIGdsb2JhbE9iamVjdC5fX1ZVRV9ITVJfUlVOVElNRV9fID0ge1xyXG4gICAgICAgIGNyZWF0ZVJlY29yZDogdHJ5V3JhcChjcmVhdGVSZWNvcmQpLFxyXG4gICAgICAgIHJlcmVuZGVyOiB0cnlXcmFwKHJlcmVuZGVyKSxcclxuICAgICAgICByZWxvYWQ6IHRyeVdyYXAocmVsb2FkKVxyXG4gICAgfTtcclxufVxyXG5jb25zdCBtYXAgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIHJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBpZCA9IGluc3RhbmNlLnR5cGUuX19obXJJZDtcclxuICAgIGxldCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIGlmICghcmVjb3JkKSB7XHJcbiAgICAgICAgY3JlYXRlUmVjb3JkKGlkKTtcclxuICAgICAgICByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIH1cclxuICAgIHJlY29yZC5hZGQoaW5zdGFuY2UpO1xyXG59XHJcbmZ1bmN0aW9uIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpIHtcclxuICAgIG1hcC5nZXQoaW5zdGFuY2UudHlwZS5fX2htcklkKS5kZWxldGUoaW5zdGFuY2UpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlY29yZChpZCkge1xyXG4gICAgaWYgKG1hcC5oYXMoaWQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgbWFwLnNldChpZCwgbmV3IFNldCgpKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIHJlcmVuZGVyKGlkLCBuZXdSZW5kZXIpIHtcclxuICAgIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xyXG4gICAgaWYgKCFyZWNvcmQpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gQXJyYXkuZnJvbSBjcmVhdGVzIGEgc25hcHNob3Qgd2hpY2ggYXZvaWRzIHRoZSBzZXQgYmVpbmcgbXV0YXRlZCBkdXJpbmdcclxuICAgIC8vIHVwZGF0ZXNcclxuICAgIEFycmF5LmZyb20ocmVjb3JkKS5mb3JFYWNoKGluc3RhbmNlID0+IHtcclxuICAgICAgICBpZiAobmV3UmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnJlbmRlciA9IG5ld1JlbmRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5zdGFuY2UucmVuZGVyQ2FjaGUgPSBbXTtcclxuICAgICAgICAvLyB0aGlzIGZsYWcgZm9yY2VzIGNoaWxkIGNvbXBvbmVudHMgd2l0aCBzbG90IGNvbnRlbnQgdG8gdXBkYXRlXHJcbiAgICAgICAgaXNIbXJVcGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XHJcbiAgICAgICAgaXNIbXJVcGRhdGluZyA9IGZhbHNlO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gcmVsb2FkKGlkLCBuZXdDb21wKSB7XHJcbiAgICBjb25zdCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIGlmICghcmVjb3JkKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIC8vIEFycmF5LmZyb20gY3JlYXRlcyBhIHNuYXBzaG90IHdoaWNoIGF2b2lkcyB0aGUgc2V0IGJlaW5nIG11dGF0ZWQgZHVyaW5nXHJcbiAgICAvLyB1cGRhdGVzXHJcbiAgICBBcnJheS5mcm9tKHJlY29yZCkuZm9yRWFjaChpbnN0YW5jZSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29tcCA9IGluc3RhbmNlLnR5cGU7XHJcbiAgICAgICAgaWYgKCFobXJEaXJ0eUNvbXBvbmVudHMuaGFzKGNvbXApKSB7XHJcbiAgICAgICAgICAgIC8vIDEuIFVwZGF0ZSBleGlzdGluZyBjb21wIGRlZmluaXRpb24gdG8gbWF0Y2ggbmV3IG9uZVxyXG4gICAgICAgICAgICBuZXdDb21wID0gaXNDbGFzc0NvbXBvbmVudChuZXdDb21wKSA/IG5ld0NvbXAuX192Y2NPcHRzIDogbmV3Q29tcDtcclxuICAgICAgICAgICAgZXh0ZW5kKGNvbXAsIG5ld0NvbXApO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjb21wKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3Q29tcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgY29tcFtrZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIDIuIE1hcmsgY29tcG9uZW50IGRpcnR5LiBUaGlzIGZvcmNlcyB0aGUgcmVuZGVyZXIgdG8gcmVwbGFjZSB0aGUgY29tcG9uZW50XHJcbiAgICAgICAgICAgIC8vIG9uIHBhdGNoLlxyXG4gICAgICAgICAgICBobXJEaXJ0eUNvbXBvbmVudHMuYWRkKGNvbXApO1xyXG4gICAgICAgICAgICAvLyAzLiBNYWtlIHN1cmUgdG8gdW5tYXJrIHRoZSBjb21wb25lbnQgYWZ0ZXIgdGhlIHJlbG9hZC5cclxuICAgICAgICAgICAgcXVldWVQb3N0Rmx1c2hDYigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBobXJEaXJ0eUNvbXBvbmVudHMuZGVsZXRlKGNvbXApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluc3RhbmNlLnBhcmVudCkge1xyXG4gICAgICAgICAgICAvLyA0LiBGb3JjZSB0aGUgcGFyZW50IGluc3RhbmNlIHRvIHJlLXJlbmRlci4gVGhpcyB3aWxsIGNhdXNlIGFsbCB1cGRhdGVkXHJcbiAgICAgICAgICAgIC8vIGNvbXBvbmVudHMgdG8gYmUgdW5tb3VudGVkIGFuZCByZS1tb3VudGVkLiBRdWV1ZSB0aGUgdXBkYXRlIHNvIHRoYXQgd2VcclxuICAgICAgICAgICAgLy8gZG9uJ3QgZW5kIHVwIGZvcmNpbmcgdGhlIHNhbWUgcGFyZW50IHRvIHJlLXJlbmRlciBtdWx0aXBsZSB0aW1lcy5cclxuICAgICAgICAgICAgcXVldWVKb2IoaW5zdGFuY2UucGFyZW50LnVwZGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKSB7XHJcbiAgICAgICAgICAgIC8vIHJvb3QgaW5zdGFuY2UgbW91bnRlZCB2aWEgY3JlYXRlQXBwKCkgaGFzIGEgcmVsb2FkIG1ldGhvZFxyXG4gICAgICAgICAgICBpbnN0YW5jZS5hcHBDb250ZXh0LnJlbG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyByb290IGluc3RhbmNlIGluc2lkZSB0cmVlIGNyZWF0ZWQgdmlhIHJhdyByZW5kZXIoKS4gRm9yY2UgcmVsb2FkLlxyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tITVJdIFJvb3Qgb3IgbWFudWFsbHkgbW91bnRlZCBpbnN0YW5jZSBtb2RpZmllZC4gRnVsbCByZWxvYWQgcmVxdWlyZWQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gdHJ5V3JhcChmbikge1xyXG4gICAgcmV0dXJuIChpZCwgYXJnKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIGZuKGlkLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFtITVJdIFNvbWV0aGluZyB3ZW50IHdyb25nIGR1cmluZyBWdWUgY29tcG9uZW50IGhvdC1yZWxvYWQuIGAgK1xyXG4gICAgICAgICAgICAgICAgYEZ1bGwgcmVsb2FkIHJlcXVpcmVkLmApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cblxubGV0IGRldnRvb2xzO1xyXG5mdW5jdGlvbiBzZXREZXZ0b29sc0hvb2soaG9vaykge1xyXG4gICAgZGV2dG9vbHMgPSBob29rO1xyXG59XHJcbmZ1bmN0aW9uIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pIHtcclxuICAgIC8vIFRPRE8gcXVldWUgaWYgZGV2dG9vbHMgaXMgdW5kZWZpbmVkXHJcbiAgICBpZiAoIWRldnRvb2xzKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGRldnRvb2xzLmVtaXQoXCJhcHA6aW5pdFwiIC8qIEFQUF9JTklUICovLCBhcHAsIHZlcnNpb24sIHtcclxuICAgICAgICBGcmFnbWVudCxcclxuICAgICAgICBUZXh0LFxyXG4gICAgICAgIENvbW1lbnQsXHJcbiAgICAgICAgU3RhdGljXHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBkZXZ0b29sc1VubW91bnRBcHAoYXBwKSB7XHJcbiAgICBpZiAoIWRldnRvb2xzKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGRldnRvb2xzLmVtaXQoXCJhcHA6dW5tb3VudFwiIC8qIEFQUF9VTk1PVU5UICovLCBhcHApO1xyXG59XHJcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50QWRkZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDphZGRlZFwiIC8qIENPTVBPTkVOVF9BRERFRCAqLyk7XHJcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFwiY29tcG9uZW50OnVwZGF0ZWRcIiAvKiBDT01QT05FTlRfVVBEQVRFRCAqLyk7XHJcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFwiY29tcG9uZW50OnJlbW92ZWRcIiAvKiBDT01QT05FTlRfUkVNT1ZFRCAqLyk7XHJcbmZ1bmN0aW9uIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhob29rKSB7XHJcbiAgICByZXR1cm4gKGNvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgIGlmICghZGV2dG9vbHMpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBkZXZ0b29scy5lbWl0KGhvb2ssIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCwgY29tcG9uZW50LnVpZCwgY29tcG9uZW50LnBhcmVudCA/IGNvbXBvbmVudC5wYXJlbnQudWlkIDogdW5kZWZpbmVkKTtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZGV2dG9vbHNDb21wb25lbnRFbWl0KGNvbXBvbmVudCwgZXZlbnQsIHBhcmFtcykge1xyXG4gICAgaWYgKCFkZXZ0b29scylcclxuICAgICAgICByZXR1cm47XHJcbiAgICBkZXZ0b29scy5lbWl0KFwiY29tcG9uZW50OmVtaXRcIiAvKiBDT01QT05FTlRfRU1JVCAqLywgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLCBjb21wb25lbnQsIGV2ZW50LCBwYXJhbXMpO1xyXG59XG5cbmZ1bmN0aW9uIGVtaXQoaW5zdGFuY2UsIGV2ZW50LCAuLi5yYXdBcmdzKSB7XHJcbiAgICBjb25zdCBwcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzIHx8IEVNUFRZX09CSjtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCB7IGVtaXRzT3B0aW9ucywgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgaWYgKGVtaXRzT3B0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAoIShldmVudCBpbiBlbWl0c09wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BzT3B0aW9ucyB8fCAhKHRvSGFuZGxlcktleShldmVudCkgaW4gcHJvcHNPcHRpb25zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBlbWl0dGVkIGV2ZW50IFwiJHtldmVudH1cIiBidXQgaXQgaXMgbmVpdGhlciBkZWNsYXJlZCBpbiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYHRoZSBlbWl0cyBvcHRpb24gbm9yIGFzIGFuIFwiJHt0b0hhbmRsZXJLZXkoZXZlbnQpfVwiIHByb3AuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSBlbWl0c09wdGlvbnNbZXZlbnRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdG9yKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0b3IoLi4ucmF3QXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYEludmFsaWQgZXZlbnQgYXJndW1lbnRzOiBldmVudCB2YWxpZGF0aW9uIGZhaWxlZCBmb3IgZXZlbnQgXCIke2V2ZW50fVwiLmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxldCBhcmdzID0gcmF3QXJncztcclxuICAgIGNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IGV2ZW50LnN0YXJ0c1dpdGgoJ3VwZGF0ZTonKTtcclxuICAgIC8vIGZvciB2LW1vZGVsIHVwZGF0ZTp4eHggZXZlbnRzLCBhcHBseSBtb2RpZmllcnMgb24gYXJnc1xyXG4gICAgY29uc3QgbW9kZWxBcmcgPSBpc01vZGVsTGlzdGVuZXIgJiYgZXZlbnQuc2xpY2UoNyk7XHJcbiAgICBpZiAobW9kZWxBcmcgJiYgbW9kZWxBcmcgaW4gcHJvcHMpIHtcclxuICAgICAgICBjb25zdCBtb2RpZmllcnNLZXkgPSBgJHttb2RlbEFyZyA9PT0gJ21vZGVsVmFsdWUnID8gJ21vZGVsJyA6IG1vZGVsQXJnfU1vZGlmaWVyc2A7XHJcbiAgICAgICAgY29uc3QgeyBudW1iZXIsIHRyaW0gfSA9IHByb3BzW21vZGlmaWVyc0tleV0gfHwgRU1QVFlfT0JKO1xyXG4gICAgICAgIGlmICh0cmltKSB7XHJcbiAgICAgICAgICAgIGFyZ3MgPSByYXdBcmdzLm1hcChhID0+IGEudHJpbSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGFyZ3MgPSByYXdBcmdzLm1hcCh0b051bWJlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEVtaXQoaW5zdGFuY2UsIGV2ZW50LCBhcmdzKTtcclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCBsb3dlckNhc2VFdmVudCA9IGV2ZW50LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKGxvd2VyQ2FzZUV2ZW50ICE9PSBldmVudCAmJiBwcm9wc1t0b0hhbmRsZXJLZXkobG93ZXJDYXNlRXZlbnQpXSkge1xyXG4gICAgICAgICAgICB3YXJuKGBFdmVudCBcIiR7bG93ZXJDYXNlRXZlbnR9XCIgaXMgZW1pdHRlZCBpbiBjb21wb25lbnQgYCArXHJcbiAgICAgICAgICAgICAgICBgJHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKX0gYnV0IHRoZSBoYW5kbGVyIGlzIHJlZ2lzdGVyZWQgZm9yIFwiJHtldmVudH1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICBgTm90ZSB0aGF0IEhUTUwgYXR0cmlidXRlcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBhbmQgeW91IGNhbm5vdCB1c2UgYCArXHJcbiAgICAgICAgICAgICAgICBgdi1vbiB0byBsaXN0ZW4gdG8gY2FtZWxDYXNlIGV2ZW50cyB3aGVuIHVzaW5nIGluLURPTSB0ZW1wbGF0ZXMuIGAgK1xyXG4gICAgICAgICAgICAgICAgYFlvdSBzaG91bGQgcHJvYmFibHkgdXNlIFwiJHtoeXBoZW5hdGUoZXZlbnQpfVwiIGluc3RlYWQgb2YgXCIke2V2ZW50fVwiLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGNvbnZlcnQgaGFuZGxlciBuYW1lIHRvIGNhbWVsQ2FzZS4gU2VlIGlzc3VlICMyMjQ5XHJcbiAgICBsZXQgaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKTtcclxuICAgIGxldCBoYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWVdO1xyXG4gICAgLy8gZm9yIHYtbW9kZWwgdXBkYXRlOnh4eCBldmVudHMsIGFsc28gdHJpZ2dlciBrZWJhYi1jYXNlIGVxdWl2YWxlbnRcclxuICAgIC8vIGZvciBwcm9wcyBwYXNzZWQgdmlhIGtlYmFiLWNhc2VcclxuICAgIGlmICghaGFuZGxlciAmJiBpc01vZGVsTGlzdGVuZXIpIHtcclxuICAgICAgICBoYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShoeXBoZW5hdGUoZXZlbnQpKTtcclxuICAgICAgICBoYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWVdO1xyXG4gICAgfVxyXG4gICAgaWYgKGhhbmRsZXIpIHtcclxuICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhoYW5kbGVyLCBpbnN0YW5jZSwgNiAvKiBDT01QT05FTlRfRVZFTlRfSEFORExFUiAqLywgYXJncyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBvbmNlSGFuZGxlciA9IHByb3BzW2hhbmRsZXJOYW1lICsgYE9uY2VgXTtcclxuICAgIGlmIChvbmNlSGFuZGxlcikge1xyXG4gICAgICAgIGlmICghaW5zdGFuY2UuZW1pdHRlZCkge1xyXG4gICAgICAgICAgICAoaW5zdGFuY2UuZW1pdHRlZCA9IHt9KVtoYW5kbGVyTmFtZV0gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbnN0YW5jZS5lbWl0dGVkW2hhbmRsZXJOYW1lXSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKG9uY2VIYW5kbGVyLCBpbnN0YW5jZSwgNiAvKiBDT01QT05FTlRfRVZFTlRfSEFORExFUiAqLywgYXJncyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplRW1pdHNPcHRpb25zKGNvbXAsIGFwcENvbnRleHQsIGFzTWl4aW4gPSBmYWxzZSkge1xyXG4gICAgaWYgKCFhcHBDb250ZXh0LmRlb3B0ICYmIGNvbXAuX19lbWl0cyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbXAuX19lbWl0cztcclxuICAgIH1cclxuICAgIGNvbnN0IHJhdyA9IGNvbXAuZW1pdHM7XHJcbiAgICBsZXQgbm9ybWFsaXplZCA9IHt9O1xyXG4gICAgLy8gYXBwbHkgbWl4aW4vZXh0ZW5kcyBwcm9wc1xyXG4gICAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcclxuICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XHJcbiAgICAgICAgY29uc3QgZXh0ZW5kRW1pdHMgPSAocmF3KSA9PiB7XHJcbiAgICAgICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xyXG4gICAgICAgICAgICBleHRlbmQobm9ybWFsaXplZCwgbm9ybWFsaXplRW1pdHNPcHRpb25zKHJhdywgYXBwQ29udGV4dCwgdHJ1ZSkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBhcHBDb250ZXh0Lm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbXAuZXh0ZW5kcykge1xyXG4gICAgICAgICAgICBleHRlbmRFbWl0cyhjb21wLmV4dGVuZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29tcC5taXhpbnMpIHtcclxuICAgICAgICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFyYXcgJiYgIWhhc0V4dGVuZHMpIHtcclxuICAgICAgICByZXR1cm4gKGNvbXAuX19lbWl0cyA9IG51bGwpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQXJyYXkocmF3KSkge1xyXG4gICAgICAgIHJhdy5mb3JFYWNoKGtleSA9PiAobm9ybWFsaXplZFtrZXldID0gbnVsbCkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIHJhdyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGNvbXAuX19lbWl0cyA9IG5vcm1hbGl6ZWQpO1xyXG59XHJcbi8vIENoZWNrIGlmIGFuIGluY29taW5nIHByb3Aga2V5IGlzIGEgZGVjbGFyZWQgZW1pdCBldmVudCBsaXN0ZW5lci5cclxuLy8gZS5nLiBXaXRoIGBlbWl0czogeyBjbGljazogbnVsbCB9YCwgcHJvcHMgbmFtZWQgYG9uQ2xpY2tgIGFuZCBgb25jbGlja2AgYXJlXHJcbi8vIGJvdGggY29uc2lkZXJlZCBtYXRjaGVkIGxpc3RlbmVycy5cclxuZnVuY3Rpb24gaXNFbWl0TGlzdGVuZXIob3B0aW9ucywga2V5KSB7XHJcbiAgICBpZiAoIW9wdGlvbnMgfHwgIWlzT24oa2V5KSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGtleSA9IGtleS5yZXBsYWNlKC9PbmNlJC8sICcnKTtcclxuICAgIHJldHVybiAoaGFzT3duKG9wdGlvbnMsIGtleVsyXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDMpKSB8fFxyXG4gICAgICAgIGhhc093bihvcHRpb25zLCBrZXkuc2xpY2UoMikpKTtcclxufVxuXG4vLyBtYXJrIHRoZSBjdXJyZW50IHJlbmRlcmluZyBpbnN0YW5jZSBmb3IgYXNzZXQgcmVzb2x1dGlvbiAoZS5nLlxyXG4vLyByZXNvbHZlQ29tcG9uZW50LCByZXNvbHZlRGlyZWN0aXZlKSBkdXJpbmcgcmVuZGVyXHJcbmxldCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBudWxsO1xyXG5mdW5jdGlvbiBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoaW5zdGFuY2UpIHtcclxuICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IGluc3RhbmNlO1xyXG59XHJcbi8vIGRldiBvbmx5IGZsYWcgdG8gdHJhY2sgd2hldGhlciAkYXR0cnMgd2FzIHVzZWQgZHVyaW5nIHJlbmRlci5cclxuLy8gSWYgJGF0dHJzIHdhcyB1c2VkIGR1cmluZyByZW5kZXIgdGhlbiB0aGUgd2FybmluZyBmb3IgZmFpbGVkIGF0dHJzXHJcbi8vIGZhbGx0aHJvdWdoIGNhbiBiZSBzdXBwcmVzc2VkLlxyXG5sZXQgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xyXG5mdW5jdGlvbiBtYXJrQXR0cnNBY2Nlc3NlZCgpIHtcclxuICAgIGFjY2Vzc2VkQXR0cnMgPSB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHsgdHlwZTogQ29tcG9uZW50LCB2bm9kZSwgcHJveHksIHdpdGhQcm94eSwgcHJvcHMsIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10sIHNsb3RzLCBhdHRycywgZW1pdCwgcmVuZGVyLCByZW5kZXJDYWNoZSwgZGF0YSwgc2V0dXBTdGF0ZSwgY3R4IH0gPSBpbnN0YW5jZTtcclxuICAgIGxldCByZXN1bHQ7XHJcbiAgICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBpbnN0YW5jZTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBhY2Nlc3NlZEF0dHJzID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBmYWxsdGhyb3VnaEF0dHJzO1xyXG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNUQVRFRlVMX0NPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICAvLyB3aXRoUHJveHkgaXMgYSBwcm94eSB3aXRoIGEgZGlmZmVyZW50IGBoYXNgIHRyYXAgb25seSBmb3JcclxuICAgICAgICAgICAgLy8gcnVudGltZS1jb21waWxlZCByZW5kZXIgZnVuY3Rpb25zIHVzaW5nIGB3aXRoYCBibG9jay5cclxuICAgICAgICAgICAgY29uc3QgcHJveHlUb1VzZSA9IHdpdGhQcm94eSB8fCBwcm94eTtcclxuICAgICAgICAgICAgcmVzdWx0ID0gbm9ybWFsaXplVk5vZGUocmVuZGVyLmNhbGwocHJveHlUb1VzZSwgcHJveHlUb1VzZSwgcmVuZGVyQ2FjaGUsIHByb3BzLCBzZXR1cFN0YXRlLCBkYXRhLCBjdHgpKTtcclxuICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGF0dHJzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZnVuY3Rpb25hbFxyXG4gICAgICAgICAgICBjb25zdCByZW5kZXIgPSBDb21wb25lbnQ7XHJcbiAgICAgICAgICAgIC8vIGluIGRldiwgbWFyayBhdHRycyBhY2Nlc3NlZCBpZiBvcHRpb25hbCBwcm9wcyAoYXR0cnMgPT09IHByb3BzKVxyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGF0dHJzID09PSBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQgPSBub3JtYWxpemVWTm9kZShyZW5kZXIubGVuZ3RoID4gMVxyXG4gICAgICAgICAgICAgICAgPyByZW5kZXIocHJvcHMsIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQgYXR0cnMoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbG90cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA6IHsgYXR0cnMsIHNsb3RzLCBlbWl0IH0pXHJcbiAgICAgICAgICAgICAgICA6IHJlbmRlcihwcm9wcywgbnVsbCAvKiB3ZSBrbm93IGl0IGRvZXNuJ3QgbmVlZCBpdCAqLykpO1xyXG4gICAgICAgICAgICBmYWxsdGhyb3VnaEF0dHJzID0gQ29tcG9uZW50LnByb3BzXHJcbiAgICAgICAgICAgICAgICA/IGF0dHJzXHJcbiAgICAgICAgICAgICAgICA6IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaChhdHRycyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGF0dHIgbWVyZ2luZ1xyXG4gICAgICAgIC8vIGluIGRldiBtb2RlLCBjb21tZW50cyBhcmUgcHJlc2VydmVkLCBhbmQgaXQncyBwb3NzaWJsZSBmb3IgYSB0ZW1wbGF0ZVxyXG4gICAgICAgIC8vIHRvIGhhdmUgY29tbWVudHMgYWxvbmcgc2lkZSB0aGUgcm9vdCBlbGVtZW50IHdoaWNoIG1ha2VzIGl0IGEgZnJhZ21lbnRcclxuICAgICAgICBsZXQgcm9vdCA9IHJlc3VsdDtcclxuICAgICAgICBsZXQgc2V0Um9vdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIDtcclxuICAgICAgICAgICAgW3Jvb3QsIHNldFJvb3RdID0gZ2V0Q2hpbGRSb290KHJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChDb21wb25lbnQuaW5oZXJpdEF0dHJzICE9PSBmYWxzZSAmJiBmYWxsdGhyb3VnaEF0dHJzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhmYWxsdGhyb3VnaEF0dHJzKTtcclxuICAgICAgICAgICAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHJvb3Q7XHJcbiAgICAgICAgICAgIGlmIChrZXlzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BzT3B0aW9ucyAmJiBrZXlzLnNvbWUoaXNNb2RlbExpc3RlbmVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIHYtbW9kZWwgbGlzdGVuZXIgKG9uVXBkYXRlOnh4eCkgaGFzIGEgY29ycmVzcG9uZGluZyBkZWNsYXJlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9wLCBpdCBpbmRpY2F0ZXMgdGhpcyBjb21wb25lbnQgZXhwZWN0cyB0byBoYW5kbGUgdi1tb2RlbCBhbmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQgc2hvdWxkIG5vdCBmYWxsdGhyb3VnaC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVsYXRlZDogIzE1NDMsICMxNjQzLCAjMTk4OVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWxsdGhyb3VnaEF0dHJzID0gZmlsdGVyTW9kZWxMaXN0ZW5lcnMoZmFsbHRocm91Z2hBdHRycywgcHJvcHNPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdCA9IGNsb25lVk5vZGUocm9vdCwgZmFsbHRocm91Z2hBdHRycyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWFjY2Vzc2VkQXR0cnMgJiYgcm9vdC50eXBlICE9PSBDb21tZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsQXR0cnMgPSBPYmplY3Qua2V5cyhhdHRycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnRBdHRycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dHJhQXR0cnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFsbEF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhbGxBdHRyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzT24oa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIHYtbW9kZWwgaGFuZGxlcnMgd2hlbiB0aGV5IGZhaWwgdG8gZmFsbHRocm91Z2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgYG9uYCwgbG93ZXJjYXNlIGZpcnN0IGxldHRlciB0byByZWZsZWN0IGV2ZW50IGNhc2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFjY3VyYXRlbHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudEF0dHJzLnB1c2goa2V5WzJdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRycy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4dHJhQXR0cnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYEV4dHJhbmVvdXMgbm9uLXByb3BzIGF0dHJpYnV0ZXMgKGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZXh0cmFBdHRycy5qb2luKCcsICcpfSkgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEF0dHJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBFeHRyYW5lb3VzIG5vbi1lbWl0cyBldmVudCBsaXN0ZW5lcnMgKGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZXZlbnRBdHRycy5qb2luKCcsICcpfSkgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYElmIHRoZSBsaXN0ZW5lciBpcyBpbnRlbmRlZCB0byBiZSBhIGNvbXBvbmVudCBjdXN0b20gZXZlbnQgbGlzdGVuZXIgb25seSwgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgZGVjbGFyZSBpdCB1c2luZyB0aGUgXCJlbWl0c1wiIG9wdGlvbi5gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5oZXJpdCBkaXJlY3RpdmVzXHJcbiAgICAgICAgaWYgKHZub2RlLmRpcnMpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgUnVudGltZSBkaXJlY3RpdmUgdXNlZCBvbiBjb21wb25lbnQgd2l0aCBub24tZWxlbWVudCByb290IG5vZGUuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBUaGUgZGlyZWN0aXZlcyB3aWxsIG5vdCBmdW5jdGlvbiBhcyBpbnRlbmRlZC5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByb290LmRpcnMgPSByb290LmRpcnMgPyByb290LmRpcnMuY29uY2F0KHZub2RlLmRpcnMpIDogdm5vZGUuZGlycztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5oZXJpdCB0cmFuc2l0aW9uIGRhdGFcclxuICAgICAgICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgaW5zaWRlIDxUcmFuc2l0aW9uPiByZW5kZXJzIG5vbi1lbGVtZW50IHJvb3Qgbm9kZSBgICtcclxuICAgICAgICAgICAgICAgICAgICBgdGhhdCBjYW5ub3QgYmUgYW5pbWF0ZWQuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcm9vdC50cmFuc2l0aW9uID0gdm5vZGUudHJhbnNpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzZXRSb290KSB7XHJcbiAgICAgICAgICAgIHNldFJvb3Qocm9vdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHQgPSByb290O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAxIC8qIFJFTkRFUl9GVU5DVElPTiAqLyk7XHJcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlVk5vZGUoQ29tbWVudCk7XHJcbiAgICB9XHJcbiAgICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBudWxsO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICogSW4gZGV2IG1vZGUsIHRlbXBsYXRlIHJvb3QgbGV2ZWwgY29tbWVudHMgYXJlIHJlbmRlcmVkLCB3aGljaCB0dXJucyB0aGVcclxuICogdGVtcGxhdGUgaW50byBhIGZyYWdtZW50IHJvb3QsIGJ1dCB3ZSBuZWVkIHRvIGxvY2F0ZSB0aGUgc2luZ2xlIGVsZW1lbnRcclxuICogcm9vdCBmb3IgYXR0cnMgYW5kIHNjb3BlIGlkIHByb2Nlc3NpbmcuXHJcbiAqL1xyXG5jb25zdCBnZXRDaGlsZFJvb3QgPSAodm5vZGUpID0+IHtcclxuICAgIGlmICh2bm9kZS50eXBlICE9PSBGcmFnbWVudCkge1xyXG4gICAgICAgIHJldHVybiBbdm5vZGUsIHVuZGVmaW5lZF07XHJcbiAgICB9XHJcbiAgICBjb25zdCByYXdDaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xyXG4gICAgY29uc3QgZHluYW1pY0NoaWxkcmVuID0gdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xyXG4gICAgY29uc3QgY2hpbGRSb290ID0gZmlsdGVyU2luZ2xlUm9vdChyYXdDaGlsZHJlbik7XHJcbiAgICBpZiAoIWNoaWxkUm9vdCkge1xyXG4gICAgICAgIHJldHVybiBbdm5vZGUsIHVuZGVmaW5lZF07XHJcbiAgICB9XHJcbiAgICBjb25zdCBpbmRleCA9IHJhd0NoaWxkcmVuLmluZGV4T2YoY2hpbGRSb290KTtcclxuICAgIGNvbnN0IGR5bmFtaWNJbmRleCA9IGR5bmFtaWNDaGlsZHJlbiA/IGR5bmFtaWNDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCkgOiAtMTtcclxuICAgIGNvbnN0IHNldFJvb3QgPSAodXBkYXRlZFJvb3QpID0+IHtcclxuICAgICAgICByYXdDaGlsZHJlbltpbmRleF0gPSB1cGRhdGVkUm9vdDtcclxuICAgICAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGlmIChkeW5hbWljSW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuW2R5bmFtaWNJbmRleF0gPSB1cGRhdGVkUm9vdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh1cGRhdGVkUm9vdC5wYXRjaEZsYWcgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS5keW5hbWljQ2hpbGRyZW4gPSBbLi4uZHluYW1pY0NoaWxkcmVuLCB1cGRhdGVkUm9vdF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFtub3JtYWxpemVWTm9kZShjaGlsZFJvb3QpLCBzZXRSb290XTtcclxufTtcclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiBmaWx0ZXJTaW5nbGVSb290KGNoaWxkcmVuKSB7XHJcbiAgICBjb25zdCBmaWx0ZXJlZCA9IGNoaWxkcmVuLmZpbHRlcihjaGlsZCA9PiB7XHJcbiAgICAgICAgcmV0dXJuICEoaXNWTm9kZShjaGlsZCkgJiZcclxuICAgICAgICAgICAgY2hpbGQudHlwZSA9PT0gQ29tbWVudCAmJlxyXG4gICAgICAgICAgICBjaGlsZC5jaGlsZHJlbiAhPT0gJ3YtaWYnKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZpbHRlcmVkLmxlbmd0aCA9PT0gMSAmJiBpc1ZOb2RlKGZpbHRlcmVkWzBdKSA/IGZpbHRlcmVkWzBdIDogbnVsbDtcclxufVxyXG5jb25zdCBnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2ggPSAoYXR0cnMpID0+IHtcclxuICAgIGxldCByZXM7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xyXG4gICAgICAgIGlmIChrZXkgPT09ICdjbGFzcycgfHwga2V5ID09PSAnc3R5bGUnIHx8IGlzT24oa2V5KSkge1xyXG4gICAgICAgICAgICAocmVzIHx8IChyZXMgPSB7fSkpW2tleV0gPSBhdHRyc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn07XHJcbmNvbnN0IGZpbHRlck1vZGVsTGlzdGVuZXJzID0gKGF0dHJzLCBwcm9wcykgPT4ge1xyXG4gICAgY29uc3QgcmVzID0ge307XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xyXG4gICAgICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkgfHwgIShrZXkuc2xpY2UoOSkgaW4gcHJvcHMpKSB7XHJcbiAgICAgICAgICAgIHJlc1trZXldID0gYXR0cnNba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59O1xyXG5jb25zdCBpc0VsZW1lbnRSb290ID0gKHZub2RlKSA9PiB7XHJcbiAgICByZXR1cm4gKHZub2RlLnNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovIHx8XHJcbiAgICAgICAgdm5vZGUuc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovIHx8XHJcbiAgICAgICAgdm5vZGUudHlwZSA9PT0gQ29tbWVudCAvLyBwb3RlbnRpYWwgdi1pZiBicmFuY2ggc3dpdGNoXHJcbiAgICApO1xyXG59O1xyXG5mdW5jdGlvbiBzaG91bGRVcGRhdGVDb21wb25lbnQocHJldlZOb2RlLCBuZXh0Vk5vZGUsIG9wdGltaXplZCkge1xyXG4gICAgY29uc3QgeyBwcm9wczogcHJldlByb3BzLCBjaGlsZHJlbjogcHJldkNoaWxkcmVuLCBjb21wb25lbnQgfSA9IHByZXZWTm9kZTtcclxuICAgIGNvbnN0IHsgcHJvcHM6IG5leHRQcm9wcywgY2hpbGRyZW46IG5leHRDaGlsZHJlbiwgcGF0Y2hGbGFnIH0gPSBuZXh0Vk5vZGU7XHJcbiAgICBjb25zdCBlbWl0cyA9IGNvbXBvbmVudC5lbWl0c09wdGlvbnM7XHJcbiAgICAvLyBQYXJlbnQgY29tcG9uZW50J3MgcmVuZGVyIGZ1bmN0aW9uIHdhcyBob3QtdXBkYXRlZC4gU2luY2UgdGhpcyBtYXkgaGF2ZVxyXG4gICAgLy8gY2F1c2VkIHRoZSBjaGlsZCBjb21wb25lbnQncyBzbG90cyBjb250ZW50IHRvIGhhdmUgY2hhbmdlZCwgd2UgbmVlZCB0b1xyXG4gICAgLy8gZm9yY2UgdGhlIGNoaWxkIHRvIHVwZGF0ZSBhcyB3ZWxsLlxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAocHJldkNoaWxkcmVuIHx8IG5leHRDaGlsZHJlbikgJiYgaXNIbXJVcGRhdGluZykge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gZm9yY2UgY2hpbGQgdXBkYXRlIGZvciBydW50aW1lIGRpcmVjdGl2ZSBvciB0cmFuc2l0aW9uIG9uIGNvbXBvbmVudCB2bm9kZS5cclxuICAgIGlmIChuZXh0Vk5vZGUuZGlycyB8fCBuZXh0Vk5vZGUudHJhbnNpdGlvbikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGltaXplZCAmJiBwYXRjaEZsYWcgPiAwKSB7XHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEwMjQgLyogRFlOQU1JQ19TTE9UUyAqLykge1xyXG4gICAgICAgICAgICAvLyBzbG90IGNvbnRlbnQgdGhhdCByZWZlcmVuY2VzIHZhbHVlcyB0aGF0IG1pZ2h0IGhhdmUgY2hhbmdlZCxcclxuICAgICAgICAgICAgLy8gZS5nLiBpbiBhIHYtZm9yXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgMTYgLyogRlVMTF9QUk9QUyAqLykge1xyXG4gICAgICAgICAgICBpZiAoIXByZXZQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHByZXNlbmNlIG9mIHRoaXMgZmxhZyBpbmRpY2F0ZXMgcHJvcHMgYXJlIGFsd2F5cyBub24tbnVsbFxyXG4gICAgICAgICAgICByZXR1cm4gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHBhdGNoRmxhZyAmIDggLyogUFJPUFMgKi8pIHtcclxuICAgICAgICAgICAgY29uc3QgZHluYW1pY1Byb3BzID0gbmV4dFZOb2RlLmR5bmFtaWNQcm9wcztcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkeW5hbWljUHJvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGR5bmFtaWNQcm9wc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiZcclxuICAgICAgICAgICAgICAgICAgICAhaXNFbWl0TGlzdGVuZXIoZW1pdHMsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIHRoaXMgcGF0aCBpcyBvbmx5IHRha2VuIGJ5IG1hbnVhbGx5IHdyaXR0ZW4gcmVuZGVyIGZ1bmN0aW9uc1xyXG4gICAgICAgIC8vIHNvIHByZXNlbmNlIG9mIGFueSBjaGlsZHJlbiBsZWFkcyB0byBhIGZvcmNlZCB1cGRhdGVcclxuICAgICAgICBpZiAocHJldkNoaWxkcmVuIHx8IG5leHRDaGlsZHJlbikge1xyXG4gICAgICAgICAgICBpZiAoIW5leHRDaGlsZHJlbiB8fCAhbmV4dENoaWxkcmVuLiRzdGFibGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcmV2UHJvcHMgPT09IG5leHRQcm9wcykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcHJldlByb3BzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhIW5leHRQcm9wcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFuZXh0UHJvcHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzT3B0aW9ucykge1xyXG4gICAgY29uc3QgbmV4dEtleXMgPSBPYmplY3Qua2V5cyhuZXh0UHJvcHMpO1xyXG4gICAgaWYgKG5leHRLZXlzLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMocHJldlByb3BzKS5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV4dEtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBuZXh0S2V5c1tpXTtcclxuICAgICAgICBpZiAobmV4dFByb3BzW2tleV0gIT09IHByZXZQcm9wc1trZXldICYmXHJcbiAgICAgICAgICAgICFpc0VtaXRMaXN0ZW5lcihlbWl0c09wdGlvbnMsIGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZUhPQ0hvc3RFbCh7IHZub2RlLCBwYXJlbnQgfSwgZWwgLy8gSG9zdE5vZGVcclxuKSB7XHJcbiAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudC5zdWJUcmVlID09PSB2bm9kZSkge1xyXG4gICAgICAgICh2bm9kZSA9IHBhcmVudC52bm9kZSkuZWwgPSBlbDtcclxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IGlzU3VzcGVuc2UgPSAodHlwZSkgPT4gdHlwZS5fX2lzU3VzcGVuc2U7XHJcbi8vIFN1c3BlbnNlIGV4cG9zZXMgYSBjb21wb25lbnQtbGlrZSBBUEksIGFuZCBpcyB0cmVhdGVkIGxpa2UgYSBjb21wb25lbnRcclxuLy8gaW4gdGhlIGNvbXBpbGVyLCBidXQgaW50ZXJuYWxseSBpdCdzIGEgc3BlY2lhbCBidWlsdC1pbiB0eXBlIHRoYXQgaG9va3NcclxuLy8gZGlyZWN0bHkgaW50byB0aGUgcmVuZGVyZXIuXHJcbmNvbnN0IFN1c3BlbnNlSW1wbCA9IHtcclxuICAgIC8vIEluIG9yZGVyIHRvIG1ha2UgU3VzcGVuc2UgdHJlZS1zaGFrYWJsZSwgd2UgbmVlZCB0byBhdm9pZCBpbXBvcnRpbmcgaXRcclxuICAgIC8vIGRpcmVjdGx5IGluIHRoZSByZW5kZXJlci4gVGhlIHJlbmRlcmVyIGNoZWNrcyBmb3IgdGhlIF9faXNTdXNwZW5zZSBmbGFnXHJcbiAgICAvLyBvbiBhIHZub2RlJ3MgdHlwZSBhbmQgY2FsbHMgdGhlIGBwcm9jZXNzYCBtZXRob2QsIHBhc3NpbmcgaW4gcmVuZGVyZXJcclxuICAgIC8vIGludGVybmFscy5cclxuICAgIF9faXNTdXNwZW5zZTogdHJ1ZSxcclxuICAgIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCwgXHJcbiAgICAvLyBwbGF0Zm9ybS1zcGVjaWZpYyBpbXBsIHBhc3NlZCBmcm9tIHJlbmRlcmVyXHJcbiAgICByZW5kZXJlckludGVybmFscykge1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIG1vdW50U3VzcGVuc2UobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRjaFN1c3BlbnNlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgaXNTVkcsIHJlbmRlcmVySW50ZXJuYWxzKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaHlkcmF0ZTogaHlkcmF0ZVN1c3BlbnNlLFxyXG4gICAgY3JlYXRlOiBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5XHJcbn07XHJcbi8vIEZvcmNlLWNhc3RlZCBwdWJsaWMgdHlwaW5nIGZvciBoIGFuZCBUU1ggcHJvcHMgaW5mZXJlbmNlXHJcbmNvbnN0IFN1c3BlbnNlID0gKCBTdXNwZW5zZUltcGxcclxuICAgICk7XHJcbmZ1bmN0aW9uIG1vdW50U3VzcGVuc2Uodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscykge1xyXG4gICAgY29uc3QgeyBwOiBwYXRjaCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSA9IHJlbmRlcmVySW50ZXJuYWxzO1xyXG4gICAgY29uc3QgaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBzdXNwZW5zZSA9ICh2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudFN1c3BlbnNlLCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaGlkZGVuQ29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKSk7XHJcbiAgICAvLyBzdGFydCBtb3VudGluZyB0aGUgY29udGVudCBzdWJ0cmVlIGluIGFuIG9mZi1kb20gY29udGFpbmVyXHJcbiAgICBwYXRjaChudWxsLCAoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCksIGhpZGRlbkNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgLy8gbm93IGNoZWNrIGlmIHdlIGhhdmUgZW5jb3VudGVyZWQgYW55IGFzeW5jIGRlcHNcclxuICAgIGlmIChzdXNwZW5zZS5kZXBzID4gMCkge1xyXG4gICAgICAgIC8vIGhhcyBhc3luY1xyXG4gICAgICAgIC8vIG1vdW50IHRoZSBmYWxsYmFjayB0cmVlXHJcbiAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUuc3NGYWxsYmFjaywgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcclxuICAgICAgICBpc1NWRyk7XHJcbiAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCB2bm9kZS5zc0ZhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIFN1c3BlbnNlIGhhcyBubyBhc3luYyBkZXBzLiBKdXN0IHJlc29sdmUuXHJcbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHBhdGNoU3VzcGVuc2UobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBpc1NWRywgeyBwOiBwYXRjaCwgdW06IHVubW91bnQsIG86IHsgY3JlYXRlRWxlbWVudCB9IH0pIHtcclxuICAgIGNvbnN0IHN1c3BlbnNlID0gKG4yLnN1c3BlbnNlID0gbjEuc3VzcGVuc2UpO1xyXG4gICAgc3VzcGVuc2Uudm5vZGUgPSBuMjtcclxuICAgIG4yLmVsID0gbjEuZWw7XHJcbiAgICBjb25zdCBuZXdCcmFuY2ggPSBuMi5zc0NvbnRlbnQ7XHJcbiAgICBjb25zdCBuZXdGYWxsYmFjayA9IG4yLnNzRmFsbGJhY2s7XHJcbiAgICBjb25zdCB7IGFjdGl2ZUJyYW5jaCwgcGVuZGluZ0JyYW5jaCwgaXNJbkZhbGxiYWNrLCBpc0h5ZHJhdGluZyB9ID0gc3VzcGVuc2U7XHJcbiAgICBpZiAocGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBuZXdCcmFuY2g7XHJcbiAgICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuZXdCcmFuY2gsIHBlbmRpbmdCcmFuY2gpKSB7XHJcbiAgICAgICAgICAgIC8vIHNhbWUgcm9vdCB0eXBlIGJ1dCBjb250ZW50IG1heSBoYXZlIGNoYW5nZWQuXHJcbiAgICAgICAgICAgIHBhdGNoKHBlbmRpbmdCcmFuY2gsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0luRmFsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3RmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XHJcbiAgICAgICAgICAgICAgICBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdG9nZ2xlZCBiZWZvcmUgcGVuZGluZyB0cmVlIGlzIHJlc29sdmVkXHJcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCsrO1xyXG4gICAgICAgICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIHRvZ2dsZWQgYmVmb3JlIGh5ZHJhdGlvbiBpcyBmaW5pc2hlZCwgdGhlIGN1cnJlbnQgRE9NIHRyZWUgaXNcclxuICAgICAgICAgICAgICAgIC8vIG5vIGxvbmdlciB2YWxpZC4gc2V0IGl0IGFzIHRoZSBhY3RpdmUgYnJhbmNoIHNvIGl0IHdpbGwgYmUgdW5tb3VudGVkXHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHJlc29sdmVkXHJcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gcGVuZGluZ0JyYW5jaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnQocGVuZGluZ0JyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaW5jcmVtZW50IHBlbmRpbmcgSUQuIHRoaXMgaXMgdXNlZCB0byBpbnZhbGlkYXRlIGFzeW5jIGNhbGxiYWNrc1xyXG4gICAgICAgICAgICAvLyByZXNldCBzdXNwZW5zZSBzdGF0ZVxyXG4gICAgICAgICAgICBzdXNwZW5zZS5kZXBzID0gMDtcclxuICAgICAgICAgICAgLy8gZGlzY2FyZCBlZmZlY3RzIGZyb20gcGVuZGluZyBicmFuY2hcclxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAvLyBkaXNjYXJkIHByZXZpb3VzIGNvbnRhaW5lclxyXG4gICAgICAgICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgaWYgKGlzSW5GYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBpbiBmYWxsYmFjayBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaChhY3RpdmVCcmFuY2gsIG5ld0ZhbGxiYWNrLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxyXG4gICAgICAgICAgICAgICAgICAgIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgYWN0aXZlQnJhbmNoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdG9nZ2xlZCBcImJhY2tcIiB0byBjdXJyZW50IGFjdGl2ZSBicmFuY2hcclxuICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3QnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgcmVzb2x2ZVxyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHN3aXRjaGVkIHRvIGEgM3JkIGJyYW5jaFxyXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoYWN0aXZlQnJhbmNoICYmIGlzU2FtZVZOb2RlVHlwZShuZXdCcmFuY2gsIGFjdGl2ZUJyYW5jaCkpIHtcclxuICAgICAgICAgICAgLy8gcm9vdCBkaWQgbm90IGNoYW5nZSwganVzdCBub3JtYWwgcGF0Y2hcclxuICAgICAgICAgICAgcGF0Y2goYWN0aXZlQnJhbmNoLCBuZXdCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3QnJhbmNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHJvb3Qgbm9kZSB0b2dnbGVkXHJcbiAgICAgICAgICAgIC8vIGludm9rZSBAcGVuZGluZyBldmVudFxyXG4gICAgICAgICAgICBjb25zdCBvblBlbmRpbmcgPSBuMi5wcm9wcyAmJiBuMi5wcm9wcy5vblBlbmRpbmc7XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uUGVuZGluZykpIHtcclxuICAgICAgICAgICAgICAgIG9uUGVuZGluZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG1vdW50IHBlbmRpbmcgYnJhbmNoIGluIG9mZi1kb20gY29udGFpbmVyXHJcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBuZXdCcmFuY2g7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCsrO1xyXG4gICAgICAgICAgICBwYXRjaChudWxsLCBuZXdCcmFuY2gsIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpbmNvbWluZyBicmFuY2ggaGFzIG5vIGFzeW5jIGRlcHMsIHJlc29sdmUgbm93LlxyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyB0aW1lb3V0LCBwZW5kaW5nSWQgfSA9IHN1c3BlbnNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVvdXQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nSWQgPT09IHBlbmRpbmdJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aW1lb3V0ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmxldCBoYXNXYXJuZWQgPSBmYWxzZTtcclxuZnVuY3Rpb24gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50LCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaGlkZGVuQ29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBpc0h5ZHJhdGluZyA9IGZhbHNlKSB7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWZhbHNlICYmICFoYXNXYXJuZWQpIHtcclxuICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmUgYGNvbnNvbGUuaW5mb2AgY2Fubm90IGJlIG51bGwgZXJyb3JcclxuICAgICAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/ICdpbmZvJyA6ICdsb2cnXShgPFN1c3BlbnNlPiBpcyBhbiBleHBlcmltZW50YWwgZmVhdHVyZSBhbmQgaXRzIEFQSSB3aWxsIGxpa2VseSBjaGFuZ2UuYCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IHA6IHBhdGNoLCBtOiBtb3ZlLCB1bTogdW5tb3VudCwgbjogbmV4dCwgbzogeyBwYXJlbnROb2RlLCByZW1vdmUgfSB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XHJcbiAgICBjb25zdCB0aW1lb3V0ID0gdG9OdW1iZXIodm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudGltZW91dCk7XHJcbiAgICBjb25zdCBzdXNwZW5zZSA9IHtcclxuICAgICAgICB2bm9kZSxcclxuICAgICAgICBwYXJlbnQsXHJcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxyXG4gICAgICAgIGlzU1ZHLFxyXG4gICAgICAgIGNvbnRhaW5lcixcclxuICAgICAgICBoaWRkZW5Db250YWluZXIsXHJcbiAgICAgICAgYW5jaG9yLFxyXG4gICAgICAgIGRlcHM6IDAsXHJcbiAgICAgICAgcGVuZGluZ0lkOiAwLFxyXG4gICAgICAgIHRpbWVvdXQ6IHR5cGVvZiB0aW1lb3V0ID09PSAnbnVtYmVyJyA/IHRpbWVvdXQgOiAtMSxcclxuICAgICAgICBhY3RpdmVCcmFuY2g6IG51bGwsXHJcbiAgICAgICAgcGVuZGluZ0JyYW5jaDogbnVsbCxcclxuICAgICAgICBpc0luRmFsbGJhY2s6IHRydWUsXHJcbiAgICAgICAgaXNIeWRyYXRpbmcsXHJcbiAgICAgICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGVmZmVjdHM6IFtdLFxyXG4gICAgICAgIHJlc29sdmUocmVzdW1lID0gZmFsc2UpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bWUgJiYgIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgd2l0aG91dCBhIHBlbmRpbmcgYnJhbmNoLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmlzVW5tb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzdXNwZW5zZS5yZXNvbHZlKCkgaXMgY2FsbGVkIG9uIGFuIGFscmVhZHkgdW5tb3VudGVkIHN1c3BlbnNlIGJvdW5kYXJ5LmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdm5vZGUsIGFjdGl2ZUJyYW5jaCwgcGVuZGluZ0JyYW5jaCwgcGVuZGluZ0lkLCBlZmZlY3RzLCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciB9ID0gc3VzcGVuc2U7XHJcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghcmVzdW1lKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxheUVudGVyID0gYWN0aXZlQnJhbmNoICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uLm1vZGUgPT09ICdvdXQtaW4nO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlbGF5RW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVCcmFuY2gudHJhbnNpdGlvbi5hZnRlckxlYXZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ0lkID09PSBzdXNwZW5zZS5wZW5kaW5nSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmUocGVuZGluZ0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIDAgLyogRU5URVIgKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgaW5pdGlhbCBhbmNob3Igb24gbW91bnRcclxuICAgICAgICAgICAgICAgIGxldCB7IGFuY2hvciB9ID0gc3VzcGVuc2U7XHJcbiAgICAgICAgICAgICAgICAvLyB1bm1vdW50IGN1cnJlbnQgYWN0aXZlIHRyZWVcclxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZmFsbGJhY2sgdHJlZSB3YXMgbW91bnRlZCwgaXQgbWF5IGhhdmUgYmVlbiBtb3ZlZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIHBhcnQgb2YgYSBwYXJlbnQgc3VzcGVuc2UuIGdldCB0aGUgbGF0ZXN0IGFuY2hvciBmb3IgaW5zZXJ0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gbmV4dChhY3RpdmVCcmFuY2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnQoYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghZGVsYXlFbnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgY29udGVudCBmcm9tIG9mZi1kb20gY29udGFpbmVyIHRvIGFjdHVhbCBjb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlKHBlbmRpbmdCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCAwIC8qIEVOVEVSICovKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIHBlbmRpbmdCcmFuY2gpO1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbnVsbDtcclxuICAgICAgICAgICAgc3VzcGVuc2UuaXNJbkZhbGxiYWNrID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIGZsdXNoIGJ1ZmZlcmVkIGVmZmVjdHNcclxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgaXMgYSBwZW5kaW5nIHBhcmVudCBzdXNwZW5zZVxyXG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gc3VzcGVuc2UucGFyZW50O1xyXG4gICAgICAgICAgICBsZXQgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHdoaWxlIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQucGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvdW5kIGEgcGVuZGluZyBwYXJlbnQgc3VzcGVuc2UsIG1lcmdlIGJ1ZmZlcmVkIHBvc3Qgam9ic1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGludG8gdGhhdCBwYXJlbnRcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuZWZmZWN0cy5wdXNoKC4uLmVmZmVjdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc1VucmVzb2x2ZWRBbmNlc3RvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG5vIHBlbmRpbmcgcGFyZW50IHN1c3BlbnNlLCBmbHVzaCBhbGwgam9ic1xyXG4gICAgICAgICAgICBpZiAoIWhhc1VucmVzb2x2ZWRBbmNlc3Rvcikge1xyXG4gICAgICAgICAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihlZmZlY3RzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzID0gW107XHJcbiAgICAgICAgICAgIC8vIGludm9rZSBAcmVzb2x2ZSBldmVudFxyXG4gICAgICAgICAgICBjb25zdCBvblJlc29sdmUgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblJlc29sdmU7XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uUmVzb2x2ZSkpIHtcclxuICAgICAgICAgICAgICAgIG9uUmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmYWxsYmFjayhmYWxsYmFja1ZOb2RlKSB7XHJcbiAgICAgICAgICAgIGlmICghc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdm5vZGUsIGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIsIGlzU1ZHIH0gPSBzdXNwZW5zZTtcclxuICAgICAgICAgICAgLy8gaW52b2tlIEBmYWxsYmFjayBldmVudFxyXG4gICAgICAgICAgICBjb25zdCBvbkZhbGxiYWNrID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25GYWxsYmFjaztcclxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob25GYWxsYmFjaykpIHtcclxuICAgICAgICAgICAgICAgIG9uRmFsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdW50RmFsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXN1c3BlbnNlLmlzSW5GYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG1vdW50IHRoZSBmYWxsYmFjayB0cmVlXHJcbiAgICAgICAgICAgICAgICBwYXRjaChudWxsLCBmYWxsYmFja1ZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxyXG4gICAgICAgICAgICAgICAgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBmYWxsYmFja1ZOb2RlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgZGVsYXlFbnRlciA9IGZhbGxiYWNrVk5vZGUudHJhbnNpdGlvbiAmJiBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24ubW9kZSA9PT0gJ291dC1pbic7XHJcbiAgICAgICAgICAgIGlmIChkZWxheUVudGVyKSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVCcmFuY2gudHJhbnNpdGlvbi5hZnRlckxlYXZlID0gbW91bnRGYWxsYmFjaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB1bm1vdW50IGN1cnJlbnQgYWN0aXZlIGJyYW5jaFxyXG4gICAgICAgICAgICB1bm1vdW50KGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBubyBzdXNwZW5zZSBzbyB1bm1vdW50IGhvb2tzIGZpcmUgbm93XHJcbiAgICAgICAgICAgIHRydWUgLy8gc2hvdWxkUmVtb3ZlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmlzSW5GYWxsYmFjayA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICghZGVsYXlFbnRlcikge1xyXG4gICAgICAgICAgICAgICAgbW91bnRGYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtb3ZlKGNvbnRhaW5lciwgYW5jaG9yLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJlxyXG4gICAgICAgICAgICAgICAgbW92ZShzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCB0eXBlKTtcclxuICAgICAgICAgICAgc3VzcGVuc2UuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbmV4dCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJiBuZXh0KHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZWdpc3RlckRlcChpbnN0YW5jZSwgc2V0dXBSZW5kZXJFZmZlY3QpIHtcclxuICAgICAgICAgICAgaWYgKCFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaHlkcmF0ZWRFbCA9IGluc3RhbmNlLnZub2RlLmVsO1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5kZXBzKys7XHJcbiAgICAgICAgICAgIGluc3RhbmNlXHJcbiAgICAgICAgICAgICAgICAuYXN5bmNEZXAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDAgLyogU0VUVVBfRlVOQ1RJT04gKi8pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oYXN5bmNTZXR1cFJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyByZXRyeSB3aGVuIHRoZSBzZXR1cCgpIHByb21pc2UgcmVzb2x2ZXMuXHJcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGhhdmUgYmVlbiB1bm1vdW50ZWQgYmVmb3JlIHJlc29sdmUuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuaXNVbm1vdW50ZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5pc1VubW91bnRlZCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCAhPT0gaW5zdGFuY2Uuc3VzcGVuc2VJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLmRlcHMtLTtcclxuICAgICAgICAgICAgICAgIC8vIHJldHJ5IGZyb20gdGhpcyBjb21wb25lbnRcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmFzeW5jUmVzb2x2ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyB2bm9kZSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBhc3luY1NldHVwUmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIGlmIChoeWRyYXRlZEVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgbWF5IGhhdmUgYmVlbiByZXBsYWNlZCBpZiBhbiB1cGRhdGUgaGFwcGVuZWQgYmVmb3JlIHRoZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzeW5jIGRlcCBpcyByZXNvbHZlZC5cclxuICAgICAgICAgICAgICAgICAgICB2bm9kZS5lbCA9IGh5ZHJhdGVkRWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9ICFoeWRyYXRlZEVsICYmIGluc3RhbmNlLnN1YlRyZWUuZWw7XHJcbiAgICAgICAgICAgICAgICBzZXR1cFJlbmRlckVmZmVjdChpbnN0YW5jZSwgdm5vZGUsIFxyXG4gICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBoYXZlIGJlZW4gbW92ZWQgYmVmb3JlIHJlc29sdmUuXHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIG5vdCBhIGh5ZHJhdGlvbiwgaW5zdGFuY2Uuc3ViVHJlZSB3aWxsIGJlIHRoZSBjb21tZW50XHJcbiAgICAgICAgICAgICAgICAvLyBwbGFjZWhvbGRlci5cclxuICAgICAgICAgICAgICAgIHBhcmVudE5vZGUoaHlkcmF0ZWRFbCB8fCBpbnN0YW5jZS5zdWJUcmVlLmVsKSwgXHJcbiAgICAgICAgICAgICAgICAvLyBhbmNob3Igd2lsbCBub3QgYmUgdXNlZCBpZiB0aGlzIGlzIGh5ZHJhdGlvbiwgc28gb25seSBuZWVkIHRvXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zaWRlciB0aGUgY29tbWVudCBwbGFjZWhvbGRlciBjYXNlLlxyXG4gICAgICAgICAgICAgICAgaHlkcmF0ZWRFbCA/IG51bGwgOiBuZXh0KGluc3RhbmNlLnN1YlRyZWUpLCBzdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxhY2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmUocGxhY2Vob2xkZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdXBkYXRlSE9DSG9zdEVsKGluc3RhbmNlLCB2bm9kZS5lbCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdXNwZW5zZS5kZXBzID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVubW91bnQocGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHN1c3BlbnNlO1xyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVTdXNwZW5zZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVOb2RlKSB7XHJcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxuICAgIGNvbnN0IHN1c3BlbnNlID0gKHZub2RlLnN1c3BlbnNlID0gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50U3VzcGVuc2UsIHBhcmVudENvbXBvbmVudCwgbm9kZS5wYXJlbnROb2RlLCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwgbnVsbCwgaXNTVkcsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIHRydWUgLyogaHlkcmF0aW5nICovKSk7XHJcbiAgICAvLyB0aGVyZSBhcmUgdHdvIHBvc3NpYmxlIHNjZW5hcmlvcyBmb3Igc2VydmVyLXJlbmRlcmVkIHN1c3BlbnNlOlxyXG4gICAgLy8gLSBzdWNjZXNzOiBzc3IgY29udGVudCBzaG91bGQgYmUgZnVsbHkgcmVzb2x2ZWRcclxuICAgIC8vIC0gZmFpbHVyZTogc3NyIGNvbnRlbnQgc2hvdWxkIGJlIHRoZSBmYWxsYmFjayBicmFuY2guXHJcbiAgICAvLyBob3dldmVyLCBvbiB0aGUgY2xpZW50IHdlIGRvbid0IHJlYWxseSBrbm93IGlmIGl0IGhhcyBmYWlsZWQgb3Igbm90XHJcbiAgICAvLyBhdHRlbXB0IHRvIGh5ZHJhdGUgdGhlIERPTSBhc3N1bWluZyBpdCBoYXMgc3VjY2VlZGVkLCBidXQgd2Ugc3RpbGxcclxuICAgIC8vIG5lZWQgdG8gY29uc3RydWN0IGEgc3VzcGVuc2UgYm91bmRhcnkgZmlyc3RcclxuICAgIGNvbnN0IHJlc3VsdCA9IGh5ZHJhdGVOb2RlKG5vZGUsIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gdm5vZGUuc3NDb250ZW50KSwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgb3B0aW1pemVkKTtcclxuICAgIGlmIChzdXNwZW5zZS5kZXBzID09PSAwKSB7XHJcbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlbih2bm9kZSkge1xyXG4gICAgY29uc3QgeyBzaGFwZUZsYWcsIGNoaWxkcmVuIH0gPSB2bm9kZTtcclxuICAgIGxldCBjb250ZW50O1xyXG4gICAgbGV0IGZhbGxiYWNrO1xyXG4gICAgaWYgKHNoYXBlRmxhZyAmIDMyIC8qIFNMT1RTX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgY29udGVudCA9IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChjaGlsZHJlbi5kZWZhdWx0KTtcclxuICAgICAgICBmYWxsYmFjayA9IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChjaGlsZHJlbi5mYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb250ZW50ID0gbm9ybWFsaXplU3VzcGVuc2VTbG90KGNoaWxkcmVuKTtcclxuICAgICAgICBmYWxsYmFjayA9IG5vcm1hbGl6ZVZOb2RlKG51bGwpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBjb250ZW50LFxyXG4gICAgICAgIGZhbGxiYWNrXHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChzKSB7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihzKSkge1xyXG4gICAgICAgIHMgPSBzKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNBcnJheShzKSkge1xyXG4gICAgICAgIGNvbnN0IHNpbmdsZUNoaWxkID0gZmlsdGVyU2luZ2xlUm9vdChzKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFzaW5nbGVDaGlsZCkge1xyXG4gICAgICAgICAgICB3YXJuKGA8U3VzcGVuc2U+IHNsb3RzIGV4cGVjdCBhIHNpbmdsZSByb290IG5vZGUuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHMgPSBzaW5nbGVDaGlsZDtcclxuICAgIH1cclxuICAgIHJldHVybiBub3JtYWxpemVWTm9kZShzKTtcclxufVxyXG5mdW5jdGlvbiBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZShmbiwgc3VzcGVuc2UpIHtcclxuICAgIGlmIChzdXNwZW5zZSAmJiBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoZm4pKSB7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMucHVzaCguLi5mbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goZm4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHF1ZXVlUG9zdEZsdXNoQ2IoZm4pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgYnJhbmNoKSB7XHJcbiAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggPSBicmFuY2g7XHJcbiAgICBjb25zdCB7IHZub2RlLCBwYXJlbnRDb21wb25lbnQgfSA9IHN1c3BlbnNlO1xyXG4gICAgY29uc3QgZWwgPSAodm5vZGUuZWwgPSBicmFuY2guZWwpO1xyXG4gICAgLy8gaW4gY2FzZSBzdXNwZW5zZSBpcyB0aGUgcm9vdCBub2RlIG9mIGEgY29tcG9uZW50LFxyXG4gICAgLy8gcmVjdXJzaXZlbHkgdXBkYXRlIHRoZSBIT0MgZWxcclxuICAgIGlmIChwYXJlbnRDb21wb25lbnQgJiYgcGFyZW50Q29tcG9uZW50LnN1YlRyZWUgPT09IHZub2RlKSB7XHJcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LnZub2RlLmVsID0gZWw7XHJcbiAgICAgICAgdXBkYXRlSE9DSG9zdEVsKHBhcmVudENvbXBvbmVudCwgZWwpO1xyXG4gICAgfVxyXG59XG5cbmxldCBpc1JlbmRlcmluZ0NvbXBpbGVkU2xvdCA9IDA7XHJcbmNvbnN0IHNldENvbXBpbGVkU2xvdFJlbmRlcmluZyA9IChuKSA9PiAoaXNSZW5kZXJpbmdDb21waWxlZFNsb3QgKz0gbik7XHJcbi8qKlxyXG4gKiBDb21waWxlciBydW50aW1lIGhlbHBlciBmb3IgcmVuZGVyaW5nIGA8c2xvdC8+YFxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcmVuZGVyU2xvdChzbG90cywgbmFtZSwgcHJvcHMgPSB7fSwgXHJcbi8vIHRoaXMgaXMgbm90IGEgdXNlci1mYWNpbmcgZnVuY3Rpb24sIHNvIHRoZSBmYWxsYmFjayBpcyBhbHdheXMgZ2VuZXJhdGVkIGJ5XHJcbi8vIHRoZSBjb21waWxlciBhbmQgZ3VhcmFudGVlZCB0byBiZSBhIGZ1bmN0aW9uIHJldHVybmluZyBhbiBhcnJheVxyXG5mYWxsYmFjaykge1xyXG4gICAgbGV0IHNsb3QgPSBzbG90c1tuYW1lXTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2xvdCAmJiBzbG90Lmxlbmd0aCA+IDEpIHtcclxuICAgICAgICB3YXJuKGBTU1Itb3B0aW1pemVkIHNsb3QgZnVuY3Rpb24gZGV0ZWN0ZWQgaW4gYSBub24tU1NSLW9wdGltaXplZCByZW5kZXIgYCArXHJcbiAgICAgICAgICAgIGBmdW5jdGlvbi4gWW91IG5lZWQgdG8gbWFyayB0aGlzIGNvbXBvbmVudCB3aXRoICRkeW5hbWljLXNsb3RzIGluIHRoZSBgICtcclxuICAgICAgICAgICAgYHBhcmVudCB0ZW1wbGF0ZS5gKTtcclxuICAgICAgICBzbG90ID0gKCkgPT4gW107XHJcbiAgICB9XHJcbiAgICAvLyBhIGNvbXBpbGVkIHNsb3QgZGlzYWJsZXMgYmxvY2sgdHJhY2tpbmcgYnkgZGVmYXVsdCB0byBhdm9pZCBtYW51YWxcclxuICAgIC8vIGludm9jYXRpb24gaW50ZXJmZXJpbmcgd2l0aCB0ZW1wbGF0ZS1iYXNlZCBibG9jayB0cmFja2luZywgYnV0IGluXHJcbiAgICAvLyBgcmVuZGVyU2xvdGAgd2UgY2FuIGJlIHN1cmUgdGhhdCBpdCdzIHRlbXBsYXRlLWJhc2VkIHNvIHdlIGNhbiBmb3JjZVxyXG4gICAgLy8gZW5hYmxlIGl0LlxyXG4gICAgaXNSZW5kZXJpbmdDb21waWxlZFNsb3QrKztcclxuICAgIGNvbnN0IHJlbmRlcmVkID0gKG9wZW5CbG9jaygpLFxyXG4gICAgICAgIGNyZWF0ZUJsb2NrKEZyYWdtZW50LCB7IGtleTogcHJvcHMua2V5IH0sIHNsb3QgPyBzbG90KHByb3BzKSA6IGZhbGxiYWNrID8gZmFsbGJhY2soKSA6IFtdLCBzbG90cy5fID09PSAxIC8qIFNUQUJMRSAqL1xyXG4gICAgICAgICAgICA/IDY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqL1xyXG4gICAgICAgICAgICA6IC0yIC8qIEJBSUwgKi8pKTtcclxuICAgIGlzUmVuZGVyaW5nQ29tcGlsZWRTbG90LS07XHJcbiAgICByZXR1cm4gcmVuZGVyZWQ7XHJcbn1cblxuLyoqXHJcbiAqIFdyYXAgYSBzbG90IGZ1bmN0aW9uIHRvIG1lbW9pemUgY3VycmVudCByZW5kZXJpbmcgaW5zdGFuY2VcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHdpdGhDdHgoZm4sIGN0eCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xyXG4gICAgaWYgKCFjdHgpXHJcbiAgICAgICAgcmV0dXJuIGZuO1xyXG4gICAgY29uc3QgcmVuZGVyRm5XaXRoQ29udGV4dCA9ICguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgLy8gSWYgYSB1c2VyIGNhbGxzIGEgY29tcGlsZWQgc2xvdCBpbnNpZGUgYSB0ZW1wbGF0ZSBleHByZXNzaW9uICgjMTc0NSksIGl0XHJcbiAgICAgICAgLy8gY2FuIG1lc3MgdXAgYmxvY2sgdHJhY2tpbmcsIHNvIGJ5IGRlZmF1bHQgd2UgbmVlZCB0byBwdXNoIGEgbnVsbCBibG9jayB0b1xyXG4gICAgICAgIC8vIGF2b2lkIHRoYXQuIFRoaXMgaXNuJ3QgbmVjZXNzYXJ5IGlmIHJlbmRlcmluZyBhIGNvbXBpbGVkIGA8c2xvdD5gLlxyXG4gICAgICAgIGlmICghaXNSZW5kZXJpbmdDb21waWxlZFNsb3QpIHtcclxuICAgICAgICAgICAgb3BlbkJsb2NrKHRydWUgLyogbnVsbCBibG9jayB0aGF0IGRpc2FibGVzIHRyYWNraW5nICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgb3duZXIgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbiAgICAgICAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGN0eCk7XHJcbiAgICAgICAgY29uc3QgcmVzID0gZm4oLi4uYXJncyk7XHJcbiAgICAgICAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKG93bmVyKTtcclxuICAgICAgICBpZiAoIWlzUmVuZGVyaW5nQ29tcGlsZWRTbG90KSB7XHJcbiAgICAgICAgICAgIGNsb3NlQmxvY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH07XHJcbiAgICByZW5kZXJGbldpdGhDb250ZXh0Ll9jID0gdHJ1ZTtcclxuICAgIHJldHVybiByZW5kZXJGbldpdGhDb250ZXh0O1xyXG59XG5cbi8vIFNGQyBzY29wZWQgc3R5bGUgSUQgbWFuYWdlbWVudC5cclxubGV0IGN1cnJlbnRTY29wZUlkID0gbnVsbDtcclxuY29uc3Qgc2NvcGVJZFN0YWNrID0gW107XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcHVzaFNjb3BlSWQoaWQpIHtcclxuICAgIHNjb3BlSWRTdGFjay5wdXNoKChjdXJyZW50U2NvcGVJZCA9IGlkKSk7XHJcbn1cclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBwb3BTY29wZUlkKCkge1xyXG4gICAgc2NvcGVJZFN0YWNrLnBvcCgpO1xyXG4gICAgY3VycmVudFNjb3BlSWQgPSBzY29wZUlkU3RhY2tbc2NvcGVJZFN0YWNrLmxlbmd0aCAtIDFdIHx8IG51bGw7XHJcbn1cclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiB3aXRoU2NvcGVJZChpZCkge1xyXG4gICAgcmV0dXJuICgoZm4pID0+IHdpdGhDdHgoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHB1c2hTY29wZUlkKGlkKTtcclxuICAgICAgICBjb25zdCByZXMgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIHBvcFNjb3BlSWQoKTtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfSkpO1xyXG59XG5cbmZ1bmN0aW9uIGluaXRQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIGlzU3RhdGVmdWwsIC8vIHJlc3VsdCBvZiBiaXR3aXNlIGZsYWcgY29tcGFyaXNvblxyXG5pc1NTUiA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCBwcm9wcyA9IHt9O1xyXG4gICAgY29uc3QgYXR0cnMgPSB7fTtcclxuICAgIGRlZihhdHRycywgSW50ZXJuYWxPYmplY3RLZXksIDEpO1xyXG4gICAgc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKTtcclxuICAgIC8vIHZhbGlkYXRpb25cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB2YWxpZGF0ZVByb3BzKHByb3BzLCBpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNTdGF0ZWZ1bCkge1xyXG4gICAgICAgIC8vIHN0YXRlZnVsXHJcbiAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBpc1NTUiA/IHByb3BzIDogc2hhbGxvd1JlYWN0aXZlKHByb3BzKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICghaW5zdGFuY2UudHlwZS5wcm9wcykge1xyXG4gICAgICAgICAgICAvLyBmdW5jdGlvbmFsIHcvIG9wdGlvbmFsIHByb3BzLCBwcm9wcyA9PT0gYXR0cnNcclxuICAgICAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBhdHRycztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uYWwgdy8gZGVjbGFyZWQgcHJvcHNcclxuICAgICAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBwcm9wcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbnN0YW5jZS5hdHRycyA9IGF0dHJzO1xyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZVByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcmF3UHJldlByb3BzLCBvcHRpbWl6ZWQpIHtcclxuICAgIGNvbnN0IHsgcHJvcHMsIGF0dHJzLCB2bm9kZTogeyBwYXRjaEZsYWcgfSB9ID0gaW5zdGFuY2U7XHJcbiAgICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XHJcbiAgICBjb25zdCBbb3B0aW9uc10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XHJcbiAgICBpZiAoXHJcbiAgICAvLyBhbHdheXMgZm9yY2UgZnVsbCBkaWZmIGluIGRldlxyXG4gICAgLy8gLSAjMTk0MiBpZiBobXIgaXMgZW5hYmxlZCB3aXRoIHNmYyBjb21wb25lbnRcclxuICAgIC8vIC0gdml0ZSM4NzIgbm9uLXNmYyBjb21wb25lbnQgdXNlZCBieSBzZmMgY29tcG9uZW50XHJcbiAgICAhKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgIChpbnN0YW5jZS50eXBlLl9faG1ySWQgfHxcclxuICAgICAgICAgICAgKGluc3RhbmNlLnBhcmVudCAmJiBpbnN0YW5jZS5wYXJlbnQudHlwZS5fX2htcklkKSkpICYmXHJcbiAgICAgICAgKG9wdGltaXplZCB8fCBwYXRjaEZsYWcgPiAwKSAmJlxyXG4gICAgICAgICEocGF0Y2hGbGFnICYgMTYgLyogRlVMTF9QUk9QUyAqLykpIHtcclxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCAvKiBQUk9QUyAqLykge1xyXG4gICAgICAgICAgICAvLyBDb21waWxlci1nZW5lcmF0ZWQgcHJvcHMgJiBubyBrZXlzIGNoYW5nZSwganVzdCBzZXQgdGhlIHVwZGF0ZWRcclxuICAgICAgICAgICAgLy8gdGhlIHByb3BzLlxyXG4gICAgICAgICAgICBjb25zdCBwcm9wc1RvVXBkYXRlID0gaW5zdGFuY2Uudm5vZGUuZHluYW1pY1Byb3BzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzVG9VcGRhdGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XHJcbiAgICAgICAgICAgICAgICAvLyBQUk9QUyBmbGFnIGd1YXJhbnRlZXMgcmF3UHJvcHMgdG8gYmUgbm9uLW51bGxcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmF3UHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXR0ciAvIHByb3BzIHNlcGFyYXRpb24gd2FzIGRvbmUgb24gaW5pdCBhbmQgd2lsbCBiZSBjb25zaXN0ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhpcyBjb2RlIHBhdGgsIHNvIGp1c3QgY2hlY2sgaWYgYXR0cnMgaGF2ZSBpdC5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzT3duKGF0dHJzLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbWVsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW2NhbWVsaXplZEtleV0gPSByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHJhd0N1cnJlbnRQcm9wcywgY2FtZWxpemVkS2V5LCB2YWx1ZSwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGZ1bGwgcHJvcHMgdXBkYXRlLlxyXG4gICAgICAgIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycyk7XHJcbiAgICAgICAgLy8gaW4gY2FzZSBvZiBkeW5hbWljIHByb3BzLCBjaGVjayBpZiB3ZSBuZWVkIHRvIGRlbGV0ZSBrZXlzIGZyb21cclxuICAgICAgICAvLyB0aGUgcHJvcHMgb2JqZWN0XHJcbiAgICAgICAgbGV0IGtlYmFiS2V5O1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJhd0N1cnJlbnRQcm9wcykge1xyXG4gICAgICAgICAgICBpZiAoIXJhd1Byb3BzIHx8XHJcbiAgICAgICAgICAgICAgICAvLyBmb3IgY2FtZWxDYXNlXHJcbiAgICAgICAgICAgICAgICAoIWhhc093bihyYXdQcm9wcywga2V5KSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0J3MgcG9zc2libGUgdGhlIG9yaWdpbmFsIHByb3BzIHdhcyBwYXNzZWQgaW4gYXMga2ViYWItY2FzZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCBjb252ZXJ0ZWQgdG8gY2FtZWxDYXNlICgjOTU1KVxyXG4gICAgICAgICAgICAgICAgICAgICgoa2ViYWJLZXkgPSBoeXBoZW5hdGUoa2V5KSkgPT09IGtleSB8fCAhaGFzT3duKHJhd1Byb3BzLCBrZWJhYktleSkpKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmF3UHJldlByb3BzICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvciBjYW1lbENhc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHJhd1ByZXZQcm9wc1trZXldICE9PSB1bmRlZmluZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvciBrZWJhYi1jYXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdQcmV2UHJvcHNba2ViYWJLZXldICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW2tleV0gPSByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHJhd1Byb3BzIHx8IEVNUFRZX09CSiwga2V5LCB1bmRlZmluZWQsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpbiB0aGUgY2FzZSBvZiBmdW5jdGlvbmFsIGNvbXBvbmVudCB3L28gcHJvcHMgZGVjbGFyYXRpb24sIHByb3BzIGFuZFxyXG4gICAgICAgIC8vIGF0dHJzIHBvaW50IHRvIHRoZSBzYW1lIG9iamVjdCBzbyBpdCBzaG91bGQgYWxyZWFkeSBoYXZlIGJlZW4gdXBkYXRlZC5cclxuICAgICAgICBpZiAoYXR0cnMgIT09IHJhd0N1cnJlbnRQcm9wcykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyYXdQcm9wcyB8fCAhaGFzT3duKHJhd1Byb3BzLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF0dHJzW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyB0cmlnZ2VyIHVwZGF0ZXMgZm9yICRhdHRycyBpbiBjYXNlIGl0J3MgdXNlZCBpbiBjb21wb25lbnQgc2xvdHNcclxuICAgIHRyaWdnZXIoaW5zdGFuY2UsIFwic2V0XCIgLyogU0VUICovLCAnJGF0dHJzJyk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHJhd1Byb3BzKSB7XHJcbiAgICAgICAgdmFsaWRhdGVQcm9wcyhwcm9wcywgaW5zdGFuY2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycykge1xyXG4gICAgY29uc3QgW29wdGlvbnMsIG5lZWRDYXN0S2V5c10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XHJcbiAgICBpZiAocmF3UHJvcHMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdQcm9wcykge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XHJcbiAgICAgICAgICAgIC8vIGtleSwgcmVmIGFyZSByZXNlcnZlZCBhbmQgbmV2ZXIgcGFzc2VkIGRvd25cclxuICAgICAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHByb3Agb3B0aW9uIG5hbWVzIGFyZSBjYW1lbGl6ZWQgZHVyaW5nIG5vcm1hbGl6YXRpb24sIHNvIHRvIHN1cHBvcnRcclxuICAgICAgICAgICAgLy8ga2ViYWIgLT4gY2FtZWwgY29udmVyc2lvbiBoZXJlIHdlIG5lZWQgdG8gY2FtZWxpemUgdGhlIGtleS5cclxuICAgICAgICAgICAgbGV0IGNhbWVsS2V5O1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBoYXNPd24ob3B0aW9ucywgKGNhbWVsS2V5ID0gY2FtZWxpemUoa2V5KSkpKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wc1tjYW1lbEtleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghaXNFbWl0TGlzdGVuZXIoaW5zdGFuY2UuZW1pdHNPcHRpb25zLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBbnkgbm9uLWRlY2xhcmVkIChlaXRoZXIgYXMgYSBwcm9wIG9yIGFuIGVtaXR0ZWQgZXZlbnQpIHByb3BzIGFyZSBwdXRcclxuICAgICAgICAgICAgICAgIC8vIGludG8gYSBzZXBhcmF0ZSBgYXR0cnNgIG9iamVjdCBmb3Igc3ByZWFkaW5nLiBNYWtlIHN1cmUgdG8gcHJlc2VydmVcclxuICAgICAgICAgICAgICAgIC8vIG9yaWdpbmFsIGtleSBjYXNpbmdcclxuICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChuZWVkQ2FzdEtleXMpIHtcclxuICAgICAgICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWVkQ2FzdEtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gbmVlZENhc3RLZXlzW2ldO1xyXG4gICAgICAgICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCByYXdDdXJyZW50UHJvcHMsIGtleSwgcmF3Q3VycmVudFByb3BzW2tleV0sIGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCBwcm9wcywga2V5LCB2YWx1ZSwgaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IG9wdCA9IG9wdGlvbnNba2V5XTtcclxuICAgIGlmIChvcHQgIT0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IGhhc0RlZmF1bHQgPSBoYXNPd24ob3B0LCAnZGVmYXVsdCcpO1xyXG4gICAgICAgIC8vIGRlZmF1bHQgdmFsdWVzXHJcbiAgICAgICAgaWYgKGhhc0RlZmF1bHQgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBvcHQuZGVmYXVsdDtcclxuICAgICAgICAgICAgaWYgKG9wdC50eXBlICE9PSBGdW5jdGlvbiAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZShwcm9wcyk7XHJcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UobnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBib29sZWFuIGNhc3RpbmdcclxuICAgICAgICBpZiAob3B0WzAgLyogc2hvdWxkQ2FzdCAqL10pIHtcclxuICAgICAgICAgICAgaWYgKCFoYXNPd24ocHJvcHMsIGtleSkgJiYgIWhhc0RlZmF1bHQpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAob3B0WzEgLyogc2hvdWxkQ2FzdFRydWUgKi9dICYmXHJcbiAgICAgICAgICAgICAgICAodmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSBoeXBoZW5hdGUoa2V5KSkpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wc09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XHJcbiAgICBpZiAoIWFwcENvbnRleHQuZGVvcHQgJiYgY29tcC5fX3Byb3BzKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbXAuX19wcm9wcztcclxuICAgIH1cclxuICAgIGNvbnN0IHJhdyA9IGNvbXAucHJvcHM7XHJcbiAgICBjb25zdCBub3JtYWxpemVkID0ge307XHJcbiAgICBjb25zdCBuZWVkQ2FzdEtleXMgPSBbXTtcclxuICAgIC8vIGFwcGx5IG1peGluL2V4dGVuZHMgcHJvcHNcclxuICAgIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XHJcbiAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xyXG4gICAgICAgIGNvbnN0IGV4dGVuZFByb3BzID0gKHJhdykgPT4ge1xyXG4gICAgICAgICAgICBoYXNFeHRlbmRzID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc3QgW3Byb3BzLCBrZXlzXSA9IG5vcm1hbGl6ZVByb3BzT3B0aW9ucyhyYXcsIGFwcENvbnRleHQsIHRydWUpO1xyXG4gICAgICAgICAgICBleHRlbmQobm9ybWFsaXplZCwgcHJvcHMpO1xyXG4gICAgICAgICAgICBpZiAoa2V5cylcclxuICAgICAgICAgICAgICAgIG5lZWRDYXN0S2V5cy5wdXNoKC4uLmtleXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBhcHBDb250ZXh0Lm1peGlucy5mb3JFYWNoKGV4dGVuZFByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbXAuZXh0ZW5kcykge1xyXG4gICAgICAgICAgICBleHRlbmRQcm9wcyhjb21wLmV4dGVuZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29tcC5taXhpbnMpIHtcclxuICAgICAgICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFyYXcgJiYgIWhhc0V4dGVuZHMpIHtcclxuICAgICAgICByZXR1cm4gKGNvbXAuX19wcm9wcyA9IEVNUFRZX0FSUik7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNTdHJpbmcocmF3W2ldKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgcHJvcHMgbXVzdCBiZSBzdHJpbmdzIHdoZW4gdXNpbmcgYXJyYXkgc3ludGF4LmAsIHJhd1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKHJhd1tpXSk7XHJcbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkW25vcm1hbGl6ZWRLZXldID0gRU1QVFlfT0JKO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocmF3KSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNPYmplY3QocmF3KSkge1xyXG4gICAgICAgICAgICB3YXJuKGBpbnZhbGlkIHByb3BzIG9wdGlvbnNgLCByYXcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXcpIHtcclxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XHJcbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHQgPSByYXdba2V5XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSAobm9ybWFsaXplZFtub3JtYWxpemVkS2V5XSA9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheShvcHQpIHx8IGlzRnVuY3Rpb24ob3B0KSA/IHsgdHlwZTogb3B0IH0gOiBvcHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBib29sZWFuSW5kZXggPSBnZXRUeXBlSW5kZXgoQm9vbGVhbiwgcHJvcC50eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdJbmRleCA9IGdldFR5cGVJbmRleChTdHJpbmcsIHByb3AudHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcFswIC8qIHNob3VsZENhc3QgKi9dID0gYm9vbGVhbkluZGV4ID4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcFsxIC8qIHNob3VsZENhc3RUcnVlICovXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ0luZGV4IDwgMCB8fCBib29sZWFuSW5kZXggPCBzdHJpbmdJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcHJvcCBuZWVkcyBib29sZWFuIGNhc3Rpbmcgb3IgZGVmYXVsdCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib29sZWFuSW5kZXggPiAtMSB8fCBoYXNPd24ocHJvcCwgJ2RlZmF1bHQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZWVkQ2FzdEtleXMucHVzaChub3JtYWxpemVkS2V5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGNvbXAuX19wcm9wcyA9IFtub3JtYWxpemVkLCBuZWVkQ2FzdEtleXNdKTtcclxufVxyXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BOYW1lKGtleSkge1xyXG4gICAgaWYgKGtleVswXSAhPT0gJyQnKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBJbnZhbGlkIHByb3AgbmFtZTogXCIke2tleX1cIiBpcyBhIHJlc2VydmVkIHByb3BlcnR5LmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbi8vIHVzZSBmdW5jdGlvbiBzdHJpbmcgbmFtZSB0byBjaGVjayB0eXBlIGNvbnN0cnVjdG9yc1xyXG4vLyBzbyB0aGF0IGl0IHdvcmtzIGFjcm9zcyB2bXMgLyBpZnJhbWVzLlxyXG5mdW5jdGlvbiBnZXRUeXBlKGN0b3IpIHtcclxuICAgIGNvbnN0IG1hdGNoID0gY3RvciAmJiBjdG9yLnRvU3RyaW5nKCkubWF0Y2goL15cXHMqZnVuY3Rpb24gKFxcdyspLyk7XHJcbiAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6ICcnO1xyXG59XHJcbmZ1bmN0aW9uIGlzU2FtZVR5cGUoYSwgYikge1xyXG4gICAgcmV0dXJuIGdldFR5cGUoYSkgPT09IGdldFR5cGUoYik7XHJcbn1cclxuZnVuY3Rpb24gZ2V0VHlwZUluZGV4KHR5cGUsIGV4cGVjdGVkVHlwZXMpIHtcclxuICAgIGlmIChpc0FycmF5KGV4cGVjdGVkVHlwZXMpKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGV4cGVjdGVkVHlwZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGlzU2FtZVR5cGUoZXhwZWN0ZWRUeXBlc1tpXSwgdHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihleHBlY3RlZFR5cGVzKSkge1xyXG4gICAgICAgIHJldHVybiBpc1NhbWVUeXBlKGV4cGVjdGVkVHlwZXMsIHR5cGUpID8gMCA6IC0xO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0xO1xyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wcyhwcm9wcywgaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHJhd1ZhbHVlcyA9IHRvUmF3KHByb3BzKTtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF07XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zKSB7XHJcbiAgICAgICAgbGV0IG9wdCA9IG9wdGlvbnNba2V5XTtcclxuICAgICAgICBpZiAob3B0ID09IG51bGwpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIHZhbGlkYXRlUHJvcChrZXksIHJhd1ZhbHVlc1trZXldLCBvcHQsICFoYXNPd24ocmF3VmFsdWVzLCBrZXkpKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcChuYW1lLCB2YWx1ZSwgcHJvcCwgaXNBYnNlbnQpIHtcclxuICAgIGNvbnN0IHsgdHlwZSwgcmVxdWlyZWQsIHZhbGlkYXRvciB9ID0gcHJvcDtcclxuICAgIC8vIHJlcXVpcmVkIVxyXG4gICAgaWYgKHJlcXVpcmVkICYmIGlzQWJzZW50KSB7XHJcbiAgICAgICAgd2FybignTWlzc2luZyByZXF1aXJlZCBwcm9wOiBcIicgKyBuYW1lICsgJ1wiJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gbWlzc2luZyBidXQgb3B0aW9uYWxcclxuICAgIGlmICh2YWx1ZSA9PSBudWxsICYmICFwcm9wLnJlcXVpcmVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gdHlwZSBjaGVja1xyXG4gICAgaWYgKHR5cGUgIT0gbnVsbCAmJiB0eXBlICE9PSB0cnVlKSB7XHJcbiAgICAgICAgbGV0IGlzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCB0eXBlcyA9IGlzQXJyYXkodHlwZSkgPyB0eXBlIDogW3R5cGVdO1xyXG4gICAgICAgIGNvbnN0IGV4cGVjdGVkVHlwZXMgPSBbXTtcclxuICAgICAgICAvLyB2YWx1ZSBpcyB2YWxpZCBhcyBsb25nIGFzIG9uZSBvZiB0aGUgc3BlY2lmaWVkIHR5cGVzIG1hdGNoXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGggJiYgIWlzVmFsaWQ7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB7IHZhbGlkLCBleHBlY3RlZFR5cGUgfSA9IGFzc2VydFR5cGUodmFsdWUsIHR5cGVzW2ldKTtcclxuICAgICAgICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGV4cGVjdGVkVHlwZSB8fCAnJyk7XHJcbiAgICAgICAgICAgIGlzVmFsaWQgPSB2YWxpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBjdXN0b20gdmFsaWRhdG9yXHJcbiAgICBpZiAodmFsaWRhdG9yICYmICF2YWxpZGF0b3IodmFsdWUpKSB7XHJcbiAgICAgICAgd2FybignSW52YWxpZCBwcm9wOiBjdXN0b20gdmFsaWRhdG9yIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIicgKyBuYW1lICsgJ1wiLicpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGlzU2ltcGxlVHlwZSA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnU3RyaW5nLE51bWJlcixCb29sZWFuLEZ1bmN0aW9uLFN5bWJvbCcpO1xyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIGFzc2VydFR5cGUodmFsdWUsIHR5cGUpIHtcclxuICAgIGxldCB2YWxpZDtcclxuICAgIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGdldFR5cGUodHlwZSk7XHJcbiAgICBpZiAoaXNTaW1wbGVUeXBlKGV4cGVjdGVkVHlwZSkpIHtcclxuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIHZhbHVlO1xyXG4gICAgICAgIHZhbGlkID0gdCA9PT0gZXhwZWN0ZWRUeXBlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgLy8gZm9yIHByaW1pdGl2ZSB3cmFwcGVyIG9iamVjdHNcclxuICAgICAgICBpZiAoIXZhbGlkICYmIHQgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ09iamVjdCcpIHtcclxuICAgICAgICB2YWxpZCA9IGlzT2JqZWN0KHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ0FycmF5Jykge1xyXG4gICAgICAgIHZhbGlkID0gaXNBcnJheSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdmFsaWQsXHJcbiAgICAgICAgZXhwZWN0ZWRUeXBlXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSB7XHJcbiAgICBsZXQgbWVzc2FnZSA9IGBJbnZhbGlkIHByb3A6IHR5cGUgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJHtuYW1lfVwiLmAgK1xyXG4gICAgICAgIGAgRXhwZWN0ZWQgJHtleHBlY3RlZFR5cGVzLm1hcChjYXBpdGFsaXplKS5qb2luKCcsICcpfWA7XHJcbiAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBleHBlY3RlZFR5cGVzWzBdO1xyXG4gICAgY29uc3QgcmVjZWl2ZWRUeXBlID0gdG9SYXdUeXBlKHZhbHVlKTtcclxuICAgIGNvbnN0IGV4cGVjdGVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCBleHBlY3RlZFR5cGUpO1xyXG4gICAgY29uc3QgcmVjZWl2ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIHJlY2VpdmVkVHlwZSk7XHJcbiAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIHNwZWNpZnkgZXhwZWN0ZWQgdmFsdWVcclxuICAgIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMSAmJlxyXG4gICAgICAgIGlzRXhwbGljYWJsZShleHBlY3RlZFR5cGUpICYmXHJcbiAgICAgICAgIWlzQm9vbGVhbihleHBlY3RlZFR5cGUsIHJlY2VpdmVkVHlwZSkpIHtcclxuICAgICAgICBtZXNzYWdlICs9IGAgd2l0aCB2YWx1ZSAke2V4cGVjdGVkVmFsdWV9YDtcclxuICAgIH1cclxuICAgIG1lc3NhZ2UgKz0gYCwgZ290ICR7cmVjZWl2ZWRUeXBlfSBgO1xyXG4gICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBzcGVjaWZ5IHJlY2VpdmVkIHZhbHVlXHJcbiAgICBpZiAoaXNFeHBsaWNhYmxlKHJlY2VpdmVkVHlwZSkpIHtcclxuICAgICAgICBtZXNzYWdlICs9IGB3aXRoIHZhbHVlICR7cmVjZWl2ZWRWYWx1ZX0uYDtcclxuICAgIH1cclxuICAgIHJldHVybiBtZXNzYWdlO1xyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gc3R5bGVWYWx1ZSh2YWx1ZSwgdHlwZSkge1xyXG4gICAgaWYgKHR5cGUgPT09ICdTdHJpbmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIGBcIiR7dmFsdWV9XCJgO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ051bWJlcicpIHtcclxuICAgICAgICByZXR1cm4gYCR7TnVtYmVyKHZhbHVlKX1gO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGAke3ZhbHVlfWA7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0V4cGxpY2FibGUodHlwZSkge1xyXG4gICAgY29uc3QgZXhwbGljaXRUeXBlcyA9IFsnc3RyaW5nJywgJ251bWJlcicsICdib29sZWFuJ107XHJcbiAgICByZXR1cm4gZXhwbGljaXRUeXBlcy5zb21lKGVsZW0gPT4gdHlwZS50b0xvd2VyQ2FzZSgpID09PSBlbGVtKTtcclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIGlzQm9vbGVhbiguLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gYXJncy5zb21lKGVsZW0gPT4gZWxlbS50b0xvd2VyQ2FzZSgpID09PSAnYm9vbGVhbicpO1xyXG59XG5cbmZ1bmN0aW9uIGluamVjdEhvb2sodHlwZSwgaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlLCBwcmVwZW5kID0gZmFsc2UpIHtcclxuICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICBjb25zdCBob29rcyA9IHRhcmdldFt0eXBlXSB8fCAodGFyZ2V0W3R5cGVdID0gW10pO1xyXG4gICAgICAgIC8vIGNhY2hlIHRoZSBlcnJvciBoYW5kbGluZyB3cmFwcGVyIGZvciBpbmplY3RlZCBob29rcyBzbyB0aGUgc2FtZSBob29rXHJcbiAgICAgICAgLy8gY2FuIGJlIHByb3Blcmx5IGRlZHVwZWQgYnkgdGhlIHNjaGVkdWxlci4gXCJfX3dlaFwiIHN0YW5kcyBmb3IgXCJ3aXRoIGVycm9yXHJcbiAgICAgICAgLy8gaGFuZGxpbmdcIi5cclxuICAgICAgICBjb25zdCB3cmFwcGVkSG9vayA9IGhvb2suX193ZWggfHxcclxuICAgICAgICAgICAgKGhvb2suX193ZWggPSAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5pc1VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGRpc2FibGUgdHJhY2tpbmcgaW5zaWRlIGFsbCBsaWZlY3ljbGUgaG9va3NcclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZXkgY2FuIHBvdGVudGlhbGx5IGJlIGNhbGxlZCBpbnNpZGUgZWZmZWN0cy5cclxuICAgICAgICAgICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgICAgIC8vIFNldCBjdXJyZW50SW5zdGFuY2UgZHVyaW5nIGhvb2sgaW52b2NhdGlvbi5cclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgYXNzdW1lcyB0aGUgaG9vayBkb2VzIG5vdCBzeW5jaHJvbm91c2x5IHRyaWdnZXIgb3RoZXIgaG9va3MsIHdoaWNoXHJcbiAgICAgICAgICAgICAgICAvLyBjYW4gb25seSBiZSBmYWxzZSB3aGVuIHRoZSB1c2VyIGRvZXMgc29tZXRoaW5nIHJlYWxseSBmdW5reS5cclxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZSh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgdGFyZ2V0LCB0eXBlLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShudWxsKTtcclxuICAgICAgICAgICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChwcmVwZW5kKSB7XHJcbiAgICAgICAgICAgIGhvb2tzLnVuc2hpZnQod3JhcHBlZEhvb2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaG9va3MucHVzaCh3cmFwcGVkSG9vayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB3cmFwcGVkSG9vaztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IGFwaU5hbWUgPSB0b0hhbmRsZXJLZXkoRXJyb3JUeXBlU3RyaW5nc1t0eXBlXS5yZXBsYWNlKC8gaG9vayQvLCAnJykpO1xyXG4gICAgICAgIHdhcm4oYCR7YXBpTmFtZX0gaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZSB0byBiZSBgICtcclxuICAgICAgICAgICAgYGFzc29jaWF0ZWQgd2l0aC4gYCArXHJcbiAgICAgICAgICAgIGBMaWZlY3ljbGUgaW5qZWN0aW9uIEFQSXMgY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgZXhlY3V0aW9uIG9mIHNldHVwKCkuYCArXHJcbiAgICAgICAgICAgICggYCBJZiB5b3UgYXJlIHVzaW5nIGFzeW5jIHNldHVwKCksIG1ha2Ugc3VyZSB0byByZWdpc3RlciBsaWZlY3ljbGUgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYGhvb2tzIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQgc3RhdGVtZW50LmBcclxuICAgICAgICAgICAgICAgICkpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGNyZWF0ZUhvb2sgPSAobGlmZWN5Y2xlKSA9PiAoaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSA9PiBcclxuLy8gcG9zdC1jcmVhdGUgbGlmZWN5Y2xlIHJlZ2lzdHJhdGlvbnMgYXJlIG5vb3BzIGR1cmluZyBTU1JcclxuIWlzSW5TU1JDb21wb25lbnRTZXR1cCAmJiBpbmplY3RIb29rKGxpZmVjeWNsZSwgaG9vaywgdGFyZ2V0KTtcclxuY29uc3Qgb25CZWZvcmVNb3VudCA9IGNyZWF0ZUhvb2soXCJibVwiIC8qIEJFRk9SRV9NT1VOVCAqLyk7XHJcbmNvbnN0IG9uTW91bnRlZCA9IGNyZWF0ZUhvb2soXCJtXCIgLyogTU9VTlRFRCAqLyk7XHJcbmNvbnN0IG9uQmVmb3JlVXBkYXRlID0gY3JlYXRlSG9vayhcImJ1XCIgLyogQkVGT1JFX1VQREFURSAqLyk7XHJcbmNvbnN0IG9uVXBkYXRlZCA9IGNyZWF0ZUhvb2soXCJ1XCIgLyogVVBEQVRFRCAqLyk7XHJcbmNvbnN0IG9uQmVmb3JlVW5tb3VudCA9IGNyZWF0ZUhvb2soXCJidW1cIiAvKiBCRUZPUkVfVU5NT1VOVCAqLyk7XHJcbmNvbnN0IG9uVW5tb3VudGVkID0gY3JlYXRlSG9vayhcInVtXCIgLyogVU5NT1VOVEVEICovKTtcclxuY29uc3Qgb25SZW5kZXJUcmlnZ2VyZWQgPSBjcmVhdGVIb29rKFwicnRnXCIgLyogUkVOREVSX1RSSUdHRVJFRCAqLyk7XHJcbmNvbnN0IG9uUmVuZGVyVHJhY2tlZCA9IGNyZWF0ZUhvb2soXCJydGNcIiAvKiBSRU5ERVJfVFJBQ0tFRCAqLyk7XHJcbmNvbnN0IG9uRXJyb3JDYXB0dXJlZCA9IChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpID0+IHtcclxuICAgIGluamVjdEhvb2soXCJlY1wiIC8qIEVSUk9SX0NBUFRVUkVEICovLCBob29rLCB0YXJnZXQpO1xyXG59O1xuXG4vLyBTaW1wbGUgZWZmZWN0LlxyXG5mdW5jdGlvbiB3YXRjaEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBkb1dhdGNoKGVmZmVjdCwgbnVsbCwgb3B0aW9ucyk7XHJcbn1cclxuLy8gaW5pdGlhbCB2YWx1ZSBmb3Igd2F0Y2hlcnMgdG8gdHJpZ2dlciBvbiB1bmRlZmluZWQgaW5pdGlhbCB2YWx1ZXNcclxuY29uc3QgSU5JVElBTF9XQVRDSEVSX1ZBTFVFID0ge307XHJcbi8vIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzRnVuY3Rpb24oY2IpKSB7XHJcbiAgICAgICAgd2FybihgXFxgd2F0Y2goZm4sIG9wdGlvbnM/KVxcYCBzaWduYXR1cmUgaGFzIGJlZW4gbW92ZWQgdG8gYSBzZXBhcmF0ZSBBUEkuIGAgK1xyXG4gICAgICAgICAgICBgVXNlIFxcYHdhdGNoRWZmZWN0KGZuLCBvcHRpb25zPylcXGAgaW5zdGVhZC4gXFxgd2F0Y2hcXGAgbm93IG9ubHkgYCArXHJcbiAgICAgICAgICAgIGBzdXBwb3J0cyBcXGB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zPykgc2lnbmF0dXJlLmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvV2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucyk7XHJcbn1cclxuZnVuY3Rpb24gZG9XYXRjaChzb3VyY2UsIGNiLCB7IGltbWVkaWF0ZSwgZGVlcCwgZmx1c2gsIG9uVHJhY2ssIG9uVHJpZ2dlciB9ID0gRU1QVFlfT0JKLCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZSkge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhY2IpIHtcclxuICAgICAgICBpZiAoaW1tZWRpYXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgd2Fybihgd2F0Y2goKSBcImltbWVkaWF0ZVwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSBgICtcclxuICAgICAgICAgICAgICAgIGB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGVlcCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYHdhdGNoKCkgXCJkZWVwXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIGAgK1xyXG4gICAgICAgICAgICAgICAgYHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3Qgd2FybkludmFsaWRTb3VyY2UgPSAocykgPT4ge1xyXG4gICAgICAgIHdhcm4oYEludmFsaWQgd2F0Y2ggc291cmNlOiBgLCBzLCBgQSB3YXRjaCBzb3VyY2UgY2FuIG9ubHkgYmUgYSBnZXR0ZXIvZWZmZWN0IGZ1bmN0aW9uLCBhIHJlZiwgYCArXHJcbiAgICAgICAgICAgIGBhIHJlYWN0aXZlIG9iamVjdCwgb3IgYW4gYXJyYXkgb2YgdGhlc2UgdHlwZXMuYCk7XHJcbiAgICB9O1xyXG4gICAgbGV0IGdldHRlcjtcclxuICAgIGxldCBmb3JjZVRyaWdnZXIgPSBmYWxzZTtcclxuICAgIGlmIChpc1JlZihzb3VyY2UpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLnZhbHVlO1xyXG4gICAgICAgIGZvcmNlVHJpZ2dlciA9ICEhc291cmNlLl9zaGFsbG93O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNSZWFjdGl2ZShzb3VyY2UpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gc291cmNlO1xyXG4gICAgICAgIGRlZXAgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheShzb3VyY2UpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLm1hcChzID0+IHtcclxuICAgICAgICAgICAgaWYgKGlzUmVmKHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcy52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWN0aXZlKHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhdmVyc2Uocyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbihzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzLCBpbnN0YW5jZSwgMiAvKiBXQVRDSF9HRVRURVIgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm5JbnZhbGlkU291cmNlKHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcclxuICAgICAgICBpZiAoY2IpIHtcclxuICAgICAgICAgICAgLy8gZ2V0dGVyIHdpdGggY2JcclxuICAgICAgICAgICAgZ2V0dGVyID0gKCkgPT4gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHNvdXJjZSwgaW5zdGFuY2UsIDIgLyogV0FUQ0hfR0VUVEVSICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG5vIGNiIC0+IHNpbXBsZSBlZmZlY3RcclxuICAgICAgICAgICAgZ2V0dGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLmlzVW5tb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNsZWFudXApIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHNvdXJjZSwgaW5zdGFuY2UsIDMgLyogV0FUQ0hfQ0FMTEJBQ0sgKi8sIFtvbkludmFsaWRhdGVdKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBnZXR0ZXIgPSBOT09QO1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzb3VyY2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKGNiICYmIGRlZXApIHtcclxuICAgICAgICBjb25zdCBiYXNlR2V0dGVyID0gZ2V0dGVyO1xyXG4gICAgICAgIGdldHRlciA9ICgpID0+IHRyYXZlcnNlKGJhc2VHZXR0ZXIoKSk7XHJcbiAgICB9XHJcbiAgICBsZXQgY2xlYW51cDtcclxuICAgIGNvbnN0IG9uSW52YWxpZGF0ZSA9IChmbikgPT4ge1xyXG4gICAgICAgIGNsZWFudXAgPSBydW5uZXIub3B0aW9ucy5vblN0b3AgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIDQgLyogV0FUQ0hfQ0xFQU5VUCAqLyk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBsZXQgb2xkVmFsdWUgPSBpc0FycmF5KHNvdXJjZSkgPyBbXSA6IElOSVRJQUxfV0FUQ0hFUl9WQUxVRTtcclxuICAgIGNvbnN0IGpvYiA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIXJ1bm5lci5hY3RpdmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2IpIHtcclxuICAgICAgICAgICAgLy8gd2F0Y2goc291cmNlLCBjYilcclxuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBydW5uZXIoKTtcclxuICAgICAgICAgICAgaWYgKGRlZXAgfHwgZm9yY2VUcmlnZ2VyIHx8IGhhc0NoYW5nZWQobmV3VmFsdWUsIG9sZFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY2xlYW51cCBiZWZvcmUgcnVubmluZyBjYiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgaWYgKGNsZWFudXApIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhjYiwgaW5zdGFuY2UsIDMgLyogV0FUQ0hfQ0FMTEJBQ0sgKi8sIFtcclxuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIHVuZGVmaW5lZCBhcyB0aGUgb2xkIHZhbHVlIHdoZW4gaXQncyBjaGFuZ2VkIGZvciB0aGUgZmlyc3QgdGltZVxyXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUUgPyB1bmRlZmluZWQgOiBvbGRWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBvbkludmFsaWRhdGVcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gd2F0Y2hFZmZlY3RcclxuICAgICAgICAgICAgcnVubmVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIGltcG9ydGFudDogbWFyayB0aGUgam9iIGFzIGEgd2F0Y2hlciBjYWxsYmFjayBzbyB0aGF0IHNjaGVkdWxlciBrbm93c1xyXG4gICAgLy8gaXQgaXMgYWxsb3dlZCB0byBzZWxmLXRyaWdnZXIgKCMxNzI3KVxyXG4gICAgam9iLmFsbG93UmVjdXJzZSA9ICEhY2I7XHJcbiAgICBsZXQgc2NoZWR1bGVyO1xyXG4gICAgaWYgKGZsdXNoID09PSAnc3luYycpIHtcclxuICAgICAgICBzY2hlZHVsZXIgPSBqb2I7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbHVzaCA9PT0gJ3Bvc3QnKSB7XHJcbiAgICAgICAgc2NoZWR1bGVyID0gKCkgPT4gcXVldWVQb3N0UmVuZGVyRWZmZWN0KGpvYiwgaW5zdGFuY2UgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gZGVmYXVsdDogJ3ByZSdcclxuICAgICAgICBzY2hlZHVsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UgfHwgaW5zdGFuY2UuaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZVByZUZsdXNoQ2Ioam9iKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHdpdGggJ3ByZScgb3B0aW9uLCB0aGUgZmlyc3QgY2FsbCBtdXN0IGhhcHBlbiBiZWZvcmVcclxuICAgICAgICAgICAgICAgIC8vIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZCBzbyBpdCBpcyBjYWxsZWQgc3luY2hyb25vdXNseS5cclxuICAgICAgICAgICAgICAgIGpvYigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGNvbnN0IHJ1bm5lciA9IGVmZmVjdChnZXR0ZXIsIHtcclxuICAgICAgICBsYXp5OiB0cnVlLFxyXG4gICAgICAgIG9uVHJhY2ssXHJcbiAgICAgICAgb25UcmlnZ2VyLFxyXG4gICAgICAgIHNjaGVkdWxlclxyXG4gICAgfSk7XHJcbiAgICByZWNvcmRJbnN0YW5jZUJvdW5kRWZmZWN0KHJ1bm5lcik7XHJcbiAgICAvLyBpbml0aWFsIHJ1blxyXG4gICAgaWYgKGNiKSB7XHJcbiAgICAgICAgaWYgKGltbWVkaWF0ZSkge1xyXG4gICAgICAgICAgICBqb2IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG9sZFZhbHVlID0gcnVubmVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmx1c2ggPT09ICdwb3N0Jykge1xyXG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChydW5uZXIsIGluc3RhbmNlICYmIGluc3RhbmNlLnN1c3BlbnNlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJ1bm5lcigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICBzdG9wKHJ1bm5lcik7XHJcbiAgICAgICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZShpbnN0YW5jZS5lZmZlY3RzLCBydW5uZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuLy8gdGhpcy4kd2F0Y2hcclxuZnVuY3Rpb24gaW5zdGFuY2VXYXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCBwdWJsaWNUaGlzID0gdGhpcy5wcm94eTtcclxuICAgIGNvbnN0IGdldHRlciA9IGlzU3RyaW5nKHNvdXJjZSlcclxuICAgICAgICA/ICgpID0+IHB1YmxpY1RoaXNbc291cmNlXVxyXG4gICAgICAgIDogc291cmNlLmJpbmQocHVibGljVGhpcyk7XHJcbiAgICByZXR1cm4gZG9XYXRjaChnZXR0ZXIsIGNiLmJpbmQocHVibGljVGhpcyksIG9wdGlvbnMsIHRoaXMpO1xyXG59XHJcbmZ1bmN0aW9uIHRyYXZlcnNlKHZhbHVlLCBzZWVuID0gbmV3IFNldCgpKSB7XHJcbiAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBzZWVuLmhhcyh2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBzZWVuLmFkZCh2YWx1ZSk7XHJcbiAgICBpZiAoaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgdHJhdmVyc2UodmFsdWUudmFsdWUsIHNlZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRyYXZlcnNlKHZhbHVlW2ldLCBzZWVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1NldCh2YWx1ZSkgfHwgaXNNYXAodmFsdWUpKSB7XHJcbiAgICAgICAgdmFsdWUuZm9yRWFjaCgodikgPT4ge1xyXG4gICAgICAgICAgICB0cmF2ZXJzZSh2LCBzZWVuKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRyYXZlcnNlKHZhbHVlW2tleV0sIHNlZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxuXG5mdW5jdGlvbiB1c2VUcmFuc2l0aW9uU3RhdGUoKSB7XHJcbiAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICBpc01vdW50ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGlzTGVhdmluZzogZmFsc2UsXHJcbiAgICAgICAgaXNVbm1vdW50aW5nOiBmYWxzZSxcclxuICAgICAgICBsZWF2aW5nVk5vZGVzOiBuZXcgTWFwKClcclxuICAgIH07XHJcbiAgICBvbk1vdW50ZWQoKCkgPT4ge1xyXG4gICAgICAgIHN0YXRlLmlzTW91bnRlZCA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XHJcbiAgICAgICAgc3RhdGUuaXNVbm1vdW50aW5nID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHN0YXRlO1xyXG59XHJcbmNvbnN0IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yID0gW0Z1bmN0aW9uLCBBcnJheV07XHJcbmNvbnN0IEJhc2VUcmFuc2l0aW9uSW1wbCA9IHtcclxuICAgIG5hbWU6IGBCYXNlVHJhbnNpdGlvbmAsXHJcbiAgICBwcm9wczoge1xyXG4gICAgICAgIG1vZGU6IFN0cmluZyxcclxuICAgICAgICBhcHBlYXI6IEJvb2xlYW4sXHJcbiAgICAgICAgcGVyc2lzdGVkOiBCb29sZWFuLFxyXG4gICAgICAgIC8vIGVudGVyXHJcbiAgICAgICAgb25CZWZvcmVFbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25FbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25BZnRlckVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkVudGVyQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICAvLyBsZWF2ZVxyXG4gICAgICAgIG9uQmVmb3JlTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uQWZ0ZXJMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25MZWF2ZUNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgLy8gYXBwZWFyXHJcbiAgICAgICAgb25CZWZvcmVBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkFmdGVyQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkFwcGVhckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3JcclxuICAgIH0sXHJcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHVzZVRyYW5zaXRpb25TdGF0ZSgpO1xyXG4gICAgICAgIGxldCBwcmV2VHJhbnNpdGlvbktleTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgJiYgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKHNsb3RzLmRlZmF1bHQoKSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmICghY2hpbGRyZW4gfHwgIWNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHdhcm4gbXVsdGlwbGUgZWxlbWVudHNcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGlsZHJlbi5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKCc8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50IG9yIGNvbXBvbmVudC4gVXNlICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gbmVlZCB0byB0cmFjayByZWFjdGl2aXR5IGZvciB0aGVzZSBwcm9wcyBzbyB1c2UgdGhlIHJhd1xyXG4gICAgICAgICAgICAvLyBwcm9wcyBmb3IgYSBiaXQgYmV0dGVyIHBlcmZcclxuICAgICAgICAgICAgY29uc3QgcmF3UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbW9kZSB9ID0gcmF3UHJvcHM7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIG1vZGVcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBtb2RlICYmICFbJ2luLW91dCcsICdvdXQtaW4nLCAnZGVmYXVsdCddLmluY2x1ZGVzKG1vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBpbnZhbGlkIDx0cmFuc2l0aW9uPiBtb2RlOiAke21vZGV9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYXQgdGhpcyBwb2ludCBjaGlsZHJlbiBoYXMgYSBndWFyYW50ZWVkIGxlbmd0aCBvZiAxLlxyXG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICBpZiAoc3RhdGUuaXNMZWF2aW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaW4gdGhlIGNhc2Ugb2YgPHRyYW5zaXRpb24+PGtlZXAtYWxpdmUvPjwvdHJhbnNpdGlvbj4sIHdlIG5lZWQgdG9cclxuICAgICAgICAgICAgLy8gY29tcGFyZSB0aGUgdHlwZSBvZiB0aGUga2VwdC1hbGl2ZSBjaGlsZHJlbi5cclxuICAgICAgICAgICAgY29uc3QgaW5uZXJDaGlsZCA9IGdldEtlZXBBbGl2ZUNoaWxkKGNoaWxkKTtcclxuICAgICAgICAgICAgaWYgKCFpbm5lckNoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZW50ZXJIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3MoaW5uZXJDaGlsZCwgcmF3UHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhpbm5lckNoaWxkLCBlbnRlckhvb2tzKTtcclxuICAgICAgICAgICAgY29uc3Qgb2xkQ2hpbGQgPSBpbnN0YW5jZS5zdWJUcmVlO1xyXG4gICAgICAgICAgICBjb25zdCBvbGRJbm5lckNoaWxkID0gb2xkQ2hpbGQgJiYgZ2V0S2VlcEFsaXZlQ2hpbGQob2xkQ2hpbGQpO1xyXG4gICAgICAgICAgICBsZXQgdHJhbnNpdGlvbktleUNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgeyBnZXRUcmFuc2l0aW9uS2V5IH0gPSBpbm5lckNoaWxkLnR5cGU7XHJcbiAgICAgICAgICAgIGlmIChnZXRUcmFuc2l0aW9uS2V5KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBnZXRUcmFuc2l0aW9uS2V5KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldlRyYW5zaXRpb25LZXkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZUcmFuc2l0aW9uS2V5ID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5ICE9PSBwcmV2VHJhbnNpdGlvbktleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZUcmFuc2l0aW9uS2V5ID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25LZXlDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBoYW5kbGUgbW9kZVxyXG4gICAgICAgICAgICBpZiAob2xkSW5uZXJDaGlsZCAmJlxyXG4gICAgICAgICAgICAgICAgb2xkSW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50ICYmXHJcbiAgICAgICAgICAgICAgICAoIWlzU2FtZVZOb2RlVHlwZShpbm5lckNoaWxkLCBvbGRJbm5lckNoaWxkKSB8fCB0cmFuc2l0aW9uS2V5Q2hhbmdlZCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3Mob2xkSW5uZXJDaGlsZCwgcmF3UHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgb2xkIHRyZWUncyBob29rcyBpbiBjYXNlIG9mIGR5bmFtaWMgdHJhbnNpdGlvblxyXG4gICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKG9sZElubmVyQ2hpbGQsIGxlYXZpbmdIb29rcyk7XHJcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2hpbmcgYmV0d2VlbiBkaWZmZXJlbnQgdmlld3NcclxuICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAnb3V0LWluJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHBsYWNlaG9sZGVyIG5vZGUgYW5kIHF1ZXVlIHVwZGF0ZSB3aGVuIGxlYXZlIGZpbmlzaGVzXHJcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ0hvb2tzLmFmdGVyTGVhdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgPT09ICdpbi1vdXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ0hvb2tzLmRlbGF5TGVhdmUgPSAoZWwsIGVhcmx5UmVtb3ZlLCBkZWxheWVkTGVhdmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgb2xkSW5uZXJDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZVtTdHJpbmcob2xkSW5uZXJDaGlsZC5rZXkpXSA9IG9sZElubmVyQ2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVhcmx5IHJlbW92YWwgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwuX2xlYXZlQ2IgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXJseVJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuX2xlYXZlQ2IgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZW50ZXJIb29rcy5kZWxheWVkTGVhdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGVySG9va3MuZGVsYXllZExlYXZlID0gZGVsYXllZExlYXZlO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn07XHJcbi8vIGV4cG9ydCB0aGUgcHVibGljIHR5cGUgZm9yIGgvdHN4IGluZmVyZW5jZVxyXG4vLyBhbHNvIHRvIGF2b2lkIGlubGluZSBpbXBvcnQoKSBpbiBnZW5lcmF0ZWQgZC50cyBmaWxlc1xyXG5jb25zdCBCYXNlVHJhbnNpdGlvbiA9IEJhc2VUcmFuc2l0aW9uSW1wbDtcclxuZnVuY3Rpb24gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgdm5vZGUpIHtcclxuICAgIGNvbnN0IHsgbGVhdmluZ1ZOb2RlcyB9ID0gc3RhdGU7XHJcbiAgICBsZXQgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gbGVhdmluZ1ZOb2Rlcy5nZXQodm5vZGUudHlwZSk7XHJcbiAgICBpZiAoIWxlYXZpbmdWTm9kZXNDYWNoZSkge1xyXG4gICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICAgICAgbGVhdmluZ1ZOb2Rlcy5zZXQodm5vZGUudHlwZSwgbGVhdmluZ1ZOb2Rlc0NhY2hlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBsZWF2aW5nVk5vZGVzQ2FjaGU7XHJcbn1cclxuLy8gVGhlIHRyYW5zaXRpb24gaG9va3MgYXJlIGF0dGFjaGVkIHRvIHRoZSB2bm9kZSBhcyB2bm9kZS50cmFuc2l0aW9uXHJcbi8vIGFuZCB3aWxsIGJlIGNhbGxlZCBhdCBhcHByb3ByaWF0ZSB0aW1pbmcgaW4gdGhlIHJlbmRlcmVyLlxyXG5mdW5jdGlvbiByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKHZub2RlLCBwcm9wcywgc3RhdGUsIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB7IGFwcGVhciwgbW9kZSwgcGVyc2lzdGVkID0gZmFsc2UsIG9uQmVmb3JlRW50ZXIsIG9uRW50ZXIsIG9uQWZ0ZXJFbnRlciwgb25FbnRlckNhbmNlbGxlZCwgb25CZWZvcmVMZWF2ZSwgb25MZWF2ZSwgb25BZnRlckxlYXZlLCBvbkxlYXZlQ2FuY2VsbGVkLCBvbkJlZm9yZUFwcGVhciwgb25BcHBlYXIsIG9uQWZ0ZXJBcHBlYXIsIG9uQXBwZWFyQ2FuY2VsbGVkIH0gPSBwcm9wcztcclxuICAgIGNvbnN0IGtleSA9IFN0cmluZyh2bm9kZS5rZXkpO1xyXG4gICAgY29uc3QgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgdm5vZGUpO1xyXG4gICAgY29uc3QgY2FsbEhvb2sgPSAoaG9vaywgYXJncykgPT4ge1xyXG4gICAgICAgIGhvb2sgJiZcclxuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDkgLyogVFJBTlNJVElPTl9IT09LICovLCBhcmdzKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBob29rcyA9IHtcclxuICAgICAgICBtb2RlLFxyXG4gICAgICAgIHBlcnNpc3RlZCxcclxuICAgICAgICBiZWZvcmVFbnRlcihlbCkge1xyXG4gICAgICAgICAgICBsZXQgaG9vayA9IG9uQmVmb3JlRW50ZXI7XHJcbiAgICAgICAgICAgIGlmICghc3RhdGUuaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXBwZWFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9vayA9IG9uQmVmb3JlQXBwZWFyIHx8IG9uQmVmb3JlRW50ZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZm9yIHNhbWUgZWxlbWVudCAodi1zaG93KVxyXG4gICAgICAgICAgICBpZiAoZWwuX2xlYXZlQ2IpIHtcclxuICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiKHRydWUgLyogY2FuY2VsbGVkICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBmb3IgdG9nZ2xlZCBlbGVtZW50IHdpdGggc2FtZSBrZXkgKHYtaWYpXHJcbiAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZSA9IGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldO1xyXG4gICAgICAgICAgICBpZiAobGVhdmluZ1ZOb2RlICYmXHJcbiAgICAgICAgICAgICAgICBpc1NhbWVWTm9kZVR5cGUodm5vZGUsIGxlYXZpbmdWTm9kZSkgJiZcclxuICAgICAgICAgICAgICAgIGxlYXZpbmdWTm9kZS5lbC5fbGVhdmVDYikge1xyXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgZWFybHkgcmVtb3ZhbCAobm90IGNhbmNlbGxlZClcclxuICAgICAgICAgICAgICAgIGxlYXZpbmdWTm9kZS5lbC5fbGVhdmVDYigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbGxIb29rKGhvb2ssIFtlbF0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW50ZXIoZWwpIHtcclxuICAgICAgICAgICAgbGV0IGhvb2sgPSBvbkVudGVyO1xyXG4gICAgICAgICAgICBsZXQgYWZ0ZXJIb29rID0gb25BZnRlckVudGVyO1xyXG4gICAgICAgICAgICBsZXQgY2FuY2VsSG9vayA9IG9uRW50ZXJDYW5jZWxsZWQ7XHJcbiAgICAgICAgICAgIGlmICghc3RhdGUuaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXBwZWFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9vayA9IG9uQXBwZWFyIHx8IG9uRW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJIb29rID0gb25BZnRlckFwcGVhciB8fCBvbkFmdGVyRW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsSG9vayA9IG9uQXBwZWFyQ2FuY2VsbGVkIHx8IG9uRW50ZXJDYW5jZWxsZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zdCBkb25lID0gKGVsLl9lbnRlckNiID0gKGNhbmNlbGxlZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxlZClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKGNhbmNlbEhvb2ssIFtlbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbEhvb2soYWZ0ZXJIb29rLCBbZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChob29rcy5kZWxheWVkTGVhdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBob29rcy5kZWxheWVkTGVhdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsLl9lbnRlckNiID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKGhvb2spIHtcclxuICAgICAgICAgICAgICAgIGhvb2soZWwsIGRvbmUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhvb2subGVuZ3RoIDw9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlYXZlKGVsLCByZW1vdmUpIHtcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gU3RyaW5nKHZub2RlLmtleSk7XHJcbiAgICAgICAgICAgIGlmIChlbC5fZW50ZXJDYikge1xyXG4gICAgICAgICAgICAgICAgZWwuX2VudGVyQ2IodHJ1ZSAvKiBjYW5jZWxsZWQgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5pc1VubW91bnRpbmcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWxsSG9vayhvbkJlZm9yZUxlYXZlLCBbZWxdKTtcclxuICAgICAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zdCBkb25lID0gKGVsLl9sZWF2ZUNiID0gKGNhbmNlbGxlZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxlZClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbEhvb2sob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsSG9vayhvbkFmdGVyTGVhdmUsIFtlbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWwuX2xlYXZlQ2IgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV0gPT09IHZub2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV0gPSB2bm9kZTtcclxuICAgICAgICAgICAgaWYgKG9uTGVhdmUpIHtcclxuICAgICAgICAgICAgICAgIG9uTGVhdmUoZWwsIGRvbmUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9uTGVhdmUubGVuZ3RoIDw9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNsb25lKHZub2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKHZub2RlLCBwcm9wcywgc3RhdGUsIGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGhvb2tzO1xyXG59XHJcbi8vIHRoZSBwbGFjZWhvbGRlciByZWFsbHkgb25seSBoYW5kbGVzIG9uZSBzcGVjaWFsIGNhc2U6IEtlZXBBbGl2ZVxyXG4vLyBpbiB0aGUgY2FzZSBvZiBhIEtlZXBBbGl2ZSBpbiBhIGxlYXZlIHBoYXNlIHdlIG5lZWQgdG8gcmV0dXJuIGEgS2VlcEFsaXZlXHJcbi8vIHBsYWNlaG9sZGVyIHdpdGggZW1wdHkgY29udGVudCB0byBhdm9pZCB0aGUgS2VlcEFsaXZlIGluc3RhbmNlIGZyb20gYmVpbmdcclxuLy8gdW5tb3VudGVkLlxyXG5mdW5jdGlvbiBlbXB0eVBsYWNlaG9sZGVyKHZub2RlKSB7XHJcbiAgICBpZiAoaXNLZWVwQWxpdmUodm5vZGUpKSB7XHJcbiAgICAgICAgdm5vZGUgPSBjbG9uZVZOb2RlKHZub2RlKTtcclxuICAgICAgICB2bm9kZS5jaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHZub2RlO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdldEtlZXBBbGl2ZUNoaWxkKHZub2RlKSB7XHJcbiAgICByZXR1cm4gaXNLZWVwQWxpdmUodm5vZGUpXHJcbiAgICAgICAgPyB2bm9kZS5jaGlsZHJlblxyXG4gICAgICAgICAgICA/IHZub2RlLmNoaWxkcmVuWzBdXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkXHJcbiAgICAgICAgOiB2bm9kZTtcclxufVxyXG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIGhvb2tzKSB7XHJcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8gJiYgdm5vZGUuY29tcG9uZW50KSB7XHJcbiAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLCBob29rcyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICggdm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgdm5vZGUuc3NDb250ZW50LnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0NvbnRlbnQpO1xyXG4gICAgICAgIHZub2RlLnNzRmFsbGJhY2sudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzRmFsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdm5vZGUudHJhbnNpdGlvbiA9IGhvb2tzO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihjaGlsZHJlbiwga2VlcENvbW1lbnQgPSBmYWxzZSkge1xyXG4gICAgbGV0IHJldCA9IFtdO1xyXG4gICAgbGV0IGtleWVkRnJhZ21lbnRDb3VudCA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAvLyBoYW5kbGUgZnJhZ21lbnQgY2hpbGRyZW4gY2FzZSwgZS5nLiB2LWZvclxyXG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQucGF0Y2hGbGFnICYgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKVxyXG4gICAgICAgICAgICAgICAga2V5ZWRGcmFnbWVudENvdW50Kys7XHJcbiAgICAgICAgICAgIHJldCA9IHJldC5jb25jYXQoZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkLmNoaWxkcmVuLCBrZWVwQ29tbWVudCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb21tZW50IHBsYWNlaG9sZGVycyBzaG91bGQgYmUgc2tpcHBlZCwgZS5nLiB2LWlmXHJcbiAgICAgICAgZWxzZSBpZiAoa2VlcENvbW1lbnQgfHwgY2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xyXG4gICAgICAgICAgICByZXQucHVzaChjaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gIzExMjYgaWYgYSB0cmFuc2l0aW9uIGNoaWxkcmVuIGxpc3QgY29udGFpbnMgbXVsdGlwbGUgc3ViIGZyYWdtZW50cywgdGhlc2VcclxuICAgIC8vIGZyYWdtZW50cyB3aWxsIGJlIG1lcmdlZCBpbnRvIGEgZmxhdCBjaGlsZHJlbiBhcnJheS4gU2luY2UgZWFjaCB2LWZvclxyXG4gICAgLy8gZnJhZ21lbnQgbWF5IGNvbnRhaW4gZGlmZmVyZW50IHN0YXRpYyBiaW5kaW5ncyBpbnNpZGUsIHdlIG5lZWQgdG8gZGUtdG9wXHJcbiAgICAvLyB0aGVzZSBjaGlsZHJlbiB0byBmb3JjZSBmdWxsIGRpZmZzIHRvIGVuc3VyZSBjb3JyZWN0IGJlaGF2aW9yLlxyXG4gICAgaWYgKGtleWVkRnJhZ21lbnRDb3VudCA+IDEpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJldC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICByZXRbaV0ucGF0Y2hGbGFnID0gLTIgLyogQkFJTCAqLztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XG5cbmNvbnN0IGlzS2VlcEFsaXZlID0gKHZub2RlKSA9PiB2bm9kZS50eXBlLl9faXNLZWVwQWxpdmU7XHJcbmNvbnN0IEtlZXBBbGl2ZUltcGwgPSB7XHJcbiAgICBuYW1lOiBgS2VlcEFsaXZlYCxcclxuICAgIC8vIE1hcmtlciBmb3Igc3BlY2lhbCBoYW5kbGluZyBpbnNpZGUgdGhlIHJlbmRlcmVyLiBXZSBhcmUgbm90IHVzaW5nIGEgPT09XHJcbiAgICAvLyBjaGVjayBkaXJlY3RseSBvbiBLZWVwQWxpdmUgaW4gdGhlIHJlbmRlcmVyLCBiZWNhdXNlIGltcG9ydGluZyBpdCBkaXJlY3RseVxyXG4gICAgLy8gd291bGQgcHJldmVudCBpdCBmcm9tIGJlaW5nIHRyZWUtc2hha2VuLlxyXG4gICAgX19pc0tlZXBBbGl2ZTogdHJ1ZSxcclxuICAgIGluaGVyaXRSZWY6IHRydWUsXHJcbiAgICBwcm9wczoge1xyXG4gICAgICAgIGluY2x1ZGU6IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldLFxyXG4gICAgICAgIGV4Y2x1ZGU6IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldLFxyXG4gICAgICAgIG1heDogW1N0cmluZywgTnVtYmVyXVxyXG4gICAgfSxcclxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcclxuICAgICAgICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcclxuICAgICAgICBjb25zdCBrZXlzID0gbmV3IFNldCgpO1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gbnVsbDtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudFN1c3BlbnNlID0gaW5zdGFuY2Uuc3VzcGVuc2U7XHJcbiAgICAgICAgLy8gS2VlcEFsaXZlIGNvbW11bmljYXRlcyB3aXRoIHRoZSBpbnN0YW50aWF0ZWQgcmVuZGVyZXIgdmlhIHRoZVxyXG4gICAgICAgIC8vIGN0eCB3aGVyZSB0aGUgcmVuZGVyZXIgcGFzc2VzIGluIGl0cyBpbnRlcm5hbHMsXHJcbiAgICAgICAgLy8gYW5kIHRoZSBLZWVwQWxpdmUgaW5zdGFuY2UgZXhwb3NlcyBhY3RpdmF0ZS9kZWFjdGl2YXRlIGltcGxlbWVudGF0aW9ucy5cclxuICAgICAgICAvLyBUaGUgd2hvbGUgcG9pbnQgb2YgdGhpcyBpcyB0byBhdm9pZCBpbXBvcnRpbmcgS2VlcEFsaXZlIGRpcmVjdGx5IGluIHRoZVxyXG4gICAgICAgIC8vIHJlbmRlcmVyIHRvIGZhY2lsaXRhdGUgdHJlZS1zaGFraW5nLlxyXG4gICAgICAgIGNvbnN0IHNoYXJlZENvbnRleHQgPSBpbnN0YW5jZS5jdHg7XHJcbiAgICAgICAgY29uc3QgeyByZW5kZXJlcjogeyBwOiBwYXRjaCwgbTogbW92ZSwgdW06IF91bm1vdW50LCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9IH0gPSBzaGFyZWRDb250ZXh0O1xyXG4gICAgICAgIGNvbnN0IHN0b3JhZ2VDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBzaGFyZWRDb250ZXh0LmFjdGl2YXRlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgbW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIDAgLyogRU5URVIgKi8sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgLy8gaW4gY2FzZSBwcm9wcyBoYXZlIGNoYW5nZWRcclxuICAgICAgICAgICAgcGF0Y2goaW5zdGFuY2Uudm5vZGUsIHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmlzRGVhY3RpdmF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UuYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlTW91bnRlZDtcclxuICAgICAgICAgICAgICAgIGlmICh2bm9kZUhvb2spIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBpbnN0YW5jZS5wYXJlbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2hhcmVkQ29udGV4dC5kZWFjdGl2YXRlID0gKHZub2RlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gdm5vZGUuY29tcG9uZW50O1xyXG4gICAgICAgICAgICBtb3ZlKHZub2RlLCBzdG9yYWdlQ29udGFpbmVyLCBudWxsLCAxIC8qIExFQVZFICovLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuZGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5kYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlVW5tb3VudGVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZub2RlSG9vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlLnBhcmVudCwgdm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNEZWFjdGl2YXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGZ1bmN0aW9uIHVubW91bnQodm5vZGUpIHtcclxuICAgICAgICAgICAgLy8gcmVzZXQgdGhlIHNoYXBlRmxhZyBzbyBpdCBjYW4gYmUgcHJvcGVybHkgdW5tb3VudGVkXHJcbiAgICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcclxuICAgICAgICAgICAgX3VubW91bnQodm5vZGUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGUoZmlsdGVyKSB7XHJcbiAgICAgICAgICAgIGNhY2hlLmZvckVhY2goKHZub2RlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXROYW1lKHZub2RlLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgJiYgKCFmaWx0ZXIgfHwgIWZpbHRlcihuYW1lKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGVFbnRyeShrZXkpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgIGlmICghY3VycmVudCB8fCBjYWNoZWQudHlwZSAhPT0gY3VycmVudC50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGNhY2hlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgLy8gY3VycmVudCBhY3RpdmUgaW5zdGFuY2Ugc2hvdWxkIG5vIGxvbmdlciBiZSBrZXB0LWFsaXZlLlxyXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuJ3QgdW5tb3VudCBpdCBub3cgYnV0IGl0IG1pZ2h0IGJlIGxhdGVyLCBzbyByZXNldCBpdHMgZmxhZyBub3cuXHJcbiAgICAgICAgICAgICAgICByZXNldFNoYXBlRmxhZyhjdXJyZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWNoZS5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAga2V5cy5kZWxldGUoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcHJ1bmUgY2FjaGUgb24gaW5jbHVkZS9leGNsdWRlIHByb3AgY2hhbmdlXHJcbiAgICAgICAgd2F0Y2goKCkgPT4gW3Byb3BzLmluY2x1ZGUsIHByb3BzLmV4Y2x1ZGVdLCAoW2luY2x1ZGUsIGV4Y2x1ZGVdKSA9PiB7XHJcbiAgICAgICAgICAgIGluY2x1ZGUgJiYgcHJ1bmVDYWNoZShuYW1lID0+IG1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpO1xyXG4gICAgICAgICAgICBleGNsdWRlICYmIHBydW5lQ2FjaGUobmFtZSA9PiAhbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSk7XHJcbiAgICAgICAgfSwgXHJcbiAgICAgICAgLy8gcHJ1bmUgcG9zdC1yZW5kZXIgYWZ0ZXIgYGN1cnJlbnRgIGhhcyBiZWVuIHVwZGF0ZWRcclxuICAgICAgICB7IGZsdXNoOiAncG9zdCcgfSk7XHJcbiAgICAgICAgLy8gY2FjaGUgc3ViIHRyZWUgYWZ0ZXIgcmVuZGVyXHJcbiAgICAgICAgbGV0IHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XHJcbiAgICAgICAgY29uc3QgY2FjaGVTdWJ0cmVlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBmaXggIzE2MjEsIHRoZSBwZW5kaW5nQ2FjaGVLZXkgY291bGQgYmUgMFxyXG4gICAgICAgICAgICBpZiAocGVuZGluZ0NhY2hlS2V5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNhY2hlLnNldChwZW5kaW5nQ2FjaGVLZXksIGdldElubmVyQ2hpbGQoaW5zdGFuY2Uuc3ViVHJlZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBvbk1vdW50ZWQoY2FjaGVTdWJ0cmVlKTtcclxuICAgICAgICBvblVwZGF0ZWQoY2FjaGVTdWJ0cmVlKTtcclxuICAgICAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xyXG4gICAgICAgICAgICBjYWNoZS5mb3JFYWNoKGNhY2hlZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN1YlRyZWUsIHN1c3BlbnNlIH0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChzdWJUcmVlKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYWNoZWQudHlwZSA9PT0gdm5vZGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgaW5zdGFuY2Ugd2lsbCBiZSB1bm1vdW50ZWQgYXMgcGFydCBvZiBrZWVwLWFsaXZlJ3MgdW5tb3VudFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgaW52b2tlIGl0cyBkZWFjdGl2YXRlZCBob29rIGhlcmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYSA9IHZub2RlLmNvbXBvbmVudC5kYTtcclxuICAgICAgICAgICAgICAgICAgICBkYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZGEsIHN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGNhY2hlZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghc2xvdHMuZGVmYXVsdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhd1ZOb2RlID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgS2VlcEFsaXZlIHNob3VsZCBjb250YWluIGV4YWN0bHkgb25lIGNvbXBvbmVudCBjaGlsZC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc1ZOb2RlKHJhd1ZOb2RlKSB8fFxyXG4gICAgICAgICAgICAgICAgKCEocmF3Vk5vZGUuc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi8pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIShyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pKSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChyYXdWTm9kZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB2bm9kZS50eXBlO1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZ2V0TmFtZShjb21wKTtcclxuICAgICAgICAgICAgY29uc3QgeyBpbmNsdWRlLCBleGNsdWRlLCBtYXggfSA9IHByb3BzO1xyXG4gICAgICAgICAgICBpZiAoKGluY2x1ZGUgJiYgKCFuYW1lIHx8ICFtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKSkgfHxcclxuICAgICAgICAgICAgICAgIChleGNsdWRlICYmIG5hbWUgJiYgbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSkpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB2bm9kZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByYXdWTm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSB2bm9kZS5rZXkgPT0gbnVsbCA/IGNvbXAgOiB2bm9kZS5rZXk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZFZOb2RlID0gY2FjaGUuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgIC8vIGNsb25lIHZub2RlIGlmIGl0J3MgcmV1c2VkIGJlY2F1c2Ugd2UgYXJlIGdvaW5nIHRvIG11dGF0ZSBpdFxyXG4gICAgICAgICAgICBpZiAodm5vZGUuZWwpIHtcclxuICAgICAgICAgICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmF3Vk5vZGUuc3NDb250ZW50ID0gdm5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gIzE1MTMgaXQncyBwb3NzaWJsZSBmb3IgdGhlIHJldHVybmVkIHZub2RlIHRvIGJlIGNsb25lZCBkdWUgdG8gYXR0clxyXG4gICAgICAgICAgICAvLyBmYWxsdGhyb3VnaCBvciBzY29wZUlkLCBzbyB0aGUgdm5vZGUgaGVyZSBtYXkgbm90IGJlIHRoZSBmaW5hbCB2bm9kZVxyXG4gICAgICAgICAgICAvLyB0aGF0IGlzIG1vdW50ZWQuIEluc3RlYWQgb2YgY2FjaGluZyBpdCBkaXJlY3RseSwgd2Ugc3RvcmUgdGhlIHBlbmRpbmdcclxuICAgICAgICAgICAgLy8ga2V5IGFuZCBjYWNoZSBgaW5zdGFuY2Uuc3ViVHJlZWAgKHRoZSBub3JtYWxpemVkIHZub2RlKSBpblxyXG4gICAgICAgICAgICAvLyBiZWZvcmVNb3VudC9iZWZvcmVVcGRhdGUgaG9va3MuXHJcbiAgICAgICAgICAgIHBlbmRpbmdDYWNoZUtleSA9IGtleTtcclxuICAgICAgICAgICAgaWYgKGNhY2hlZFZOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb3B5IG92ZXIgbW91bnRlZCBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgdm5vZGUuZWwgPSBjYWNoZWRWTm9kZS5lbDtcclxuICAgICAgICAgICAgICAgIHZub2RlLmNvbXBvbmVudCA9IGNhY2hlZFZOb2RlLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgIGlmICh2bm9kZS50cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjdXJzaXZlbHkgdXBkYXRlIHRyYW5zaXRpb24gaG9va3Mgb24gc3ViVHJlZVxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZSwgdm5vZGUudHJhbnNpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB2bm9kZSBiZWluZyBtb3VudGVkIGFzIGZyZXNoXHJcbiAgICAgICAgICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gNTEyIC8qIENPTVBPTkVOVF9LRVBUX0FMSVZFICovO1xyXG4gICAgICAgICAgICAgICAgLy8gbWFrZSB0aGlzIGtleSB0aGUgZnJlc2hlc3RcclxuICAgICAgICAgICAgICAgIGtleXMuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgICAgICAgICBrZXlzLmFkZChrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAga2V5cy5hZGQoa2V5KTtcclxuICAgICAgICAgICAgICAgIC8vIHBydW5lIG9sZGVzdCBlbnRyeVxyXG4gICAgICAgICAgICAgICAgaWYgKG1heCAmJiBrZXlzLnNpemUgPiBwYXJzZUludChtYXgsIDEwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXlzLnZhbHVlcygpLm5leHQoKS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYXZvaWQgdm5vZGUgYmVpbmcgdW5tb3VudGVkXHJcbiAgICAgICAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovO1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gdm5vZGU7XHJcbiAgICAgICAgICAgIHJldHVybiByYXdWTm9kZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59O1xyXG4vLyBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2VcclxuLy8gYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcclxuY29uc3QgS2VlcEFsaXZlID0gS2VlcEFsaXZlSW1wbDtcclxuZnVuY3Rpb24gZ2V0TmFtZShjb21wKSB7XHJcbiAgICByZXR1cm4gY29tcC5kaXNwbGF5TmFtZSB8fCBjb21wLm5hbWU7XHJcbn1cclxuZnVuY3Rpb24gbWF0Y2hlcyhwYXR0ZXJuLCBuYW1lKSB7XHJcbiAgICBpZiAoaXNBcnJheShwYXR0ZXJuKSkge1xyXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnNvbWUoKHApID0+IG1hdGNoZXMocCwgbmFtZSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTdHJpbmcocGF0dGVybikpIHtcclxuICAgICAgICByZXR1cm4gcGF0dGVybi5zcGxpdCgnLCcpLmluZGV4T2YobmFtZSkgPiAtMTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHBhdHRlcm4udGVzdCkge1xyXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIG9uQWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xyXG4gICAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiYVwiIC8qIEFDVElWQVRFRCAqLywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiBvbkRlYWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xyXG4gICAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiZGFcIiAvKiBERUFDVElWQVRFRCAqLywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgdHlwZSwgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAvLyBjYWNoZSB0aGUgZGVhY3RpdmF0ZSBicmFuY2ggY2hlY2sgd3JhcHBlciBmb3IgaW5qZWN0ZWQgaG9va3Mgc28gdGhlIHNhbWVcclxuICAgIC8vIGhvb2sgY2FuIGJlIHByb3Blcmx5IGRlZHVwZWQgYnkgdGhlIHNjaGVkdWxlci4gXCJfX3dkY1wiIHN0YW5kcyBmb3IgXCJ3aXRoXHJcbiAgICAvLyBkZWFjdGl2YXRpb24gY2hlY2tcIi5cclxuICAgIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dkYyB8fFxyXG4gICAgICAgIChob29rLl9fd2RjID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBvbmx5IGZpcmUgdGhlIGhvb2sgaWYgdGhlIHRhcmdldCBpbnN0YW5jZSBpcyBOT1QgaW4gYSBkZWFjdGl2YXRlZCBicmFuY2guXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQuaXNEZWFjdGl2YXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBob29rKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICBpbmplY3RIb29rKHR5cGUsIHdyYXBwZWRIb29rLCB0YXJnZXQpO1xyXG4gICAgLy8gSW4gYWRkaXRpb24gdG8gcmVnaXN0ZXJpbmcgaXQgb24gdGhlIHRhcmdldCBpbnN0YW5jZSwgd2Ugd2FsayB1cCB0aGUgcGFyZW50XHJcbiAgICAvLyBjaGFpbiBhbmQgcmVnaXN0ZXIgaXQgb24gYWxsIGFuY2VzdG9yIGluc3RhbmNlcyB0aGF0IGFyZSBrZWVwLWFsaXZlIHJvb3RzLlxyXG4gICAgLy8gVGhpcyBhdm9pZHMgdGhlIG5lZWQgdG8gd2FsayB0aGUgZW50aXJlIGNvbXBvbmVudCB0cmVlIHdoZW4gaW52b2tpbmcgdGhlc2VcclxuICAgIC8vIGhvb2tzLCBhbmQgbW9yZSBpbXBvcnRhbnRseSwgYXZvaWRzIHRoZSBuZWVkIHRvIHRyYWNrIGNoaWxkIGNvbXBvbmVudHMgaW5cclxuICAgIC8vIGFycmF5cy5cclxuICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICBsZXQgY3VycmVudCA9IHRhcmdldC5wYXJlbnQ7XHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudC5wYXJlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGlzS2VlcEFsaXZlKGN1cnJlbnQucGFyZW50LnZub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgaW5qZWN0VG9LZWVwQWxpdmVSb290KHdyYXBwZWRIb29rLCB0eXBlLCB0YXJnZXQsIGN1cnJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5qZWN0VG9LZWVwQWxpdmVSb290KGhvb2ssIHR5cGUsIHRhcmdldCwga2VlcEFsaXZlUm9vdCkge1xyXG4gICAgLy8gaW5qZWN0SG9vayB3cmFwcyB0aGUgb3JpZ2luYWwgZm9yIGVycm9yIGhhbmRsaW5nLCBzbyBtYWtlIHN1cmUgdG8gcmVtb3ZlXHJcbiAgICAvLyB0aGUgd3JhcHBlZCB2ZXJzaW9uLlxyXG4gICAgY29uc3QgaW5qZWN0ZWQgPSBpbmplY3RIb29rKHR5cGUsIGhvb2ssIGtlZXBBbGl2ZVJvb3QsIHRydWUgLyogcHJlcGVuZCAqLyk7XHJcbiAgICBvblVubW91bnRlZCgoKSA9PiB7XHJcbiAgICAgICAgcmVtb3ZlKGtlZXBBbGl2ZVJvb3RbdHlwZV0sIGluamVjdGVkKTtcclxuICAgIH0sIHRhcmdldCk7XHJcbn1cclxuZnVuY3Rpb24gcmVzZXRTaGFwZUZsYWcodm5vZGUpIHtcclxuICAgIGxldCBzaGFwZUZsYWcgPSB2bm9kZS5zaGFwZUZsYWc7XHJcbiAgICBpZiAoc2hhcGVGbGFnICYgMjU2IC8qIENPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLykge1xyXG4gICAgICAgIHNoYXBlRmxhZyAtPSAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovO1xyXG4gICAgfVxyXG4gICAgaWYgKHNoYXBlRmxhZyAmIDUxMiAvKiBDT01QT05FTlRfS0VQVF9BTElWRSAqLykge1xyXG4gICAgICAgIHNoYXBlRmxhZyAtPSA1MTIgLyogQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi87XHJcbiAgICB9XHJcbiAgICB2bm9kZS5zaGFwZUZsYWcgPSBzaGFwZUZsYWc7XHJcbn1cclxuZnVuY3Rpb24gZ2V0SW5uZXJDaGlsZCh2bm9kZSkge1xyXG4gICAgcmV0dXJuIHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLyA/IHZub2RlLnNzQ29udGVudCA6IHZub2RlO1xyXG59XG5cbmNvbnN0IGlzSW50ZXJuYWxLZXkgPSAoa2V5KSA9PiBrZXlbMF0gPT09ICdfJyB8fCBrZXkgPT09ICckc3RhYmxlJztcclxuY29uc3Qgbm9ybWFsaXplU2xvdFZhbHVlID0gKHZhbHVlKSA9PiBpc0FycmF5KHZhbHVlKVxyXG4gICAgPyB2YWx1ZS5tYXAobm9ybWFsaXplVk5vZGUpXHJcbiAgICA6IFtub3JtYWxpemVWTm9kZSh2YWx1ZSldO1xyXG5jb25zdCBub3JtYWxpemVTbG90ID0gKGtleSwgcmF3U2xvdCwgY3R4KSA9PiB3aXRoQ3R4KChwcm9wcykgPT4ge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgICAgICB3YXJuKGBTbG90IFwiJHtrZXl9XCIgaW52b2tlZCBvdXRzaWRlIG9mIHRoZSByZW5kZXIgZnVuY3Rpb246IGAgK1xyXG4gICAgICAgICAgICBgdGhpcyB3aWxsIG5vdCB0cmFjayBkZXBlbmRlbmNpZXMgdXNlZCBpbiB0aGUgc2xvdC4gYCArXHJcbiAgICAgICAgICAgIGBJbnZva2UgdGhlIHNsb3QgZnVuY3Rpb24gaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBub3JtYWxpemVTbG90VmFsdWUocmF3U2xvdChwcm9wcykpO1xyXG59LCBjdHgpO1xyXG5jb25zdCBub3JtYWxpemVPYmplY3RTbG90cyA9IChyYXdTbG90cywgc2xvdHMpID0+IHtcclxuICAgIGNvbnN0IGN0eCA9IHJhd1Nsb3RzLl9jdHg7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdTbG90cykge1xyXG4gICAgICAgIGlmIChpc0ludGVybmFsS2V5KGtleSkpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gcmF3U2xvdHNba2V5XTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgc2xvdHNba2V5XSA9IG5vcm1hbGl6ZVNsb3Qoa2V5LCB2YWx1ZSwgY3R4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIHNsb3QgXCIke2tleX1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUodmFsdWUpO1xyXG4gICAgICAgICAgICBzbG90c1trZXldID0gKCkgPT4gbm9ybWFsaXplZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IG5vcm1hbGl6ZVZOb2RlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0tlZXBBbGl2ZShpbnN0YW5jZS52bm9kZSkpIHtcclxuICAgICAgICB3YXJuKGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIGRlZmF1bHQgc2xvdC4gYCArXHJcbiAgICAgICAgICAgIGBQcmVmZXIgZnVuY3Rpb24gc2xvdHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5gKTtcclxuICAgIH1cclxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUoY2hpbGRyZW4pO1xyXG4gICAgaW5zdGFuY2Uuc2xvdHMuZGVmYXVsdCA9ICgpID0+IG5vcm1hbGl6ZWQ7XHJcbn07XHJcbmNvbnN0IGluaXRTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4pID0+IHtcclxuICAgIGlmIChpbnN0YW5jZS52bm9kZS5zaGFwZUZsYWcgJiAzMiAvKiBTTE9UU19DSElMRFJFTiAqLykge1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBjaGlsZHJlbi5fO1xyXG4gICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnNsb3RzID0gY2hpbGRyZW47XHJcbiAgICAgICAgICAgIC8vIG1ha2UgY29tcGlsZXIgbWFya2VyIG5vbi1lbnVtZXJhYmxlXHJcbiAgICAgICAgICAgIGRlZihjaGlsZHJlbiwgJ18nLCB0eXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCAoaW5zdGFuY2Uuc2xvdHMgPSB7fSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGluc3RhbmNlLnNsb3RzID0ge307XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZVZOb2RlU2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkZWYoaW5zdGFuY2Uuc2xvdHMsIEludGVybmFsT2JqZWN0S2V5LCAxKTtcclxufTtcclxuY29uc3QgdXBkYXRlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XHJcbiAgICBjb25zdCB7IHZub2RlLCBzbG90cyB9ID0gaW5zdGFuY2U7XHJcbiAgICBsZXQgbmVlZERlbGV0aW9uQ2hlY2sgPSB0cnVlO1xyXG4gICAgbGV0IGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IEVNUFRZX09CSjtcclxuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAzMiAvKiBTTE9UU19DSElMRFJFTiAqLykge1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBjaGlsZHJlbi5fO1xyXG4gICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbXBpbGVkIHNsb3RzLlxyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICAgICAgICAgIC8vIFBhcmVudCB3YXMgSE1SIHVwZGF0ZWQgc28gc2xvdCBjb250ZW50IG1heSBoYXZlIGNoYW5nZWQuXHJcbiAgICAgICAgICAgICAgICAvLyBmb3JjZSB1cGRhdGUgc2xvdHMgYW5kIG1hcmsgaW5zdGFuY2UgZm9yIGhtciBhcyB3ZWxsXHJcbiAgICAgICAgICAgICAgICBleHRlbmQoc2xvdHMsIGNoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSAxIC8qIFNUQUJMRSAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZWQgQU5EIHN0YWJsZS5cclxuICAgICAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gdXBkYXRlLCBhbmQgc2tpcCBzdGFsZSBzbG90cyByZW1vdmFsLlxyXG4gICAgICAgICAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGVkIGJ1dCBkeW5hbWljICh2LWlmL3YtZm9yIG9uIHNsb3RzKSAtIHVwZGF0ZSBzbG90cywgYnV0IHNraXBcclxuICAgICAgICAgICAgICAgIC8vIG5vcm1hbGl6YXRpb24uXHJcbiAgICAgICAgICAgICAgICBleHRlbmQoc2xvdHMsIGNoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSAhY2hpbGRyZW4uJHN0YWJsZTtcclxuICAgICAgICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIHNsb3RzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gY2hpbGRyZW47XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgIC8vIG5vbiBzbG90IG9iamVjdCBjaGlsZHJlbiAoZGlyZWN0IHZhbHVlKSBwYXNzZWQgdG8gYSBjb21wb25lbnRcclxuICAgICAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XHJcbiAgICAgICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0geyBkZWZhdWx0OiAxIH07XHJcbiAgICB9XHJcbiAgICAvLyBkZWxldGUgc3RhbGUgc2xvdHNcclxuICAgIGlmIChuZWVkRGVsZXRpb25DaGVjaykge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XHJcbiAgICAgICAgICAgIGlmICghaXNJbnRlcm5hbEtleShrZXkpICYmICEoa2V5IGluIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBzbG90c1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xuXG4vKipcclxuUnVudGltZSBoZWxwZXIgZm9yIGFwcGx5aW5nIGRpcmVjdGl2ZXMgdG8gYSB2bm9kZS4gRXhhbXBsZSB1c2FnZTpcclxuXG5jb25zdCBjb21wID0gcmVzb2x2ZUNvbXBvbmVudCgnY29tcCcpXHJcbmNvbnN0IGZvbyA9IHJlc29sdmVEaXJlY3RpdmUoJ2ZvbycpXHJcbmNvbnN0IGJhciA9IHJlc29sdmVEaXJlY3RpdmUoJ2JhcicpXHJcblxucmV0dXJuIHdpdGhEaXJlY3RpdmVzKGgoY29tcCksIFtcclxuICBbZm9vLCB0aGlzLnhdLFxyXG4gIFtiYXIsIHRoaXMueV1cclxuXSlcclxuKi9cclxuY29uc3QgaXNCdWlsdEluRGlyZWN0aXZlID0gLyojX19QVVJFX18qLyBtYWtlTWFwKCdiaW5kLGNsb2FrLGVsc2UtaWYsZWxzZSxmb3IsaHRtbCxpZixtb2RlbCxvbixvbmNlLHByZSxzaG93LHNsb3QsdGV4dCcpO1xyXG5mdW5jdGlvbiB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSkge1xyXG4gICAgaWYgKGlzQnVpbHRJbkRpcmVjdGl2ZShuYW1lKSkge1xyXG4gICAgICAgIHdhcm4oJ0RvIG5vdCB1c2UgYnVpbHQtaW4gZGlyZWN0aXZlIGlkcyBhcyBjdXN0b20gZGlyZWN0aXZlIGlkOiAnICsgbmFtZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgZGlyZWN0aXZlcyB0byBhIFZOb2RlLlxyXG4gKi9cclxuZnVuY3Rpb24gd2l0aERpcmVjdGl2ZXModm5vZGUsIGRpcmVjdGl2ZXMpIHtcclxuICAgIGNvbnN0IGludGVybmFsSW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbiAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGB3aXRoRGlyZWN0aXZlcyBjYW4gb25seSBiZSB1c2VkIGluc2lkZSByZW5kZXIgZnVuY3Rpb25zLmApO1xyXG4gICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGluc3RhbmNlID0gaW50ZXJuYWxJbnN0YW5jZS5wcm94eTtcclxuICAgIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycyB8fCAodm5vZGUuZGlycyA9IFtdKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBbZGlyLCB2YWx1ZSwgYXJnLCBtb2RpZmllcnMgPSBFTVBUWV9PQkpdID0gZGlyZWN0aXZlc1tpXTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihkaXIpKSB7XHJcbiAgICAgICAgICAgIGRpciA9IHtcclxuICAgICAgICAgICAgICAgIG1vdW50ZWQ6IGRpcixcclxuICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IGRpclxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBiaW5kaW5ncy5wdXNoKHtcclxuICAgICAgICAgICAgZGlyLFxyXG4gICAgICAgICAgICBpbnN0YW5jZSxcclxuICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgIG9sZFZhbHVlOiB2b2lkIDAsXHJcbiAgICAgICAgICAgIGFyZyxcclxuICAgICAgICAgICAgbW9kaWZpZXJzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm5vZGU7XHJcbn1cclxuZnVuY3Rpb24gaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgcHJldlZOb2RlLCBpbnN0YW5jZSwgbmFtZSkge1xyXG4gICAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzO1xyXG4gICAgY29uc3Qgb2xkQmluZGluZ3MgPSBwcmV2Vk5vZGUgJiYgcHJldlZOb2RlLmRpcnM7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgYmluZGluZyA9IGJpbmRpbmdzW2ldO1xyXG4gICAgICAgIGlmIChvbGRCaW5kaW5ncykge1xyXG4gICAgICAgICAgICBiaW5kaW5nLm9sZFZhbHVlID0gb2xkQmluZGluZ3NbaV0udmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGhvb2sgPSBiaW5kaW5nLmRpcltuYW1lXTtcclxuICAgICAgICBpZiAoaG9vaykge1xyXG4gICAgICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgOCAvKiBESVJFQ1RJVkVfSE9PSyAqLywgW1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuZWwsXHJcbiAgICAgICAgICAgICAgICBiaW5kaW5nLFxyXG4gICAgICAgICAgICAgICAgdm5vZGUsXHJcbiAgICAgICAgICAgICAgICBwcmV2Vk5vZGVcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcENvbnRleHQoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFwcDogbnVsbCxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgICAgaXNOYXRpdmVUYWc6IE5PLFxyXG4gICAgICAgICAgICBwZXJmb3JtYW5jZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGdsb2JhbFByb3BlcnRpZXM6IHt9LFxyXG4gICAgICAgICAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IHt9LFxyXG4gICAgICAgICAgICBpc0N1c3RvbUVsZW1lbnQ6IE5PLFxyXG4gICAgICAgICAgICBlcnJvckhhbmRsZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgd2FybkhhbmRsZXI6IHVuZGVmaW5lZFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWl4aW5zOiBbXSxcclxuICAgICAgICBjb21wb25lbnRzOiB7fSxcclxuICAgICAgICBkaXJlY3RpdmVzOiB7fSxcclxuICAgICAgICBwcm92aWRlczogT2JqZWN0LmNyZWF0ZShudWxsKVxyXG4gICAgfTtcclxufVxyXG5sZXQgdWlkID0gMDtcclxuZnVuY3Rpb24gY3JlYXRlQXBwQVBJKHJlbmRlciwgaHlkcmF0ZSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUFwcChyb290Q29tcG9uZW50LCByb290UHJvcHMgPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKHJvb3RQcm9wcyAhPSBudWxsICYmICFpc09iamVjdChyb290UHJvcHMpKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGByb290IHByb3BzIHBhc3NlZCB0byBhcHAubW91bnQoKSBtdXN0IGJlIGFuIG9iamVjdC5gKTtcclxuICAgICAgICAgICAgcm9vdFByb3BzID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUFwcENvbnRleHQoKTtcclxuICAgICAgICBjb25zdCBpbnN0YWxsZWRQbHVnaW5zID0gbmV3IFNldCgpO1xyXG4gICAgICAgIGxldCBpc01vdW50ZWQgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCBhcHAgPSAoY29udGV4dC5hcHAgPSB7XHJcbiAgICAgICAgICAgIF91aWQ6IHVpZCsrLFxyXG4gICAgICAgICAgICBfY29tcG9uZW50OiByb290Q29tcG9uZW50LFxyXG4gICAgICAgICAgICBfcHJvcHM6IHJvb3RQcm9wcyxcclxuICAgICAgICAgICAgX2NvbnRhaW5lcjogbnVsbCxcclxuICAgICAgICAgICAgX2NvbnRleHQ6IGNvbnRleHQsXHJcbiAgICAgICAgICAgIHZlcnNpb24sXHJcbiAgICAgICAgICAgIGdldCBjb25maWcoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5jb25maWc7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldCBjb25maWcodikge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYGFwcC5jb25maWcgY2Fubm90IGJlIHJlcGxhY2VkLiBNb2RpZnkgaW5kaXZpZHVhbCBvcHRpb25zIGluc3RlYWQuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVzZShwbHVnaW4sIC4uLm9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YWxsZWRQbHVnaW5zLmhhcyhwbHVnaW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oYFBsdWdpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBsdWdpbiAmJiBpc0Z1bmN0aW9uKHBsdWdpbi5pbnN0YWxsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbGxlZFBsdWdpbnMuYWRkKHBsdWdpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLmluc3RhbGwoYXBwLCAuLi5vcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocGx1Z2luKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbGxlZFBsdWdpbnMuYWRkKHBsdWdpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luKGFwcCwgLi4ub3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBBIHBsdWdpbiBtdXN0IGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGFuIG9iamVjdCB3aXRoIGFuIFwiaW5zdGFsbFwiIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgZnVuY3Rpb24uYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtaXhpbihtaXhpbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQubWl4aW5zLmluY2x1ZGVzKG1peGluKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1peGlucy5wdXNoKG1peGluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2xvYmFsIG1peGluIHdpdGggcHJvcHMvZW1pdHMgZGUtb3B0aW1pemVzIHByb3BzL2VtaXRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vcm1hbGl6YXRpb24gY2FjaGluZy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1peGluLnByb3BzIHx8IG1peGluLmVtaXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRlb3B0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybignTWl4aW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRhcmdldCBhcHAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtaXhpbi5uYW1lID8gYDogJHttaXhpbi5uYW1lfWAgOiAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ01peGlucyBhcmUgb25seSBhdmFpbGFibGUgaW4gYnVpbGRzIHN1cHBvcnRpbmcgT3B0aW9ucyBBUEknKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBvbmVudChuYW1lLCBjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSwgY29udGV4dC5jb25maWcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5jb21wb25lbnRzW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGluIHRhcmdldCBhcHAuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0gPSBjb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFkaXJlY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5kaXJlY3RpdmVzW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBEaXJlY3RpdmUgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGluIHRhcmdldCBhcHAuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0gPSBkaXJlY3RpdmU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtb3VudChyb290Q29udGFpbmVyLCBpc0h5ZHJhdGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShyb290Q29tcG9uZW50LCByb290UHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3JlIGFwcCBjb250ZXh0IG9uIHRoZSByb290IFZOb2RlLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBiZSBzZXQgb24gdGhlIHJvb3QgaW5zdGFuY2Ugb24gaW5pdGlhbCBtb3VudC5cclxuICAgICAgICAgICAgICAgICAgICB2bm9kZS5hcHBDb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBITVIgcm9vdCByZWxvYWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVsb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyKGNsb25lVk5vZGUodm5vZGUpLCByb290Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSHlkcmF0ZSAmJiBoeWRyYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGUodm5vZGUsIHJvb3RDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyKHZub2RlLCByb290Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNNb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuX2NvbnRhaW5lciA9IHJvb3RDb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdENvbnRhaW5lci5fX3Z1ZV9hcHBfXyA9IGFwcDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZub2RlLmNvbXBvbmVudC5wcm94eTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEFwcCBoYXMgYWxyZWFkeSBiZWVuIG1vdW50ZWQuXFxuYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBJZiB5b3Ugd2FudCB0byByZW1vdW50IHRoZSBzYW1lIGFwcCwgbW92ZSB5b3VyIGFwcCBjcmVhdGlvbiBsb2dpYyBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYGludG8gYSBmYWN0b3J5IGZ1bmN0aW9uIGFuZCBjcmVhdGUgZnJlc2ggYXBwIGluc3RhbmNlcyBmb3IgZWFjaCBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYG1vdW50IC0gZS5nLiBcXGBjb25zdCBjcmVhdGVNeUFwcCA9ICgpID0+IGNyZWF0ZUFwcChBcHApXFxgYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVubW91bnQoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyKG51bGwsIGFwcC5fY29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc1VubW91bnRBcHAoYXBwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBDYW5ub3QgdW5tb3VudCBhbiBhcHAgdGhhdCBpcyBub3QgbW91bnRlZC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHJvdmlkZShrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleSBpbiBjb250ZXh0LnByb3ZpZGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQXBwIGFscmVhZHkgcHJvdmlkZXMgcHJvcGVydHkgd2l0aCBrZXkgXCIke1N0cmluZyhrZXkpfVwiLiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYEl0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gd2l0aCB0aGUgbmV3IHZhbHVlLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gVHlwZVNjcmlwdCBkb2Vzbid0IGFsbG93IHN5bWJvbHMgYXMgaW5kZXggdHlwZVxyXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNDU4N1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5wcm92aWRlc1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgIH07XHJcbn1cblxubGV0IGhhc01pc21hdGNoID0gZmFsc2U7XHJcbmNvbnN0IGlzU1ZHQ29udGFpbmVyID0gKGNvbnRhaW5lcikgPT4gL3N2Zy8udGVzdChjb250YWluZXIubmFtZXNwYWNlVVJJKSAmJiBjb250YWluZXIudGFnTmFtZSAhPT0gJ2ZvcmVpZ25PYmplY3QnO1xyXG5jb25zdCBpc0NvbW1lbnQgPSAobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBDT01NRU5UICovO1xyXG4vLyBOb3RlOiBoeWRyYXRpb24gaXMgRE9NLXNwZWNpZmljXHJcbi8vIEJ1dCB3ZSBoYXZlIHRvIHBsYWNlIGl0IGluIGNvcmUgZHVlIHRvIHRpZ2h0IGNvdXBsaW5nIHdpdGggY29yZSAtIHNwbGl0dGluZ1xyXG4vLyBpdCBvdXQgY3JlYXRlcyBhIHRvbiBvZiB1bm5lY2Vzc2FyeSBjb21wbGV4aXR5LlxyXG4vLyBIeWRyYXRpb24gYWxzbyBkZXBlbmRzIG9uIHNvbWUgcmVuZGVyZXIgaW50ZXJuYWwgbG9naWMgd2hpY2ggbmVlZHMgdG8gYmVcclxuLy8gcGFzc2VkIGluIHZpYSBhcmd1bWVudHMuXHJcbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGlvbkZ1bmN0aW9ucyhyZW5kZXJlckludGVybmFscykge1xyXG4gICAgY29uc3QgeyBtdDogbW91bnRDb21wb25lbnQsIHA6IHBhdGNoLCBvOiB7IHBhdGNoUHJvcCwgbmV4dFNpYmxpbmcsIHBhcmVudE5vZGUsIHJlbW92ZSwgaW5zZXJ0LCBjcmVhdGVDb21tZW50IH0gfSA9IHJlbmRlcmVySW50ZXJuYWxzO1xyXG4gICAgY29uc3QgaHlkcmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBBdHRlbXB0aW5nIHRvIGh5ZHJhdGUgZXhpc3RpbmcgbWFya3VwIGJ1dCBjb250YWluZXIgaXMgZW1wdHkuIGAgK1xyXG4gICAgICAgICAgICAgICAgYFBlcmZvcm1pbmcgZnVsbCBtb3VudCBpbnN0ZWFkLmApO1xyXG4gICAgICAgICAgICBwYXRjaChudWxsLCB2bm9kZSwgY29udGFpbmVyKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBoYXNNaXNtYXRjaCA9IGZhbHNlO1xyXG4gICAgICAgIGh5ZHJhdGVOb2RlKGNvbnRhaW5lci5maXJzdENoaWxkLCB2bm9kZSwgbnVsbCwgbnVsbCk7XHJcbiAgICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcclxuICAgICAgICBpZiAoaGFzTWlzbWF0Y2ggJiYgIWZhbHNlKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMgZXJyb3Igc2hvdWxkIHNob3cgdXAgaW4gcHJvZHVjdGlvblxyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBIeWRyYXRpb24gY29tcGxldGVkIGJ1dCBjb250YWlucyBtaXNtYXRjaGVzLmApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBoeWRyYXRlTm9kZSA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcclxuICAgICAgICBjb25zdCBpc0ZyYWdtZW50U3RhcnQgPSBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSAnWyc7XHJcbiAgICAgICAgY29uc3Qgb25NaXNtYXRjaCA9ICgpID0+IGhhbmRsZU1pc21hdGNoKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc0ZyYWdtZW50U3RhcnQpO1xyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcgfSA9IHZub2RlO1xyXG4gICAgICAgIGNvbnN0IGRvbVR5cGUgPSBub2RlLm5vZGVUeXBlO1xyXG4gICAgICAgIHZub2RlLmVsID0gbm9kZTtcclxuICAgICAgICBsZXQgbmV4dE5vZGUgPSBudWxsO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFRleHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gMyAvKiBURVhUICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhICE9PSB2bm9kZS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgSHlkcmF0aW9uIHRleHQgbWlzbWF0Y2g6YCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxcbi0gQ2xpZW50OiAke0pTT04uc3RyaW5naWZ5KG5vZGUuZGF0YSl9YCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxcbi0gU2VydmVyOiAke0pTT04uc3RyaW5naWZ5KHZub2RlLmNoaWxkcmVuKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kYXRhID0gdm5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tZW50OlxyXG4gICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDggLyogQ09NTUVOVCAqLyB8fCBpc0ZyYWdtZW50U3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTdGF0aWM6XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gMSAvKiBFTEVNRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkZXRlcm1pbmUgYW5jaG9yLCBhZG9wdCBjb250ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzdGF0aWMgdm5vZGUgaGFzIGl0cyBjb250ZW50IHN0cmlwcGVkIGR1cmluZyBidWlsZCxcclxuICAgICAgICAgICAgICAgICAgICAvLyBhZG9wdCBpdCBmcm9tIHRoZSBzZXJ2ZXItcmVuZGVyZWQgSFRNTC5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWVkVG9BZG9wdENvbnRlbnQgPSAhdm5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuc3RhdGljQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmVlZFRvQWRvcHRDb250ZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4gKz0gbmV4dE5vZGUub3V0ZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gdm5vZGUuc3RhdGljQ291bnQgLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5leHROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHROb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRnJhZ21lbnQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzRnJhZ21lbnRTdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBoeWRyYXRlRnJhZ21lbnQobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gMSAvKiBFTEVNRU5UICovIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLnR5cGUgIT09IG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBoeWRyYXRlRWxlbWVudChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gc2V0dGluZyB1cCB0aGUgcmVuZGVyIGVmZmVjdCwgaWYgdGhlIGluaXRpYWwgdm5vZGUgYWxyZWFkeVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhcyAuZWwgc2V0LCB0aGUgY29tcG9uZW50IHdpbGwgcGVyZm9ybSBoeWRyYXRpb24gaW5zdGVhZCBvZiBtb3VudFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9uIGl0cyBzdWItdHJlZS5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGh5ZHJhdGVDb21wb25lbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdW50Q29tcG9uZW50KHZub2RlLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHQ29udGFpbmVyKGNvbnRhaW5lciksIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhc3luYyBjb21wb25lbnRcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2FkQXN5bmMgPSB2bm9kZS50eXBlLl9fYXN5bmNMb2FkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvYWRBc3luYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkQXN5bmMoKS50aGVuKGh5ZHJhdGVDb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHlkcmF0ZUNvbXBvbmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGJlIGFzeW5jLCBzbyBpbiB0aGUgY2FzZSBvZiBmcmFnbWVudHMgd2UgY2Fubm90IHJlbHlcclxuICAgICAgICAgICAgICAgICAgICAvLyBvbiBjb21wb25lbnQncyByZW5kZXJlZCBvdXRwdXQgdG8gZGV0ZXJtaW5lIHRoZSBlbmQgb2YgdGhlIGZyYWdtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5zdGVhZCwgd2UgZG8gYSBsb29rYWhlYWQgdG8gZmluZCB0aGUgZW5kIGFuY2hvciBub2RlLlxyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gaXNGcmFnbWVudFN0YXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbG9jYXRlQ2xvc2luZ0FzeW5jQW5jaG9yKG5vZGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSA4IC8qIENPTU1FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZUNoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICggc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHQ29udGFpbmVyKHBhcmVudE5vZGUobm9kZSkpLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBoeWRyYXRlTm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKCdJbnZhbGlkIEhvc3RWTm9kZSB0eXBlOicsIHR5cGUsIGAoJHt0eXBlb2YgdHlwZX0pYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZWYgIT0gbnVsbCAmJiBwYXJlbnRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgc2V0UmVmKHJlZiwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV4dE5vZGU7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaHlkcmF0ZUVsZW1lbnQgPSAoZWwsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW47XHJcbiAgICAgICAgY29uc3QgeyBwcm9wcywgcGF0Y2hGbGFnLCBzaGFwZUZsYWcsIGRpcnMgfSA9IHZub2RlO1xyXG4gICAgICAgIC8vIHNraXAgcHJvcHMgJiBjaGlsZHJlbiBpZiB0aGlzIGlzIGhvaXN0ZWQgc3RhdGljIG5vZGVzXHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAhPT0gLTEgLyogSE9JU1RFRCAqLykge1xyXG4gICAgICAgICAgICBpZiAoZGlycykge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnY3JlYXRlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHByb3BzXHJcbiAgICAgICAgICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpbWl6ZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICAocGF0Y2hGbGFnICYgMTYgLyogRlVMTF9QUk9QUyAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaEZsYWcgJiAzMiAvKiBIWURSQVRFX0VWRU5UUyAqLykpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcm9wKGtleSkgJiYgaXNPbihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRjaFByb3AoZWwsIGtleSwgbnVsbCwgcHJvcHNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wcy5vbkNsaWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmFzdCBwYXRoIGZvciBjbGljayBsaXN0ZW5lcnMgKHdoaWNoIGlzIG1vc3Qgb2Z0ZW4pIHRvIGF2b2lkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRlcmF0aW5nIHRocm91Z2ggcHJvcHMuXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hQcm9wKGVsLCAnb25DbGljaycsIG51bGwsIHByb3BzLm9uQ2xpY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHZub2RlIC8gZGlyZWN0aXZlIGhvb2tzXHJcbiAgICAgICAgICAgIGxldCB2bm9kZUhvb2tzO1xyXG4gICAgICAgICAgICBpZiAoKHZub2RlSG9va3MgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZU1vdW50Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8IGRpcnMpIHtcclxuICAgICAgICAgICAgICAgIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2bm9kZUhvb2tzICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ21vdW50ZWQnKTtcclxuICAgICAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjaGlsZHJlblxyXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8gJiZcclxuICAgICAgICAgICAgICAgIC8vIHNraXAgaWYgZWxlbWVudCBoYXMgaW5uZXJIVE1MIC8gdGV4dENvbnRlbnRcclxuICAgICAgICAgICAgICAgICEocHJvcHMgJiYgKHByb3BzLmlubmVySFRNTCB8fCBwcm9wcy50ZXh0Q29udGVudCkpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGh5ZHJhdGVDaGlsZHJlbihlbC5maXJzdENoaWxkLCB2bm9kZSwgZWwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXNXYXJuZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIGluIDwke3Zub2RlLnR5cGV9PjogYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgc2VydmVyIHJlbmRlcmVkIGVsZW1lbnQgY29udGFpbnMgbW9yZSBjaGlsZCBub2RlcyB0aGFuIGNsaWVudCB2ZG9tLmApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgU1NSZWQgRE9NIGNvbnRhaW5zIG1vcmUgbm9kZXMgdGhhbiBpdCBzaG91bGQuIFJlbW92ZSB0aGVtLlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1ciA9IG5leHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKGN1cik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWwudGV4dENvbnRlbnQgIT09IHZub2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gdGV4dCBjb250ZW50IG1pc21hdGNoIGluIDwke3Zub2RlLnR5cGV9PjpcXG5gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtIENsaWVudDogJHtlbC50ZXh0Q29udGVudH1cXG5gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtIFNlcnZlcjogJHt2bm9kZS5jaGlsZHJlbn1gKTtcclxuICAgICAgICAgICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IHZub2RlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbC5uZXh0U2libGluZztcclxuICAgIH07XHJcbiAgICBjb25zdCBoeWRyYXRlQ2hpbGRyZW4gPSAobm9kZSwgcGFyZW50Vk5vZGUsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhcGFyZW50Vk5vZGUuZHluYW1pY0NoaWxkcmVuO1xyXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gcGFyZW50Vk5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgY29uc3QgbCA9IGNoaWxkcmVuLmxlbmd0aDtcclxuICAgICAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgdm5vZGUgPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgID8gY2hpbGRyZW5baV1cclxuICAgICAgICAgICAgICAgIDogKGNoaWxkcmVuW2ldID0gbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pKTtcclxuICAgICAgICAgICAgaWYgKG5vZGUpIHtcclxuICAgICAgICAgICAgICAgIG5vZGUgPSBoeWRyYXRlTm9kZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWhhc1dhcm5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEh5ZHJhdGlvbiBjaGlsZHJlbiBtaXNtYXRjaCBpbiA8JHtjb250YWluZXIudGFnTmFtZS50b0xvd2VyQ2FzZSgpfT46IGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgc2VydmVyIHJlbmRlcmVkIGVsZW1lbnQgY29udGFpbnMgZmV3ZXIgY2hpbGQgbm9kZXMgdGhhbiBjbGllbnQgdmRvbS5gKTtcclxuICAgICAgICAgICAgICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIFNTUmVkIERPTSBkaWRuJ3QgY29udGFpbiBlbm91Z2ggbm9kZXMuIE1vdW50IHRoZSBtaXNzaW5nIG9uZXMuXHJcbiAgICAgICAgICAgICAgICBwYXRjaChudWxsLCB2bm9kZSwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWR0NvbnRhaW5lcihjb250YWluZXIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH07XHJcbiAgICBjb25zdCBoeWRyYXRlRnJhZ21lbnQgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XHJcbiAgICAgICAgY29uc3QgbmV4dCA9IGh5ZHJhdGVDaGlsZHJlbihuZXh0U2libGluZyhub2RlKSwgdm5vZGUsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkKTtcclxuICAgICAgICBpZiAobmV4dCAmJiBpc0NvbW1lbnQobmV4dCkgJiYgbmV4dC5kYXRhID09PSAnXScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKCh2bm9kZS5hbmNob3IgPSBuZXh0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBmcmFnbWVudCBkaWRuJ3QgaHlkcmF0ZSBzdWNjZXNzZnVsbHksIHNpbmNlIHdlIGRpZG4ndCBnZXQgYSBlbmQgYW5jaG9yXHJcbiAgICAgICAgICAgIC8vIGJhY2suIFRoaXMgc2hvdWxkIGhhdmUgbGVkIHRvIG5vZGUvY2hpbGRyZW4gbWlzbWF0Y2ggd2FybmluZ3MuXHJcbiAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gc2luY2UgdGhlIGFuY2hvciBpcyBtaXNzaW5nLCB3ZSBuZWVkIHRvIGNyZWF0ZSBvbmUgYW5kIGluc2VydCBpdFxyXG4gICAgICAgICAgICBpbnNlcnQoKHZub2RlLmFuY2hvciA9IGNyZWF0ZUNvbW1lbnQoYF1gKSksIGNvbnRhaW5lciwgbmV4dCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBoYW5kbGVNaXNtYXRjaCA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNGcmFnbWVudCkgPT4ge1xyXG4gICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgd2FybihgSHlkcmF0aW9uIG5vZGUgbWlzbWF0Y2g6XFxuLSBDbGllbnQgdm5vZGU6YCwgdm5vZGUudHlwZSwgYFxcbi0gU2VydmVyIHJlbmRlcmVkIERPTTpgLCBub2RlLCBub2RlLm5vZGVUeXBlID09PSAzIC8qIFRFWFQgKi9cclxuICAgICAgICAgICAgICAgID8gYCh0ZXh0KWBcclxuICAgICAgICAgICAgICAgIDogaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gJ1snXHJcbiAgICAgICAgICAgICAgICAgICAgPyBgKHN0YXJ0IG9mIGZyYWdtZW50KWBcclxuICAgICAgICAgICAgICAgICAgICA6IGBgKTtcclxuICAgICAgICB2bm9kZS5lbCA9IG51bGw7XHJcbiAgICAgICAgaWYgKGlzRnJhZ21lbnQpIHtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGV4Y2Vzc2l2ZSBmcmFnbWVudCBub2Rlc1xyXG4gICAgICAgICAgICBjb25zdCBlbmQgPSBsb2NhdGVDbG9zaW5nQXN5bmNBbmNob3Iobm9kZSk7XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0ICE9PSBlbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmUobmV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBuZXh0ID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcclxuICAgICAgICByZW1vdmUobm9kZSk7XHJcbiAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lciwgbmV4dCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIoY29udGFpbmVyKSk7XHJcbiAgICAgICAgcmV0dXJuIG5leHQ7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbG9jYXRlQ2xvc2luZ0FzeW5jQW5jaG9yID0gKG5vZGUpID0+IHtcclxuICAgICAgICBsZXQgbWF0Y2ggPSAwO1xyXG4gICAgICAgIHdoaWxlIChub2RlKSB7XHJcbiAgICAgICAgICAgIG5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICAgICAgaWYgKG5vZGUgJiYgaXNDb21tZW50KG5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhID09PSAnWycpXHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2grKztcclxuICAgICAgICAgICAgICAgIGlmIChub2RlLmRhdGEgPT09ICddJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaC0tO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gW2h5ZHJhdGUsIGh5ZHJhdGVOb2RlXTtcclxufVxuXG5sZXQgc3VwcG9ydGVkO1xyXG5sZXQgcGVyZjtcclxuZnVuY3Rpb24gc3RhcnRNZWFzdXJlKGluc3RhbmNlLCB0eXBlKSB7XHJcbiAgICBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcucGVyZm9ybWFuY2UgJiYgaXNTdXBwb3J0ZWQoKSkge1xyXG4gICAgICAgIHBlcmYubWFyayhgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZW5kTWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xyXG4gICAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcclxuICAgICAgICBjb25zdCBzdGFydFRhZyA9IGB2dWUtJHt0eXBlfS0ke2luc3RhbmNlLnVpZH1gO1xyXG4gICAgICAgIGNvbnN0IGVuZFRhZyA9IHN0YXJ0VGFnICsgYDplbmRgO1xyXG4gICAgICAgIHBlcmYubWFyayhlbmRUYWcpO1xyXG4gICAgICAgIHBlcmYubWVhc3VyZShgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgaW5zdGFuY2UudHlwZSl9PiAke3R5cGV9YCwgc3RhcnRUYWcsIGVuZFRhZyk7XHJcbiAgICAgICAgcGVyZi5jbGVhck1hcmtzKHN0YXJ0VGFnKTtcclxuICAgICAgICBwZXJmLmNsZWFyTWFya3MoZW5kVGFnKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcclxuICAgIGlmIChzdXBwb3J0ZWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBzdXBwb3J0ZWQ7XHJcbiAgICB9XHJcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucGVyZm9ybWFuY2UpIHtcclxuICAgICAgICBzdXBwb3J0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHBlcmYgPSB3aW5kb3cucGVyZm9ybWFuY2U7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBzdXBwb3J0ZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbiAgICByZXR1cm4gc3VwcG9ydGVkO1xyXG59XG5cbi8qKlxyXG4gKiBUaGlzIGlzIG9ubHkgY2FsbGVkIGluIGVzbS1idW5kbGVyIGJ1aWxkcy5cclxuICogSXQgaXMgY2FsbGVkIHdoZW4gYSByZW5kZXJlciBpcyBjcmVhdGVkLCBpbiBgYmFzZUNyZWF0ZVJlbmRlcmVyYCBzbyB0aGF0XHJcbiAqIGltcG9ydGluZyBydW50aW1lLWNvcmUgaXMgc2lkZS1lZmZlY3RzIGZyZWUuXHJcbiAqXHJcbiAqIGlzdGFuYnVsLWlnbm9yZS1uZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0RmVhdHVyZUZsYWdzKCkge1xyXG4gICAgbGV0IG5lZWRXYXJuID0gZmFsc2U7XHJcbiAgICBpZiAodHlwZW9mIF9fVlVFX09QVElPTlNfQVBJX18gIT09ICdib29sZWFuJykge1xyXG4gICAgICAgIG5lZWRXYXJuID0gdHJ1ZTtcclxuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfT1BUSU9OU19BUElfXyA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIF9fVlVFX1BST0RfREVWVE9PTFNfXyAhPT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgbmVlZFdhcm4gPSB0cnVlO1xyXG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9QUk9EX0RFVlRPT0xTX18gPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbmVlZFdhcm4pIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFlvdSBhcmUgcnVubmluZyB0aGUgZXNtLWJ1bmRsZXIgYnVpbGQgb2YgVnVlLiBJdCBpcyByZWNvbW1lbmRlZCB0byBgICtcclxuICAgICAgICAgICAgYGNvbmZpZ3VyZSB5b3VyIGJ1bmRsZXIgdG8gZXhwbGljaXRseSByZXBsYWNlIGZlYXR1cmUgZmxhZyBnbG9iYWxzIGAgK1xyXG4gICAgICAgICAgICBgd2l0aCBib29sZWFuIGxpdGVyYWxzIHRvIGdldCBwcm9wZXIgdHJlZS1zaGFraW5nIGluIHRoZSBmaW5hbCBidW5kbGUuIGAgK1xyXG4gICAgICAgICAgICBgU2VlIGh0dHA6Ly9saW5rLnZ1ZWpzLm9yZy9mZWF0dXJlLWZsYWdzIGZvciBtb3JlIGRldGFpbHMuYCk7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgcHJvZEVmZmVjdE9wdGlvbnMgPSB7XHJcbiAgICBzY2hlZHVsZXI6IHF1ZXVlSm9iLFxyXG4gICAgLy8gIzE4MDEsICMyMDQzIGNvbXBvbmVudCByZW5kZXIgZWZmZWN0cyBzaG91bGQgYWxsb3cgcmVjdXJzaXZlIHVwZGF0ZXNcclxuICAgIGFsbG93UmVjdXJzZTogdHJ1ZVxyXG59O1xyXG5mdW5jdGlvbiBjcmVhdGVEZXZFZmZlY3RPcHRpb25zKGluc3RhbmNlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHNjaGVkdWxlcjogcXVldWVKb2IsXHJcbiAgICAgICAgYWxsb3dSZWN1cnNlOiB0cnVlLFxyXG4gICAgICAgIG9uVHJhY2s6IGluc3RhbmNlLnJ0YyA/IGUgPT4gaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UucnRjLCBlKSA6IHZvaWQgMCxcclxuICAgICAgICBvblRyaWdnZXI6IGluc3RhbmNlLnJ0ZyA/IGUgPT4gaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UucnRnLCBlKSA6IHZvaWQgMFxyXG4gICAgfTtcclxufVxyXG5jb25zdCBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QgPSAgcXVldWVFZmZlY3RXaXRoU3VzcGVuc2VcclxuICAgIDtcclxuY29uc3Qgc2V0UmVmID0gKHJhd1JlZiwgb2xkUmF3UmVmLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSkgPT4ge1xyXG4gICAgaWYgKGlzQXJyYXkocmF3UmVmKSkge1xyXG4gICAgICAgIHJhd1JlZi5mb3JFYWNoKChyLCBpKSA9PiBzZXRSZWYociwgb2xkUmF3UmVmICYmIChpc0FycmF5KG9sZFJhd1JlZikgPyBvbGRSYXdSZWZbaV0gOiBvbGRSYXdSZWYpLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSkpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCB2YWx1ZTtcclxuICAgIGlmICghdm5vZGUpIHtcclxuICAgICAgICB2YWx1ZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi8pIHtcclxuICAgICAgICAgICAgdmFsdWUgPSB2bm9kZS5jb21wb25lbnQucHJveHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHZub2RlLmVsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHsgaTogb3duZXIsIHI6IHJlZiB9ID0gcmF3UmVmO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhb3duZXIpIHtcclxuICAgICAgICB3YXJuKGBNaXNzaW5nIHJlZiBvd25lciBjb250ZXh0LiByZWYgY2Fubm90IGJlIHVzZWQgb24gaG9pc3RlZCB2bm9kZXMuIGAgK1xyXG4gICAgICAgICAgICBgQSB2bm9kZSB3aXRoIHJlZiBtdXN0IGJlIGNyZWF0ZWQgaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24uYCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgb2xkUmVmID0gb2xkUmF3UmVmICYmIG9sZFJhd1JlZi5yO1xyXG4gICAgY29uc3QgcmVmcyA9IG93bmVyLnJlZnMgPT09IEVNUFRZX09CSiA/IChvd25lci5yZWZzID0ge30pIDogb3duZXIucmVmcztcclxuICAgIGNvbnN0IHNldHVwU3RhdGUgPSBvd25lci5zZXR1cFN0YXRlO1xyXG4gICAgLy8gdW5zZXQgb2xkIHJlZlxyXG4gICAgaWYgKG9sZFJlZiAhPSBudWxsICYmIG9sZFJlZiAhPT0gcmVmKSB7XHJcbiAgICAgICAgaWYgKGlzU3RyaW5nKG9sZFJlZikpIHtcclxuICAgICAgICAgICAgcmVmc1tvbGRSZWZdID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKGhhc093bihzZXR1cFN0YXRlLCBvbGRSZWYpKSB7XHJcbiAgICAgICAgICAgICAgICBzZXR1cFN0YXRlW29sZFJlZl0gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzUmVmKG9sZFJlZikpIHtcclxuICAgICAgICAgICAgb2xkUmVmLnZhbHVlID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoaXNTdHJpbmcocmVmKSkge1xyXG4gICAgICAgIGNvbnN0IGRvU2V0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICByZWZzW3JlZl0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgaWYgKGhhc093bihzZXR1cFN0YXRlLCByZWYpKSB7XHJcbiAgICAgICAgICAgICAgICBzZXR1cFN0YXRlW3JlZl0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gIzE3ODk6IGZvciBub24tbnVsbCB2YWx1ZXMsIHNldCB0aGVtIGFmdGVyIHJlbmRlclxyXG4gICAgICAgIC8vIG51bGwgdmFsdWVzIG1lYW5zIHRoaXMgaXMgdW5tb3VudCBhbmQgaXQgc2hvdWxkIG5vdCBvdmVyd3JpdGUgYW5vdGhlclxyXG4gICAgICAgIC8vIHJlZiB3aXRoIHRoZSBzYW1lIGtleVxyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBkb1NldC5pZCA9IC0xO1xyXG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZG9TZXQsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvU2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNSZWYocmVmKSkge1xyXG4gICAgICAgIGNvbnN0IGRvU2V0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICByZWYudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBkb1NldC5pZCA9IC0xO1xyXG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZG9TZXQsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvU2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihyZWYpKSB7XHJcbiAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKHJlZiwgcGFyZW50Q29tcG9uZW50LCAxMiAvKiBGVU5DVElPTl9SRUYgKi8sIFtcclxuICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgIHJlZnNcclxuICAgICAgICBdKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oJ0ludmFsaWQgdGVtcGxhdGUgcmVmIHR5cGU6JywgdmFsdWUsIGAoJHt0eXBlb2YgdmFsdWV9KWApO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogVGhlIGNyZWF0ZVJlbmRlcmVyIGZ1bmN0aW9uIGFjY2VwdHMgdHdvIGdlbmVyaWMgYXJndW1lbnRzOlxyXG4gKiBIb3N0Tm9kZSBhbmQgSG9zdEVsZW1lbnQsIGNvcnJlc3BvbmRpbmcgdG8gTm9kZSBhbmQgRWxlbWVudCB0eXBlcyBpbiB0aGVcclxuICogaG9zdCBlbnZpcm9ubWVudC4gRm9yIGV4YW1wbGUsIGZvciBydW50aW1lLWRvbSwgSG9zdE5vZGUgd291bGQgYmUgdGhlIERPTVxyXG4gKiBgTm9kZWAgaW50ZXJmYWNlIGFuZCBIb3N0RWxlbWVudCB3b3VsZCBiZSB0aGUgRE9NIGBFbGVtZW50YCBpbnRlcmZhY2UuXHJcbiAqXHJcbiAqIEN1c3RvbSByZW5kZXJlcnMgY2FuIHBhc3MgaW4gdGhlIHBsYXRmb3JtIHNwZWNpZmljIHR5cGVzIGxpa2UgdGhpczpcclxuICpcclxuICogYGBgIGpzXHJcbiAqIGNvbnN0IHsgcmVuZGVyLCBjcmVhdGVBcHAgfSA9IGNyZWF0ZVJlbmRlcmVyPE5vZGUsIEVsZW1lbnQ+KHtcclxuICogICBwYXRjaFByb3AsXHJcbiAqICAgLi4ubm9kZU9wc1xyXG4gKiB9KVxyXG4gKiBgYGBcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucyk7XHJcbn1cclxuLy8gU2VwYXJhdGUgQVBJIGZvciBjcmVhdGluZyBoeWRyYXRpb24tZW5hYmxlZCByZW5kZXJlci5cclxuLy8gSHlkcmF0aW9uIGxvZ2ljIGlzIG9ubHkgdXNlZCB3aGVuIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiwgbWFraW5nIGl0XHJcbi8vIHRyZWUtc2hha2FibGUuXHJcbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucywgY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKTtcclxufVxyXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucywgY3JlYXRlSHlkcmF0aW9uRm5zKSB7XHJcbiAgICAvLyBjb21waWxlLXRpbWUgZmVhdHVyZSBmbGFncyBjaGVja1xyXG4gICAge1xyXG4gICAgICAgIGluaXRGZWF0dXJlRmxhZ3MoKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgaW5zZXJ0OiBob3N0SW5zZXJ0LCByZW1vdmU6IGhvc3RSZW1vdmUsIHBhdGNoUHJvcDogaG9zdFBhdGNoUHJvcCwgZm9yY2VQYXRjaFByb3A6IGhvc3RGb3JjZVBhdGNoUHJvcCwgY3JlYXRlRWxlbWVudDogaG9zdENyZWF0ZUVsZW1lbnQsIGNyZWF0ZVRleHQ6IGhvc3RDcmVhdGVUZXh0LCBjcmVhdGVDb21tZW50OiBob3N0Q3JlYXRlQ29tbWVudCwgc2V0VGV4dDogaG9zdFNldFRleHQsIHNldEVsZW1lbnRUZXh0OiBob3N0U2V0RWxlbWVudFRleHQsIHBhcmVudE5vZGU6IGhvc3RQYXJlbnROb2RlLCBuZXh0U2libGluZzogaG9zdE5leHRTaWJsaW5nLCBzZXRTY29wZUlkOiBob3N0U2V0U2NvcGVJZCA9IE5PT1AsIGNsb25lTm9kZTogaG9zdENsb25lTm9kZSwgaW5zZXJ0U3RhdGljQ29udGVudDogaG9zdEluc2VydFN0YXRpY0NvbnRlbnQgfSA9IG9wdGlvbnM7XHJcbiAgICAvLyBOb3RlOiBmdW5jdGlvbnMgaW5zaWRlIHRoaXMgY2xvc3VyZSBzaG91bGQgdXNlIGBjb25zdCB4eHggPSAoKSA9PiB7fWBcclxuICAgIC8vIHN0eWxlIGluIG9yZGVyIHRvIHByZXZlbnQgYmVpbmcgaW5saW5lZCBieSBtaW5pZmllcnMuXHJcbiAgICBjb25zdCBwYXRjaCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yID0gbnVsbCwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCwgcGFyZW50U3VzcGVuc2UgPSBudWxsLCBpc1NWRyA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xyXG4gICAgICAgIC8vIHBhdGNoaW5nICYgbm90IHNhbWUgdHlwZSwgdW5tb3VudCBvbGQgdHJlZVxyXG4gICAgICAgIGlmIChuMSAmJiAhaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcclxuICAgICAgICAgICAgYW5jaG9yID0gZ2V0TmV4dEhvc3ROb2RlKG4xKTtcclxuICAgICAgICAgICAgdW5tb3VudChuMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIG4xID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG4yLnBhdGNoRmxhZyA9PT0gLTIgLyogQkFJTCAqLykge1xyXG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgbjIuZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyB0eXBlLCByZWYsIHNoYXBlRmxhZyB9ID0gbjI7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVGV4dDpcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NUZXh0KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWVudDpcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NDb21tZW50Tm9kZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFN0YXRpYzpcclxuICAgICAgICAgICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91bnRTdGF0aWNOb2RlKG4yLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hTdGF0aWNOb2RlKG4xLCBuMiwgY29udGFpbmVyLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGcmFnbWVudDpcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NGcmFnbWVudChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFbGVtZW50KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzQ29tcG9uZW50KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlLnByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCwgaW50ZXJuYWxzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCBzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlLnByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCwgaW50ZXJuYWxzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ0ludmFsaWQgVk5vZGUgdHlwZTonLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZXQgcmVmXHJcbiAgICAgICAgaWYgKHJlZiAhPSBudWxsICYmIHBhcmVudENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBzZXRSZWYocmVmLCBuMSAmJiBuMS5yZWYsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG4yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvY2Vzc1RleHQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoKG4yLmVsID0gaG9zdENyZWF0ZVRleHQobjIuY2hpbGRyZW4pKSwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgZWwgPSAobjIuZWwgPSBuMS5lbCk7XHJcbiAgICAgICAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGhvc3RTZXRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvY2Vzc0NvbW1lbnROb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcclxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KChuMi5lbCA9IGhvc3RDcmVhdGVDb21tZW50KG4yLmNoaWxkcmVuIHx8ICcnKSksIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gc3VwcG9ydCBmb3IgZHluYW1pYyBjb21tZW50c1xyXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudFN0YXRpY05vZGUgPSAobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KG4yLmNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGV2IC8gSE1SIG9ubHlcclxuICAgICAqL1xyXG4gICAgY29uc3QgcGF0Y2hTdGF0aWNOb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIC8vIHN0YXRpYyBub2RlcyBhcmUgb25seSBwYXRjaGVkIGR1cmluZyBkZXYgZm9yIEhNUlxyXG4gICAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gaG9zdE5leHRTaWJsaW5nKG4xLmFuY2hvcik7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBleGlzdGluZ1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0aWNOb2RlKG4xKTtcclxuICAgICAgICAgICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQobjIuY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgICAgICAgICBuMi5hbmNob3IgPSBuMS5hbmNob3I7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGV2IC8gSE1SIG9ubHlcclxuICAgICAqL1xyXG4gICAgY29uc3QgbW92ZVN0YXRpY05vZGUgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XHJcbiAgICAgICAgbGV0IGN1ciA9IHZub2RlLmVsO1xyXG4gICAgICAgIGNvbnN0IGVuZCA9IHZub2RlLmFuY2hvcjtcclxuICAgICAgICB3aGlsZSAoY3VyICYmIGN1ciAhPT0gZW5kKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBob3N0TmV4dFNpYmxpbmcoY3VyKTtcclxuICAgICAgICAgICAgaG9zdEluc2VydChjdXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgY3VyID0gbmV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaG9zdEluc2VydChlbmQsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERldiAvIEhNUiBvbmx5XHJcbiAgICAgKi9cclxuICAgIGNvbnN0IHJlbW92ZVN0YXRpY05vZGUgPSAodm5vZGUpID0+IHtcclxuICAgICAgICBsZXQgY3VyID0gdm5vZGUuZWw7XHJcbiAgICAgICAgd2hpbGUgKGN1ciAmJiBjdXIgIT09IHZub2RlLmFuY2hvcikge1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGN1cik7XHJcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoY3VyKTtcclxuICAgICAgICAgICAgY3VyID0gbmV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaG9zdFJlbW92ZSh2bm9kZS5hbmNob3IpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHByb2Nlc3NFbGVtZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IG4yLnR5cGUgPT09ICdzdmcnO1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIG1vdW50RWxlbWVudChuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0Y2hFbGVtZW50KG4xLCBuMiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG1vdW50RWxlbWVudCA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBsZXQgZWw7XHJcbiAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICBjb25zdCB7IHR5cGUsIHByb3BzLCBzaGFwZUZsYWcsIHRyYW5zaXRpb24sIHNjb3BlSWQsIHBhdGNoRmxhZywgZGlycyB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgdm5vZGUuZWwgJiZcclxuICAgICAgICAgICAgaG9zdENsb25lTm9kZSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIHBhdGNoRmxhZyA9PT0gLTEgLyogSE9JU1RFRCAqLykge1xyXG4gICAgICAgICAgICAvLyBJZiBhIHZub2RlIGhhcyBub24tbnVsbCBlbCwgaXQgbWVhbnMgaXQncyBiZWluZyByZXVzZWQuXHJcbiAgICAgICAgICAgIC8vIE9ubHkgc3RhdGljIHZub2RlcyBjYW4gYmUgcmV1c2VkLCBzbyBpdHMgbW91bnRlZCBET00gbm9kZXMgc2hvdWxkIGJlXHJcbiAgICAgICAgICAgIC8vIGV4YWN0bHkgdGhlIHNhbWUsIGFuZCB3ZSBjYW4gc2ltcGx5IGRvIGEgY2xvbmUgaGVyZS5cclxuICAgICAgICAgICAgLy8gb25seSBkbyB0aGlzIGluIHByb2R1Y3Rpb24gc2luY2UgY2xvbmVkIHRyZWVzIGNhbm5vdCBiZSBITVIgdXBkYXRlZC5cclxuICAgICAgICAgICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDbG9uZU5vZGUodm5vZGUuZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDcmVhdGVFbGVtZW50KHZub2RlLnR5cGUsIGlzU1ZHLCBwcm9wcyAmJiBwcm9wcy5pcyk7XHJcbiAgICAgICAgICAgIC8vIG1vdW50IGNoaWxkcmVuIGZpcnN0LCBzaW5jZSBzb21lIHByb3BzIG1heSByZWx5IG9uIGNoaWxkIGNvbnRlbnRcclxuICAgICAgICAgICAgLy8gYmVpbmcgYWxyZWFkeSByZW5kZXJlZCwgZS5nLiBgPHNlbGVjdCB2YWx1ZT5gXHJcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiA4IC8qIFRFWFRfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgdm5vZGUuY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudENoaWxkcmVuKHZub2RlLmNoaWxkcmVuLCBlbCwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcgJiYgdHlwZSAhPT0gJ2ZvcmVpZ25PYmplY3QnLCBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdjcmVhdGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJvcHNcclxuICAgICAgICAgICAgaWYgKHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0sIGlzU1ZHLCB2bm9kZS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBzY29wZUlkXHJcbiAgICAgICAgICAgIHNldFNjb3BlSWQoZWwsIHNjb3BlSWQsIHZub2RlLCBwYXJlbnRDb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWwsICdfX3Zub2RlJywge1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZub2RlLFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgJ19fdnVlUGFyZW50Q29tcG9uZW50Jywge1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHBhcmVudENvbXBvbmVudCxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGlycykge1xyXG4gICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdiZWZvcmVNb3VudCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAjMTU4MyBGb3IgaW5zaWRlIHN1c3BlbnNlICsgc3VzcGVuc2Ugbm90IHJlc29sdmVkIGNhc2UsIGVudGVyIGhvb2sgc2hvdWxkIGNhbGwgd2hlbiBzdXNwZW5zZSByZXNvbHZlZFxyXG4gICAgICAgIC8vICMxNjg5IEZvciBpbnNpZGUgc3VzcGVuc2UgKyBzdXNwZW5zZSByZXNvbHZlZCBjYXNlLCBqdXN0IGNhbGwgaXRcclxuICAgICAgICBjb25zdCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyA9ICghcGFyZW50U3VzcGVuc2UgfHwgKHBhcmVudFN1c3BlbnNlICYmICFwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSkgJiZcclxuICAgICAgICAgICAgdHJhbnNpdGlvbiAmJlxyXG4gICAgICAgICAgICAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQ7XHJcbiAgICAgICAgaWYgKG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkgfHxcclxuICAgICAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgfHxcclxuICAgICAgICAgICAgZGlycykge1xyXG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgJiYgdHJhbnNpdGlvbi5lbnRlcihlbCk7XHJcbiAgICAgICAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ21vdW50ZWQnKTtcclxuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBzZXRTY29wZUlkID0gKGVsLCBzY29wZUlkLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHNjb3BlSWQpIHtcclxuICAgICAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNjb3BlSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGFyZW50Q29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyZWVPd25lcklkID0gcGFyZW50Q29tcG9uZW50LnR5cGUuX19zY29wZUlkO1xyXG4gICAgICAgICAgICAvLyB2bm9kZSdzIG93biBzY29wZUlkIGFuZCB0aGUgY3VycmVudCBwYXRjaGVkIGNvbXBvbmVudCdzIHNjb3BlSWQgaXNcclxuICAgICAgICAgICAgLy8gZGlmZmVyZW50IC0gdGhpcyBpcyBhIHNsb3QgY29udGVudCBub2RlLlxyXG4gICAgICAgICAgICBpZiAodHJlZU93bmVySWQgJiYgdHJlZU93bmVySWQgIT09IHNjb3BlSWQpIHtcclxuICAgICAgICAgICAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCB0cmVlT3duZXJJZCArICctcycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBzdWJUcmVlID0gcGFyZW50Q29tcG9uZW50LnN1YlRyZWU7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc3ViVHJlZS50eXBlID09PSBGcmFnbWVudCkge1xyXG4gICAgICAgICAgICAgICAgc3ViVHJlZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyU2luZ2xlUm9vdChzdWJUcmVlLmNoaWxkcmVuKSB8fCBzdWJUcmVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2bm9kZSA9PT0gc3ViVHJlZSkge1xyXG4gICAgICAgICAgICAgICAgc2V0U2NvcGVJZChlbCwgcGFyZW50Q29tcG9uZW50LnZub2RlLnNjb3BlSWQsIHBhcmVudENvbXBvbmVudC52bm9kZSwgcGFyZW50Q29tcG9uZW50LnBhcmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbW91bnRDaGlsZHJlbiA9IChjaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQsIHN0YXJ0ID0gMCkgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gKGNoaWxkcmVuW2ldID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGNoaWxkcmVuW2ldKVxyXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpXSkpO1xyXG4gICAgICAgICAgICBwYXRjaChudWxsLCBjaGlsZCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaEVsZW1lbnQgPSAobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZWwgPSAobjIuZWwgPSBuMS5lbCk7XHJcbiAgICAgICAgbGV0IHsgcGF0Y2hGbGFnLCBkeW5hbWljQ2hpbGRyZW4sIGRpcnMgfSA9IG4yO1xyXG4gICAgICAgIC8vICMxNDI2IHRha2UgdGhlIG9sZCB2bm9kZSdzIHBhdGNoIGZsYWcgaW50byBhY2NvdW50IHNpbmNlIHVzZXIgbWF5IGNsb25lIGFcclxuICAgICAgICAvLyBjb21waWxlci1nZW5lcmF0ZWQgdm5vZGUsIHdoaWNoIGRlLW9wdHMgdG8gRlVMTF9QUk9QU1xyXG4gICAgICAgIHBhdGNoRmxhZyB8PSBuMS5wYXRjaEZsYWcgJiAxNiAvKiBGVUxMX1BST1BTICovO1xyXG4gICAgICAgIGNvbnN0IG9sZFByb3BzID0gbjEucHJvcHMgfHwgRU1QVFlfT0JKO1xyXG4gICAgICAgIGNvbnN0IG5ld1Byb3BzID0gbjIucHJvcHMgfHwgRU1QVFlfT0JKO1xyXG4gICAgICAgIGxldCB2bm9kZUhvb2s7XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXdQcm9wcy5vblZub2RlQmVmb3JlVXBkYXRlKSkge1xyXG4gICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIG4yLCBuMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sobjIsIG4xLCBwYXJlbnRDb21wb25lbnQsICdiZWZvcmVVcGRhdGUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAodHJ1ZSApICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaEZsYWcgPSAwO1xyXG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcclxuICAgICAgICAgICAgLy8gdGhlIHByZXNlbmNlIG9mIGEgcGF0Y2hGbGFnIG1lYW5zIHRoaXMgZWxlbWVudCdzIHJlbmRlciBjb2RlIHdhc1xyXG4gICAgICAgICAgICAvLyBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyIGFuZCBjYW4gdGFrZSB0aGUgZmFzdCBwYXRoLlxyXG4gICAgICAgICAgICAvLyBpbiB0aGlzIHBhdGggb2xkIG5vZGUgYW5kIG5ldyBub2RlIGFyZSBndWFyYW50ZWVkIHRvIGhhdmUgdGhlIHNhbWUgc2hhcGVcclxuICAgICAgICAgICAgLy8gKGkuZS4gYXQgdGhlIGV4YWN0IHNhbWUgcG9zaXRpb24gaW4gdGhlIHNvdXJjZSB0ZW1wbGF0ZSlcclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi8pIHtcclxuICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgcHJvcHMgY29udGFpbiBkeW5hbWljIGtleXMsIGZ1bGwgZGlmZiBuZWVkZWRcclxuICAgICAgICAgICAgICAgIHBhdGNoUHJvcHMoZWwsIG4yLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBkeW5hbWljIGNsYXNzIGJpbmRpbmdzLlxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDIgLyogQ0xBU1MgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2xkUHJvcHMuY2xhc3MgIT09IG5ld1Byb3BzLmNsYXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsICdjbGFzcycsIG51bGwsIG5ld1Byb3BzLmNsYXNzLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gc3R5bGVcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgZmxhZyBpcyBtYXRjaGVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGR5bmFtaWMgc3R5bGUgYmluZGluZ3NcclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiA0IC8qIFNUWUxFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgJ3N0eWxlJywgb2xkUHJvcHMuc3R5bGUsIG5ld1Byb3BzLnN0eWxlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBwcm9wc1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBmbGFnIGlzIG1hdGNoZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgZHluYW1pYyBwcm9wL2F0dHIgYmluZGluZ3NcclxuICAgICAgICAgICAgICAgIC8vIG90aGVyIHRoYW4gY2xhc3MgYW5kIHN0eWxlLiBUaGUga2V5cyBvZiBkeW5hbWljIHByb3AvYXR0cnMgYXJlIHNhdmVkIGZvclxyXG4gICAgICAgICAgICAgICAgLy8gZmFzdGVyIGl0ZXJhdGlvbi5cclxuICAgICAgICAgICAgICAgIC8vIE5vdGUgZHluYW1pYyBrZXlzIGxpa2UgOltmb29dPVwiYmFyXCIgd2lsbCBjYXVzZSB0aGlzIG9wdGltaXphdGlvbiB0b1xyXG4gICAgICAgICAgICAgICAgLy8gYmFpbCBvdXQgYW5kIGdvIHRocm91Z2ggYSBmdWxsIGRpZmYgYmVjYXVzZSB3ZSBuZWVkIHRvIHVuc2V0IHRoZSBvbGQga2V5XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCAvKiBQUk9QUyAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBmbGFnIGlzIHByZXNlbnQgdGhlbiBkeW5hbWljUHJvcHMgbXVzdCBiZSBub24tbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBuMi5keW5hbWljUHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHByZXYgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChob3N0Rm9yY2VQYXRjaFByb3AgJiYgaG9zdEZvcmNlUGF0Y2hQcm9wKGVsLCBrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBwcmV2LCBuZXh0LCBpc1NWRywgbjEuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdGV4dFxyXG4gICAgICAgICAgICAvLyBUaGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBvbmx5IGR5bmFtaWMgdGV4dCBjaGlsZHJlbi5cclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEgLyogVEVYVCAqLykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG4xLmNoaWxkcmVuICE9PSBuMi5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgbjIuY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFvcHRpbWl6ZWQgJiYgZHluYW1pY0NoaWxkcmVuID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gdW5vcHRpbWl6ZWQsIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaFByb3BzKGVsLCBuMiwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyZUNoaWxkcmVuU1ZHID0gaXNTVkcgJiYgbjIudHlwZSAhPT0gJ2ZvcmVpZ25PYmplY3QnO1xyXG4gICAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBlbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgYXJlQ2hpbGRyZW5TVkcpO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAodHJ1ZSApICYmXHJcbiAgICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQgJiZcclxuICAgICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC50eXBlLl9faG1ySWQpIHtcclxuICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghb3B0aW1pemVkKSB7XHJcbiAgICAgICAgICAgIC8vIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgZWwsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGFyZUNoaWxkcmVuU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXdQcm9wcy5vblZub2RlVXBkYXRlZCkgfHwgZGlycykge1xyXG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcclxuICAgICAgICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgJ3VwZGF0ZWQnKTtcclxuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBUaGUgZmFzdCBwYXRoIGZvciBibG9ja3MuXHJcbiAgICBjb25zdCBwYXRjaEJsb2NrQ2hpbGRyZW4gPSAob2xkQ2hpbGRyZW4sIG5ld0NoaWxkcmVuLCBmYWxsYmFja0NvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZOb2RlID0gbmV3Q2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgIC8vIERldGVybWluZSB0aGUgY29udGFpbmVyIChwYXJlbnQgZWxlbWVudCkgZm9yIHRoZSBwYXRjaC5cclxuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gXHJcbiAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgYSBGcmFnbWVudCwgd2UgbmVlZCB0byBwcm92aWRlIHRoZSBhY3R1YWwgcGFyZW50XHJcbiAgICAgICAgICAgIC8vIG9mIHRoZSBGcmFnbWVudCBpdHNlbGYgc28gaXQgY2FuIG1vdmUgaXRzIGNoaWxkcmVuLlxyXG4gICAgICAgICAgICBvbGRWTm9kZS50eXBlID09PSBGcmFnbWVudCB8fFxyXG4gICAgICAgICAgICAgICAgLy8gLSBJbiB0aGUgY2FzZSBvZiBkaWZmZXJlbnQgbm9kZXMsIHRoZXJlIGlzIGdvaW5nIHRvIGJlIGEgcmVwbGFjZW1lbnRcclxuICAgICAgICAgICAgICAgIC8vIHdoaWNoIGFsc28gcmVxdWlyZXMgdGhlIGNvcnJlY3QgcGFyZW50IGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgIWlzU2FtZVZOb2RlVHlwZShvbGRWTm9kZSwgbmV3Vk5vZGUpIHx8XHJcbiAgICAgICAgICAgICAgICAvLyAtIEluIHRoZSBjYXNlIG9mIGEgY29tcG9uZW50LCBpdCBjb3VsZCBjb250YWluIGFueXRoaW5nLlxyXG4gICAgICAgICAgICAgICAgb2xkVk5vZGUuc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8gfHxcclxuICAgICAgICAgICAgICAgIG9sZFZOb2RlLnNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovXHJcbiAgICAgICAgICAgICAgICA/IGhvc3RQYXJlbnROb2RlKG9sZFZOb2RlLmVsKVxyXG4gICAgICAgICAgICAgICAgOiAvLyBJbiBvdGhlciBjYXNlcywgdGhlIHBhcmVudCBjb250YWluZXIgaXMgbm90IGFjdHVhbGx5IHVzZWQgc28gd2VcclxuICAgICAgICAgICAgICAgICAgICAvLyBqdXN0IHBhc3MgdGhlIGJsb2NrIGVsZW1lbnQgaGVyZSB0byBhdm9pZCBhIERPTSBwYXJlbnROb2RlIGNhbGwuXHJcbiAgICAgICAgICAgICAgICAgICAgZmFsbGJhY2tDb250YWluZXI7XHJcbiAgICAgICAgICAgIHBhdGNoKG9sZFZOb2RlLCBuZXdWTm9kZSwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBhdGNoUHJvcHMgPSAoZWwsIHZub2RlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKSA9PiB7XHJcbiAgICAgICAgaWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgLy8gZW1wdHkgc3RyaW5nIGlzIG5vdCB2YWxpZCBwcm9wXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gcHJldiB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChob3N0Rm9yY2VQYXRjaFByb3AgJiYgaG9zdEZvcmNlUGF0Y2hQcm9wKGVsLCBrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgcHJldiwgbmV4dCwgaXNTVkcsIHZub2RlLmNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvbGRQcm9wcyAhPT0gRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSAmJiAhKGtleSBpbiBuZXdQcm9wcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBvbGRQcm9wc1trZXldLCBudWxsLCBpc1NWRywgdm5vZGUuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHByb2Nlc3NGcmFnbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZnJhZ21lbnRTdGFydEFuY2hvciA9IChuMi5lbCA9IG4xID8gbjEuZWwgOiBob3N0Q3JlYXRlVGV4dCgnJykpO1xyXG4gICAgICAgIGNvbnN0IGZyYWdtZW50RW5kQW5jaG9yID0gKG4yLmFuY2hvciA9IG4xID8gbjEuYW5jaG9yIDogaG9zdENyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiB9ID0gbjI7XHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcclxuICAgICAgICAgICAgb3B0aW1pemVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc0htclVwZGF0aW5nKSB7XHJcbiAgICAgICAgICAgIC8vIEhNUiB1cGRhdGVkLCBmb3JjZSBmdWxsIGRpZmZcclxuICAgICAgICAgICAgcGF0Y2hGbGFnID0gMDtcclxuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRTdGFydEFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGZyYWdtZW50RW5kQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIC8vIGEgZnJhZ21lbnQgY2FuIG9ubHkgaGF2ZSBhcnJheSBjaGlsZHJlblxyXG4gICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGFyZSBlaXRoZXIgZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciwgb3IgaW1wbGljaXRseSBjcmVhdGVkXHJcbiAgICAgICAgICAgIC8vIGZyb20gYXJyYXlzLlxyXG4gICAgICAgICAgICBtb3VudENoaWxkcmVuKG4yLmNoaWxkcmVuLCBjb250YWluZXIsIGZyYWdtZW50RW5kQW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgPiAwICYmXHJcbiAgICAgICAgICAgICAgICBwYXRjaEZsYWcgJiA2NCAvKiBTVEFCTEVfRlJBR01FTlQgKi8gJiZcclxuICAgICAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgLy8gYSBzdGFibGUgZnJhZ21lbnQgKHRlbXBsYXRlIHJvb3Qgb3IgPHRlbXBsYXRlIHYtZm9yPikgZG9lc24ndCBuZWVkIHRvXHJcbiAgICAgICAgICAgICAgICAvLyBwYXRjaCBjaGlsZHJlbiBvcmRlciwgYnV0IGl0IG1heSBjb250YWluIGR5bmFtaWNDaGlsZHJlbi5cclxuICAgICAgICAgICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihuMS5keW5hbWljQ2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQudHlwZS5fX2htcklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAvLyAjMjA4MCBpZiB0aGUgc3RhYmxlIGZyYWdtZW50IGhhcyBhIGtleSwgaXQncyBhIDx0ZW1wbGF0ZSB2LWZvcj4gdGhhdCBtYXlcclxuICAgICAgICAgICAgICAgIC8vICBnZXQgbW92ZWQgYXJvdW5kLiBNYWtlIHN1cmUgYWxsIHJvb3QgbGV2ZWwgdm5vZGVzIGluaGVyaXQgZWwuXHJcbiAgICAgICAgICAgICAgICAvLyAjMjEzNCBvciBpZiBpdCdzIGEgY29tcG9uZW50IHJvb3QsIGl0IG1heSBhbHNvIGdldCBtb3ZlZCBhcm91bmRcclxuICAgICAgICAgICAgICAgIC8vIGFzIHRoZSBjb21wb25lbnQgaXMgYmVpbmcgbW92ZWQuXHJcbiAgICAgICAgICAgICAgICBuMi5rZXkgIT0gbnVsbCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChwYXJlbnRDb21wb25lbnQgJiYgbjIgPT09IHBhcmVudENvbXBvbmVudC5zdWJUcmVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCB0cnVlIC8qIHNoYWxsb3cgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8ga2V5ZWQgLyB1bmtleWVkLCBvciBtYW51YWwgZnJhZ21lbnRzLlxyXG4gICAgICAgICAgICAgICAgLy8gZm9yIGtleWVkICYgdW5rZXllZCwgc2luY2UgdGhleSBhcmUgY29tcGlsZXIgZ2VuZXJhdGVkIGZyb20gdi1mb3IsXHJcbiAgICAgICAgICAgICAgICAvLyBlYWNoIGNoaWxkIGlzIGd1YXJhbnRlZWQgdG8gYmUgYSBibG9jayBzbyB0aGUgZnJhZ21lbnQgd2lsbCBuZXZlclxyXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBkeW5hbWljQ2hpbGRyZW4uXHJcbiAgICAgICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgY29udGFpbmVyLCBmcmFnbWVudEVuZEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvY2Vzc0NvbXBvbmVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKG4yLnNoYXBlRmxhZyAmIDUxMiAvKiBDT01QT05FTlRfS0VQVF9BTElWRSAqLykge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LmN0eC5hY3RpdmF0ZShuMiwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbW91bnRDb21wb25lbnQobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50KG4xLCBuMiwgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbW91bnRDb21wb25lbnQgPSAoaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gKGluaXRpYWxWTm9kZS5jb21wb25lbnQgPSBjcmVhdGVDb21wb25lbnRJbnN0YW5jZShpbml0aWFsVk5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICh0cnVlICkgJiYgaW5zdGFuY2UudHlwZS5fX2htcklkKSB7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVySE1SKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQoaW5pdGlhbFZOb2RlKTtcclxuICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgbW91bnRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5qZWN0IHJlbmRlcmVyIGludGVybmFscyBmb3Iga2VlcEFsaXZlXHJcbiAgICAgICAgaWYgKGlzS2VlcEFsaXZlKGluaXRpYWxWTm9kZSkpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuY3R4LnJlbmRlcmVyID0gaW50ZXJuYWxzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZXNvbHZlIHByb3BzIGFuZCBzbG90cyBmb3Igc2V0dXAgY29udGV4dFxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXR1cENvbXBvbmVudChpbnN0YW5jZSk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZXR1cCgpIGlzIGFzeW5jLiBUaGlzIGNvbXBvbmVudCByZWxpZXMgb24gYXN5bmMgbG9naWMgdG8gYmUgcmVzb2x2ZWRcclxuICAgICAgICAvLyBiZWZvcmUgcHJvY2VlZGluZ1xyXG4gICAgICAgIGlmICggaW5zdGFuY2UuYXN5bmNEZXApIHtcclxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UgJiYgcGFyZW50U3VzcGVuc2UucmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0KTtcclxuICAgICAgICAgICAgLy8gR2l2ZSBpdCBhIHBsYWNlaG9sZGVyIGlmIHRoaXMgaXMgbm90IGh5ZHJhdGlvblxyXG4gICAgICAgICAgICAvLyBUT0RPIGhhbmRsZSBzZWxmLWRlZmluZWQgZmFsbGJhY2tcclxuICAgICAgICAgICAgaWYgKCFpbml0aWFsVk5vZGUuZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gKGluc3RhbmNlLnN1YlRyZWUgPSBjcmVhdGVWTm9kZShDb21tZW50KSk7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzQ29tbWVudE5vZGUobnVsbCwgcGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldHVwUmVuZGVyRWZmZWN0KGluc3RhbmNlLCBpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xyXG4gICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgbW91bnRgKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgdXBkYXRlQ29tcG9uZW50ID0gKG4xLCBuMiwgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSAobjIuY29tcG9uZW50ID0gbjEuY29tcG9uZW50KTtcclxuICAgICAgICBpZiAoc2hvdWxkVXBkYXRlQ29tcG9uZW50KG4xLCBuMiwgb3B0aW1pemVkKSkge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hc3luY0RlcCAmJlxyXG4gICAgICAgICAgICAgICAgIWluc3RhbmNlLmFzeW5jUmVzb2x2ZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFzeW5jICYgc3RpbGwgcGVuZGluZyAtIGp1c3QgdXBkYXRlIHByb3BzIGFuZCBzbG90c1xyXG4gICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIGNvbXBvbmVudCdzIHJlYWN0aXZlIGVmZmVjdCBmb3IgcmVuZGVyIGlzbid0IHNldC11cCB5ZXRcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQobjIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuMiwgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gbm9ybWFsIHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UubmV4dCA9IG4yO1xyXG4gICAgICAgICAgICAgICAgLy8gaW4gY2FzZSB0aGUgY2hpbGQgY29tcG9uZW50IGlzIGFsc28gcXVldWVkLCByZW1vdmUgaXQgdG8gYXZvaWRcclxuICAgICAgICAgICAgICAgIC8vIGRvdWJsZSB1cGRhdGluZyB0aGUgc2FtZSBjaGlsZCBjb21wb25lbnQgaW4gdGhlIHNhbWUgZmx1c2guXHJcbiAgICAgICAgICAgICAgICBpbnZhbGlkYXRlSm9iKGluc3RhbmNlLnVwZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBpbnN0YW5jZS51cGRhdGUgaXMgdGhlIHJlYWN0aXZlIGVmZmVjdCBydW5uZXIuXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbm8gdXBkYXRlIG5lZWRlZC4ganVzdCBjb3B5IG92ZXIgcHJvcGVydGllc1xyXG4gICAgICAgICAgICBuMi5jb21wb25lbnQgPSBuMS5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgIG4yLmVsID0gbjEuZWw7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnZub2RlID0gbjI7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHNldHVwUmVuZGVyRWZmZWN0ID0gKGluc3RhbmNlLCBpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIC8vIGNyZWF0ZSByZWFjdGl2ZSBlZmZlY3QgZm9yIHJlbmRlcmluZ1xyXG4gICAgICAgIGluc3RhbmNlLnVwZGF0ZSA9IGVmZmVjdChmdW5jdGlvbiBjb21wb25lbnRFZmZlY3QoKSB7XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdm5vZGVIb29rO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBlbCwgcHJvcHMgfSA9IGluaXRpYWxWTm9kZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgYm0sIG0sIHBhcmVudCB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICAvLyBiZWZvcmVNb3VudCBob29rXHJcbiAgICAgICAgICAgICAgICBpZiAoYm0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhibSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBvblZub2RlQmVmb3JlTW91bnRcclxuICAgICAgICAgICAgICAgIGlmICgodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgaW5pdGlhbFZOb2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHJlbmRlclxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViVHJlZSA9IChpbnN0YW5jZS5zdWJUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlbCAmJiBoeWRyYXRlTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyB2bm9kZSBoYXMgYWRvcHRlZCBob3N0IG5vZGUgLSBwZXJmb3JtIGh5ZHJhdGlvbiBpbnN0ZWFkIG9mIG1vdW50LlxyXG4gICAgICAgICAgICAgICAgICAgIGh5ZHJhdGVOb2RlKGluaXRpYWxWTm9kZS5lbCwgc3ViVHJlZSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBoeWRyYXRlYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwYXRjaChudWxsLCBzdWJUcmVlLCBjb250YWluZXIsIGFuY2hvciwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFZOb2RlLmVsID0gc3ViVHJlZS5lbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG1vdW50ZWQgaG9va1xyXG4gICAgICAgICAgICAgICAgaWYgKG0pIHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QobSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gb25Wbm9kZU1vdW50ZWRcclxuICAgICAgICAgICAgICAgIGlmICgodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBpbml0aWFsVk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGFjdGl2YXRlZCBob29rIGZvciBrZWVwLWFsaXZlIHJvb3RzLlxyXG4gICAgICAgICAgICAgICAgLy8gIzE3NDIgYWN0aXZhdGVkIGhvb2sgbXVzdCBiZSBhY2Nlc3NlZCBhZnRlciBmaXJzdCByZW5kZXJcclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBob29rIG1heSBiZSBpbmplY3RlZCBieSBhIGNoaWxkIGtlZXAtYWxpdmVcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgYSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoYSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxWTm9kZS5zaGFwZUZsYWcgJiAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGEsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmlzTW91bnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGVDb21wb25lbnRcclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdHJpZ2dlcmVkIGJ5IG11dGF0aW9uIG9mIGNvbXBvbmVudCdzIG93biBzdGF0ZSAobmV4dDogbnVsbClcclxuICAgICAgICAgICAgICAgIC8vIE9SIHBhcmVudCBjYWxsaW5nIHByb2Nlc3NDb21wb25lbnQgKG5leHQ6IFZOb2RlKVxyXG4gICAgICAgICAgICAgICAgbGV0IHsgbmV4dCwgYnUsIHUsIHBhcmVudCwgdm5vZGUgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgbGV0IG9yaWdpbk5leHQgPSBuZXh0O1xyXG4gICAgICAgICAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQobmV4dCB8fCBpbnN0YW5jZS52bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQuZWwgPSB2bm9kZS5lbDtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG5leHQsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0ID0gdm5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBiZWZvcmVVcGRhdGUgaG9va1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gb25Wbm9kZUJlZm9yZVVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHJlbmRlclxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2VHJlZSA9IGluc3RhbmNlLnN1YlRyZWU7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5zdWJUcmVlID0gbmV4dFRyZWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBhdGNoKHByZXZUcmVlLCBuZXh0VHJlZSwgXHJcbiAgICAgICAgICAgICAgICAvLyBwYXJlbnQgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgdGVsZXBvcnRcclxuICAgICAgICAgICAgICAgIGhvc3RQYXJlbnROb2RlKHByZXZUcmVlLmVsKSwgXHJcbiAgICAgICAgICAgICAgICAvLyBhbmNob3IgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgZnJhZ21lbnRcclxuICAgICAgICAgICAgICAgIGdldE5leHRIb3N0Tm9kZShwcmV2VHJlZSksIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dC5lbCA9IG5leHRUcmVlLmVsO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbk5leHQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzZWxmLXRyaWdnZXJlZCB1cGRhdGUuIEluIGNhc2Ugb2YgSE9DLCB1cGRhdGUgcGFyZW50IGNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIGVsLiBIT0MgaXMgaW5kaWNhdGVkIGJ5IHBhcmVudCBpbnN0YW5jZSdzIHN1YlRyZWUgcG9pbnRpbmdcclxuICAgICAgICAgICAgICAgICAgICAvLyB0byBjaGlsZCBjb21wb25lbnQncyB2bm9kZVxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgbmV4dFRyZWUuZWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlZCBob29rXHJcbiAgICAgICAgICAgICAgICBpZiAodSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCh1LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBvblZub2RlVXBkYXRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZVVwZGF0ZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBjcmVhdGVEZXZFZmZlY3RPcHRpb25zKGluc3RhbmNlKSA6IHByb2RFZmZlY3RPcHRpb25zKTtcclxuICAgIH07XHJcbiAgICBjb25zdCB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIgPSAoaW5zdGFuY2UsIG5leHRWTm9kZSwgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgbmV4dFZOb2RlLmNvbXBvbmVudCA9IGluc3RhbmNlO1xyXG4gICAgICAgIGNvbnN0IHByZXZQcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzO1xyXG4gICAgICAgIGluc3RhbmNlLnZub2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgIGluc3RhbmNlLm5leHQgPSBudWxsO1xyXG4gICAgICAgIHVwZGF0ZVByb3BzKGluc3RhbmNlLCBuZXh0Vk5vZGUucHJvcHMsIHByZXZQcm9wcywgb3B0aW1pemVkKTtcclxuICAgICAgICB1cGRhdGVTbG90cyhpbnN0YW5jZSwgbmV4dFZOb2RlLmNoaWxkcmVuKTtcclxuICAgICAgICAvLyBwcm9wcyB1cGRhdGUgbWF5IGhhdmUgdHJpZ2dlcmVkIHByZS1mbHVzaCB3YXRjaGVycy5cclxuICAgICAgICAvLyBmbHVzaCB0aGVtIGJlZm9yZSB0aGUgcmVuZGVyIHVwZGF0ZS5cclxuICAgICAgICBmbHVzaFByZUZsdXNoQ2JzKHVuZGVmaW5lZCwgaW5zdGFuY2UudXBkYXRlKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaENoaWxkcmVuID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGMxID0gbjEgJiYgbjEuY2hpbGRyZW47XHJcbiAgICAgICAgY29uc3QgcHJldlNoYXBlRmxhZyA9IG4xID8gbjEuc2hhcGVGbGFnIDogMDtcclxuICAgICAgICBjb25zdCBjMiA9IG4yLmNoaWxkcmVuO1xyXG4gICAgICAgIGNvbnN0IHsgcGF0Y2hGbGFnLCBzaGFwZUZsYWcgfSA9IG4yO1xyXG4gICAgICAgIC8vIGZhc3QgcGF0aFxyXG4gICAgICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgY291bGQgYmUgZWl0aGVyIGZ1bGx5LWtleWVkIG9yIG1peGVkIChzb21lIGtleWVkIHNvbWUgbm90KVxyXG4gICAgICAgICAgICAgICAgLy8gcHJlc2VuY2Ugb2YgcGF0Y2hGbGFnIG1lYW5zIGNoaWxkcmVuIGFyZSBndWFyYW50ZWVkIHRvIGJlIGFycmF5c1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHBhdGNoRmxhZyAmIDI1NiAvKiBVTktFWUVEX0ZSQUdNRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB1bmtleWVkXHJcbiAgICAgICAgICAgICAgICBwYXRjaFVua2V5ZWRDaGlsZHJlbihjMSwgYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjaGlsZHJlbiBoYXMgMyBwb3NzaWJpbGl0aWVzOiB0ZXh0LCBhcnJheSBvciBubyBjaGlsZHJlbi5cclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgIC8vIHRleHQgY2hpbGRyZW4gZmFzdCBwYXRoXHJcbiAgICAgICAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGMyICE9PSBjMSkge1xyXG4gICAgICAgICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgYzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBwcmV2IGNoaWxkcmVuIHdhcyBhcnJheVxyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdHdvIGFycmF5cywgY2Fubm90IGFzc3VtZSBhbnl0aGluZywgZG8gZnVsbCBkaWZmXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gbmV3IGNoaWxkcmVuLCBqdXN0IHVubW91bnQgb2xkXHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGMxLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHByZXYgY2hpbGRyZW4gd2FzIHRleHQgT1IgbnVsbFxyXG4gICAgICAgICAgICAgICAgLy8gbmV3IGNoaWxkcmVuIGlzIGFycmF5IE9SIG51bGxcclxuICAgICAgICAgICAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgJycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gbW91bnQgbmV3IGlmIGFycmF5XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3VudENoaWxkcmVuKGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcGF0Y2hVbmtleWVkQ2hpbGRyZW4gPSAoYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGMxID0gYzEgfHwgRU1QVFlfQVJSO1xyXG4gICAgICAgIGMyID0gYzIgfHwgRU1QVFlfQVJSO1xyXG4gICAgICAgIGNvbnN0IG9sZExlbmd0aCA9IGMxLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBuZXdMZW5ndGggPSBjMi5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgY29tbW9uTGVuZ3RoID0gTWF0aC5taW4ob2xkTGVuZ3RoLCBuZXdMZW5ndGgpO1xyXG4gICAgICAgIGxldCBpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb21tb25MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXHJcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XHJcbiAgICAgICAgICAgIHBhdGNoKGMxW2ldLCBuZXh0Q2hpbGQsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvbGRMZW5ndGggPiBuZXdMZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZFxyXG4gICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUsIGZhbHNlLCBjb21tb25MZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbW91bnQgbmV3XHJcbiAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4oYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkLCBjb21tb25MZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBjYW4gYmUgYWxsLWtleWVkIG9yIG1peGVkXHJcbiAgICBjb25zdCBwYXRjaEtleWVkQ2hpbGRyZW4gPSAoYzEsIGMyLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBjb25zdCBsMiA9IGMyLmxlbmd0aDtcclxuICAgICAgICBsZXQgZTEgPSBjMS5sZW5ndGggLSAxOyAvLyBwcmV2IGVuZGluZyBpbmRleFxyXG4gICAgICAgIGxldCBlMiA9IGwyIC0gMTsgLy8gbmV4dCBlbmRpbmcgaW5kZXhcclxuICAgICAgICAvLyAxLiBzeW5jIGZyb20gc3RhcnRcclxuICAgICAgICAvLyAoYSBiKSBjXHJcbiAgICAgICAgLy8gKGEgYikgZCBlXHJcbiAgICAgICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xyXG4gICAgICAgICAgICBjb25zdCBuMSA9IGMxW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBuMiA9IChjMltpXSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcclxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKTtcclxuICAgICAgICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaChuMSwgbjIsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDIuIHN5bmMgZnJvbSBlbmRcclxuICAgICAgICAvLyBhIChiIGMpXHJcbiAgICAgICAgLy8gZCBlIChiIGMpXHJcbiAgICAgICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xyXG4gICAgICAgICAgICBjb25zdCBuMSA9IGMxW2UxXTtcclxuICAgICAgICAgICAgY29uc3QgbjIgPSAoYzJbZTJdID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2UyXSlcclxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbZTJdKSk7XHJcbiAgICAgICAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2gobjEsIG4yLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZTEtLTtcclxuICAgICAgICAgICAgZTItLTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gMy4gY29tbW9uIHNlcXVlbmNlICsgbW91bnRcclxuICAgICAgICAvLyAoYSBiKVxyXG4gICAgICAgIC8vIChhIGIpIGNcclxuICAgICAgICAvLyBpID0gMiwgZTEgPSAxLCBlMiA9IDJcclxuICAgICAgICAvLyAoYSBiKVxyXG4gICAgICAgIC8vIGMgKGEgYilcclxuICAgICAgICAvLyBpID0gMCwgZTEgPSAtMSwgZTIgPSAwXHJcbiAgICAgICAgaWYgKGkgPiBlMSkge1xyXG4gICAgICAgICAgICBpZiAoaSA8PSBlMikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFBvcyA9IGUyICsgMTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHRQb3MgPCBsMiA/IGMyW25leHRQb3NdLmVsIDogcGFyZW50QW5jaG9yO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPD0gZTIpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaChudWxsLCAoYzJbaV0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltpXSkpLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyA0LiBjb21tb24gc2VxdWVuY2UgKyB1bm1vdW50XHJcbiAgICAgICAgLy8gKGEgYikgY1xyXG4gICAgICAgIC8vIChhIGIpXHJcbiAgICAgICAgLy8gaSA9IDIsIGUxID0gMiwgZTIgPSAxXHJcbiAgICAgICAgLy8gYSAoYiBjKVxyXG4gICAgICAgIC8vIChiIGMpXHJcbiAgICAgICAgLy8gaSA9IDAsIGUxID0gMCwgZTIgPSAtMVxyXG4gICAgICAgIGVsc2UgaWYgKGkgPiBlMikge1xyXG4gICAgICAgICAgICB3aGlsZSAoaSA8PSBlMSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjMVtpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gNS4gdW5rbm93biBzZXF1ZW5jZVxyXG4gICAgICAgIC8vIFtpIC4uLiBlMSArIDFdOiBhIGIgW2MgZCBlXSBmIGdcclxuICAgICAgICAvLyBbaSAuLi4gZTIgKyAxXTogYSBiIFtlIGQgYyBoXSBmIGdcclxuICAgICAgICAvLyBpID0gMiwgZTEgPSA0LCBlMiA9IDVcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgczEgPSBpOyAvLyBwcmV2IHN0YXJ0aW5nIGluZGV4XHJcbiAgICAgICAgICAgIGNvbnN0IHMyID0gaTsgLy8gbmV4dCBzdGFydGluZyBpbmRleFxyXG4gICAgICAgICAgICAvLyA1LjEgYnVpbGQga2V5OmluZGV4IG1hcCBmb3IgbmV3Q2hpbGRyZW5cclxuICAgICAgICAgICAgY29uc3Qga2V5VG9OZXdJbmRleE1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgZm9yIChpID0gczI7IGkgPD0gZTI7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gKGMyW2ldID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcclxuICAgICAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dENoaWxkLmtleSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBrZXlUb05ld0luZGV4TWFwLmhhcyhuZXh0Q2hpbGQua2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBEdXBsaWNhdGUga2V5cyBmb3VuZCBkdXJpbmcgdXBkYXRlOmAsIEpTT04uc3RyaW5naWZ5KG5leHRDaGlsZC5rZXkpLCBgTWFrZSBzdXJlIGtleXMgYXJlIHVuaXF1ZS5gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5VG9OZXdJbmRleE1hcC5zZXQobmV4dENoaWxkLmtleSwgaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gNS4yIGxvb3AgdGhyb3VnaCBvbGQgY2hpbGRyZW4gbGVmdCB0byBiZSBwYXRjaGVkIGFuZCB0cnkgdG8gcGF0Y2hcclxuICAgICAgICAgICAgLy8gbWF0Y2hpbmcgbm9kZXMgJiByZW1vdmUgbm9kZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIHByZXNlbnRcclxuICAgICAgICAgICAgbGV0IGo7XHJcbiAgICAgICAgICAgIGxldCBwYXRjaGVkID0gMDtcclxuICAgICAgICAgICAgY29uc3QgdG9CZVBhdGNoZWQgPSBlMiAtIHMyICsgMTtcclxuICAgICAgICAgICAgbGV0IG1vdmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIHVzZWQgdG8gdHJhY2sgd2hldGhlciBhbnkgbm9kZSBoYXMgbW92ZWRcclxuICAgICAgICAgICAgbGV0IG1heE5ld0luZGV4U29GYXIgPSAwO1xyXG4gICAgICAgICAgICAvLyB3b3JrcyBhcyBNYXA8bmV3SW5kZXgsIG9sZEluZGV4PlxyXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgb2xkSW5kZXggaXMgb2Zmc2V0IGJ5ICsxXHJcbiAgICAgICAgICAgIC8vIGFuZCBvbGRJbmRleCA9IDAgaXMgYSBzcGVjaWFsIHZhbHVlIGluZGljYXRpbmcgdGhlIG5ldyBub2RlIGhhc1xyXG4gICAgICAgICAgICAvLyBubyBjb3JyZXNwb25kaW5nIG9sZCBub2RlLlxyXG4gICAgICAgICAgICAvLyB1c2VkIGZvciBkZXRlcm1pbmluZyBsb25nZXN0IHN0YWJsZSBzdWJzZXF1ZW5jZVxyXG4gICAgICAgICAgICBjb25zdCBuZXdJbmRleFRvT2xkSW5kZXhNYXAgPSBuZXcgQXJyYXkodG9CZVBhdGNoZWQpO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9CZVBhdGNoZWQ7IGkrKylcclxuICAgICAgICAgICAgICAgIG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9IDA7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IHMxOyBpIDw9IGUxOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZDaGlsZCA9IGMxW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoZWQgPj0gdG9CZVBhdGNoZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbGwgbmV3IGNoaWxkcmVuIGhhdmUgYmVlbiBwYXRjaGVkIHNvIHRoaXMgY2FuIG9ubHkgYmUgYSByZW1vdmFsXHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IG5ld0luZGV4O1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZDaGlsZC5rZXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZGV4ID0ga2V5VG9OZXdJbmRleE1hcC5nZXQocHJldkNoaWxkLmtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBrZXktbGVzcyBub2RlLCB0cnkgdG8gbG9jYXRlIGEga2V5LWxlc3Mgbm9kZSBvZiB0aGUgc2FtZSB0eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gczI7IGogPD0gZTI7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXhUb09sZEluZGV4TWFwW2ogLSBzMl0gPT09IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2FtZVZOb2RlVHlwZShwcmV2Q2hpbGQsIGMyW2pdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXggPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnQocHJldkNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZGV4VG9PbGRJbmRleE1hcFtuZXdJbmRleCAtIHMyXSA9IGkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA+PSBtYXhOZXdJbmRleFNvRmFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heE5ld0luZGV4U29GYXIgPSBuZXdJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gocHJldkNoaWxkLCBjMltuZXdJbmRleF0sIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hlZCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIDUuMyBtb3ZlIGFuZCBtb3VudFxyXG4gICAgICAgICAgICAvLyBnZW5lcmF0ZSBsb25nZXN0IHN0YWJsZSBzdWJzZXF1ZW5jZSBvbmx5IHdoZW4gbm9kZXMgaGF2ZSBtb3ZlZFxyXG4gICAgICAgICAgICBjb25zdCBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZSA9IG1vdmVkXHJcbiAgICAgICAgICAgICAgICA/IGdldFNlcXVlbmNlKG5ld0luZGV4VG9PbGRJbmRleE1hcClcclxuICAgICAgICAgICAgICAgIDogRU1QVFlfQVJSO1xyXG4gICAgICAgICAgICBqID0gaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgLy8gbG9vcGluZyBiYWNrd2FyZHMgc28gdGhhdCB3ZSBjYW4gdXNlIGxhc3QgcGF0Y2hlZCBub2RlIGFzIGFuY2hvclxyXG4gICAgICAgICAgICBmb3IgKGkgPSB0b0JlUGF0Y2hlZCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0SW5kZXggPSBzMiArIGk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSBjMltuZXh0SW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dEluZGV4ICsgMSA8IGwyID8gYzJbbmV4dEluZGV4ICsgMV0uZWwgOiBwYXJlbnRBbmNob3I7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXhUb09sZEluZGV4TWFwW2ldID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbW91bnQgbmV3XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgbmV4dENoaWxkLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobW92ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGlmOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIGlzIG5vIHN0YWJsZSBzdWJzZXF1ZW5jZSAoZS5nLiBhIHJldmVyc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT1IgY3VycmVudCBub2RlIGlzIG5vdCBhbW9uZyB0aGUgc3RhYmxlIHNlcXVlbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPCAwIHx8IGkgIT09IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlW2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmUobmV4dENoaWxkLCBjb250YWluZXIsIGFuY2hvciwgMiAvKiBSRU9SREVSICovKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGotLTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbW92ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwpID0+IHtcclxuICAgICAgICBjb25zdCB7IGVsLCB0eXBlLCB0cmFuc2l0aW9uLCBjaGlsZHJlbiwgc2hhcGVGbGFnIH0gPSB2bm9kZTtcclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pIHtcclxuICAgICAgICAgICAgbW92ZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIHNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgICAgICB2bm9kZS5zdXNwZW5zZS5tb3ZlKGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKSB7XHJcbiAgICAgICAgICAgIHR5cGUubW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGludGVybmFscyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbW92ZShjaGlsZHJlbltpXSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KHZub2RlLmFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHN0YXRpYyBub2RlIG1vdmUgY2FuIG9ubHkgaGFwcGVuIHdoZW4gZm9yY2UgdXBkYXRpbmcgSE1SXHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB0eXBlID09PSBTdGF0aWMpIHtcclxuICAgICAgICAgICAgbW92ZVN0YXRpY05vZGUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzaW5nbGUgbm9kZXNcclxuICAgICAgICBjb25zdCBuZWVkVHJhbnNpdGlvbiA9IG1vdmVUeXBlICE9PSAyIC8qIFJFT1JERVIgKi8gJiZcclxuICAgICAgICAgICAgc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmXHJcbiAgICAgICAgICAgIHRyYW5zaXRpb247XHJcbiAgICAgICAgaWYgKG5lZWRUcmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChtb3ZlVHlwZSA9PT0gMCAvKiBFTlRFUiAqLykge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XHJcbiAgICAgICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gdHJhbnNpdGlvbi5lbnRlcihlbCksIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUsIGFmdGVyTGVhdmUgfSA9IHRyYW5zaXRpb247XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZW1vdmUgPSAoKSA9PiBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwZXJmb3JtTGVhdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVhdmUoZWwsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyTGVhdmUgJiYgYWZ0ZXJMZWF2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGlmIChkZWxheUxlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsYXlMZWF2ZShlbCwgcmVtb3ZlLCBwZXJmb3JtTGVhdmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVyZm9ybUxlYXZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgdW5tb3VudCA9ICh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUgPSBmYWxzZSwgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcclxuICAgICAgICBjb25zdCB7IHR5cGUsIHByb3BzLCByZWYsIGNoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4sIHNoYXBlRmxhZywgcGF0Y2hGbGFnLCBkaXJzIH0gPSB2bm9kZTtcclxuICAgICAgICAvLyB1bnNldCByZWZcclxuICAgICAgICBpZiAocmVmICE9IG51bGwgJiYgcGFyZW50Q29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMjU2IC8qIENPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLykge1xyXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmRlYWN0aXZhdGUodm5vZGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNob3VsZEludm9rZURpcnMgPSBzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gJiYgZGlycztcclxuICAgICAgICBsZXQgdm5vZGVIb29rO1xyXG4gICAgICAgIGlmICgodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZVVubW91bnQpKSB7XHJcbiAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pIHtcclxuICAgICAgICAgICAgdW5tb3VudENvbXBvbmVudCh2bm9kZS5jb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIHNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuc3VzcGVuc2UudW5tb3VudChwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzaG91bGRJbnZva2VEaXJzKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdiZWZvcmVVbm1vdW50Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbiAmJlxyXG4gICAgICAgICAgICAgICAgLy8gIzExNTM6IGZhc3QgcGF0aCBzaG91bGQgbm90IGJlIHRha2VuIGZvciBub24tc3RhYmxlICh2LWZvcikgZnJhZ21lbnRzXHJcbiAgICAgICAgICAgICAgICAodHlwZSAhPT0gRnJhZ21lbnQgfHxcclxuICAgICAgICAgICAgICAgICAgICAocGF0Y2hGbGFnID4gMCAmJiBwYXRjaEZsYWcgJiA2NCAvKiBTVEFCTEVfRlJBR01FTlQgKi8pKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gZmFzdCBwYXRoIGZvciBibG9jayBub2Rlczogb25seSBuZWVkIHRvIHVubW91bnQgZHluYW1pYyBjaGlsZHJlbi5cclxuICAgICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihkeW5hbWljQ2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGZhbHNlLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICgodHlwZSA9PT0gRnJhZ21lbnQgJiZcclxuICAgICAgICAgICAgICAgIChwYXRjaEZsYWcgJiAxMjggLyogS0VZRURfRlJBR01FTlQgKi8gfHxcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaEZsYWcgJiAyNTYgLyogVU5LRVlFRF9GUkFHTUVOVCAqLykpIHx8XHJcbiAgICAgICAgICAgICAgICAoIW9wdGltaXplZCAmJiBzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykpIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYW4gdW5tb3VudGVkIHRlbGVwb3J0IHNob3VsZCBhbHdheXMgcmVtb3ZlIGl0cyBjaGlsZHJlbiBpZiBub3QgZGlzYWJsZWRcclxuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovICYmXHJcbiAgICAgICAgICAgICAgICAoZG9SZW1vdmUgfHwgIWlzVGVsZXBvcnREaXNhYmxlZCh2bm9kZS5wcm9wcykpKSB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS50eXBlLnJlbW92ZSh2bm9kZSwgaW50ZXJuYWxzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlVW5tb3VudGVkKSB8fCBzaG91bGRJbnZva2VEaXJzKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBzaG91bGRJbnZva2VEaXJzICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAndW5tb3VudGVkJyk7XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVtb3ZlID0gdm5vZGUgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgZWwsIGFuY2hvciwgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUZyYWdtZW50KGVsLCBhbmNob3IpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgdHlwZSA9PT0gU3RhdGljKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVN0YXRpY05vZGUodm5vZGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBlcmZvcm1SZW1vdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoZWwpO1xyXG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbiAmJiAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQgJiYgdHJhbnNpdGlvbi5hZnRlckxlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmFmdGVyTGVhdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyAmJlxyXG4gICAgICAgICAgICB0cmFuc2l0aW9uICYmXHJcbiAgICAgICAgICAgICF0cmFuc2l0aW9uLnBlcnNpc3RlZCkge1xyXG4gICAgICAgICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlIH0gPSB0cmFuc2l0aW9uO1xyXG4gICAgICAgICAgICBjb25zdCBwZXJmb3JtTGVhdmUgPSAoKSA9PiBsZWF2ZShlbCwgcGVyZm9ybVJlbW92ZSk7XHJcbiAgICAgICAgICAgIGlmIChkZWxheUxlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxheUxlYXZlKHZub2RlLmVsLCBwZXJmb3JtUmVtb3ZlLCBwZXJmb3JtTGVhdmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGVyZm9ybUxlYXZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBlcmZvcm1SZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVtb3ZlRnJhZ21lbnQgPSAoY3VyLCBlbmQpID0+IHtcclxuICAgICAgICAvLyBGb3IgZnJhZ21lbnRzLCBkaXJlY3RseSByZW1vdmUgYWxsIGNvbnRhaW5lZCBET00gbm9kZXMuXHJcbiAgICAgICAgLy8gKGZyYWdtZW50IGNoaWxkIG5vZGVzIGNhbm5vdCBoYXZlIHRyYW5zaXRpb24pXHJcbiAgICAgICAgbGV0IG5leHQ7XHJcbiAgICAgICAgd2hpbGUgKGN1ciAhPT0gZW5kKSB7XHJcbiAgICAgICAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoY3VyKTtcclxuICAgICAgICAgICAgaG9zdFJlbW92ZShjdXIpO1xyXG4gICAgICAgICAgICBjdXIgPSBuZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBob3N0UmVtb3ZlKGVuZCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgdW5tb3VudENvbXBvbmVudCA9IChpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKSA9PiB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAodHJ1ZSApICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xyXG4gICAgICAgICAgICB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBidW0sIGVmZmVjdHMsIHVwZGF0ZSwgc3ViVHJlZSwgdW0gfSA9IGluc3RhbmNlO1xyXG4gICAgICAgIC8vIGJlZm9yZVVubW91bnQgaG9va1xyXG4gICAgICAgIGlmIChidW0pIHtcclxuICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVmZmVjdHMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlZmZlY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9wKGVmZmVjdHNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHVwZGF0ZSBtYXkgYmUgbnVsbCBpZiBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgYmVmb3JlIGl0cyBhc3luY1xyXG4gICAgICAgIC8vIHNldHVwIGhhcyByZXNvbHZlZC5cclxuICAgICAgICBpZiAodXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHN0b3AodXBkYXRlKTtcclxuICAgICAgICAgICAgdW5tb3VudChzdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdW5tb3VudGVkIGhvb2tcclxuICAgICAgICBpZiAodW0pIHtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHVtLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgLy8gQSBjb21wb25lbnQgd2l0aCBhc3luYyBkZXAgaW5zaWRlIGEgcGVuZGluZyBzdXNwZW5zZSBpcyB1bm1vdW50ZWQgYmVmb3JlXHJcbiAgICAgICAgLy8gaXRzIGFzeW5jIGRlcCByZXNvbHZlcy4gVGhpcyBzaG91bGQgcmVtb3ZlIHRoZSBkZXAgZnJvbSB0aGUgc3VzcGVuc2UsIGFuZFxyXG4gICAgICAgIC8vIGNhdXNlIHRoZSBzdXNwZW5zZSB0byByZXNvbHZlIGltbWVkaWF0ZWx5IGlmIHRoYXQgd2FzIHRoZSBsYXN0IGRlcC5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlICYmXHJcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiZcclxuICAgICAgICAgICAgIXBhcmVudFN1c3BlbnNlLmlzVW5tb3VudGVkICYmXHJcbiAgICAgICAgICAgIGluc3RhbmNlLmFzeW5jRGVwICYmXHJcbiAgICAgICAgICAgICFpbnN0YW5jZS5hc3luY1Jlc29sdmVkICYmXHJcbiAgICAgICAgICAgIGluc3RhbmNlLnN1c3BlbnNlSWQgPT09IHBhcmVudFN1c3BlbnNlLnBlbmRpbmdJZCkge1xyXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZS5kZXBzLS07XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnRTdXNwZW5zZS5kZXBzID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgdW5tb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSwgc3RhcnQgPSAwKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdW5tb3VudChjaGlsZHJlbltpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGdldE5leHRIb3N0Tm9kZSA9IHZub2RlID0+IHtcclxuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldE5leHRIb3N0Tm9kZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICggdm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2bm9kZS5zdXNwZW5zZS5uZXh0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBob3N0TmV4dFNpYmxpbmcoKHZub2RlLmFuY2hvciB8fCB2bm9kZS5lbCkpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHJlbmRlciA9ICh2bm9kZSwgY29udGFpbmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHZub2RlID09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5fdm5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnQoY29udGFpbmVyLl92bm9kZSwgbnVsbCwgbnVsbCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGNoKGNvbnRhaW5lci5fdm5vZGUgfHwgbnVsbCwgdm5vZGUsIGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XHJcbiAgICAgICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGludGVybmFscyA9IHtcclxuICAgICAgICBwOiBwYXRjaCxcclxuICAgICAgICB1bTogdW5tb3VudCxcclxuICAgICAgICBtOiBtb3ZlLFxyXG4gICAgICAgIHI6IHJlbW92ZSxcclxuICAgICAgICBtdDogbW91bnRDb21wb25lbnQsXHJcbiAgICAgICAgbWM6IG1vdW50Q2hpbGRyZW4sXHJcbiAgICAgICAgcGM6IHBhdGNoQ2hpbGRyZW4sXHJcbiAgICAgICAgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sXHJcbiAgICAgICAgbjogZ2V0TmV4dEhvc3ROb2RlLFxyXG4gICAgICAgIG86IG9wdGlvbnNcclxuICAgIH07XHJcbiAgICBsZXQgaHlkcmF0ZTtcclxuICAgIGxldCBoeWRyYXRlTm9kZTtcclxuICAgIGlmIChjcmVhdGVIeWRyYXRpb25GbnMpIHtcclxuICAgICAgICBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdID0gY3JlYXRlSHlkcmF0aW9uRm5zKGludGVybmFscyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlbmRlcixcclxuICAgICAgICBoeWRyYXRlLFxyXG4gICAgICAgIGNyZWF0ZUFwcDogY3JlYXRlQXBwQVBJKHJlbmRlciwgaHlkcmF0ZSlcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gaW52b2tlVk5vZGVIb29rKGhvb2ssIGluc3RhbmNlLCB2bm9kZSwgcHJldlZOb2RlID0gbnVsbCkge1xyXG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDcgLyogVk5PREVfSE9PSyAqLywgW1xyXG4gICAgICAgIHZub2RlLFxyXG4gICAgICAgIHByZXZWTm9kZVxyXG4gICAgXSk7XHJcbn1cclxuLyoqXHJcbiAqICMxMTU2XHJcbiAqIFdoZW4gYSBjb21wb25lbnQgaXMgSE1SLWVuYWJsZWQsIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYWxsIHN0YXRpYyBub2Rlc1xyXG4gKiBpbnNpZGUgYSBibG9jayBhbHNvIGluaGVyaXQgdGhlIERPTSBlbGVtZW50IGZyb20gdGhlIHByZXZpb3VzIHRyZWUgc28gdGhhdFxyXG4gKiBITVIgdXBkYXRlcyAod2hpY2ggYXJlIGZ1bGwgdXBkYXRlcykgY2FuIHJldHJpZXZlIHRoZSBlbGVtZW50IGZvciBwYXRjaGluZy5cclxuICpcclxuICogIzIwODBcclxuICogSW5zaWRlIGtleWVkIGB0ZW1wbGF0ZWAgZnJhZ21lbnQgc3RhdGljIGNoaWxkcmVuLCBpZiBhIGZyYWdtZW50IGlzIG1vdmVkLFxyXG4gKiB0aGUgY2hpbGRyZW4gd2lsbCBhbHdheXMgbW92ZWQgc28gdGhhdCBuZWVkIGluaGVyaXQgZWwgZm9ybSBwcmV2aW91cyBub2Rlc1xyXG4gKiB0byBlbnN1cmUgY29ycmVjdCBtb3ZlZCBwb3NpdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCBzaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGNoMSA9IG4xLmNoaWxkcmVuO1xyXG4gICAgY29uc3QgY2gyID0gbjIuY2hpbGRyZW47XHJcbiAgICBpZiAoaXNBcnJheShjaDEpICYmIGlzQXJyYXkoY2gyKSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2gxLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb25seSBjYWxsZWQgaW4gdGhlIG9wdGltaXplZCBwYXRoIHNvIGFycmF5IGNoaWxkcmVuIGFyZVxyXG4gICAgICAgICAgICAvLyBndWFyYW50ZWVkIHRvIGJlIHZub2Rlc1xyXG4gICAgICAgICAgICBjb25zdCBjMSA9IGNoMVtpXTtcclxuICAgICAgICAgICAgbGV0IGMyID0gY2gyW2ldO1xyXG4gICAgICAgICAgICBpZiAoYzIuc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmICFjMi5keW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChjMi5wYXRjaEZsYWcgPD0gMCB8fCBjMi5wYXRjaEZsYWcgPT09IDMyIC8qIEhZRFJBVEVfRVZFTlRTICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYzIgPSBjaDJbaV0gPSBjbG9uZUlmTW91bnRlZChjaDJbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGMyLmVsID0gYzEuZWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXNoYWxsb3cpXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihjMSwgYzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFsc28gaW5oZXJpdCBmb3IgY29tbWVudCBub2RlcywgYnV0IG5vdCBwbGFjZWhvbGRlcnMgKGUuZy4gdi1pZiB3aGljaFxyXG4gICAgICAgICAgICAvLyB3b3VsZCBoYXZlIHJlY2VpdmVkIC5lbCBkdXJpbmcgYmxvY2sgcGF0Y2gpXHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYzIudHlwZSA9PT0gQ29tbWVudCAmJiAhYzIuZWwpIHtcclxuICAgICAgICAgICAgICAgIGMyLmVsID0gYzEuZWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9uZ2VzdF9pbmNyZWFzaW5nX3N1YnNlcXVlbmNlXHJcbmZ1bmN0aW9uIGdldFNlcXVlbmNlKGFycikge1xyXG4gICAgY29uc3QgcCA9IGFyci5zbGljZSgpO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gWzBdO1xyXG4gICAgbGV0IGksIGosIHUsIHYsIGM7XHJcbiAgICBjb25zdCBsZW4gPSBhcnIubGVuZ3RoO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgYXJySSA9IGFycltpXTtcclxuICAgICAgICBpZiAoYXJySSAhPT0gMCkge1xyXG4gICAgICAgICAgICBqID0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKGFycltqXSA8IGFyckkpIHtcclxuICAgICAgICAgICAgICAgIHBbaV0gPSBqO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1ID0gMDtcclxuICAgICAgICAgICAgdiA9IHJlc3VsdC5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICB3aGlsZSAodSA8IHYpIHtcclxuICAgICAgICAgICAgICAgIGMgPSAoKHUgKyB2KSAvIDIpIHwgMDtcclxuICAgICAgICAgICAgICAgIGlmIChhcnJbcmVzdWx0W2NdXSA8IGFyckkpIHtcclxuICAgICAgICAgICAgICAgICAgICB1ID0gYyArIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2ID0gYztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYXJySSA8IGFycltyZXN1bHRbdV1dKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBwW2ldID0gcmVzdWx0W3UgLSAxXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc3VsdFt1XSA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1ID0gcmVzdWx0Lmxlbmd0aDtcclxuICAgIHYgPSByZXN1bHRbdSAtIDFdO1xyXG4gICAgd2hpbGUgKHUtLSA+IDApIHtcclxuICAgICAgICByZXN1bHRbdV0gPSB2O1xyXG4gICAgICAgIHYgPSBwW3ZdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxuXG5jb25zdCBpc1RlbGVwb3J0ID0gKHR5cGUpID0+IHR5cGUuX19pc1RlbGVwb3J0O1xyXG5jb25zdCBpc1RlbGVwb3J0RGlzYWJsZWQgPSAocHJvcHMpID0+IHByb3BzICYmIChwcm9wcy5kaXNhYmxlZCB8fCBwcm9wcy5kaXNhYmxlZCA9PT0gJycpO1xyXG5jb25zdCByZXNvbHZlVGFyZ2V0ID0gKHByb3BzLCBzZWxlY3QpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldFNlbGVjdG9yID0gcHJvcHMgJiYgcHJvcHMudG87XHJcbiAgICBpZiAoaXNTdHJpbmcodGFyZ2V0U2VsZWN0b3IpKSB7XHJcbiAgICAgICAgaWYgKCFzZWxlY3QpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBDdXJyZW50IHJlbmRlcmVyIGRvZXMgbm90IHN1cHBvcnQgc3RyaW5nIHRhcmdldCBmb3IgVGVsZXBvcnRzLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgKG1pc3NpbmcgcXVlcnlTZWxlY3RvciByZW5kZXJlciBvcHRpb24pYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gc2VsZWN0KHRhcmdldFNlbGVjdG9yKTtcclxuICAgICAgICAgICAgaWYgKCF0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEZhaWxlZCB0byBsb2NhdGUgVGVsZXBvcnQgdGFyZ2V0IHdpdGggc2VsZWN0b3IgXCIke3RhcmdldFNlbGVjdG9yfVwiLiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYE5vdGUgdGhlIHRhcmdldCBlbGVtZW50IG11c3QgZXhpc3QgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZCAtIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgaS5lLiB0aGUgdGFyZ2V0IGNhbm5vdCBiZSByZW5kZXJlZCBieSB0aGUgY29tcG9uZW50IGl0c2VsZiwgYW5kIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgaWRlYWxseSBzaG91bGQgYmUgb3V0c2lkZSBvZiB0aGUgZW50aXJlIFZ1ZSBjb21wb25lbnQgdHJlZS5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXRhcmdldFNlbGVjdG9yICYmICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEludmFsaWQgVGVsZXBvcnQgdGFyZ2V0OiAke3RhcmdldFNlbGVjdG9yfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0U2VsZWN0b3I7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IFRlbGVwb3J0SW1wbCA9IHtcclxuICAgIF9faXNUZWxlcG9ydDogdHJ1ZSxcclxuICAgIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCwgaW50ZXJuYWxzKSB7XHJcbiAgICAgICAgY29uc3QgeyBtYzogbW91bnRDaGlsZHJlbiwgcGM6IHBhdGNoQ2hpbGRyZW4sIHBiYzogcGF0Y2hCbG9ja0NoaWxkcmVuLCBvOiB7IGluc2VydCwgcXVlcnlTZWxlY3RvciwgY3JlYXRlVGV4dCwgY3JlYXRlQ29tbWVudCB9IH0gPSBpbnRlcm5hbHM7XHJcbiAgICAgICAgY29uc3QgZGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQobjIucHJvcHMpO1xyXG4gICAgICAgIGNvbnN0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiB9ID0gbjI7XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gaW5zZXJ0IGFuY2hvcnMgaW4gdGhlIG1haW4gdmlld1xyXG4gICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IChuMi5lbCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVDb21tZW50KCd0ZWxlcG9ydCBzdGFydCcpXHJcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICAgICAgY29uc3QgbWFpbkFuY2hvciA9IChuMi5hbmNob3IgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICAgICAgICAgID8gY3JlYXRlQ29tbWVudCgndGVsZXBvcnQgZW5kJylcclxuICAgICAgICAgICAgICAgIDogY3JlYXRlVGV4dCgnJykpO1xyXG4gICAgICAgICAgICBpbnNlcnQocGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgaW5zZXJ0KG1haW5BbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gKG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQobjIucHJvcHMsIHF1ZXJ5U2VsZWN0b3IpKTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gKG4yLnRhcmdldEFuY2hvciA9IGNyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaW5zZXJ0KHRhcmdldEFuY2hvciwgdGFyZ2V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKCdJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiBtb3VudDonLCB0YXJnZXQsIGAoJHt0eXBlb2YgdGFyZ2V0fSlgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBtb3VudCA9IChjb250YWluZXIsIGFuY2hvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gVGVsZXBvcnQgKmFsd2F5cyogaGFzIEFycmF5IGNoaWxkcmVuLiBUaGlzIGlzIGVuZm9yY2VkIGluIGJvdGggdGhlXHJcbiAgICAgICAgICAgICAgICAvLyBjb21waWxlciBhbmQgdm5vZGUgY2hpbGRyZW4gbm9ybWFsaXphdGlvbi5cclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKGRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudChjb250YWluZXIsIG1haW5BbmNob3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgbW91bnQodGFyZ2V0LCB0YXJnZXRBbmNob3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB1cGRhdGUgY29udGVudFxyXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgICAgICAgICBjb25zdCBtYWluQW5jaG9yID0gKG4yLmFuY2hvciA9IG4xLmFuY2hvcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IChuMi50YXJnZXQgPSBuMS50YXJnZXQpO1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXRBbmNob3IgPSAobjIudGFyZ2V0QW5jaG9yID0gbjEudGFyZ2V0QW5jaG9yKTtcclxuICAgICAgICAgICAgY29uc3Qgd2FzRGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQobjEucHJvcHMpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q29udGFpbmVyID0gd2FzRGlzYWJsZWQgPyBjb250YWluZXIgOiB0YXJnZXQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBbmNob3IgPSB3YXNEaXNhYmxlZCA/IG1haW5BbmNob3IgOiB0YXJnZXRBbmNob3I7XHJcbiAgICAgICAgICAgIGlmIChuMi5keW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIC8vIGZhc3QgcGF0aCB3aGVuIHRoZSB0ZWxlcG9ydCBoYXBwZW5zIHRvIGJlIGEgYmxvY2sgcm9vdFxyXG4gICAgICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgbjIuZHluYW1pY0NoaWxkcmVuLCBjdXJyZW50Q29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICAvLyBldmVuIGluIGJsb2NrIHRyZWUgbW9kZSB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSBhbGwgcm9vdC1sZXZlbCBub2Rlc1xyXG4gICAgICAgICAgICAgICAgLy8gaW4gdGhlIHRlbGVwb3J0IGluaGVyaXQgcHJldmlvdXMgRE9NIHJlZmVyZW5jZXMgc28gdGhhdCB0aGV5IGNhblxyXG4gICAgICAgICAgICAgICAgLy8gYmUgbW92ZWQgaW4gZnV0dXJlIHBhdGNoZXMuXHJcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIW9wdGltaXplZCkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hDaGlsZHJlbihuMSwgbjIsIGN1cnJlbnRDb250YWluZXIsIGN1cnJlbnRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghd2FzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlbmFibGVkIC0+IGRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBpbnRvIG1haW4gY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZVRlbGVwb3J0KG4yLCBjb250YWluZXIsIG1haW5BbmNob3IsIGludGVybmFscywgMSAvKiBUT0dHTEUgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gdGFyZ2V0IGNoYW5nZWRcclxuICAgICAgICAgICAgICAgIGlmICgobjIucHJvcHMgJiYgbjIucHJvcHMudG8pICE9PSAobjEucHJvcHMgJiYgbjEucHJvcHMudG8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFRhcmdldCA9IChuMi50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KG4yLnByb3BzLCBxdWVyeVNlbGVjdG9yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUYXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVRlbGVwb3J0KG4yLCBuZXh0VGFyZ2V0LCBudWxsLCBpbnRlcm5hbHMsIDAgLyogVEFSR0VUX0NIQU5HRSAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKCdJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiB1cGRhdGU6JywgdGFyZ2V0LCBgKCR7dHlwZW9mIHRhcmdldH0pYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAod2FzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkaXNhYmxlZCAtPiBlbmFibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBpbnRvIHRlbGVwb3J0IHRhcmdldFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVUZWxlcG9ydChuMiwgdGFyZ2V0LCB0YXJnZXRBbmNob3IsIGludGVybmFscywgMSAvKiBUT0dHTEUgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlbW92ZSh2bm9kZSwgeyByOiByZW1vdmUsIG86IHsgcmVtb3ZlOiBob3N0UmVtb3ZlIH0gfSkge1xyXG4gICAgICAgIGNvbnN0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiwgYW5jaG9yIH0gPSB2bm9kZTtcclxuICAgICAgICBob3N0UmVtb3ZlKGFuY2hvcik7XHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZShjaGlsZHJlbltpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbW92ZTogbW92ZVRlbGVwb3J0LFxyXG4gICAgaHlkcmF0ZTogaHlkcmF0ZVRlbGVwb3J0XHJcbn07XHJcbmZ1bmN0aW9uIG1vdmVUZWxlcG9ydCh2bm9kZSwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIHsgbzogeyBpbnNlcnQgfSwgbTogbW92ZSB9LCBtb3ZlVHlwZSA9IDIgLyogUkVPUkRFUiAqLykge1xyXG4gICAgLy8gbW92ZSB0YXJnZXQgYW5jaG9yIGlmIHRoaXMgaXMgYSB0YXJnZXQgY2hhbmdlLlxyXG4gICAgaWYgKG1vdmVUeXBlID09PSAwIC8qIFRBUkdFVF9DSEFOR0UgKi8pIHtcclxuICAgICAgICBpbnNlcnQodm5vZGUudGFyZ2V0QW5jaG9yLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IGVsLCBhbmNob3IsIHNoYXBlRmxhZywgY2hpbGRyZW4sIHByb3BzIH0gPSB2bm9kZTtcclxuICAgIGNvbnN0IGlzUmVvcmRlciA9IG1vdmVUeXBlID09PSAyIC8qIFJFT1JERVIgKi87XHJcbiAgICAvLyBtb3ZlIG1haW4gdmlldyBhbmNob3IgaWYgdGhpcyBpcyBhIHJlLW9yZGVyLlxyXG4gICAgaWYgKGlzUmVvcmRlcikge1xyXG4gICAgICAgIGluc2VydChlbCwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xyXG4gICAgfVxyXG4gICAgLy8gaWYgdGhpcyBpcyBhIHJlLW9yZGVyIGFuZCB0ZWxlcG9ydCBpcyBlbmFibGVkIChjb250ZW50IGlzIGluIHRhcmdldClcclxuICAgIC8vIGRvIG5vdCBtb3ZlIGNoaWxkcmVuLiBTbyB0aGUgb3Bwb3NpdGUgaXM6IG9ubHkgbW92ZSBjaGlsZHJlbiBpZiB0aGlzXHJcbiAgICAvLyBpcyBub3QgYSByZW9yZGVyLCBvciB0aGUgdGVsZXBvcnQgaXMgZGlzYWJsZWRcclxuICAgIGlmICghaXNSZW9yZGVyIHx8IGlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcclxuICAgICAgICAvLyBUZWxlcG9ydCBoYXMgZWl0aGVyIEFycmF5IGNoaWxkcmVuIG9yIG5vIGNoaWxkcmVuLlxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBtb3ZlKGNoaWxkcmVuW2ldLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgMiAvKiBSRU9SREVSICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIG1vdmUgbWFpbiB2aWV3IGFuY2hvciBpZiB0aGlzIGlzIGEgcmUtb3JkZXIuXHJcbiAgICBpZiAoaXNSZW9yZGVyKSB7XHJcbiAgICAgICAgaW5zZXJ0KGFuY2hvciwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVUZWxlcG9ydChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkLCB7IG86IHsgbmV4dFNpYmxpbmcsIHBhcmVudE5vZGUsIHF1ZXJ5U2VsZWN0b3IgfSB9LCBoeWRyYXRlQ2hpbGRyZW4pIHtcclxuICAgIGNvbnN0IHRhcmdldCA9ICh2bm9kZS50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KHZub2RlLnByb3BzLCBxdWVyeVNlbGVjdG9yKSk7XHJcbiAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgLy8gaWYgbXVsdGlwbGUgdGVsZXBvcnRzIHJlbmRlcmVkIHRvIHRoZSBzYW1lIHRhcmdldCBlbGVtZW50LCB3ZSBuZWVkIHRvXHJcbiAgICAgICAgLy8gcGljayB1cCBmcm9tIHdoZXJlIHRoZSBsYXN0IHRlbGVwb3J0IGZpbmlzaGVkIGluc3RlYWQgb2YgdGhlIGZpcnN0IG5vZGVcclxuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0Ll9scGEgfHwgdGFyZ2V0LmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1RlbGVwb3J0RGlzYWJsZWQodm5vZGUucHJvcHMpKSB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBoeWRyYXRlQ2hpbGRyZW4obmV4dFNpYmxpbmcobm9kZSksIHZub2RlLCBwYXJlbnROb2RlKG5vZGUpLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gdGFyZ2V0Tm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZub2RlLmFuY2hvciA9IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKHRhcmdldE5vZGUsIHZub2RlLCB0YXJnZXQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGFyZ2V0Ll9scGEgPVxyXG4gICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLnRhcmdldEFuY2hvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZub2RlLmFuY2hvciAmJiBuZXh0U2libGluZyh2bm9kZS5hbmNob3IpO1xyXG59XHJcbi8vIEZvcmNlLWNhc3RlZCBwdWJsaWMgdHlwaW5nIGZvciBoIGFuZCBUU1ggcHJvcHMgaW5mZXJlbmNlXHJcbmNvbnN0IFRlbGVwb3J0ID0gVGVsZXBvcnRJbXBsO1xuXG5jb25zdCBDT01QT05FTlRTID0gJ2NvbXBvbmVudHMnO1xyXG5jb25zdCBESVJFQ1RJVkVTID0gJ2RpcmVjdGl2ZXMnO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHJlc29sdmVDb21wb25lbnQobmFtZSkge1xyXG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBuYW1lKSB8fCBuYW1lO1xyXG59XHJcbmNvbnN0IE5VTExfRFlOQU1JQ19DT01QT05FTlQgPSBTeW1ib2woKTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY0NvbXBvbmVudChjb21wb25lbnQpIHtcclxuICAgIGlmIChpc1N0cmluZyhjb21wb25lbnQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBjb21wb25lbnQsIGZhbHNlKSB8fCBjb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBpbnZhbGlkIHR5cGVzIHdpbGwgZmFsbHRocm91Z2ggdG8gY3JlYXRlVk5vZGUgYW5kIHJhaXNlIHdhcm5pbmdcclxuICAgICAgICByZXR1cm4gKGNvbXBvbmVudCB8fCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHJlc29sdmVEaXJlY3RpdmUobmFtZSkge1xyXG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChESVJFQ1RJVkVTLCBuYW1lKTtcclxufVxyXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiByZXNvbHZlQXNzZXQodHlwZSwgbmFtZSwgd2Fybk1pc3NpbmcgPSB0cnVlKSB7XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSB8fCBjdXJyZW50SW5zdGFuY2U7XHJcbiAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgICAgIC8vIHNlbGYgbmFtZSBoYXMgaGlnaGVzdCBwcmlvcml0eVxyXG4gICAgICAgIGlmICh0eXBlID09PSBDT01QT05FTlRTKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGZOYW1lID0gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lO1xyXG4gICAgICAgICAgICBpZiAoc2VsZk5hbWUgJiZcclxuICAgICAgICAgICAgICAgIChzZWxmTmFtZSA9PT0gbmFtZSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGZOYW1lID09PSBjYW1lbGl6ZShuYW1lKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGZOYW1lID09PSBjYXBpdGFsaXplKGNhbWVsaXplKG5hbWUpKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBDb21wb25lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzID0gXHJcbiAgICAgICAgLy8gbG9jYWwgcmVnaXN0cmF0aW9uXHJcbiAgICAgICAgLy8gY2hlY2sgaW5zdGFuY2VbdHlwZV0gZmlyc3QgZm9yIGNvbXBvbmVudHMgd2l0aCBtaXhpbiBvciBleHRlbmRzLlxyXG4gICAgICAgIHJlc29sdmUoaW5zdGFuY2VbdHlwZV0gfHwgQ29tcG9uZW50W3R5cGVdLCBuYW1lKSB8fFxyXG4gICAgICAgICAgICAvLyBnbG9iYWwgcmVnaXN0cmF0aW9uXHJcbiAgICAgICAgICAgIHJlc29sdmUoaW5zdGFuY2UuYXBwQ29udGV4dFt0eXBlXSwgbmFtZSk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuTWlzc2luZyAmJiAhcmVzKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEZhaWxlZCB0byByZXNvbHZlICR7dHlwZS5zbGljZSgwLCAtMSl9OiAke25hbWV9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGByZXNvbHZlJHtjYXBpdGFsaXplKHR5cGUuc2xpY2UoMCwgLTEpKX0gYCArXHJcbiAgICAgICAgICAgIGBjYW4gb25seSBiZSB1c2VkIGluIHJlbmRlcigpIG9yIHNldHVwKCkuYCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZShyZWdpc3RyeSwgbmFtZSkge1xyXG4gICAgcmV0dXJuIChyZWdpc3RyeSAmJlxyXG4gICAgICAgIChyZWdpc3RyeVtuYW1lXSB8fFxyXG4gICAgICAgICAgICByZWdpc3RyeVtjYW1lbGl6ZShuYW1lKV0gfHxcclxuICAgICAgICAgICAgcmVnaXN0cnlbY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSldKSk7XHJcbn1cblxuY29uc3QgRnJhZ21lbnQgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ0ZyYWdtZW50JyA6IHVuZGVmaW5lZCk7XHJcbmNvbnN0IFRleHQgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ1RleHQnIDogdW5kZWZpbmVkKTtcclxuY29uc3QgQ29tbWVudCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnQ29tbWVudCcgOiB1bmRlZmluZWQpO1xyXG5jb25zdCBTdGF0aWMgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ1N0YXRpYycgOiB1bmRlZmluZWQpO1xyXG4vLyBTaW5jZSB2LWlmIGFuZCB2LWZvciBhcmUgdGhlIHR3byBwb3NzaWJsZSB3YXlzIG5vZGUgc3RydWN0dXJlIGNhbiBkeW5hbWljYWxseVxyXG4vLyBjaGFuZ2UsIG9uY2Ugd2UgY29uc2lkZXIgdi1pZiBicmFuY2hlcyBhbmQgZWFjaCB2LWZvciBmcmFnbWVudCBhIGJsb2NrLCB3ZVxyXG4vLyBjYW4gZGl2aWRlIGEgdGVtcGxhdGUgaW50byBuZXN0ZWQgYmxvY2tzLCBhbmQgd2l0aGluIGVhY2ggYmxvY2sgdGhlIG5vZGVcclxuLy8gc3RydWN0dXJlIHdvdWxkIGJlIHN0YWJsZS4gVGhpcyBhbGxvd3MgdXMgdG8gc2tpcCBtb3N0IGNoaWxkcmVuIGRpZmZpbmdcclxuLy8gYW5kIG9ubHkgd29ycnkgYWJvdXQgdGhlIGR5bmFtaWMgbm9kZXMgKGluZGljYXRlZCBieSBwYXRjaCBmbGFncykuXHJcbmNvbnN0IGJsb2NrU3RhY2sgPSBbXTtcclxubGV0IGN1cnJlbnRCbG9jayA9IG51bGw7XHJcbi8qKlxyXG4gKiBPcGVuIGEgYmxvY2suXHJcbiAqIFRoaXMgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGBjcmVhdGVCbG9ja2AuIEl0IGNhbm5vdCBiZSBwYXJ0IG9mIGBjcmVhdGVCbG9ja2BcclxuICogYmVjYXVzZSB0aGUgY2hpbGRyZW4gb2YgdGhlIGJsb2NrIGFyZSBldmFsdWF0ZWQgYmVmb3JlIGBjcmVhdGVCbG9ja2AgaXRzZWxmXHJcbiAqIGlzIGNhbGxlZC4gVGhlIGdlbmVyYXRlZCBjb2RlIHR5cGljYWxseSBsb29rcyBsaWtlIHRoaXM6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICogICByZXR1cm4gKG9wZW5CbG9jaygpLGNyZWF0ZUJsb2NrKCdkaXYnLCBudWxsLCBbLi4uXSkpXHJcbiAqIH1cclxuICogYGBgXHJcbiAqIGRpc2FibGVUcmFja2luZyBpcyB0cnVlIHdoZW4gY3JlYXRpbmcgYSB2LWZvciBmcmFnbWVudCBibG9jaywgc2luY2UgYSB2LWZvclxyXG4gKiBmcmFnbWVudCBhbHdheXMgZGlmZnMgaXRzIGNoaWxkcmVuLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gb3BlbkJsb2NrKGRpc2FibGVUcmFja2luZyA9IGZhbHNlKSB7XHJcbiAgICBibG9ja1N0YWNrLnB1c2goKGN1cnJlbnRCbG9jayA9IGRpc2FibGVUcmFja2luZyA/IG51bGwgOiBbXSkpO1xyXG59XHJcbmZ1bmN0aW9uIGNsb3NlQmxvY2soKSB7XHJcbiAgICBibG9ja1N0YWNrLnBvcCgpO1xyXG4gICAgY3VycmVudEJsb2NrID0gYmxvY2tTdGFja1tibG9ja1N0YWNrLmxlbmd0aCAtIDFdIHx8IG51bGw7XHJcbn1cclxuLy8gV2hldGhlciB3ZSBzaG91bGQgYmUgdHJhY2tpbmcgZHluYW1pYyBjaGlsZCBub2RlcyBpbnNpZGUgYSBibG9jay5cclxuLy8gT25seSB0cmFja3Mgd2hlbiB0aGlzIHZhbHVlIGlzID4gMFxyXG4vLyBXZSBhcmUgbm90IHVzaW5nIGEgc2ltcGxlIGJvb2xlYW4gYmVjYXVzZSB0aGlzIHZhbHVlIG1heSBuZWVkIHRvIGJlXHJcbi8vIGluY3JlbWVudGVkL2RlY3JlbWVudGVkIGJ5IG5lc3RlZCB1c2FnZSBvZiB2LW9uY2UgKHNlZSBiZWxvdylcclxubGV0IHNob3VsZFRyYWNrID0gMTtcclxuLyoqXHJcbiAqIEJsb2NrIHRyYWNraW5nIHNvbWV0aW1lcyBuZWVkcyB0byBiZSBkaXNhYmxlZCwgZm9yIGV4YW1wbGUgZHVyaW5nIHRoZVxyXG4gKiBjcmVhdGlvbiBvZiBhIHRyZWUgdGhhdCBuZWVkcyB0byBiZSBjYWNoZWQgYnkgdi1vbmNlLiBUaGUgY29tcGlsZXIgZ2VuZXJhdGVzXHJcbiAqIGNvZGUgbGlrZSB0aGlzOlxyXG4gKlxyXG4gKiBgYGAganNcclxuICogX2NhY2hlWzFdIHx8IChcclxuICogICBzZXRCbG9ja1RyYWNraW5nKC0xKSxcclxuICogICBfY2FjaGVbMV0gPSBjcmVhdGVWTm9kZSguLi4pLFxyXG4gKiAgIHNldEJsb2NrVHJhY2tpbmcoMSksXHJcbiAqICAgX2NhY2hlWzFdXHJcbiAqIClcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRCbG9ja1RyYWNraW5nKHZhbHVlKSB7XHJcbiAgICBzaG91bGRUcmFjayArPSB2YWx1ZTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlIGEgYmxvY2sgcm9vdCB2bm9kZS4gVGFrZXMgdGhlIHNhbWUgZXhhY3QgYXJndW1lbnRzIGFzIGBjcmVhdGVWTm9kZWAuXHJcbiAqIEEgYmxvY2sgcm9vdCBrZWVwcyB0cmFjayBvZiBkeW5hbWljIG5vZGVzIHdpdGhpbiB0aGUgYmxvY2sgaW4gdGhlXHJcbiAqIGBkeW5hbWljQ2hpbGRyZW5gIGFycmF5LlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlQmxvY2sodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcykge1xyXG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzLCB0cnVlIC8qIGlzQmxvY2s6IHByZXZlbnQgYSBibG9jayBmcm9tIHRyYWNraW5nIGl0c2VsZiAqLyk7XHJcbiAgICAvLyBzYXZlIGN1cnJlbnQgYmxvY2sgY2hpbGRyZW4gb24gdGhlIGJsb2NrIHZub2RlXHJcbiAgICB2bm9kZS5keW5hbWljQ2hpbGRyZW4gPSBjdXJyZW50QmxvY2sgfHwgRU1QVFlfQVJSO1xyXG4gICAgLy8gY2xvc2UgYmxvY2tcclxuICAgIGNsb3NlQmxvY2soKTtcclxuICAgIC8vIGEgYmxvY2sgaXMgYWx3YXlzIGdvaW5nIHRvIGJlIHBhdGNoZWQsIHNvIHRyYWNrIGl0IGFzIGEgY2hpbGQgb2YgaXRzXHJcbiAgICAvLyBwYXJlbnQgYmxvY2tcclxuICAgIGlmIChzaG91bGRUcmFjayA+IDAgJiYgY3VycmVudEJsb2NrKSB7XHJcbiAgICAgICAgY3VycmVudEJsb2NrLnB1c2godm5vZGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZub2RlO1xyXG59XHJcbmZ1bmN0aW9uIGlzVk5vZGUodmFsdWUpIHtcclxuICAgIHJldHVybiB2YWx1ZSA/IHZhbHVlLl9fdl9pc1ZOb2RlID09PSB0cnVlIDogZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgIG4yLnNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovICYmXHJcbiAgICAgICAgaG1yRGlydHlDb21wb25lbnRzLmhhcyhuMi50eXBlKSkge1xyXG4gICAgICAgIC8vIEhNUiBvbmx5OiBpZiB0aGUgY29tcG9uZW50IGhhcyBiZWVuIGhvdC11cGRhdGVkLCBmb3JjZSBhIHJlbG9hZC5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbjEudHlwZSA9PT0gbjIudHlwZSAmJiBuMS5rZXkgPT09IG4yLmtleTtcclxufVxyXG5sZXQgdm5vZGVBcmdzVHJhbnNmb3JtZXI7XHJcbi8qKlxyXG4gKiBJbnRlcm5hbCBBUEkgZm9yIHJlZ2lzdGVyaW5nIGFuIGFyZ3VtZW50cyB0cmFuc2Zvcm0gZm9yIGNyZWF0ZVZOb2RlXHJcbiAqIHVzZWQgZm9yIGNyZWF0aW5nIHN0dWJzIGluIHRoZSB0ZXN0LXV0aWxzXHJcbiAqIEl0IGlzICppbnRlcm5hbCogYnV0IG5lZWRzIHRvIGJlIGV4cG9zZWQgZm9yIHRlc3QtdXRpbHMgdG8gcGljayB1cCBwcm9wZXJcclxuICogdHlwaW5nc1xyXG4gKi9cclxuZnVuY3Rpb24gdHJhbnNmb3JtVk5vZGVBcmdzKHRyYW5zZm9ybWVyKSB7XHJcbiAgICB2bm9kZUFyZ3NUcmFuc2Zvcm1lciA9IHRyYW5zZm9ybWVyO1xyXG59XHJcbmNvbnN0IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm0gPSAoLi4uYXJncykgPT4ge1xyXG4gICAgcmV0dXJuIF9jcmVhdGVWTm9kZSguLi4odm5vZGVBcmdzVHJhbnNmb3JtZXJcclxuICAgICAgICA/IHZub2RlQXJnc1RyYW5zZm9ybWVyKGFyZ3MsIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSlcclxuICAgICAgICA6IGFyZ3MpKTtcclxufTtcclxuY29uc3QgSW50ZXJuYWxPYmplY3RLZXkgPSBgX192SW50ZXJuYWxgO1xyXG5jb25zdCBub3JtYWxpemVLZXkgPSAoeyBrZXkgfSkgPT4ga2V5ICE9IG51bGwgPyBrZXkgOiBudWxsO1xyXG5jb25zdCBub3JtYWxpemVSZWYgPSAoeyByZWYgfSkgPT4ge1xyXG4gICAgcmV0dXJuIChyZWYgIT0gbnVsbFxyXG4gICAgICAgID8gaXNBcnJheShyZWYpXHJcbiAgICAgICAgICAgID8gcmVmXHJcbiAgICAgICAgICAgIDogeyBpOiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsIHI6IHJlZiB9XHJcbiAgICAgICAgOiBudWxsKTtcclxufTtcclxuY29uc3QgY3JlYXRlVk5vZGUgPSAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICA/IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm1cclxuICAgIDogX2NyZWF0ZVZOb2RlKTtcclxuZnVuY3Rpb24gX2NyZWF0ZVZOb2RlKHR5cGUsIHByb3BzID0gbnVsbCwgY2hpbGRyZW4gPSBudWxsLCBwYXRjaEZsYWcgPSAwLCBkeW5hbWljUHJvcHMgPSBudWxsLCBpc0Jsb2NrTm9kZSA9IGZhbHNlKSB7XHJcbiAgICBpZiAoIXR5cGUgfHwgdHlwZSA9PT0gTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXR5cGUpIHtcclxuICAgICAgICAgICAgd2FybihgSW52YWxpZCB2bm9kZSB0eXBlIHdoZW4gY3JlYXRpbmcgdm5vZGU6ICR7dHlwZX0uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHR5cGUgPSBDb21tZW50O1xyXG4gICAgfVxyXG4gICAgaWYgKGlzVk5vZGUodHlwZSkpIHtcclxuICAgICAgICAvLyBjcmVhdGVWTm9kZSByZWNlaXZpbmcgYW4gZXhpc3Rpbmcgdm5vZGUuIFRoaXMgaGFwcGVucyBpbiBjYXNlcyBsaWtlXHJcbiAgICAgICAgLy8gPGNvbXBvbmVudCA6aXM9XCJ2bm9kZVwiLz5cclxuICAgICAgICAvLyAjMjA3OCBtYWtlIHN1cmUgdG8gbWVyZ2UgcmVmcyBkdXJpbmcgdGhlIGNsb25lIGluc3RlYWQgb2Ygb3ZlcndyaXRpbmcgaXRcclxuICAgICAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHR5cGUsIHByb3BzLCB0cnVlIC8qIG1lcmdlUmVmOiB0cnVlICovKTtcclxuICAgICAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplQ2hpbGRyZW4oY2xvbmVkLCBjaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjbG9uZWQ7XHJcbiAgICB9XHJcbiAgICAvLyBjbGFzcyBjb21wb25lbnQgbm9ybWFsaXphdGlvbi5cclxuICAgIGlmIChpc0NsYXNzQ29tcG9uZW50KHR5cGUpKSB7XHJcbiAgICAgICAgdHlwZSA9IHR5cGUuX192Y2NPcHRzO1xyXG4gICAgfVxyXG4gICAgLy8gY2xhc3MgJiBzdHlsZSBub3JtYWxpemF0aW9uLlxyXG4gICAgaWYgKHByb3BzKSB7XHJcbiAgICAgICAgLy8gZm9yIHJlYWN0aXZlIG9yIHByb3h5IG9iamVjdHMsIHdlIG5lZWQgdG8gY2xvbmUgaXQgdG8gZW5hYmxlIG11dGF0aW9uLlxyXG4gICAgICAgIGlmIChpc1Byb3h5KHByb3BzKSB8fCBJbnRlcm5hbE9iamVjdEtleSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICBwcm9wcyA9IGV4dGVuZCh7fSwgcHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgeyBjbGFzczoga2xhc3MsIHN0eWxlIH0gPSBwcm9wcztcclxuICAgICAgICBpZiAoa2xhc3MgJiYgIWlzU3RyaW5nKGtsYXNzKSkge1xyXG4gICAgICAgICAgICBwcm9wcy5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKGtsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KHN0eWxlKSkge1xyXG4gICAgICAgICAgICAvLyByZWFjdGl2ZSBzdGF0ZSBvYmplY3RzIG5lZWQgdG8gYmUgY2xvbmVkIHNpbmNlIHRoZXkgYXJlIGxpa2VseSB0byBiZVxyXG4gICAgICAgICAgICAvLyBtdXRhdGVkXHJcbiAgICAgICAgICAgIGlmIChpc1Byb3h5KHN0eWxlKSAmJiAhaXNBcnJheShzdHlsZSkpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gZXh0ZW5kKHt9LCBzdHlsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gZW5jb2RlIHRoZSB2bm9kZSB0eXBlIGluZm9ybWF0aW9uIGludG8gYSBiaXRtYXBcclxuICAgIGNvbnN0IHNoYXBlRmxhZyA9IGlzU3RyaW5nKHR5cGUpXHJcbiAgICAgICAgPyAxIC8qIEVMRU1FTlQgKi9cclxuICAgICAgICA6ICBpc1N1c3BlbnNlKHR5cGUpXHJcbiAgICAgICAgICAgID8gMTI4IC8qIFNVU1BFTlNFICovXHJcbiAgICAgICAgICAgIDogaXNUZWxlcG9ydCh0eXBlKVxyXG4gICAgICAgICAgICAgICAgPyA2NCAvKiBURUxFUE9SVCAqL1xyXG4gICAgICAgICAgICAgICAgOiBpc09iamVjdCh0eXBlKVxyXG4gICAgICAgICAgICAgICAgICAgID8gNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi9cclxuICAgICAgICAgICAgICAgICAgICA6IGlzRnVuY3Rpb24odHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAyIC8qIEZVTkNUSU9OQUxfQ09NUE9ORU5UICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi8gJiYgaXNQcm94eSh0eXBlKSkge1xyXG4gICAgICAgIHR5cGUgPSB0b1Jhdyh0eXBlKTtcclxuICAgICAgICB3YXJuKGBWdWUgcmVjZWl2ZWQgYSBDb21wb25lbnQgd2hpY2ggd2FzIG1hZGUgYSByZWFjdGl2ZSBvYmplY3QuIFRoaXMgY2FuIGAgK1xyXG4gICAgICAgICAgICBgbGVhZCB0byB1bm5lY2Vzc2FyeSBwZXJmb3JtYW5jZSBvdmVyaGVhZCwgYW5kIHNob3VsZCBiZSBhdm9pZGVkIGJ5IGAgK1xyXG4gICAgICAgICAgICBgbWFya2luZyB0aGUgY29tcG9uZW50IHdpdGggXFxgbWFya1Jhd1xcYCBvciB1c2luZyBcXGBzaGFsbG93UmVmXFxgIGAgK1xyXG4gICAgICAgICAgICBgaW5zdGVhZCBvZiBcXGByZWZcXGAuYCwgYFxcbkNvbXBvbmVudCB0aGF0IHdhcyBtYWRlIHJlYWN0aXZlOiBgLCB0eXBlKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHZub2RlID0ge1xyXG4gICAgICAgIF9fdl9pc1ZOb2RlOiB0cnVlLFxyXG4gICAgICAgIFtcIl9fdl9za2lwXCIgLyogU0tJUCAqL106IHRydWUsXHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgICBwcm9wcyxcclxuICAgICAgICBrZXk6IHByb3BzICYmIG5vcm1hbGl6ZUtleShwcm9wcyksXHJcbiAgICAgICAgcmVmOiBwcm9wcyAmJiBub3JtYWxpemVSZWYocHJvcHMpLFxyXG4gICAgICAgIHNjb3BlSWQ6IGN1cnJlbnRTY29wZUlkLFxyXG4gICAgICAgIGNoaWxkcmVuOiBudWxsLFxyXG4gICAgICAgIGNvbXBvbmVudDogbnVsbCxcclxuICAgICAgICBzdXNwZW5zZTogbnVsbCxcclxuICAgICAgICBzc0NvbnRlbnQ6IG51bGwsXHJcbiAgICAgICAgc3NGYWxsYmFjazogbnVsbCxcclxuICAgICAgICBkaXJzOiBudWxsLFxyXG4gICAgICAgIHRyYW5zaXRpb246IG51bGwsXHJcbiAgICAgICAgZWw6IG51bGwsXHJcbiAgICAgICAgYW5jaG9yOiBudWxsLFxyXG4gICAgICAgIHRhcmdldDogbnVsbCxcclxuICAgICAgICB0YXJnZXRBbmNob3I6IG51bGwsXHJcbiAgICAgICAgc3RhdGljQ291bnQ6IDAsXHJcbiAgICAgICAgc2hhcGVGbGFnLFxyXG4gICAgICAgIHBhdGNoRmxhZyxcclxuICAgICAgICBkeW5hbWljUHJvcHMsXHJcbiAgICAgICAgZHluYW1pY0NoaWxkcmVuOiBudWxsLFxyXG4gICAgICAgIGFwcENvbnRleHQ6IG51bGxcclxuICAgIH07XHJcbiAgICAvLyB2YWxpZGF0ZSBrZXlcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgdm5vZGUua2V5ICE9PSB2bm9kZS5rZXkpIHtcclxuICAgICAgICB3YXJuKGBWTm9kZSBjcmVhdGVkIHdpdGggaW52YWxpZCBrZXkgKE5hTikuIFZOb2RlIHR5cGU6YCwgdm5vZGUudHlwZSk7XHJcbiAgICB9XHJcbiAgICBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4pO1xyXG4gICAgLy8gbm9ybWFsaXplIHN1c3BlbnNlIGNoaWxkcmVuXHJcbiAgICBpZiAoIHNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgIGNvbnN0IHsgY29udGVudCwgZmFsbGJhY2sgfSA9IG5vcm1hbGl6ZVN1c3BlbnNlQ2hpbGRyZW4odm5vZGUpO1xyXG4gICAgICAgIHZub2RlLnNzQ29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgdm5vZGUuc3NGYWxsYmFjayA9IGZhbGxiYWNrO1xyXG4gICAgfVxyXG4gICAgaWYgKHNob3VsZFRyYWNrID4gMCAmJlxyXG4gICAgICAgIC8vIGF2b2lkIGEgYmxvY2sgbm9kZSBmcm9tIHRyYWNraW5nIGl0c2VsZlxyXG4gICAgICAgICFpc0Jsb2NrTm9kZSAmJlxyXG4gICAgICAgIC8vIGhhcyBjdXJyZW50IHBhcmVudCBibG9ja1xyXG4gICAgICAgIGN1cnJlbnRCbG9jayAmJlxyXG4gICAgICAgIC8vIHByZXNlbmNlIG9mIGEgcGF0Y2ggZmxhZyBpbmRpY2F0ZXMgdGhpcyBub2RlIG5lZWRzIHBhdGNoaW5nIG9uIHVwZGF0ZXMuXHJcbiAgICAgICAgLy8gY29tcG9uZW50IG5vZGVzIGFsc28gc2hvdWxkIGFsd2F5cyBiZSBwYXRjaGVkLCBiZWNhdXNlIGV2ZW4gaWYgdGhlXHJcbiAgICAgICAgLy8gY29tcG9uZW50IGRvZXNuJ3QgbmVlZCB0byB1cGRhdGUsIGl0IG5lZWRzIHRvIHBlcnNpc3QgdGhlIGluc3RhbmNlIG9uIHRvXHJcbiAgICAgICAgLy8gdGhlIG5leHQgdm5vZGUgc28gdGhhdCBpdCBjYW4gYmUgcHJvcGVybHkgdW5tb3VudGVkIGxhdGVyLlxyXG4gICAgICAgIChwYXRjaEZsYWcgPiAwIHx8IHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSAmJlxyXG4gICAgICAgIC8vIHRoZSBFVkVOVFMgZmxhZyBpcyBvbmx5IGZvciBoeWRyYXRpb24gYW5kIGlmIGl0IGlzIHRoZSBvbmx5IGZsYWcsIHRoZVxyXG4gICAgICAgIC8vIHZub2RlIHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBkeW5hbWljIGR1ZSB0byBoYW5kbGVyIGNhY2hpbmcuXHJcbiAgICAgICAgcGF0Y2hGbGFnICE9PSAzMiAvKiBIWURSQVRFX0VWRU5UUyAqLykge1xyXG4gICAgICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2bm9kZTtcclxufVxyXG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZub2RlLCBleHRyYVByb3BzLCBtZXJnZVJlZiA9IGZhbHNlKSB7XHJcbiAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgTk9UIHVzaW5nIHNwcmVhZCBvciBleHRlbmQgdG8gYXZvaWQgdGhlIHJ1bnRpbWVcclxuICAgIC8vIGtleSBlbnVtZXJhdGlvbiBjb3N0LlxyXG4gICAgY29uc3QgeyBwcm9wcywgcmVmLCBwYXRjaEZsYWcgfSA9IHZub2RlO1xyXG4gICAgY29uc3QgbWVyZ2VkUHJvcHMgPSBleHRyYVByb3BzID8gbWVyZ2VQcm9wcyhwcm9wcyB8fCB7fSwgZXh0cmFQcm9wcykgOiBwcm9wcztcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgX192X2lzVk5vZGU6IHRydWUsXHJcbiAgICAgICAgW1wiX192X3NraXBcIiAvKiBTS0lQICovXTogdHJ1ZSxcclxuICAgICAgICB0eXBlOiB2bm9kZS50eXBlLFxyXG4gICAgICAgIHByb3BzOiBtZXJnZWRQcm9wcyxcclxuICAgICAgICBrZXk6IG1lcmdlZFByb3BzICYmIG5vcm1hbGl6ZUtleShtZXJnZWRQcm9wcyksXHJcbiAgICAgICAgcmVmOiBleHRyYVByb3BzICYmIGV4dHJhUHJvcHMucmVmXHJcbiAgICAgICAgICAgID8gLy8gIzIwNzggaW4gdGhlIGNhc2Ugb2YgPGNvbXBvbmVudCA6aXM9XCJ2bm9kZVwiIHJlZj1cImV4dHJhXCIvPlxyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHZub2RlIGl0c2VsZiBhbHJlYWR5IGhhcyBhIHJlZiwgY2xvbmVWTm9kZSB3aWxsIG5lZWQgdG8gbWVyZ2VcclxuICAgICAgICAgICAgICAgIC8vIHRoZSByZWZzIHNvIHRoZSBzaW5nbGUgdm5vZGUgY2FuIGJlIHNldCBvbiBtdWx0aXBsZSByZWZzXHJcbiAgICAgICAgICAgICAgICBtZXJnZVJlZiAmJiByZWZcclxuICAgICAgICAgICAgICAgICAgICA/IGlzQXJyYXkocmVmKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlZi5jb25jYXQobm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFtyZWYsIG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKV1cclxuICAgICAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKVxyXG4gICAgICAgICAgICA6IHJlZixcclxuICAgICAgICBzY29wZUlkOiB2bm9kZS5zY29wZUlkLFxyXG4gICAgICAgIGNoaWxkcmVuOiB2bm9kZS5jaGlsZHJlbixcclxuICAgICAgICB0YXJnZXQ6IHZub2RlLnRhcmdldCxcclxuICAgICAgICB0YXJnZXRBbmNob3I6IHZub2RlLnRhcmdldEFuY2hvcixcclxuICAgICAgICBzdGF0aWNDb3VudDogdm5vZGUuc3RhdGljQ291bnQsXHJcbiAgICAgICAgc2hhcGVGbGFnOiB2bm9kZS5zaGFwZUZsYWcsXHJcbiAgICAgICAgLy8gaWYgdGhlIHZub2RlIGlzIGNsb25lZCB3aXRoIGV4dHJhIHByb3BzLCB3ZSBjYW4gbm8gbG9uZ2VyIGFzc3VtZSBpdHNcclxuICAgICAgICAvLyBleGlzdGluZyBwYXRjaCBmbGFnIHRvIGJlIHJlbGlhYmxlIGFuZCBuZWVkIHRvIGFkZCB0aGUgRlVMTF9QUk9QUyBmbGFnLlxyXG4gICAgICAgIC8vIG5vdGU6IHBlcnNlcnZlIGZsYWcgZm9yIGZyYWdtZW50cyBzaW5jZSB0aGV5IHVzZSB0aGUgZmxhZyBmb3IgY2hpbGRyZW5cclxuICAgICAgICAvLyBmYXN0IHBhdGhzIG9ubHkuXHJcbiAgICAgICAgcGF0Y2hGbGFnOiBleHRyYVByb3BzICYmIHZub2RlLnR5cGUgIT09IEZyYWdtZW50XHJcbiAgICAgICAgICAgID8gcGF0Y2hGbGFnID09PSAtMSAvLyBob2lzdGVkIG5vZGVcclxuICAgICAgICAgICAgICAgID8gMTYgLyogRlVMTF9QUk9QUyAqL1xyXG4gICAgICAgICAgICAgICAgOiBwYXRjaEZsYWcgfCAxNiAvKiBGVUxMX1BST1BTICovXHJcbiAgICAgICAgICAgIDogcGF0Y2hGbGFnLFxyXG4gICAgICAgIGR5bmFtaWNQcm9wczogdm5vZGUuZHluYW1pY1Byb3BzLFxyXG4gICAgICAgIGR5bmFtaWNDaGlsZHJlbjogdm5vZGUuZHluYW1pY0NoaWxkcmVuLFxyXG4gICAgICAgIGFwcENvbnRleHQ6IHZub2RlLmFwcENvbnRleHQsXHJcbiAgICAgICAgZGlyczogdm5vZGUuZGlycyxcclxuICAgICAgICB0cmFuc2l0aW9uOiB2bm9kZS50cmFuc2l0aW9uLFxyXG4gICAgICAgIC8vIFRoZXNlIHNob3VsZCB0ZWNobmljYWxseSBvbmx5IGJlIG5vbi1udWxsIG9uIG1vdW50ZWQgVk5vZGVzLiBIb3dldmVyLFxyXG4gICAgICAgIC8vIHRoZXkgKnNob3VsZCogYmUgY29waWVkIGZvciBrZXB0LWFsaXZlIHZub2Rlcy4gU28gd2UganVzdCBhbHdheXMgY29weVxyXG4gICAgICAgIC8vIHRoZW0gc2luY2UgdGhlbSBiZWluZyBub24tbnVsbCBkdXJpbmcgYSBtb3VudCBkb2Vzbid0IGFmZmVjdCB0aGUgbG9naWMgYXNcclxuICAgICAgICAvLyB0aGV5IHdpbGwgc2ltcGx5IGJlIG92ZXJ3cml0dGVuLlxyXG4gICAgICAgIGNvbXBvbmVudDogdm5vZGUuY29tcG9uZW50LFxyXG4gICAgICAgIHN1c3BlbnNlOiB2bm9kZS5zdXNwZW5zZSxcclxuICAgICAgICBzc0NvbnRlbnQ6IHZub2RlLnNzQ29udGVudCAmJiBjbG9uZVZOb2RlKHZub2RlLnNzQ29udGVudCksXHJcbiAgICAgICAgc3NGYWxsYmFjazogdm5vZGUuc3NGYWxsYmFjayAmJiBjbG9uZVZOb2RlKHZub2RlLnNzRmFsbGJhY2spLFxyXG4gICAgICAgIGVsOiB2bm9kZS5lbCxcclxuICAgICAgICBhbmNob3I6IHZub2RlLmFuY2hvclxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSh0ZXh0ID0gJyAnLCBmbGFnID0gMCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIHRleHQsIGZsYWcpO1xyXG59XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlU3RhdGljVk5vZGUoY29udGVudCwgbnVtYmVyT2ZOb2Rlcykge1xyXG4gICAgLy8gQSBzdGF0aWMgdm5vZGUgY2FuIGNvbnRhaW4gbXVsdGlwbGUgc3RyaW5naWZpZWQgZWxlbWVudHMsIGFuZCB0aGUgbnVtYmVyXHJcbiAgICAvLyBvZiBlbGVtZW50cyBpcyBuZWNlc3NhcnkgZm9yIGh5ZHJhdGlvbi5cclxuICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUoU3RhdGljLCBudWxsLCBjb250ZW50KTtcclxuICAgIHZub2RlLnN0YXRpY0NvdW50ID0gbnVtYmVyT2ZOb2RlcztcclxuICAgIHJldHVybiB2bm9kZTtcclxufVxyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnRWTm9kZSh0ZXh0ID0gJycsIFxyXG4vLyB3aGVuIHVzZWQgYXMgdGhlIHYtZWxzZSBicmFuY2gsIHRoZSBjb21tZW50IG5vZGUgbXVzdCBiZSBjcmVhdGVkIGFzIGFcclxuLy8gYmxvY2sgdG8gZW5zdXJlIGNvcnJlY3QgdXBkYXRlcy5cclxuYXNCbG9jayA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gYXNCbG9ja1xyXG4gICAgICAgID8gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhDb21tZW50LCBudWxsLCB0ZXh0KSlcclxuICAgICAgICA6IGNyZWF0ZVZOb2RlKENvbW1lbnQsIG51bGwsIHRleHQpO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVZOb2RlKGNoaWxkKSB7XHJcbiAgICBpZiAoY2hpbGQgPT0gbnVsbCB8fCB0eXBlb2YgY2hpbGQgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgIC8vIGVtcHR5IHBsYWNlaG9sZGVyXHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheShjaGlsZCkpIHtcclxuICAgICAgICAvLyBmcmFnbWVudFxyXG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShGcmFnbWVudCwgbnVsbCwgY2hpbGQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIGNoaWxkID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIC8vIGFscmVhZHkgdm5vZGUsIHRoaXMgc2hvdWxkIGJlIHRoZSBtb3N0IGNvbW1vbiBzaW5jZSBjb21waWxlZCB0ZW1wbGF0ZXNcclxuICAgICAgICAvLyBhbHdheXMgcHJvZHVjZSBhbGwtdm5vZGUgY2hpbGRyZW4gYXJyYXlzXHJcbiAgICAgICAgcmV0dXJuIGNoaWxkLmVsID09PSBudWxsID8gY2hpbGQgOiBjbG9uZVZOb2RlKGNoaWxkKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIHN0cmluZ3MgYW5kIG51bWJlcnNcclxuICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgU3RyaW5nKGNoaWxkKSk7XHJcbiAgICB9XHJcbn1cclxuLy8gb3B0aW1pemVkIG5vcm1hbGl6YXRpb24gZm9yIHRlbXBsYXRlLWNvbXBpbGVkIHJlbmRlciBmbnNcclxuZnVuY3Rpb24gY2xvbmVJZk1vdW50ZWQoY2hpbGQpIHtcclxuICAgIHJldHVybiBjaGlsZC5lbCA9PT0gbnVsbCA/IGNoaWxkIDogY2xvbmVWTm9kZShjaGlsZCk7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKSB7XHJcbiAgICBsZXQgdHlwZSA9IDA7XHJcbiAgICBjb25zdCB7IHNoYXBlRmxhZyB9ID0gdm5vZGU7XHJcbiAgICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xyXG4gICAgICAgIGNoaWxkcmVuID0gbnVsbDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdHlwZSA9IDE2IC8qIEFSUkFZX0NISUxEUkVOICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIGNoaWxkcmVuID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHwgc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIHNsb3QgdG8gcGxhaW4gY2hpbGRyZW4gZm9yIHBsYWluIGVsZW1lbnQgYW5kIFRlbGVwb3J0XHJcbiAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBjaGlsZHJlbi5kZWZhdWx0O1xyXG4gICAgICAgICAgICBpZiAoc2xvdCkge1xyXG4gICAgICAgICAgICAgICAgLy8gX2MgbWFya2VyIGlzIGFkZGVkIGJ5IHdpdGhDdHgoKSBpbmRpY2F0aW5nIHRoaXMgaXMgYSBjb21waWxlZCBzbG90XHJcbiAgICAgICAgICAgICAgICBzbG90Ll9jICYmIHNldENvbXBpbGVkU2xvdFJlbmRlcmluZygxKTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBzbG90KCkpO1xyXG4gICAgICAgICAgICAgICAgc2xvdC5fYyAmJiBzZXRDb21waWxlZFNsb3RSZW5kZXJpbmcoLTEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSAzMiAvKiBTTE9UU19DSElMRFJFTiAqLztcclxuICAgICAgICAgICAgY29uc3Qgc2xvdEZsYWcgPSBjaGlsZHJlbi5fO1xyXG4gICAgICAgICAgICBpZiAoIXNsb3RGbGFnICYmICEoSW50ZXJuYWxPYmplY3RLZXkgaW4gY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5fY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNsb3RGbGFnID09PSAzIC8qIEZPUldBUkRFRCAqLyAmJiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIC8vIGEgY2hpbGQgY29tcG9uZW50IHJlY2VpdmVzIGZvcndhcmRlZCBzbG90cyBmcm9tIHRoZSBwYXJlbnQuXHJcbiAgICAgICAgICAgICAgICAvLyBpdHMgc2xvdCB0eXBlIGlzIGRldGVybWluZWQgYnkgaXRzIHBhcmVudCdzIHNsb3QgdHlwZS5cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2Uudm5vZGUucGF0Y2hGbGFnICYgMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uXyA9IDIgLyogRFlOQU1JQyAqLztcclxuICAgICAgICAgICAgICAgICAgICB2bm9kZS5wYXRjaEZsYWcgfD0gMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uXyA9IDEgLyogU1RBQkxFICovO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihjaGlsZHJlbikpIHtcclxuICAgICAgICBjaGlsZHJlbiA9IHsgZGVmYXVsdDogY2hpbGRyZW4sIF9jdHg6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSB9O1xyXG4gICAgICAgIHR5cGUgPSAzMiAvKiBTTE9UU19DSElMRFJFTiAqLztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNoaWxkcmVuID0gU3RyaW5nKGNoaWxkcmVuKTtcclxuICAgICAgICAvLyBmb3JjZSB0ZWxlcG9ydCBjaGlsZHJlbiB0byBhcnJheSBzbyBpdCBjYW4gYmUgbW92ZWQgYXJvdW5kXHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLztcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0eXBlID0gOCAvKiBURVhUX0NISUxEUkVOICovO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZub2RlLmNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICB2bm9kZS5zaGFwZUZsYWcgfD0gdHlwZTtcclxufVxyXG5mdW5jdGlvbiBtZXJnZVByb3BzKC4uLmFyZ3MpIHtcclxuICAgIGNvbnN0IHJldCA9IGV4dGVuZCh7fSwgYXJnc1swXSk7XHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCB0b01lcmdlID0gYXJnc1tpXTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0b01lcmdlKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdjbGFzcycpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXQuY2xhc3MgIT09IHRvTWVyZ2UuY2xhc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXQuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhbcmV0LmNsYXNzLCB0b01lcmdlLmNsYXNzXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXQuc3R5bGUgPSBub3JtYWxpemVTdHlsZShbcmV0LnN0eWxlLCB0b01lcmdlLnN0eWxlXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNPbihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IHJldFtrZXldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5jb21pbmcgPSB0b01lcmdlW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmcgIT09IGluY29taW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0W2tleV0gPSBleGlzdGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFtdLmNvbmNhdChleGlzdGluZywgdG9NZXJnZVtrZXldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGluY29taW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGtleSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHJldFtrZXldID0gdG9NZXJnZVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG5mdW5jdGlvbiBwcm92aWRlKGtleSwgdmFsdWUpIHtcclxuICAgIGlmICghY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBwcm92aWRlKCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKS5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBsZXQgcHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucHJvdmlkZXM7XHJcbiAgICAgICAgLy8gYnkgZGVmYXVsdCBhbiBpbnN0YW5jZSBpbmhlcml0cyBpdHMgcGFyZW50J3MgcHJvdmlkZXMgb2JqZWN0XHJcbiAgICAgICAgLy8gYnV0IHdoZW4gaXQgbmVlZHMgdG8gcHJvdmlkZSB2YWx1ZXMgb2YgaXRzIG93biwgaXQgY3JlYXRlcyBpdHNcclxuICAgICAgICAvLyBvd24gcHJvdmlkZXMgb2JqZWN0IHVzaW5nIHBhcmVudCBwcm92aWRlcyBvYmplY3QgYXMgcHJvdG90eXBlLlxyXG4gICAgICAgIC8vIHRoaXMgd2F5IGluIGBpbmplY3RgIHdlIGNhbiBzaW1wbHkgbG9vayB1cCBpbmplY3Rpb25zIGZyb20gZGlyZWN0XHJcbiAgICAgICAgLy8gcGFyZW50IGFuZCBsZXQgdGhlIHByb3RvdHlwZSBjaGFpbiBkbyB0aGUgd29yay5cclxuICAgICAgICBjb25zdCBwYXJlbnRQcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wYXJlbnQgJiYgY3VycmVudEluc3RhbmNlLnBhcmVudC5wcm92aWRlcztcclxuICAgICAgICBpZiAocGFyZW50UHJvdmlkZXMgPT09IHByb3ZpZGVzKSB7XHJcbiAgICAgICAgICAgIHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRQcm92aWRlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRTIGRvZXNuJ3QgYWxsb3cgc3ltYm9sIGFzIGluZGV4IHR5cGVcclxuICAgICAgICBwcm92aWRlc1trZXldID0gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5qZWN0KGtleSwgZGVmYXVsdFZhbHVlLCB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgPSBmYWxzZSkge1xyXG4gICAgLy8gZmFsbGJhY2sgdG8gYGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZWAgc28gdGhhdCB0aGlzIGNhbiBiZSBjYWxsZWQgaW5cclxuICAgIC8vIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcclxuICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcclxuICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgIC8vICMyNDAwXHJcbiAgICAgICAgLy8gdG8gc3VwcG9ydCBgYXBwLnVzZWAgcGx1Z2lucyxcclxuICAgICAgICAvLyBmYWxsYmFjayB0byBhcHBDb250ZXh0J3MgYHByb3ZpZGVzYCBpZiB0aGUgaW50YW5jZSBpcyBhdCByb290XHJcbiAgICAgICAgY29uc3QgcHJvdmlkZXMgPSBpbnN0YW5jZS5wYXJlbnQgPT0gbnVsbFxyXG4gICAgICAgICAgICA/IGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQgJiYgaW5zdGFuY2Uudm5vZGUuYXBwQ29udGV4dC5wcm92aWRlc1xyXG4gICAgICAgICAgICA6IGluc3RhbmNlLnBhcmVudC5wcm92aWRlcztcclxuICAgICAgICBpZiAocHJvdmlkZXMgJiYga2V5IGluIHByb3ZpZGVzKSB7XHJcbiAgICAgICAgICAgIC8vIFRTIGRvZXNuJ3QgYWxsb3cgc3ltYm9sIGFzIGluZGV4IHR5cGVcclxuICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpXHJcbiAgICAgICAgICAgICAgICA/IGRlZmF1bHRWYWx1ZSgpXHJcbiAgICAgICAgICAgICAgICA6IGRlZmF1bHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYGluamVjdGlvbiBcIiR7U3RyaW5nKGtleSl9XCIgbm90IGZvdW5kLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oYGluamVjdCgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkgb3IgZnVuY3Rpb25hbCBjb21wb25lbnRzLmApO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSB7XHJcbiAgICBjb25zdCBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICByZXR1cm4gKHR5cGUsIGtleSkgPT4ge1xyXG4gICAgICAgIGlmIChjYWNoZVtrZXldKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYCR7dHlwZX0gcHJvcGVydHkgXCIke2tleX1cIiBpcyBhbHJlYWR5IGRlZmluZWQgaW4gJHtjYWNoZVtrZXldfS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNhY2hlW2tleV0gPSB0eXBlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxubGV0IGlzSW5CZWZvcmVDcmVhdGUgPSBmYWxzZTtcclxuZnVuY3Rpb24gYXBwbHlPcHRpb25zKGluc3RhbmNlLCBvcHRpb25zLCBkZWZlcnJlZERhdGEgPSBbXSwgZGVmZXJyZWRXYXRjaCA9IFtdLCBkZWZlcnJlZFByb3ZpZGUgPSBbXSwgYXNNaXhpbiA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCB7IFxyXG4gICAgLy8gY29tcG9zaXRpb25cclxuICAgIG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMsIFxyXG4gICAgLy8gc3RhdGVcclxuICAgIGRhdGE6IGRhdGFPcHRpb25zLCBjb21wdXRlZDogY29tcHV0ZWRPcHRpb25zLCBtZXRob2RzLCB3YXRjaDogd2F0Y2hPcHRpb25zLCBwcm92aWRlOiBwcm92aWRlT3B0aW9ucywgaW5qZWN0OiBpbmplY3RPcHRpb25zLCBcclxuICAgIC8vIGFzc2V0c1xyXG4gICAgY29tcG9uZW50cywgZGlyZWN0aXZlcywgXHJcbiAgICAvLyBsaWZlY3ljbGVcclxuICAgIGJlZm9yZU1vdW50LCBtb3VudGVkLCBiZWZvcmVVcGRhdGUsIHVwZGF0ZWQsIGFjdGl2YXRlZCwgZGVhY3RpdmF0ZWQsIGJlZm9yZURlc3Ryb3ksIGJlZm9yZVVubW91bnQsIGRlc3Ryb3llZCwgdW5tb3VudGVkLCByZW5kZXIsIHJlbmRlclRyYWNrZWQsIHJlbmRlclRyaWdnZXJlZCwgZXJyb3JDYXB0dXJlZCB9ID0gb3B0aW9ucztcclxuICAgIGNvbnN0IHB1YmxpY1RoaXMgPSBpbnN0YW5jZS5wcm94eTtcclxuICAgIGNvbnN0IGN0eCA9IGluc3RhbmNlLmN0eDtcclxuICAgIGNvbnN0IGdsb2JhbE1peGlucyA9IGluc3RhbmNlLmFwcENvbnRleHQubWl4aW5zO1xyXG4gICAgaWYgKGFzTWl4aW4gJiYgcmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCkge1xyXG4gICAgICAgIGluc3RhbmNlLnJlbmRlciA9IHJlbmRlcjtcclxuICAgIH1cclxuICAgIC8vIGFwcGx5T3B0aW9ucyBpcyBjYWxsZWQgbm9uLWFzLW1peGluIG9uY2UgcGVyIGluc3RhbmNlXHJcbiAgICBpZiAoIWFzTWl4aW4pIHtcclxuICAgICAgICBpc0luQmVmb3JlQ3JlYXRlID0gdHJ1ZTtcclxuICAgICAgICBjYWxsU3luY0hvb2soJ2JlZm9yZUNyZWF0ZScsIFwiYmNcIiAvKiBCRUZPUkVfQ1JFQVRFICovLCBvcHRpb25zLCBpbnN0YW5jZSwgZ2xvYmFsTWl4aW5zKTtcclxuICAgICAgICBpc0luQmVmb3JlQ3JlYXRlID0gZmFsc2U7XHJcbiAgICAgICAgLy8gZ2xvYmFsIG1peGlucyBhcmUgYXBwbGllZCBmaXJzdFxyXG4gICAgICAgIGFwcGx5TWl4aW5zKGluc3RhbmNlLCBnbG9iYWxNaXhpbnMsIGRlZmVycmVkRGF0YSwgZGVmZXJyZWRXYXRjaCwgZGVmZXJyZWRQcm92aWRlKTtcclxuICAgIH1cclxuICAgIC8vIGV4dGVuZGluZyBhIGJhc2UgY29tcG9uZW50Li4uXHJcbiAgICBpZiAoZXh0ZW5kc09wdGlvbnMpIHtcclxuICAgICAgICBhcHBseU9wdGlvbnMoaW5zdGFuY2UsIGV4dGVuZHNPcHRpb25zLCBkZWZlcnJlZERhdGEsIGRlZmVycmVkV2F0Y2gsIGRlZmVycmVkUHJvdmlkZSwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICAvLyBsb2NhbCBtaXhpbnNcclxuICAgIGlmIChtaXhpbnMpIHtcclxuICAgICAgICBhcHBseU1peGlucyhpbnN0YW5jZSwgbWl4aW5zLCBkZWZlcnJlZERhdGEsIGRlZmVycmVkV2F0Y2gsIGRlZmVycmVkUHJvdmlkZSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkgOiBudWxsO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IFtwcm9wc09wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xyXG4gICAgICAgIGlmIChwcm9wc09wdGlvbnMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHNPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJQcm9wc1wiIC8qIFBST1BTICovLCBrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gb3B0aW9ucyBpbml0aWFsaXphdGlvbiBvcmRlciAodG8gYmUgY29uc2lzdGVudCB3aXRoIFZ1ZSAyKTpcclxuICAgIC8vIC0gcHJvcHMgKGFscmVhZHkgZG9uZSBvdXRzaWRlIG9mIHRoaXMgZnVuY3Rpb24pXHJcbiAgICAvLyAtIGluamVjdFxyXG4gICAgLy8gLSBtZXRob2RzXHJcbiAgICAvLyAtIGRhdGEgKGRlZmVycmVkIHNpbmNlIGl0IHJlbGllcyBvbiBgdGhpc2AgYWNjZXNzKVxyXG4gICAgLy8gLSBjb21wdXRlZFxyXG4gICAgLy8gLSB3YXRjaCAoZGVmZXJyZWQgc2luY2UgaXQgcmVsaWVzIG9uIGB0aGlzYCBhY2Nlc3MpXHJcbiAgICBpZiAoaW5qZWN0T3B0aW9ucykge1xyXG4gICAgICAgIGlmIChpc0FycmF5KGluamVjdE9wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5qZWN0T3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gaW5qZWN0T3B0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0KGtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiSW5qZWN0XCIgLyogSU5KRUNUICovLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbmplY3RPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHQgPSBpbmplY3RPcHRpb25zW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3Qob3B0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0KG9wdC5mcm9tIHx8IGtleSwgb3B0LmRlZmF1bHQsIHRydWUgLyogdHJlYXQgZGVmYXVsdCBmdW5jdGlvbiBhcyBmYWN0b3J5ICovKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0KG9wdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiSW5qZWN0XCIgLyogSU5KRUNUICovLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG1ldGhvZHMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXRob2RzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZEhhbmRsZXIgPSBtZXRob2RzW2tleV07XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG1ldGhvZEhhbmRsZXIpKSB7XHJcbiAgICAgICAgICAgICAgICBjdHhba2V5XSA9IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJNZXRob2RzXCIgLyogTUVUSE9EUyAqLywga2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYE1ldGhvZCBcIiR7a2V5fVwiIGhhcyB0eXBlIFwiJHt0eXBlb2YgbWV0aG9kSGFuZGxlcn1cIiBpbiB0aGUgY29tcG9uZW50IGRlZmluaXRpb24uIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBEaWQgeW91IHJlZmVyZW5jZSB0aGUgZnVuY3Rpb24gY29ycmVjdGx5P2ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFhc01peGluKSB7XHJcbiAgICAgICAgaWYgKGRlZmVycmVkRGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZGVmZXJyZWREYXRhLmZvckVhY2goZGF0YUZuID0+IHJlc29sdmVEYXRhKGluc3RhbmNlLCBkYXRhRm4sIHB1YmxpY1RoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRhdGFPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmVEYXRhKGluc3RhbmNlLCBkYXRhT3B0aW9ucywgcHVibGljVGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgY29uc3QgcmF3RGF0YSA9IHRvUmF3KGluc3RhbmNlLmRhdGEpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJEYXRhXCIgLyogREFUQSAqLywga2V5KTtcclxuICAgICAgICAgICAgICAgIC8vIGV4cG9zZSBkYXRhIG9uIGN0eCBkdXJpbmcgZGV2XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5WzBdICE9PSAnJCcgJiYga2V5WzBdICE9PSAnXycpIHtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHJhd0RhdGFba2V5XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiBOT09QXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChkYXRhT3B0aW9ucykge1xyXG4gICAgICAgIGRlZmVycmVkRGF0YS5wdXNoKGRhdGFPcHRpb25zKTtcclxuICAgIH1cclxuICAgIGlmIChjb21wdXRlZE9wdGlvbnMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjb21wdXRlZE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0ID0gY29tcHV0ZWRPcHRpb25zW2tleV07XHJcbiAgICAgICAgICAgIGNvbnN0IGdldCA9IGlzRnVuY3Rpb24ob3B0KVxyXG4gICAgICAgICAgICAgICAgPyBvcHQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKVxyXG4gICAgICAgICAgICAgICAgOiBpc0Z1bmN0aW9uKG9wdC5nZXQpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBvcHQuZ2V0LmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcylcclxuICAgICAgICAgICAgICAgICAgICA6IE5PT1A7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZ2V0ID09PSBOT09QKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBDb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGhhcyBubyBnZXR0ZXIuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc2V0ID0gIWlzRnVuY3Rpb24ob3B0KSAmJiBpc0Z1bmN0aW9uKG9wdC5zZXQpXHJcbiAgICAgICAgICAgICAgICA/IG9wdC5zZXQuYmluZChwdWJsaWNUaGlzKVxyXG4gICAgICAgICAgICAgICAgOiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICAgICAgICAgICAgICA/ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgV3JpdGUgb3BlcmF0aW9uIGZhaWxlZDogY29tcHV0ZWQgcHJvcGVydHkgXCIke2tleX1cIiBpcyByZWFkb25seS5gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgOiBOT09QO1xyXG4gICAgICAgICAgICBjb25zdCBjID0gY29tcHV0ZWQoe1xyXG4gICAgICAgICAgICAgICAgZ2V0LFxyXG4gICAgICAgICAgICAgICAgc2V0XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IGMudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBzZXQ6IHYgPT4gKGMudmFsdWUgPSB2KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiQ29tcHV0ZWRcIiAvKiBDT01QVVRFRCAqLywga2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh3YXRjaE9wdGlvbnMpIHtcclxuICAgICAgICBkZWZlcnJlZFdhdGNoLnB1c2god2F0Y2hPcHRpb25zKTtcclxuICAgIH1cclxuICAgIGlmICghYXNNaXhpbiAmJiBkZWZlcnJlZFdhdGNoLmxlbmd0aCkge1xyXG4gICAgICAgIGRlZmVycmVkV2F0Y2guZm9yRWFjaCh3YXRjaE9wdGlvbnMgPT4ge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB3YXRjaE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZVdhdGNoZXIod2F0Y2hPcHRpb25zW2tleV0sIGN0eCwgcHVibGljVGhpcywga2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHByb3ZpZGVPcHRpb25zKSB7XHJcbiAgICAgICAgZGVmZXJyZWRQcm92aWRlLnB1c2gocHJvdmlkZU9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFhc01peGluICYmIGRlZmVycmVkUHJvdmlkZS5sZW5ndGgpIHtcclxuICAgICAgICBkZWZlcnJlZFByb3ZpZGUuZm9yRWFjaChwcm92aWRlT3B0aW9ucyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVzID0gaXNGdW5jdGlvbihwcm92aWRlT3B0aW9ucylcclxuICAgICAgICAgICAgICAgID8gcHJvdmlkZU9wdGlvbnMuY2FsbChwdWJsaWNUaGlzKVxyXG4gICAgICAgICAgICAgICAgOiBwcm92aWRlT3B0aW9ucztcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvdmlkZXMpIHtcclxuICAgICAgICAgICAgICAgIHByb3ZpZGUoa2V5LCBwcm92aWRlc1trZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gYXNzZXQgb3B0aW9ucy5cclxuICAgIC8vIFRvIHJlZHVjZSBtZW1vcnkgdXNhZ2UsIG9ubHkgY29tcG9uZW50cyB3aXRoIG1peGlucyBvciBleHRlbmRzIHdpbGwgaGF2ZVxyXG4gICAgLy8gcmVzb2x2ZWQgYXNzZXQgcmVnaXN0cnkgYXR0YWNoZWQgdG8gaW5zdGFuY2UuXHJcbiAgICBpZiAoYXNNaXhpbikge1xyXG4gICAgICAgIGlmIChjb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZChpbnN0YW5jZS5jb21wb25lbnRzIHx8XHJcbiAgICAgICAgICAgICAgICAoaW5zdGFuY2UuY29tcG9uZW50cyA9IGV4dGVuZCh7fSwgaW5zdGFuY2UudHlwZS5jb21wb25lbnRzKSksIGNvbXBvbmVudHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGlyZWN0aXZlcykge1xyXG4gICAgICAgICAgICBleHRlbmQoaW5zdGFuY2UuZGlyZWN0aXZlcyB8fFxyXG4gICAgICAgICAgICAgICAgKGluc3RhbmNlLmRpcmVjdGl2ZXMgPSBleHRlbmQoe30sIGluc3RhbmNlLnR5cGUuZGlyZWN0aXZlcykpLCBkaXJlY3RpdmVzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBsaWZlY3ljbGUgb3B0aW9uc1xyXG4gICAgaWYgKCFhc01peGluKSB7XHJcbiAgICAgICAgY2FsbFN5bmNIb29rKCdjcmVhdGVkJywgXCJjXCIgLyogQ1JFQVRFRCAqLywgb3B0aW9ucywgaW5zdGFuY2UsIGdsb2JhbE1peGlucyk7XHJcbiAgICB9XHJcbiAgICBpZiAoYmVmb3JlTW91bnQpIHtcclxuICAgICAgICBvbkJlZm9yZU1vdW50KGJlZm9yZU1vdW50LmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1vdW50ZWQpIHtcclxuICAgICAgICBvbk1vdW50ZWQobW91bnRlZC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmIChiZWZvcmVVcGRhdGUpIHtcclxuICAgICAgICBvbkJlZm9yZVVwZGF0ZShiZWZvcmVVcGRhdGUuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAodXBkYXRlZCkge1xyXG4gICAgICAgIG9uVXBkYXRlZCh1cGRhdGVkLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKGFjdGl2YXRlZCkge1xyXG4gICAgICAgIG9uQWN0aXZhdGVkKGFjdGl2YXRlZC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmIChkZWFjdGl2YXRlZCkge1xyXG4gICAgICAgIG9uRGVhY3RpdmF0ZWQoZGVhY3RpdmF0ZWQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZXJyb3JDYXB0dXJlZCkge1xyXG4gICAgICAgIG9uRXJyb3JDYXB0dXJlZChlcnJvckNhcHR1cmVkLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlbmRlclRyYWNrZWQpIHtcclxuICAgICAgICBvblJlbmRlclRyYWNrZWQocmVuZGVyVHJhY2tlZC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmIChyZW5kZXJUcmlnZ2VyZWQpIHtcclxuICAgICAgICBvblJlbmRlclRyaWdnZXJlZChyZW5kZXJUcmlnZ2VyZWQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGJlZm9yZURlc3Ryb3kpIHtcclxuICAgICAgICB3YXJuKGBcXGBiZWZvcmVEZXN0cm95XFxgIGhhcyBiZWVuIHJlbmFtZWQgdG8gXFxgYmVmb3JlVW5tb3VudFxcYC5gKTtcclxuICAgIH1cclxuICAgIGlmIChiZWZvcmVVbm1vdW50KSB7XHJcbiAgICAgICAgb25CZWZvcmVVbm1vdW50KGJlZm9yZVVubW91bnQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGRlc3Ryb3llZCkge1xyXG4gICAgICAgIHdhcm4oYFxcYGRlc3Ryb3llZFxcYCBoYXMgYmVlbiByZW5hbWVkIHRvIFxcYHVubW91bnRlZFxcYC5gKTtcclxuICAgIH1cclxuICAgIGlmICh1bm1vdW50ZWQpIHtcclxuICAgICAgICBvblVubW91bnRlZCh1bm1vdW50ZWQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2FsbFN5bmNIb29rKG5hbWUsIHR5cGUsIG9wdGlvbnMsIGluc3RhbmNlLCBnbG9iYWxNaXhpbnMpIHtcclxuICAgIGNhbGxIb29rRnJvbU1peGlucyhuYW1lLCB0eXBlLCBnbG9iYWxNaXhpbnMsIGluc3RhbmNlKTtcclxuICAgIGNvbnN0IHsgZXh0ZW5kczogYmFzZSwgbWl4aW5zIH0gPSBvcHRpb25zO1xyXG4gICAgaWYgKGJhc2UpIHtcclxuICAgICAgICBjYWxsSG9va0Zyb21FeHRlbmRzKG5hbWUsIHR5cGUsIGJhc2UsIGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIGlmIChtaXhpbnMpIHtcclxuICAgICAgICBjYWxsSG9va0Zyb21NaXhpbnMobmFtZSwgdHlwZSwgbWl4aW5zLCBpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzZWxmSG9vayA9IG9wdGlvbnNbbmFtZV07XHJcbiAgICBpZiAoc2VsZkhvb2spIHtcclxuICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhzZWxmSG9vay5iaW5kKGluc3RhbmNlLnByb3h5KSwgaW5zdGFuY2UsIHR5cGUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNhbGxIb29rRnJvbUV4dGVuZHMobmFtZSwgdHlwZSwgYmFzZSwgaW5zdGFuY2UpIHtcclxuICAgIGlmIChiYXNlLmV4dGVuZHMpIHtcclxuICAgICAgICBjYWxsSG9va0Zyb21FeHRlbmRzKG5hbWUsIHR5cGUsIGJhc2UuZXh0ZW5kcywgaW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYmFzZUhvb2sgPSBiYXNlW25hbWVdO1xyXG4gICAgaWYgKGJhc2VIb29rKSB7XHJcbiAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoYmFzZUhvb2suYmluZChpbnN0YW5jZS5wcm94eSksIGluc3RhbmNlLCB0eXBlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjYWxsSG9va0Zyb21NaXhpbnMobmFtZSwgdHlwZSwgbWl4aW5zLCBpbnN0YW5jZSkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtaXhpbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBjaGFpbmVkTWl4aW5zID0gbWl4aW5zW2ldLm1peGlucztcclxuICAgICAgICBpZiAoY2hhaW5lZE1peGlucykge1xyXG4gICAgICAgICAgICBjYWxsSG9va0Zyb21NaXhpbnMobmFtZSwgdHlwZSwgY2hhaW5lZE1peGlucywgaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmbiA9IG1peGluc1tpXVtuYW1lXTtcclxuICAgICAgICBpZiAoZm4pIHtcclxuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm4uYmluZChpbnN0YW5jZS5wcm94eSksIGluc3RhbmNlLCB0eXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlNaXhpbnMoaW5zdGFuY2UsIG1peGlucywgZGVmZXJyZWREYXRhLCBkZWZlcnJlZFdhdGNoLCBkZWZlcnJlZFByb3ZpZGUpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgYXBwbHlPcHRpb25zKGluc3RhbmNlLCBtaXhpbnNbaV0sIGRlZmVycmVkRGF0YSwgZGVmZXJyZWRXYXRjaCwgZGVmZXJyZWRQcm92aWRlLCB0cnVlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByZXNvbHZlRGF0YShpbnN0YW5jZSwgZGF0YUZuLCBwdWJsaWNUaGlzKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0Z1bmN0aW9uKGRhdGFGbikpIHtcclxuICAgICAgICB3YXJuKGBUaGUgZGF0YSBvcHRpb24gbXVzdCBiZSBhIGZ1bmN0aW9uLiBgICtcclxuICAgICAgICAgICAgYFBsYWluIG9iamVjdCB1c2FnZSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLmApO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZGF0YSA9IGRhdGFGbi5jYWxsKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc1Byb21pc2UoZGF0YSkpIHtcclxuICAgICAgICB3YXJuKGBkYXRhKCkgcmV0dXJuZWQgYSBQcm9taXNlIC0gbm90ZSBkYXRhKCkgY2Fubm90IGJlIGFzeW5jOyBJZiB5b3UgYCArXHJcbiAgICAgICAgICAgIGBpbnRlbmQgdG8gcGVyZm9ybSBkYXRhIGZldGNoaW5nIGJlZm9yZSBjb21wb25lbnQgcmVuZGVycywgdXNlIGAgK1xyXG4gICAgICAgICAgICBgYXN5bmMgc2V0dXAoKSArIDxTdXNwZW5zZT4uYCk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oYGRhdGEoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC5gKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluc3RhbmNlLmRhdGEgPT09IEVNUFRZX09CSikge1xyXG4gICAgICAgIGluc3RhbmNlLmRhdGEgPSByZWFjdGl2ZShkYXRhKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGV4aXN0aW5nIGRhdGE6IHRoaXMgaXMgYSBtaXhpbiBvciBleHRlbmRzLlxyXG4gICAgICAgIGV4dGVuZChpbnN0YW5jZS5kYXRhLCBkYXRhKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjcmVhdGVXYXRjaGVyKHJhdywgY3R4LCBwdWJsaWNUaGlzLCBrZXkpIHtcclxuICAgIGNvbnN0IGdldHRlciA9IGtleS5pbmNsdWRlcygnLicpXHJcbiAgICAgICAgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIGtleSlcclxuICAgICAgICA6ICgpID0+IHB1YmxpY1RoaXNba2V5XTtcclxuICAgIGlmIChpc1N0cmluZyhyYXcpKSB7XHJcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IGN0eFtyYXddO1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XHJcbiAgICAgICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBJbnZhbGlkIHdhdGNoIGhhbmRsZXIgc3BlY2lmaWVkIGJ5IGtleSBcIiR7cmF3fVwiYCwgaGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihyYXcpKSB7XHJcbiAgICAgICAgd2F0Y2goZ2V0dGVyLCByYXcuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChyYXcpKSB7XHJcbiAgICAgICAgaWYgKGlzQXJyYXkocmF3KSkge1xyXG4gICAgICAgICAgICByYXcuZm9yRWFjaChyID0+IGNyZWF0ZVdhdGNoZXIociwgY3R4LCBwdWJsaWNUaGlzLCBrZXkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSBpc0Z1bmN0aW9uKHJhdy5oYW5kbGVyKVxyXG4gICAgICAgICAgICAgICAgPyByYXcuaGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpXHJcbiAgICAgICAgICAgICAgICA6IGN0eFtyYXcuaGFuZGxlcl07XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIsIHJhdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBJbnZhbGlkIHdhdGNoIGhhbmRsZXIgc3BlY2lmaWVkIGJ5IGtleSBcIiR7cmF3LmhhbmRsZXJ9XCJgLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oYEludmFsaWQgd2F0Y2ggb3B0aW9uOiBcIiR7a2V5fVwiYCwgcmF3KTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjcmVhdGVQYXRoR2V0dGVyKGN0eCwgcGF0aCkge1xyXG4gICAgY29uc3Qgc2VnbWVudHMgPSBwYXRoLnNwbGl0KCcuJyk7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIGxldCBjdXIgPSBjdHg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGggJiYgY3VyOyBpKyspIHtcclxuICAgICAgICAgICAgY3VyID0gY3VyW3NlZ21lbnRzW2ldXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN1cjtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHJhdyA9IGluc3RhbmNlLnR5cGU7XHJcbiAgICBjb25zdCB7IF9fbWVyZ2VkLCBtaXhpbnMsIGV4dGVuZHM6IGV4dGVuZHNPcHRpb25zIH0gPSByYXc7XHJcbiAgICBpZiAoX19tZXJnZWQpXHJcbiAgICAgICAgcmV0dXJuIF9fbWVyZ2VkO1xyXG4gICAgY29uc3QgZ2xvYmFsTWl4aW5zID0gaW5zdGFuY2UuYXBwQ29udGV4dC5taXhpbnM7XHJcbiAgICBpZiAoIWdsb2JhbE1peGlucy5sZW5ndGggJiYgIW1peGlucyAmJiAhZXh0ZW5kc09wdGlvbnMpXHJcbiAgICAgICAgcmV0dXJuIHJhdztcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcclxuICAgIGdsb2JhbE1peGlucy5mb3JFYWNoKG0gPT4gbWVyZ2VPcHRpb25zKG9wdGlvbnMsIG0sIGluc3RhbmNlKSk7XHJcbiAgICBtZXJnZU9wdGlvbnMob3B0aW9ucywgcmF3LCBpbnN0YW5jZSk7XHJcbiAgICByZXR1cm4gKHJhdy5fX21lcmdlZCA9IG9wdGlvbnMpO1xyXG59XHJcbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyh0bywgZnJvbSwgaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHN0cmF0cyA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLm9wdGlvbk1lcmdlU3RyYXRlZ2llcztcclxuICAgIGNvbnN0IHsgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gZnJvbTtcclxuICAgIGV4dGVuZHNPcHRpb25zICYmIG1lcmdlT3B0aW9ucyh0bywgZXh0ZW5kc09wdGlvbnMsIGluc3RhbmNlKTtcclxuICAgIG1peGlucyAmJlxyXG4gICAgICAgIG1peGlucy5mb3JFYWNoKChtKSA9PiBtZXJnZU9wdGlvbnModG8sIG0sIGluc3RhbmNlKSk7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmcm9tKSB7XHJcbiAgICAgICAgaWYgKHN0cmF0cyAmJiBoYXNPd24oc3RyYXRzLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHRvW2tleV0gPSBzdHJhdHNba2V5XSh0b1trZXldLCBmcm9tW2tleV0sIGluc3RhbmNlLnByb3h5LCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdG9ba2V5XSA9IGZyb21ba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuY29uc3QgcHVibGljUHJvcGVydGllc01hcCA9IGV4dGVuZChPYmplY3QuY3JlYXRlKG51bGwpLCB7XHJcbiAgICAkOiBpID0+IGksXHJcbiAgICAkZWw6IGkgPT4gaS52bm9kZS5lbCxcclxuICAgICRkYXRhOiBpID0+IGkuZGF0YSxcclxuICAgICRwcm9wczogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkucHJvcHMpIDogaS5wcm9wcyksXHJcbiAgICAkYXR0cnM6IGkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLmF0dHJzKSA6IGkuYXR0cnMpLFxyXG4gICAgJHNsb3RzOiBpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaS5zbG90cykgOiBpLnNsb3RzKSxcclxuICAgICRyZWZzOiBpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaS5yZWZzKSA6IGkucmVmcyksXHJcbiAgICAkcGFyZW50OiBpID0+IGkucGFyZW50ICYmIGkucGFyZW50LnByb3h5LFxyXG4gICAgJHJvb3Q6IGkgPT4gaS5yb290ICYmIGkucm9vdC5wcm94eSxcclxuICAgICRlbWl0OiBpID0+IGkuZW1pdCxcclxuICAgICRvcHRpb25zOiBpID0+IChfX1ZVRV9PUFRJT05TX0FQSV9fID8gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaSkgOiBpLnR5cGUpLFxyXG4gICAgJGZvcmNlVXBkYXRlOiBpID0+ICgpID0+IHF1ZXVlSm9iKGkudXBkYXRlKSxcclxuICAgICRuZXh0VGljazogaSA9PiBuZXh0VGljay5iaW5kKGkucHJveHkpLFxyXG4gICAgJHdhdGNoOiBpID0+IChfX1ZVRV9PUFRJT05TX0FQSV9fID8gaW5zdGFuY2VXYXRjaC5iaW5kKGkpIDogTk9PUClcclxufSk7XHJcbmNvbnN0IFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IHtcclxuICAgIGdldCh7IF86IGluc3RhbmNlIH0sIGtleSkge1xyXG4gICAgICAgIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlLCBkYXRhLCBwcm9wcywgYWNjZXNzQ2FjaGUsIHR5cGUsIGFwcENvbnRleHQgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgIC8vIGxldCBAdnVlL3JlYWN0aXZpdHkga25vdyBpdCBzaG91bGQgbmV2ZXIgb2JzZXJ2ZSBWdWUgcHVibGljIGluc3RhbmNlcy5cclxuICAgICAgICBpZiAoa2V5ID09PSBcIl9fdl9za2lwXCIgLyogU0tJUCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZm9yIGludGVybmFsIGZvcm1hdHRlcnMgdG8ga25vdyB0aGF0IHRoaXMgaXMgYSBWdWUgaW5zdGFuY2VcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleSA9PT0gJ19faXNWdWUnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBkYXRhIC8gcHJvcHMgLyBjdHhcclxuICAgICAgICAvLyBUaGlzIGdldHRlciBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgcHJvcGVydHkgYWNjZXNzIG9uIHRoZSByZW5kZXIgY29udGV4dFxyXG4gICAgICAgIC8vIGR1cmluZyByZW5kZXIgYW5kIGlzIGEgbWFqb3IgaG90c3BvdC4gVGhlIG1vc3QgZXhwZW5zaXZlIHBhcnQgb2YgdGhpc1xyXG4gICAgICAgIC8vIGlzIHRoZSBtdWx0aXBsZSBoYXNPd24oKSBjYWxscy4gSXQncyBtdWNoIGZhc3RlciB0byBkbyBhIHNpbXBsZSBwcm9wZXJ0eVxyXG4gICAgICAgIC8vIGFjY2VzcyBvbiBhIHBsYWluIG9iamVjdCwgc28gd2UgdXNlIGFuIGFjY2Vzc0NhY2hlIG9iamVjdCAod2l0aCBudWxsXHJcbiAgICAgICAgLy8gcHJvdG90eXBlKSB0byBtZW1vaXplIHdoYXQgYWNjZXNzIHR5cGUgYSBrZXkgY29ycmVzcG9uZHMgdG8uXHJcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWRQcm9wcztcclxuICAgICAgICBpZiAoa2V5WzBdICE9PSAnJCcpIHtcclxuICAgICAgICAgICAgY29uc3QgbiA9IGFjY2Vzc0NhY2hlW2tleV07XHJcbiAgICAgICAgICAgIGlmIChuICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAobikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBTRVRVUCAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDEgLyogREFUQSAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDMgLyogQ09OVEVYVCAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBQUk9QUyAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdDoganVzdCBmYWxsdGhyb3VnaFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNldHVwU3RhdGUgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDAgLyogU0VUVVAgKi87XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDEgLyogREFUQSAqLztcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgICAgIC8vIG9ubHkgY2FjaGUgb3RoZXIgcHJvcGVydGllcyB3aGVuIGluc3RhbmNlIGhhcyBkZWNsYXJlZCAodGh1cyBzdGFibGUpXHJcbiAgICAgICAgICAgIC8vIHByb3BzXHJcbiAgICAgICAgICAgIChub3JtYWxpemVkUHJvcHMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF0pICYmXHJcbiAgICAgICAgICAgICAgICBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMiAvKiBQUk9QUyAqLztcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wc1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGN0eCAhPT0gRU1QVFlfT0JKICYmIGhhc093bihjdHgsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAzIC8qIENPTlRFWFQgKi87XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIV9fVlVFX09QVElPTlNfQVBJX18gfHwgIWlzSW5CZWZvcmVDcmVhdGUpIHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSA0IC8qIE9USEVSICovO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHB1YmxpY0dldHRlciA9IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XTtcclxuICAgICAgICBsZXQgY3NzTW9kdWxlLCBnbG9iYWxQcm9wZXJ0aWVzO1xyXG4gICAgICAgIC8vIHB1YmxpYyAkeHh4IHByb3BlcnRpZXNcclxuICAgICAgICBpZiAocHVibGljR2V0dGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICckYXR0cnMnKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiAvKiBHRVQgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbWFya0F0dHJzQWNjZXNzZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcHVibGljR2V0dGVyKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgLy8gY3NzIG1vZHVsZSAoaW5qZWN0ZWQgYnkgdnVlLWxvYWRlcilcclxuICAgICAgICAoY3NzTW9kdWxlID0gdHlwZS5fX2Nzc01vZHVsZXMpICYmXHJcbiAgICAgICAgICAgIChjc3NNb2R1bGUgPSBjc3NNb2R1bGVba2V5XSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNzc01vZHVsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xyXG4gICAgICAgICAgICAvLyB1c2VyIG1heSBzZXQgY3VzdG9tIHByb3BlcnRpZXMgdG8gYHRoaXNgIHRoYXQgc3RhcnQgd2l0aCBgJGBcclxuICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDMgLyogQ09OVEVYVCAqLztcclxuICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChcclxuICAgICAgICAvLyBnbG9iYWwgcHJvcGVydGllc1xyXG4gICAgICAgICgoZ2xvYmFsUHJvcGVydGllcyA9IGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMpLFxyXG4gICAgICAgICAgICBoYXNPd24oZ2xvYmFsUHJvcGVydGllcywga2V5KSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbFByb3BlcnRpZXNba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSAmJlxyXG4gICAgICAgICAgICAoIWlzU3RyaW5nKGtleSkgfHxcclxuICAgICAgICAgICAgICAgIC8vICMxMDkxIGF2b2lkIGludGVybmFsIGlzUmVmL2lzVk5vZGUgY2hlY2tzIG9uIGNvbXBvbmVudCBpbnN0YW5jZSBsZWFkaW5nXHJcbiAgICAgICAgICAgICAgICAvLyB0byBpbmZpbml0ZSB3YXJuaW5nIGxvb3BcclxuICAgICAgICAgICAgICAgIGtleS5pbmRleE9mKCdfX3YnKSAhPT0gMCkpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJlxyXG4gICAgICAgICAgICAgICAgKGtleVswXSA9PT0gJyQnIHx8IGtleVswXSA9PT0gJ18nKSAmJlxyXG4gICAgICAgICAgICAgICAgaGFzT3duKGRhdGEsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gbXVzdCBiZSBhY2Nlc3NlZCB2aWEgJGRhdGEgYmVjYXVzZSBpdCBzdGFydHMgd2l0aCBhIHJlc2VydmVkIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBjaGFyYWN0ZXIgKFwiJFwiIG9yIFwiX1wiKSBhbmQgaXMgbm90IHByb3hpZWQgb24gdGhlIHJlbmRlciBjb250ZXh0LmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2FybihgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSB3YXMgYWNjZXNzZWQgZHVyaW5nIHJlbmRlciBgICtcclxuICAgICAgICAgICAgICAgICAgICBgYnV0IGlzIG5vdCBkZWZpbmVkIG9uIGluc3RhbmNlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldCh7IF86IGluc3RhbmNlIH0sIGtleSwgdmFsdWUpIHtcclxuICAgICAgICBjb25zdCB7IGRhdGEsIHNldHVwU3RhdGUsIGN0eCB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgaWYgKHNldHVwU3RhdGUgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xyXG4gICAgICAgICAgICBzZXR1cFN0YXRlW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChrZXkgaW4gaW5zdGFuY2UucHJvcHMpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwcm9wIFwiJHtrZXl9XCIuIFByb3BzIGFyZSByZWFkb25seS5gLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGtleVswXSA9PT0gJyQnICYmIGtleS5zbGljZSgxKSBpbiBpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHB1YmxpYyBwcm9wZXJ0eSBcIiR7a2V5fVwiLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgUHJvcGVydGllcyBzdGFydGluZyB3aXRoICQgYXJlIHJlc2VydmVkIGFuZCByZWFkb25seS5gLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYga2V5IGluIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0eFtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG4gICAgaGFzKHsgXzogeyBkYXRhLCBzZXR1cFN0YXRlLCBhY2Nlc3NDYWNoZSwgY3R4LCBhcHBDb250ZXh0LCBwcm9wc09wdGlvbnMgfSB9LCBrZXkpIHtcclxuICAgICAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xyXG4gICAgICAgIHJldHVybiAoYWNjZXNzQ2FjaGVba2V5XSAhPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHx8XHJcbiAgICAgICAgICAgIChzZXR1cFN0YXRlICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKHNldHVwU3RhdGUsIGtleSkpIHx8XHJcbiAgICAgICAgICAgICgobm9ybWFsaXplZFByb3BzID0gcHJvcHNPcHRpb25zWzBdKSAmJiBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpKSB8fFxyXG4gICAgICAgICAgICBoYXNPd24oY3R4LCBrZXkpIHx8XHJcbiAgICAgICAgICAgIGhhc093bihwdWJsaWNQcm9wZXJ0aWVzTWFwLCBrZXkpIHx8XHJcbiAgICAgICAgICAgIGhhc093bihhcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBrZXkpKTtcclxuICAgIH1cclxufTtcclxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZmFsc2UpIHtcclxuICAgIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5vd25LZXlzID0gKHRhcmdldCkgPT4ge1xyXG4gICAgICAgIHdhcm4oYEF2b2lkIGFwcCBsb2dpYyB0aGF0IHJlbGllcyBvbiBlbnVtZXJhdGluZyBrZXlzIG9uIGEgY29tcG9uZW50IGluc3RhbmNlLiBgICtcclxuICAgICAgICAgICAgYFRoZSBrZXlzIHdpbGwgYmUgZW1wdHkgaW4gcHJvZHVjdGlvbiBtb2RlIHRvIGF2b2lkIHBlcmZvcm1hbmNlIG92ZXJoZWFkLmApO1xyXG4gICAgICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcclxuICAgIH07XHJcbn1cclxuY29uc3QgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0gZXh0ZW5kKHt9LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMsIHtcclxuICAgIGdldCh0YXJnZXQsIGtleSkge1xyXG4gICAgICAgIC8vIGZhc3QgcGF0aCBmb3IgdW5zY29wYWJsZXMgd2hlbiB1c2luZyBgd2l0aGAgYmxvY2tcclxuICAgICAgICBpZiAoa2V5ID09PSBTeW1ib2wudW5zY29wYWJsZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmdldCh0YXJnZXQsIGtleSwgdGFyZ2V0KTtcclxuICAgIH0sXHJcbiAgICBoYXMoXywga2V5KSB7XHJcbiAgICAgICAgY29uc3QgaGFzID0ga2V5WzBdICE9PSAnXycgJiYgIWlzR2xvYmFsbHlXaGl0ZWxpc3RlZChrZXkpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWhhcyAmJiBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMuaGFzKF8sIGtleSkpIHtcclxuICAgICAgICAgICAgd2FybihgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXyB3aGljaCBpcyBhIHJlc2VydmVkIHByZWZpeCBmb3IgVnVlIGludGVybmFscy5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhhcztcclxuICAgIH1cclxufSk7XHJcbi8vIEluIGRldiBtb2RlLCB0aGUgcHJveHkgdGFyZ2V0IGV4cG9zZXMgdGhlIHNhbWUgcHJvcGVydGllcyBhcyBzZWVuIG9uIGB0aGlzYFxyXG4vLyBmb3IgZWFzaWVyIGNvbnNvbGUgaW5zcGVjdGlvbi4gSW4gcHJvZCBtb2RlIGl0IHdpbGwgYmUgYW4gZW1wdHkgb2JqZWN0IHNvXHJcbi8vIHRoZXNlIHByb3BlcnRpZXMgZGVmaW5pdGlvbnMgY2FuIGJlIHNraXBwZWQuXHJcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHt9O1xyXG4gICAgLy8gZXhwb3NlIGludGVybmFsIGluc3RhbmNlIGZvciBwcm94eSBoYW5kbGVyc1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgYF9gLCB7XHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGdldDogKCkgPT4gaW5zdGFuY2VcclxuICAgIH0pO1xyXG4gICAgLy8gZXhwb3NlIHB1YmxpYyBwcm9wZXJ0aWVzXHJcbiAgICBPYmplY3Qua2V5cyhwdWJsaWNQcm9wZXJ0aWVzTWFwKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGdldDogKCkgPT4gcHVibGljUHJvcGVydGllc01hcFtrZXldKGluc3RhbmNlKSxcclxuICAgICAgICAgICAgLy8gaW50ZXJjZXB0ZWQgYnkgdGhlIHByb3h5IHNvIG5vIG5lZWQgZm9yIGltcGxlbWVudGF0aW9uLFxyXG4gICAgICAgICAgICAvLyBidXQgbmVlZGVkIHRvIHByZXZlbnQgc2V0IGVycm9yc1xyXG4gICAgICAgICAgICBzZXQ6IE5PT1BcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgLy8gZXhwb3NlIGdsb2JhbCBwcm9wZXJ0aWVzXHJcbiAgICBjb25zdCB7IGdsb2JhbFByb3BlcnRpZXMgfSA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnO1xyXG4gICAgT2JqZWN0LmtleXMoZ2xvYmFsUHJvcGVydGllcykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBnZXQ6ICgpID0+IGdsb2JhbFByb3BlcnRpZXNba2V5XSxcclxuICAgICAgICAgICAgc2V0OiBOT09QXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn1cclxuLy8gZGV2IG9ubHlcclxuZnVuY3Rpb24gZXhwb3NlUHJvcHNPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHsgY3R4LCBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdIH0gPSBpbnN0YW5jZTtcclxuICAgIGlmIChwcm9wc09wdGlvbnMpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhwcm9wc09wdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBpbnN0YW5jZS5wcm9wc1trZXldLFxyXG4gICAgICAgICAgICAgICAgc2V0OiBOT09QXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbi8vIGRldiBvbmx5XHJcbmZ1bmN0aW9uIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlIH0gPSBpbnN0YW5jZTtcclxuICAgIE9iamVjdC5rZXlzKHRvUmF3KHNldHVwU3RhdGUpKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgaWYgKGtleVswXSA9PT0gJyQnIHx8IGtleVswXSA9PT0gJ18nKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYHNldHVwKCkgcmV0dXJuIHByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gc2hvdWxkIG5vdCBzdGFydCB3aXRoIFwiJFwiIG9yIFwiX1wiIGAgK1xyXG4gICAgICAgICAgICAgICAgYHdoaWNoIGFyZSByZXNlcnZlZCBwcmVmaXhlcyBmb3IgVnVlIGludGVybmFscy5gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBnZXQ6ICgpID0+IHNldHVwU3RhdGVba2V5XSxcclxuICAgICAgICAgICAgc2V0OiBOT09QXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxuXG5jb25zdCBlbXB0eUFwcENvbnRleHQgPSBjcmVhdGVBcHBDb250ZXh0KCk7XHJcbmxldCB1aWQkMSA9IDA7XHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlKHZub2RlLCBwYXJlbnQsIHN1c3BlbnNlKSB7XHJcbiAgICBjb25zdCB0eXBlID0gdm5vZGUudHlwZTtcclxuICAgIC8vIGluaGVyaXQgcGFyZW50IGFwcCBjb250ZXh0IC0gb3IgLSBpZiByb290LCBhZG9wdCBmcm9tIHJvb3Qgdm5vZGVcclxuICAgIGNvbnN0IGFwcENvbnRleHQgPSAocGFyZW50ID8gcGFyZW50LmFwcENvbnRleHQgOiB2bm9kZS5hcHBDb250ZXh0KSB8fCBlbXB0eUFwcENvbnRleHQ7XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IHtcclxuICAgICAgICB1aWQ6IHVpZCQxKyssXHJcbiAgICAgICAgdm5vZGUsXHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgICBwYXJlbnQsXHJcbiAgICAgICAgYXBwQ29udGV4dCxcclxuICAgICAgICByb290OiBudWxsLFxyXG4gICAgICAgIG5leHQ6IG51bGwsXHJcbiAgICAgICAgc3ViVHJlZTogbnVsbCxcclxuICAgICAgICB1cGRhdGU6IG51bGwsXHJcbiAgICAgICAgcmVuZGVyOiBudWxsLFxyXG4gICAgICAgIHByb3h5OiBudWxsLFxyXG4gICAgICAgIHdpdGhQcm94eTogbnVsbCxcclxuICAgICAgICBlZmZlY3RzOiBudWxsLFxyXG4gICAgICAgIHByb3ZpZGVzOiBwYXJlbnQgPyBwYXJlbnQucHJvdmlkZXMgOiBPYmplY3QuY3JlYXRlKGFwcENvbnRleHQucHJvdmlkZXMpLFxyXG4gICAgICAgIGFjY2Vzc0NhY2hlOiBudWxsLFxyXG4gICAgICAgIHJlbmRlckNhY2hlOiBbXSxcclxuICAgICAgICAvLyBsb2NhbCByZXNvdmxlZCBhc3NldHNcclxuICAgICAgICBjb21wb25lbnRzOiBudWxsLFxyXG4gICAgICAgIGRpcmVjdGl2ZXM6IG51bGwsXHJcbiAgICAgICAgLy8gcmVzb2x2ZWQgcHJvcHMgYW5kIGVtaXRzIG9wdGlvbnNcclxuICAgICAgICBwcm9wc09wdGlvbnM6IG5vcm1hbGl6ZVByb3BzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcclxuICAgICAgICBlbWl0c09wdGlvbnM6IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcclxuICAgICAgICAvLyBlbWl0XHJcbiAgICAgICAgZW1pdDogbnVsbCxcclxuICAgICAgICBlbWl0dGVkOiBudWxsLFxyXG4gICAgICAgIC8vIHN0YXRlXHJcbiAgICAgICAgY3R4OiBFTVBUWV9PQkosXHJcbiAgICAgICAgZGF0YTogRU1QVFlfT0JKLFxyXG4gICAgICAgIHByb3BzOiBFTVBUWV9PQkosXHJcbiAgICAgICAgYXR0cnM6IEVNUFRZX09CSixcclxuICAgICAgICBzbG90czogRU1QVFlfT0JKLFxyXG4gICAgICAgIHJlZnM6IEVNUFRZX09CSixcclxuICAgICAgICBzZXR1cFN0YXRlOiBFTVBUWV9PQkosXHJcbiAgICAgICAgc2V0dXBDb250ZXh0OiBudWxsLFxyXG4gICAgICAgIC8vIHN1c3BlbnNlIHJlbGF0ZWRcclxuICAgICAgICBzdXNwZW5zZSxcclxuICAgICAgICBzdXNwZW5zZUlkOiBzdXNwZW5zZSA/IHN1c3BlbnNlLnBlbmRpbmdJZCA6IDAsXHJcbiAgICAgICAgYXN5bmNEZXA6IG51bGwsXHJcbiAgICAgICAgYXN5bmNSZXNvbHZlZDogZmFsc2UsXHJcbiAgICAgICAgLy8gbGlmZWN5Y2xlIGhvb2tzXHJcbiAgICAgICAgLy8gbm90IHVzaW5nIGVudW1zIGhlcmUgYmVjYXVzZSBpdCByZXN1bHRzIGluIGNvbXB1dGVkIHByb3BlcnRpZXNcclxuICAgICAgICBpc01vdW50ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGlzVW5tb3VudGVkOiBmYWxzZSxcclxuICAgICAgICBpc0RlYWN0aXZhdGVkOiBmYWxzZSxcclxuICAgICAgICBiYzogbnVsbCxcclxuICAgICAgICBjOiBudWxsLFxyXG4gICAgICAgIGJtOiBudWxsLFxyXG4gICAgICAgIG06IG51bGwsXHJcbiAgICAgICAgYnU6IG51bGwsXHJcbiAgICAgICAgdTogbnVsbCxcclxuICAgICAgICB1bTogbnVsbCxcclxuICAgICAgICBidW06IG51bGwsXHJcbiAgICAgICAgZGE6IG51bGwsXHJcbiAgICAgICAgYTogbnVsbCxcclxuICAgICAgICBydGc6IG51bGwsXHJcbiAgICAgICAgcnRjOiBudWxsLFxyXG4gICAgICAgIGVjOiBudWxsXHJcbiAgICB9O1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGluc3RhbmNlLmN0eCA9IGNyZWF0ZVJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaW5zdGFuY2UuY3R4ID0geyBfOiBpbnN0YW5jZSB9O1xyXG4gICAgfVxyXG4gICAgaW5zdGFuY2Uucm9vdCA9IHBhcmVudCA/IHBhcmVudC5yb290IDogaW5zdGFuY2U7XHJcbiAgICBpbnN0YW5jZS5lbWl0ID0gZW1pdC5iaW5kKG51bGwsIGluc3RhbmNlKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxubGV0IGN1cnJlbnRJbnN0YW5jZSA9IG51bGw7XHJcbmNvbnN0IGdldEN1cnJlbnRJbnN0YW5jZSA9ICgpID0+IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbmNvbnN0IHNldEN1cnJlbnRJbnN0YW5jZSA9IChpbnN0YW5jZSkgPT4ge1xyXG4gICAgY3VycmVudEluc3RhbmNlID0gaW5zdGFuY2U7XHJcbn07XHJcbmNvbnN0IGlzQnVpbHRJblRhZyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnc2xvdCxjb21wb25lbnQnKTtcclxuZnVuY3Rpb24gdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWUsIGNvbmZpZykge1xyXG4gICAgY29uc3QgYXBwSXNOYXRpdmVUYWcgPSBjb25maWcuaXNOYXRpdmVUYWcgfHwgTk87XHJcbiAgICBpZiAoaXNCdWlsdEluVGFnKG5hbWUpIHx8IGFwcElzTmF0aXZlVGFnKG5hbWUpKSB7XHJcbiAgICAgICAgd2FybignRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCBpZDogJyArIG5hbWUpO1xyXG4gICAgfVxyXG59XHJcbmxldCBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBmYWxzZTtcclxuZnVuY3Rpb24gc2V0dXBDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSID0gZmFsc2UpIHtcclxuICAgIGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IGlzU1NSO1xyXG4gICAgY29uc3QgeyBwcm9wcywgY2hpbGRyZW4sIHNoYXBlRmxhZyB9ID0gaW5zdGFuY2Uudm5vZGU7XHJcbiAgICBjb25zdCBpc1N0YXRlZnVsID0gc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi87XHJcbiAgICBpbml0UHJvcHMoaW5zdGFuY2UsIHByb3BzLCBpc1N0YXRlZnVsLCBpc1NTUik7XHJcbiAgICBpbml0U2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcclxuICAgIGNvbnN0IHNldHVwUmVzdWx0ID0gaXNTdGF0ZWZ1bFxyXG4gICAgICAgID8gc2V0dXBTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IpXHJcbiAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBmYWxzZTtcclxuICAgIHJldHVybiBzZXR1cFJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUikge1xyXG4gICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBpZiAoQ29tcG9uZW50Lm5hbWUpIHtcclxuICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKENvbXBvbmVudC5uYW1lLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChDb21wb25lbnQuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5jb21wb25lbnRzKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWVzW2ldLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKENvbXBvbmVudC5kaXJlY3RpdmVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmRpcmVjdGl2ZXMpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gMC4gY3JlYXRlIHJlbmRlciBwcm94eSBwcm9wZXJ0eSBhY2Nlc3MgY2FjaGVcclxuICAgIGluc3RhbmNlLmFjY2Vzc0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIC8vIDEuIGNyZWF0ZSBwdWJsaWMgaW5zdGFuY2UgLyByZW5kZXIgcHJveHlcclxuICAgIC8vIGFsc28gbWFyayBpdCByYXcgc28gaXQncyBuZXZlciBvYnNlcnZlZFxyXG4gICAgaW5zdGFuY2UucHJveHkgPSBuZXcgUHJveHkoaW5zdGFuY2UuY3R4LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIC8vIDIuIGNhbGwgc2V0dXAoKVxyXG4gICAgY29uc3QgeyBzZXR1cCB9ID0gQ29tcG9uZW50O1xyXG4gICAgaWYgKHNldHVwKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dXBDb250ZXh0ID0gKGluc3RhbmNlLnNldHVwQ29udGV4dCA9XHJcbiAgICAgICAgICAgIHNldHVwLmxlbmd0aCA+IDEgPyBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIDogbnVsbCk7XHJcbiAgICAgICAgY3VycmVudEluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xyXG4gICAgICAgIGNvbnN0IHNldHVwUmVzdWx0ID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHNldHVwLCBpbnN0YW5jZSwgMCAvKiBTRVRVUF9GVU5DVElPTiAqLywgWyhwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpbnN0YW5jZS5wcm9wcykgOiBpbnN0YW5jZS5wcm9wcywgc2V0dXBDb250ZXh0XSk7XHJcbiAgICAgICAgcmVzZXRUcmFja2luZygpO1xyXG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKGlzUHJvbWlzZShzZXR1cFJlc3VsdCkpIHtcclxuICAgICAgICAgICAgaWYgKGlzU1NSKSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdGhlIHByb21pc2Ugc28gc2VydmVyLXJlbmRlcmVyIGNhbiB3YWl0IG9uIGl0XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dXBSZXN1bHQudGhlbigocmVzb2x2ZWRSZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgcmVzb2x2ZWRSZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhc3luYyBzZXR1cCByZXR1cm5lZCBQcm9taXNlLlxyXG4gICAgICAgICAgICAgICAgLy8gYmFpbCBoZXJlIGFuZCB3YWl0IGZvciByZS1lbnRyeS5cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmFzeW5jRGVwID0gc2V0dXBSZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpIHtcclxuICAgIGlmIChpc0Z1bmN0aW9uKHNldHVwUmVzdWx0KSkge1xyXG4gICAgICAgIC8vIHNldHVwIHJldHVybmVkIGFuIGlubGluZSByZW5kZXIgZnVuY3Rpb25cclxuICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSBzZXR1cFJlc3VsdDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHNldHVwUmVzdWx0KSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNWTm9kZShzZXR1cFJlc3VsdCkpIHtcclxuICAgICAgICAgICAgd2Fybihgc2V0dXAoKSBzaG91bGQgbm90IHJldHVybiBWTm9kZXMgZGlyZWN0bHkgLSBgICtcclxuICAgICAgICAgICAgICAgIGByZXR1cm4gYSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2V0dXAgcmV0dXJuZWQgYmluZGluZ3MuXHJcbiAgICAgICAgLy8gYXNzdW1pbmcgYSByZW5kZXIgZnVuY3Rpb24gY29tcGlsZWQgZnJvbSB0ZW1wbGF0ZSBpcyBwcmVzZW50LlxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmRldnRvb2xzUmF3U2V0dXBTdGF0ZSA9IHNldHVwUmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZS5zZXR1cFN0YXRlID0gcHJveHlSZWZzKHNldHVwUmVzdWx0KTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzZXR1cFJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgd2Fybihgc2V0dXAoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC4gUmVjZWl2ZWQ6ICR7c2V0dXBSZXN1bHQgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2Ygc2V0dXBSZXN1bHR9YCk7XHJcbiAgICB9XHJcbiAgICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSk7XHJcbn1cclxubGV0IGNvbXBpbGU7XHJcbi8qKlxyXG4gKiBGb3IgcnVudGltZS1kb20gdG8gcmVnaXN0ZXIgdGhlIGNvbXBpbGVyLlxyXG4gKiBOb3RlIHRoZSBleHBvcnRlZCBtZXRob2QgdXNlcyBhbnkgdG8gYXZvaWQgZC50cyByZWx5aW5nIG9uIHRoZSBjb21waWxlciB0eXBlcy5cclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyKF9jb21waWxlKSB7XHJcbiAgICBjb21waWxlID0gX2NvbXBpbGU7XHJcbn1cclxuZnVuY3Rpb24gZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSKSB7XHJcbiAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgLy8gdGVtcGxhdGUgLyByZW5kZXIgZnVuY3Rpb24gbm9ybWFsaXphdGlvblxyXG4gICAgaWYgKCFpbnN0YW5jZS5yZW5kZXIpIHtcclxuICAgICAgICAvLyBjb3VsZCBiZSBzZXQgZnJvbSBzZXR1cCgpXHJcbiAgICAgICAgaWYgKGNvbXBpbGUgJiYgQ29tcG9uZW50LnRlbXBsYXRlICYmICFDb21wb25lbnQucmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGNvbXBpbGVgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBDb21wb25lbnQucmVuZGVyID0gY29tcGlsZShDb21wb25lbnQudGVtcGxhdGUsIHtcclxuICAgICAgICAgICAgICAgIGlzQ3VzdG9tRWxlbWVudDogaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcuaXNDdXN0b21FbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgZGVsaW1pdGVyczogQ29tcG9uZW50LmRlbGltaXRlcnNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gKENvbXBvbmVudC5yZW5kZXIgfHwgTk9PUCk7XHJcbiAgICAgICAgLy8gZm9yIHJ1bnRpbWUtY29tcGlsZWQgcmVuZGVyIGZ1bmN0aW9ucyB1c2luZyBgd2l0aGAgYmxvY2tzLCB0aGUgcmVuZGVyXHJcbiAgICAgICAgLy8gcHJveHkgdXNlZCBuZWVkcyBhIGRpZmZlcmVudCBgaGFzYCBoYW5kbGVyIHdoaWNoIGlzIG1vcmUgcGVyZm9ybWFudCBhbmRcclxuICAgICAgICAvLyBhbHNvIG9ubHkgYWxsb3dzIGEgd2hpdGVsaXN0IG9mIGdsb2JhbHMgdG8gZmFsbHRocm91Z2guXHJcbiAgICAgICAgaWYgKGluc3RhbmNlLnJlbmRlci5fcmMpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2Uud2l0aFByb3h5ID0gbmV3IFByb3h5KGluc3RhbmNlLmN0eCwgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBzdXBwb3J0IGZvciAyLnggb3B0aW9uc1xyXG4gICAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18pIHtcclxuICAgICAgICBjdXJyZW50SW5zdGFuY2UgPSBpbnN0YW5jZTtcclxuICAgICAgICBhcHBseU9wdGlvbnMoaW5zdGFuY2UsIENvbXBvbmVudCk7XHJcbiAgICAgICAgY3VycmVudEluc3RhbmNlID0gbnVsbDtcclxuICAgIH1cclxuICAgIC8vIHdhcm4gbWlzc2luZyB0ZW1wbGF0ZS9yZW5kZXJcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIUNvbXBvbmVudC5yZW5kZXIgJiYgaW5zdGFuY2UucmVuZGVyID09PSBOT09QKSB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKCFjb21waWxlICYmIENvbXBvbmVudC50ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgcHJvdmlkZWQgdGVtcGxhdGUgb3B0aW9uIGJ1dCBgICtcclxuICAgICAgICAgICAgICAgIGBydW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArXHJcbiAgICAgICAgICAgICAgICAoIGAgQ29uZmlndXJlIHlvdXIgYnVuZGxlciB0byBhbGlhcyBcInZ1ZVwiIHRvIFwidnVlL2Rpc3QvdnVlLmVzbS1idW5kbGVyLmpzXCIuYFxyXG4gICAgICAgICAgICAgICAgICAgICkgLyogc2hvdWxkIG5vdCBoYXBwZW4gKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IGlzIG1pc3NpbmcgdGVtcGxhdGUgb3IgcmVuZGVyIGZ1bmN0aW9uLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5jb25zdCBhdHRySGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6ICh0YXJnZXQsIGtleSkgPT4ge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xyXG4gICAgfSxcclxuICAgIHNldDogKCkgPT4ge1xyXG4gICAgICAgIHdhcm4oYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlUHJvcGVydHk6ICgpID0+IHtcclxuICAgICAgICB3YXJuKGBzZXR1cENvbnRleHQuYXR0cnMgaXMgcmVhZG9ubHkuYCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAvLyBXZSB1c2UgZ2V0dGVycyBpbiBkZXYgaW4gY2FzZSBsaWJzIGxpa2UgdGVzdC11dGlscyBvdmVyd3JpdGUgaW5zdGFuY2VcclxuICAgICAgICAvLyBwcm9wZXJ0aWVzIChvdmVyd3JpdGVzIHNob3VsZCBub3QgYmUgZG9uZSBpbiBwcm9kKVxyXG4gICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm94eShpbnN0YW5jZS5hdHRycywgYXR0ckhhbmRsZXJzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0IHNsb3RzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoYWxsb3dSZWFkb25seShpbnN0YW5jZS5zbG90cyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldCBlbWl0KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChldmVudCwgLi4uYXJncykgPT4gaW5zdGFuY2UuZW1pdChldmVudCwgLi4uYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGF0dHJzOiBpbnN0YW5jZS5hdHRycyxcclxuICAgICAgICAgICAgc2xvdHM6IGluc3RhbmNlLnNsb3RzLFxyXG4gICAgICAgICAgICBlbWl0OiBpbnN0YW5jZS5lbWl0XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4vLyByZWNvcmQgZWZmZWN0cyBjcmVhdGVkIGR1cmluZyBhIGNvbXBvbmVudCdzIHNldHVwKCkgc28gdGhhdCB0aGV5IGNhbiBiZVxyXG4vLyBzdG9wcGVkIHdoZW4gdGhlIGNvbXBvbmVudCB1bm1vdW50c1xyXG5mdW5jdGlvbiByZWNvcmRJbnN0YW5jZUJvdW5kRWZmZWN0KGVmZmVjdCkge1xyXG4gICAgaWYgKGN1cnJlbnRJbnN0YW5jZSkge1xyXG4gICAgICAgIChjdXJyZW50SW5zdGFuY2UuZWZmZWN0cyB8fCAoY3VycmVudEluc3RhbmNlLmVmZmVjdHMgPSBbXSkpLnB1c2goZWZmZWN0KTtcclxuICAgIH1cclxufVxyXG5jb25zdCBjbGFzc2lmeVJFID0gLyg/Ol58Wy1fXSkoXFx3KS9nO1xyXG5jb25zdCBjbGFzc2lmeSA9IChzdHIpID0+IHN0ci5yZXBsYWNlKGNsYXNzaWZ5UkUsIGMgPT4gYy50b1VwcGVyQ2FzZSgpKS5yZXBsYWNlKC9bLV9dL2csICcnKTtcclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuZnVuY3Rpb24gZm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgQ29tcG9uZW50LCBpc1Jvb3QgPSBmYWxzZSkge1xyXG4gICAgbGV0IG5hbWUgPSBpc0Z1bmN0aW9uKENvbXBvbmVudClcclxuICAgICAgICA/IENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZVxyXG4gICAgICAgIDogQ29tcG9uZW50Lm5hbWU7XHJcbiAgICBpZiAoIW5hbWUgJiYgQ29tcG9uZW50Ll9fZmlsZSkge1xyXG4gICAgICAgIGNvbnN0IG1hdGNoID0gQ29tcG9uZW50Ll9fZmlsZS5tYXRjaCgvKFteL1xcXFxdKylcXC52dWUkLyk7XHJcbiAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSBtYXRjaFsxXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIW5hbWUgJiYgaW5zdGFuY2UgJiYgaW5zdGFuY2UucGFyZW50KSB7XHJcbiAgICAgICAgLy8gdHJ5IHRvIGluZmVyIHRoZSBuYW1lIGJhc2VkIG9uIHJldmVyc2UgcmVzb2x1dGlvblxyXG4gICAgICAgIGNvbnN0IGluZmVyRnJvbVJlZ2lzdHJ5ID0gKHJlZ2lzdHJ5KSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJlZ2lzdHJ5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0cnlba2V5XSA9PT0gQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbmFtZSA9XHJcbiAgICAgICAgICAgIGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmNvbXBvbmVudHMgfHxcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnBhcmVudC50eXBlLmNvbXBvbmVudHMpIHx8IGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmFwcENvbnRleHQuY29tcG9uZW50cyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmFtZSA/IGNsYXNzaWZ5KG5hbWUpIDogaXNSb290ID8gYEFwcGAgOiBgQW5vbnltb3VzYDtcclxufVxyXG5mdW5jdGlvbiBpc0NsYXNzQ29tcG9uZW50KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZSkgJiYgJ19fdmNjT3B0cycgaW4gdmFsdWU7XHJcbn1cblxuZnVuY3Rpb24gY29tcHV0ZWQoZ2V0dGVyT3JPcHRpb25zKSB7XHJcbiAgICBjb25zdCBjID0gY29tcHV0ZWQkMShnZXR0ZXJPck9wdGlvbnMpO1xyXG4gICAgcmVjb3JkSW5zdGFuY2VCb3VuZEVmZmVjdChjLmVmZmVjdCk7XHJcbiAgICByZXR1cm4gYztcclxufVxuXG4vLyBpbXBsZW1lbnRhdGlvbiwgY2xvc2UgdG8gbm8tb3BcclxuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBpc0Z1bmN0aW9uKG9wdGlvbnMpID8geyBzZXR1cDogb3B0aW9ucywgbmFtZTogb3B0aW9ucy5uYW1lIH0gOiBvcHRpb25zO1xyXG59XG5cbmZ1bmN0aW9uIGRlZmluZUFzeW5jQ29tcG9uZW50KHNvdXJjZSkge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xyXG4gICAgICAgIHNvdXJjZSA9IHsgbG9hZGVyOiBzb3VyY2UgfTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgbG9hZGVyLCBsb2FkaW5nQ29tcG9uZW50OiBsb2FkaW5nQ29tcG9uZW50LCBlcnJvckNvbXBvbmVudDogZXJyb3JDb21wb25lbnQsIGRlbGF5ID0gMjAwLCB0aW1lb3V0LCAvLyB1bmRlZmluZWQgPSBuZXZlciB0aW1lcyBvdXRcclxuICAgIHN1c3BlbnNpYmxlID0gdHJ1ZSwgb25FcnJvcjogdXNlck9uRXJyb3IgfSA9IHNvdXJjZTtcclxuICAgIGxldCBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XHJcbiAgICBsZXQgcmVzb2x2ZWRDb21wO1xyXG4gICAgbGV0IHJldHJpZXMgPSAwO1xyXG4gICAgY29uc3QgcmV0cnkgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0cmllcysrO1xyXG4gICAgICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcclxuICAgICAgICByZXR1cm4gbG9hZCgpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHRoaXNSZXF1ZXN0O1xyXG4gICAgICAgIHJldHVybiAocGVuZGluZ1JlcXVlc3QgfHxcclxuICAgICAgICAgICAgKHRoaXNSZXF1ZXN0ID0gcGVuZGluZ1JlcXVlc3QgPSBsb2FkZXIoKVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBlcnIgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodXNlck9uRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyUmV0cnkgPSAoKSA9PiByZXNvbHZlKHJldHJ5KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyRmFpbCA9ICgpID0+IHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyT25FcnJvcihlcnIsIHVzZXJSZXRyeSwgdXNlckZhaWwsIHJldHJpZXMgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKChjb21wKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1JlcXVlc3QgIT09IHBlbmRpbmdSZXF1ZXN0ICYmIHBlbmRpbmdSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBlbmRpbmdSZXF1ZXN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhY29tcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEFzeW5jIGNvbXBvbmVudCBsb2FkZXIgcmVzb2x2ZWQgdG8gdW5kZWZpbmVkLiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYElmIHlvdSBhcmUgdXNpbmcgcmV0cnkoKSwgbWFrZSBzdXJlIHRvIHJldHVybiBpdHMgcmV0dXJuIHZhbHVlLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gaW50ZXJvcCBtb2R1bGUgZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXAgJiZcclxuICAgICAgICAgICAgICAgICAgICAoY29tcC5fX2VzTW9kdWxlIHx8IGNvbXBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ01vZHVsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcCA9IGNvbXAuZGVmYXVsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29tcCAmJiAhaXNPYmplY3QoY29tcCkgJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYXN5bmMgY29tcG9uZW50IGxvYWQgcmVzdWx0OiAke2NvbXB9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlZENvbXAgPSBjb21wO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXA7XHJcbiAgICAgICAgICAgIH0pKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGRlZmluZUNvbXBvbmVudCh7XHJcbiAgICAgICAgX19hc3luY0xvYWRlcjogbG9hZCxcclxuICAgICAgICBuYW1lOiAnQXN5bmNDb21wb25lbnRXcmFwcGVyJyxcclxuICAgICAgICBzZXR1cCgpIHtcclxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XHJcbiAgICAgICAgICAgIC8vIGFscmVhZHkgcmVzb2x2ZWRcclxuICAgICAgICAgICAgaWYgKHJlc29sdmVkQ29tcCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChyZXNvbHZlZENvbXAsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMTMgLyogQVNZTkNfQ09NUE9ORU5UX0xPQURFUiAqLywgIWVycm9yQ29tcG9uZW50IC8qIGRvIG5vdCB0aHJvdyBpbiBkZXYgaWYgdXNlciBwcm92aWRlZCBlcnJvciBjb21wb25lbnQgKi8pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBzdXNwZW5zZS1jb250cm9sbGVkIG9yIFNTUi5cclxuICAgICAgICAgICAgaWYgKCggc3VzcGVuc2libGUgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpIHx8XHJcbiAgICAgICAgICAgICAgICAoZmFsc2UgKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvYWQoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGNvbXAgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBjcmVhdGVJbm5lckNvbXAoY29tcCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGVycm9yQ29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbG9hZGVkID0gcmVmKGZhbHNlKTtcclxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSByZWYoKTtcclxuICAgICAgICAgICAgY29uc3QgZGVsYXllZCA9IHJlZighIWRlbGF5KTtcclxuICAgICAgICAgICAgaWYgKGRlbGF5KSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxheWVkLnZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LCBkZWxheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2FkZWQudmFsdWUgJiYgIWVycm9yLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgQXN5bmMgY29tcG9uZW50IHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXR9bXMuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsb2FkZWQudmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobG9hZGVkLnZhbHVlICYmIHJlc29sdmVkQ29tcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlcnJvci52YWx1ZSAmJiBlcnJvckNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IudmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxvYWRpbmdDb21wb25lbnQgJiYgIWRlbGF5ZWQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUobG9hZGluZ0NvbXBvbmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlSW5uZXJDb21wKGNvbXAsIHsgdm5vZGU6IHsgcHJvcHMsIGNoaWxkcmVuIH0gfSkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKGNvbXAsIHByb3BzLCBjaGlsZHJlbik7XHJcbn1cblxuLy8gQWN0dWFsIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIGgodHlwZSwgcHJvcHNPckNoaWxkcmVuLCBjaGlsZHJlbikge1xyXG4gICAgY29uc3QgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcbiAgICBpZiAobCA9PT0gMikge1xyXG4gICAgICAgIGlmIChpc09iamVjdChwcm9wc09yQ2hpbGRyZW4pICYmICFpc0FycmF5KHByb3BzT3JDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgLy8gc2luZ2xlIHZub2RlIHdpdGhvdXQgcHJvcHNcclxuICAgICAgICAgICAgaWYgKGlzVk5vZGUocHJvcHNPckNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIFtwcm9wc09yQ2hpbGRyZW5dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBwcm9wcyB3aXRob3V0IGNoaWxkcmVuXHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gb21pdCBwcm9wc1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgbnVsbCwgcHJvcHNPckNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAobCA+IDMpIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChsID09PSAzICYmIGlzVk5vZGUoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gW2NoaWxkcmVuXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzT3JDaGlsZHJlbiwgY2hpbGRyZW4pO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IHNzckNvbnRleHRLZXkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYHNzckNvbnRleHRgIDogYGApO1xyXG5jb25zdCB1c2VTU1JDb250ZXh0ID0gKCkgPT4ge1xyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGN0eCA9IGluamVjdChzc3JDb250ZXh0S2V5KTtcclxuICAgICAgICBpZiAoIWN0eCkge1xyXG4gICAgICAgICAgICB3YXJuKGBTZXJ2ZXIgcmVuZGVyaW5nIGNvbnRleHQgbm90IHByb3ZpZGVkLiBNYWtlIHN1cmUgdG8gb25seSBjYWxsIGAgK1xyXG4gICAgICAgICAgICAgICAgYHVzZVNzckNvbnRleHQoKSBjb25kaXRpb25hbGx5IGluIHRoZSBzZXJ2ZXIgYnVpbGQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjdHg7XHJcbiAgICB9XHJcbn07XG5cbmZ1bmN0aW9uIGluaXRDdXN0b21Gb3JtYXR0ZXIoKSB7XHJcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAhdHJ1ZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHZ1ZVN0eWxlID0geyBzdHlsZTogJ2NvbG9yOiMzYmE3NzYnIH07XHJcbiAgICBjb25zdCBudW1iZXJTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojMGIxYmM5JyB9O1xyXG4gICAgY29uc3Qgc3RyaW5nU3R5bGUgPSB7IHN0eWxlOiAnY29sb3I6I2I2MmUyNCcgfTtcclxuICAgIGNvbnN0IGtleXdvcmRTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojOWQyODhjJyB9O1xyXG4gICAgLy8gY3VzdG9tIGZvcm1hdHRlciBmb3IgQ2hyb21lXHJcbiAgICAvLyBodHRwczovL3d3dy5tYXR0emV1bmVydC5jb20vMjAxNi8wMi8xOS9jdXN0b20tY2hyb21lLWRldnRvb2xzLW9iamVjdC1mb3JtYXR0ZXJzLmh0bWxcclxuICAgIGNvbnN0IGZvcm1hdHRlciA9IHtcclxuICAgICAgICBoZWFkZXIob2JqKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gYWxzbyBmb3JtYXQgQ29tcG9uZW50UHVibGljSW5zdGFuY2UgJiBjdHguc2xvdHMvYXR0cnMgaW4gc2V0dXBcclxuICAgICAgICAgICAgaWYgKCFpc09iamVjdChvYmopKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLl9faXNWdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbJ2RpdicsIHZ1ZVN0eWxlLCBgVnVlSW5zdGFuY2VgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlZihvYmopKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIFsnc3BhbicsIHZ1ZVN0eWxlLCBnZW5SZWZGbGFnKG9iaildLFxyXG4gICAgICAgICAgICAgICAgICAgICc8JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmoudmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGA+YFxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWN0aXZlKG9iaikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsICdSZWFjdGl2ZSddLFxyXG4gICAgICAgICAgICAgICAgICAgICc8JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxyXG4gICAgICAgICAgICAgICAgICAgIGA+JHtpc1JlYWRvbmx5KG9iaikgPyBgIChyZWFkb25seSlgIDogYGB9YFxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWRvbmx5KG9iaikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsICdSZWFkb25seSddLFxyXG4gICAgICAgICAgICAgICAgICAgICc8JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxyXG4gICAgICAgICAgICAgICAgICAgICc+J1xyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhhc0JvZHkob2JqKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9faXNWdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5KG9iaikge1xyXG4gICAgICAgICAgICBpZiAob2JqICYmIG9iai5fX2lzVnVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIC4uLmZvcm1hdEluc3RhbmNlKG9iai4kKVxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBmdW5jdGlvbiBmb3JtYXRJbnN0YW5jZShpbnN0YW5jZSkge1xyXG4gICAgICAgIGNvbnN0IGJsb2NrcyA9IFtdO1xyXG4gICAgICAgIGlmIChpbnN0YW5jZS50eXBlLnByb3BzICYmIGluc3RhbmNlLnByb3BzKSB7XHJcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ3Byb3BzJywgdG9SYXcoaW5zdGFuY2UucHJvcHMpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5zZXR1cFN0YXRlICE9PSBFTVBUWV9PQkopIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnc2V0dXAnLCBpbnN0YW5jZS5zZXR1cFN0YXRlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5kYXRhICE9PSBFTVBUWV9PQkopIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnZGF0YScsIHRvUmF3KGluc3RhbmNlLmRhdGEpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsICdjb21wdXRlZCcpO1xyXG4gICAgICAgIGlmIChjb21wdXRlZCkge1xyXG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdjb21wdXRlZCcsIGNvbXB1dGVkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGluamVjdGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsICdpbmplY3QnKTtcclxuICAgICAgICBpZiAoaW5qZWN0ZWQpIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnaW5qZWN0ZWQnLCBpbmplY3RlZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBibG9ja3MucHVzaChbXHJcbiAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiBrZXl3b3JkU3R5bGUuc3R5bGUgKyAnO29wYWNpdHk6MC42NidcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnJCAoaW50ZXJuYWwpOiAnXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIFsnb2JqZWN0JywgeyBvYmplY3Q6IGluc3RhbmNlIH1dXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgcmV0dXJuIGJsb2NrcztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlQmxvY2sodHlwZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgdGFyZ2V0ID0gZXh0ZW5kKHt9LCB0YXJnZXQpO1xyXG4gICAgICAgIGlmICghT2JqZWN0LmtleXModGFyZ2V0KS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHt9XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgIHsgc3R5bGU6ICdsaW5lLWhlaWdodDoxLjI1ZW07bWFyZ2luLWJvdHRvbTowLjZlbScgfSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdjb2xvcjojNDc2NTgyJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHR5cGVcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdwYWRkaW5nLWxlZnQ6MS4yNWVtJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKHRhcmdldCkubWFwKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCBrZXl3b3JkU3R5bGUsIGtleSArICc6ICddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZSh0YXJnZXRba2V5XSwgZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZm9ybWF0VmFsdWUodiwgYXNSYXcgPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywgbnVtYmVyU3R5bGUsIHZdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHN0cmluZ1N0eWxlLCBKU09OLnN0cmluZ2lmeSh2KV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIGtleXdvcmRTdHlsZSwgdl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHYpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ29iamVjdCcsIHsgb2JqZWN0OiBhc1JhdyA/IHRvUmF3KHYpIDogdiB9XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCBzdHJpbmdTdHlsZSwgU3RyaW5nKHYpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBleHRyYWN0S2V5cyhpbnN0YW5jZSwgdHlwZSkge1xyXG4gICAgICAgIGNvbnN0IENvbXAgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKENvbXApKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZXh0cmFjdGVkID0ge307XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UuY3R4KSB7XHJcbiAgICAgICAgICAgIGlmIChpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICBleHRyYWN0ZWRba2V5XSA9IGluc3RhbmNlLmN0eFtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBleHRyYWN0ZWQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpIHtcclxuICAgICAgICBjb25zdCBvcHRzID0gQ29tcFt0eXBlXTtcclxuICAgICAgICBpZiAoKGlzQXJyYXkob3B0cykgJiYgb3B0cy5pbmNsdWRlcyhrZXkpKSB8fFxyXG4gICAgICAgICAgICAoaXNPYmplY3Qob3B0cykgJiYga2V5IGluIG9wdHMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQ29tcC5leHRlbmRzICYmIGlzS2V5T2ZUeXBlKENvbXAuZXh0ZW5kcywga2V5LCB0eXBlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKENvbXAubWl4aW5zICYmIENvbXAubWl4aW5zLnNvbWUobSA9PiBpc0tleU9mVHlwZShtLCBrZXksIHR5cGUpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZW5SZWZGbGFnKHYpIHtcclxuICAgICAgICBpZiAodi5fc2hhbGxvdykge1xyXG4gICAgICAgICAgICByZXR1cm4gYFNoYWxsb3dSZWZgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodi5lZmZlY3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGBDb21wdXRlZFJlZmA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgUmVmYDtcclxuICAgIH1cclxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xyXG4gICAgaWYgKHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMpIHtcclxuICAgICAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzLnB1c2goZm9ybWF0dGVyKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMgPSBbZm9ybWF0dGVyXTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogQWN0dWFsIGltcGxlbWVudGF0aW9uXHJcbiAqL1xyXG5mdW5jdGlvbiByZW5kZXJMaXN0KHNvdXJjZSwgcmVuZGVySXRlbSkge1xyXG4gICAgbGV0IHJldDtcclxuICAgIGlmIChpc0FycmF5KHNvdXJjZSkgfHwgaXNTdHJpbmcoc291cmNlKSkge1xyXG4gICAgICAgIHJldCA9IG5ldyBBcnJheShzb3VyY2UubGVuZ3RoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHNvdXJjZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShzb3VyY2VbaV0sIGkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhTnVtYmVyLmlzSW50ZWdlcihzb3VyY2UpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYFRoZSB2LWZvciByYW5nZSBleHBlY3QgYW4gaW50ZWdlciB2YWx1ZSBidXQgZ290ICR7c291cmNlfS5gKTtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oaSArIDEsIGkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcclxuICAgICAgICBpZiAoc291cmNlW1N5bWJvbC5pdGVyYXRvcl0pIHtcclxuICAgICAgICAgICAgcmV0ID0gQXJyYXkuZnJvbShzb3VyY2UsIHJlbmRlckl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XHJcbiAgICAgICAgICAgIHJldCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgICAgICByZXRbaV0gPSByZW5kZXJJdGVtKHNvdXJjZVtrZXldLCBrZXksIGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0ID0gW107XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XG5cbi8qKlxyXG4gKiBGb3IgcHJlZml4aW5nIGtleXMgaW4gdi1vbj1cIm9ialwiIHdpdGggXCJvblwiXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiB0b0hhbmRsZXJzKG9iaikge1xyXG4gICAgY29uc3QgcmV0ID0ge307XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc09iamVjdChvYmopKSB7XHJcbiAgICAgICAgd2Fybihgdi1vbiB3aXRoIG5vIGFyZ3VtZW50IGV4cGVjdHMgYW4gb2JqZWN0IHZhbHVlLmApO1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcclxuICAgICAgICByZXRbdG9IYW5kbGVyS2V5KGtleSldID0gb2JqW2tleV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XG5cbi8qKlxyXG4gKiBDb21waWxlciBydW50aW1lIGhlbHBlciBmb3IgY3JlYXRpbmcgZHluYW1pYyBzbG90cyBvYmplY3RcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVNsb3RzKHNsb3RzLCBkeW5hbWljU2xvdHMpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Nsb3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgc2xvdCA9IGR5bmFtaWNTbG90c1tpXTtcclxuICAgICAgICAvLyBhcnJheSBvZiBkeW5hbWljIHNsb3QgZ2VuZXJhdGVkIGJ5IDx0ZW1wbGF0ZSB2LWZvcj1cIi4uLlwiICNbLi4uXT5cclxuICAgICAgICBpZiAoaXNBcnJheShzbG90KSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNsb3QubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHNsb3RzW3Nsb3Rbal0ubmFtZV0gPSBzbG90W2pdLmZuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHNsb3QpIHtcclxuICAgICAgICAgICAgLy8gY29uZGl0aW9uYWwgc2luZ2xlIHNsb3QgZ2VuZXJhdGVkIGJ5IDx0ZW1wbGF0ZSB2LWlmPVwiLi4uXCIgI2Zvbz5cclxuICAgICAgICAgICAgc2xvdHNbc2xvdC5uYW1lXSA9IHNsb3QuZm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNsb3RzO1xyXG59XG5cbi8vIENvcmUgQVBJIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5jb25zdCB2ZXJzaW9uID0gXCIzLjAuMlwiO1xyXG4vKipcclxuICogU1NSIHV0aWxzIGZvciBcXEB2dWUvc2VydmVyLXJlbmRlcmVyLiBPbmx5IGV4cG9zZWQgaW4gY2pzIGJ1aWxkcy5cclxuICogQGludGVybmFsXHJcbiAqL1xyXG5jb25zdCBzc3JVdGlscyA9ICggbnVsbCk7XG5cbmV4cG9ydCB7IEJhc2VUcmFuc2l0aW9uLCBDb21tZW50LCBGcmFnbWVudCwgS2VlcEFsaXZlLCBTdGF0aWMsIFN1c3BlbnNlLCBUZWxlcG9ydCwgVGV4dCwgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsIGNhbGxXaXRoRXJyb3JIYW5kbGluZywgY2xvbmVWTm9kZSwgY29tcHV0ZWQsIGNyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLCBjcmVhdGVSZW5kZXJlciwgY3JlYXRlU2xvdHMsIGNyZWF0ZVN0YXRpY1ZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUsIGNyZWF0ZVZOb2RlLCBkZWZpbmVBc3luY0NvbXBvbmVudCwgZGVmaW5lQ29tcG9uZW50LCBkZXZ0b29scywgZ2V0Q3VycmVudEluc3RhbmNlLCBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4sIGgsIGhhbmRsZUVycm9yLCBpbml0Q3VzdG9tRm9ybWF0dGVyLCBpbmplY3QsIGlzVk5vZGUsIG1lcmdlUHJvcHMsIG5leHRUaWNrLCBvbkFjdGl2YXRlZCwgb25CZWZvcmVNb3VudCwgb25CZWZvcmVVbm1vdW50LCBvbkJlZm9yZVVwZGF0ZSwgb25EZWFjdGl2YXRlZCwgb25FcnJvckNhcHR1cmVkLCBvbk1vdW50ZWQsIG9uUmVuZGVyVHJhY2tlZCwgb25SZW5kZXJUcmlnZ2VyZWQsIG9uVW5tb3VudGVkLCBvblVwZGF0ZWQsIG9wZW5CbG9jaywgcG9wU2NvcGVJZCwgcHJvdmlkZSwgcHVzaFNjb3BlSWQsIHF1ZXVlUG9zdEZsdXNoQ2IsIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyLCByZW5kZXJMaXN0LCByZW5kZXJTbG90LCByZXNvbHZlQ29tcG9uZW50LCByZXNvbHZlRGlyZWN0aXZlLCByZXNvbHZlRHluYW1pY0NvbXBvbmVudCwgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcywgc2V0QmxvY2tUcmFja2luZywgc2V0RGV2dG9vbHNIb29rLCBzZXRUcmFuc2l0aW9uSG9va3MsIHNzckNvbnRleHRLZXksIHNzclV0aWxzLCB0b0hhbmRsZXJzLCB0cmFuc2Zvcm1WTm9kZUFyZ3MsIHVzZVNTUkNvbnRleHQsIHVzZVRyYW5zaXRpb25TdGF0ZSwgdmVyc2lvbiwgd2Fybiwgd2F0Y2gsIHdhdGNoRWZmZWN0LCB3aXRoQ3R4LCB3aXRoRGlyZWN0aXZlcywgd2l0aFNjb3BlSWQgfTtcbiIsImltcG9ydCB7IGNhbWVsaXplLCB3YXJuLCBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZywgZ2V0Q3VycmVudEluc3RhbmNlLCBvbk1vdW50ZWQsIHdhdGNoRWZmZWN0LCBvblVwZGF0ZWQsIHVucmVmLCBGcmFnbWVudCwgaCwgQmFzZVRyYW5zaXRpb24sIHVzZVRyYW5zaXRpb25TdGF0ZSwgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLCBzZXRUcmFuc2l0aW9uSG9va3MsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MsIGNyZWF0ZVZOb2RlLCBjcmVhdGVSZW5kZXJlciwgY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIgfSBmcm9tICdAdnVlL3J1bnRpbWUtY29yZSc7XG5leHBvcnQgKiBmcm9tICdAdnVlL3J1bnRpbWUtY29yZSc7XG5pbXBvcnQgeyBpc1N0cmluZywgaXNBcnJheSwgaHlwaGVuYXRlLCBjYXBpdGFsaXplLCBpc1NwZWNpYWxCb29sZWFuQXR0ciwgaXNPbiwgaXNNb2RlbExpc3RlbmVyLCBpc0Z1bmN0aW9uLCBFTVBUWV9PQkosIGV4dGVuZCwgaXNPYmplY3QsIHRvTnVtYmVyLCBpbnZva2VBcnJheUZucywgbG9vc2VJbmRleE9mLCBpc1NldCwgbG9vc2VFcXVhbCwgaXNIVE1MVGFnLCBpc1NWR1RhZyB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3Qgc3ZnTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xyXG5jb25zdCBkb2MgPSAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDogbnVsbCk7XHJcbmxldCB0ZW1wQ29udGFpbmVyO1xyXG5sZXQgdGVtcFNWR0NvbnRhaW5lcjtcclxuY29uc3Qgbm9kZU9wcyA9IHtcclxuICAgIGluc2VydDogKGNoaWxkLCBwYXJlbnQsIGFuY2hvcikgPT4ge1xyXG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGFuY2hvciB8fCBudWxsKTtcclxuICAgIH0sXHJcbiAgICByZW1vdmU6IGNoaWxkID0+IHtcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSBjaGlsZC5wYXJlbnROb2RlO1xyXG4gICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY3JlYXRlRWxlbWVudDogKHRhZywgaXNTVkcsIGlzKSA9PiBpc1NWR1xyXG4gICAgICAgID8gZG9jLmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgdGFnKVxyXG4gICAgICAgIDogZG9jLmNyZWF0ZUVsZW1lbnQodGFnLCBpcyA/IHsgaXMgfSA6IHVuZGVmaW5lZCksXHJcbiAgICBjcmVhdGVUZXh0OiB0ZXh0ID0+IGRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSxcclxuICAgIGNyZWF0ZUNvbW1lbnQ6IHRleHQgPT4gZG9jLmNyZWF0ZUNvbW1lbnQodGV4dCksXHJcbiAgICBzZXRUZXh0OiAobm9kZSwgdGV4dCkgPT4ge1xyXG4gICAgICAgIG5vZGUubm9kZVZhbHVlID0gdGV4dDtcclxuICAgIH0sXHJcbiAgICBzZXRFbGVtZW50VGV4dDogKGVsLCB0ZXh0KSA9PiB7XHJcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgfSxcclxuICAgIHBhcmVudE5vZGU6IG5vZGUgPT4gbm9kZS5wYXJlbnROb2RlLFxyXG4gICAgbmV4dFNpYmxpbmc6IG5vZGUgPT4gbm9kZS5uZXh0U2libGluZyxcclxuICAgIHF1ZXJ5U2VsZWN0b3I6IHNlbGVjdG9yID0+IGRvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSxcclxuICAgIHNldFNjb3BlSWQoZWwsIGlkKSB7XHJcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKGlkLCAnJyk7XHJcbiAgICB9LFxyXG4gICAgY2xvbmVOb2RlKGVsKSB7XHJcbiAgICAgICAgcmV0dXJuIGVsLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIH0sXHJcbiAgICAvLyBfX1VOU0FGRV9fXHJcbiAgICAvLyBSZWFzb246IGlubmVySFRNTC5cclxuICAgIC8vIFN0YXRpYyBjb250ZW50IGhlcmUgY2FuIG9ubHkgY29tZSBmcm9tIGNvbXBpbGVkIHRlbXBsYXRlcy5cclxuICAgIC8vIEFzIGxvbmcgYXMgdGhlIHVzZXIgb25seSB1c2VzIHRydXN0ZWQgdGVtcGxhdGVzLCB0aGlzIGlzIHNhZmUuXHJcbiAgICBpbnNlcnRTdGF0aWNDb250ZW50KGNvbnRlbnQsIHBhcmVudCwgYW5jaG9yLCBpc1NWRykge1xyXG4gICAgICAgIGNvbnN0IHRlbXAgPSBpc1NWR1xyXG4gICAgICAgICAgICA/IHRlbXBTVkdDb250YWluZXIgfHxcclxuICAgICAgICAgICAgICAgICh0ZW1wU1ZHQ29udGFpbmVyID0gZG9jLmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgJ3N2ZycpKVxyXG4gICAgICAgICAgICA6IHRlbXBDb250YWluZXIgfHwgKHRlbXBDb250YWluZXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xyXG4gICAgICAgIHRlbXAuaW5uZXJIVE1MID0gY29udGVudDtcclxuICAgICAgICBjb25zdCBmaXJzdCA9IHRlbXAuZmlyc3RDaGlsZDtcclxuICAgICAgICBsZXQgbm9kZSA9IGZpcnN0O1xyXG4gICAgICAgIGxldCBsYXN0ID0gbm9kZTtcclxuICAgICAgICB3aGlsZSAobm9kZSkge1xyXG4gICAgICAgICAgICBsYXN0ID0gbm9kZTtcclxuICAgICAgICAgICAgbm9kZU9wcy5pbnNlcnQobm9kZSwgcGFyZW50LCBhbmNob3IpO1xyXG4gICAgICAgICAgICBub2RlID0gdGVtcC5maXJzdENoaWxkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW2ZpcnN0LCBsYXN0XTtcclxuICAgIH1cclxufTtcblxuLy8gY29tcGlsZXIgc2hvdWxkIG5vcm1hbGl6ZSBjbGFzcyArIDpjbGFzcyBiaW5kaW5ncyBvbiB0aGUgc2FtZSBlbGVtZW50XHJcbi8vIGludG8gYSBzaW5nbGUgYmluZGluZyBbJ3N0YXRpY0NsYXNzJywgZHluYW1pY11cclxuZnVuY3Rpb24gcGF0Y2hDbGFzcyhlbCwgdmFsdWUsIGlzU1ZHKSB7XHJcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgIHZhbHVlID0gJyc7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNTVkcpIHtcclxuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gZGlyZWN0bHkgc2V0dGluZyBjbGFzc05hbWUgc2hvdWxkIGJlIGZhc3RlciB0aGFuIHNldEF0dHJpYnV0ZSBpbiB0aGVvcnlcclxuICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGVsZW1lbnQgZHVyaW5nIGEgdHJhbnNpdGlvbiwgdGFrZSB0aGUgdGVtcG9yYXJ5IHRyYW5zaXRpb25cclxuICAgICAgICAvLyBjbGFzc2VzIGludG8gYWNjb3VudC5cclxuICAgICAgICBjb25zdCB0cmFuc2l0aW9uQ2xhc3NlcyA9IGVsLl92dGM7XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb25DbGFzc2VzKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gKHZhbHVlXHJcbiAgICAgICAgICAgICAgICA/IFt2YWx1ZSwgLi4udHJhbnNpdGlvbkNsYXNzZXNdXHJcbiAgICAgICAgICAgICAgICA6IFsuLi50cmFuc2l0aW9uQ2xhc3Nlc10pLmpvaW4oJyAnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gdmFsdWU7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gcGF0Y2hTdHlsZShlbCwgcHJldiwgbmV4dCkge1xyXG4gICAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcclxuICAgIGlmICghbmV4dCkge1xyXG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzU3RyaW5nKG5leHQpKSB7XHJcbiAgICAgICAgaWYgKHByZXYgIT09IG5leHQpIHtcclxuICAgICAgICAgICAgc3R5bGUuY3NzVGV4dCA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV4dCkge1xyXG4gICAgICAgICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBuZXh0W2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJldiAmJiAhaXNTdHJpbmcocHJldikpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJldikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRba2V5XSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgJycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IGltcG9ydGFudFJFID0gL1xccyohaW1wb3J0YW50JC87XHJcbmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2YWwpIHtcclxuICAgIGlmIChpc0FycmF5KHZhbCkpIHtcclxuICAgICAgICB2YWwuZm9yRWFjaCh2ID0+IHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2KSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAobmFtZS5zdGFydHNXaXRoKCctLScpKSB7XHJcbiAgICAgICAgICAgIC8vIGN1c3RvbSBwcm9wZXJ0eSBkZWZpbml0aW9uXHJcbiAgICAgICAgICAgIHN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBwcmVmaXhlZCA9IGF1dG9QcmVmaXgoc3R5bGUsIG5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoaW1wb3J0YW50UkUudGVzdCh2YWwpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAhaW1wb3J0YW50XHJcbiAgICAgICAgICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShoeXBoZW5hdGUocHJlZml4ZWQpLCB2YWwucmVwbGFjZShpbXBvcnRhbnRSRSwgJycpLCAnaW1wb3J0YW50Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZVtwcmVmaXhlZF0gPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3QgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdNb3onLCAnbXMnXTtcclxuY29uc3QgcHJlZml4Q2FjaGUgPSB7fTtcclxuZnVuY3Rpb24gYXV0b1ByZWZpeChzdHlsZSwgcmF3TmFtZSkge1xyXG4gICAgY29uc3QgY2FjaGVkID0gcHJlZml4Q2FjaGVbcmF3TmFtZV07XHJcbiAgICBpZiAoY2FjaGVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGNhY2hlZDtcclxuICAgIH1cclxuICAgIGxldCBuYW1lID0gY2FtZWxpemUocmF3TmFtZSk7XHJcbiAgICBpZiAobmFtZSAhPT0gJ2ZpbHRlcicgJiYgbmFtZSBpbiBzdHlsZSkge1xyXG4gICAgICAgIHJldHVybiAocHJlZml4Q2FjaGVbcmF3TmFtZV0gPSBuYW1lKTtcclxuICAgIH1cclxuICAgIG5hbWUgPSBjYXBpdGFsaXplKG5hbWUpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHByZWZpeGVkID0gcHJlZml4ZXNbaV0gKyBuYW1lO1xyXG4gICAgICAgIGlmIChwcmVmaXhlZCBpbiBzdHlsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHByZWZpeENhY2hlW3Jhd05hbWVdID0gcHJlZml4ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByYXdOYW1lO1xyXG59XG5cbmNvbnN0IHhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XHJcbmZ1bmN0aW9uIHBhdGNoQXR0cihlbCwga2V5LCB2YWx1ZSwgaXNTVkcpIHtcclxuICAgIGlmIChpc1NWRyAmJiBrZXkuc3RhcnRzV2l0aCgneGxpbms6JykpIHtcclxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXkuc2xpY2UoNiwga2V5Lmxlbmd0aCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmtOUywga2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gbm90ZSB3ZSBhcmUgb25seSBjaGVja2luZyBib29sZWFuIGF0dHJpYnV0ZXMgdGhhdCBkb24ndCBoYXZlIGFcclxuICAgICAgICAvLyBjb3JyZXNwb25kaW5nIGRvbSBwcm9wIG9mIHRoZSBzYW1lIG5hbWUgaGVyZS5cclxuICAgICAgICBjb25zdCBpc0Jvb2xlYW4gPSBpc1NwZWNpYWxCb29sZWFuQXR0cihrZXkpO1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IChpc0Jvb2xlYW4gJiYgdmFsdWUgPT09IGZhbHNlKSkge1xyXG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGlzQm9vbGVhbiA/ICcnIDogdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vLyBfX1VOU0FGRV9fXHJcbi8vIGZ1bmN0aW9ucy4gVGhlIHVzZXIgaXMgcmVzcG9uc2libGUgZm9yIHVzaW5nIHRoZW0gd2l0aCBvbmx5IHRydXN0ZWQgY29udGVudC5cclxuZnVuY3Rpb24gcGF0Y2hET01Qcm9wKGVsLCBrZXksIHZhbHVlLCBcclxuLy8gdGhlIGZvbGxvd2luZyBhcmdzIGFyZSBwYXNzZWQgb25seSBkdWUgdG8gcG90ZW50aWFsIGlubmVySFRNTC90ZXh0Q29udGVudFxyXG4vLyBvdmVycmlkaW5nIGV4aXN0aW5nIFZOb2RlcywgaW4gd2hpY2ggY2FzZSB0aGUgb2xkIHRyZWUgbXVzdCBiZSBwcm9wZXJseVxyXG4vLyB1bm1vdW50ZWQuXHJcbnByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKSB7XHJcbiAgICBpZiAoa2V5ID09PSAnaW5uZXJIVE1MJyB8fCBrZXkgPT09ICd0ZXh0Q29udGVudCcpIHtcclxuICAgICAgICBpZiAocHJldkNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbFtrZXldID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGtleSA9PT0gJ3ZhbHVlJyAmJiBlbC50YWdOYW1lICE9PSAnUFJPR1JFU1MnKSB7XHJcbiAgICAgICAgLy8gc3RvcmUgdmFsdWUgYXMgX3ZhbHVlIGFzIHdlbGwgc2luY2VcclxuICAgICAgICAvLyBub24tc3RyaW5nIHZhbHVlcyB3aWxsIGJlIHN0cmluZ2lmaWVkLlxyXG4gICAgICAgIGVsLl92YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XHJcbiAgICAgICAgaWYgKGVsLnZhbHVlICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUgPT09ICcnICYmIHR5cGVvZiBlbFtrZXldID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAvLyBlLmcuIDxzZWxlY3QgbXVsdGlwbGU+IGNvbXBpbGVzIHRvIHsgbXVsdGlwbGU6ICcnIH1cclxuICAgICAgICBlbFtrZXldID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHZhbHVlID09IG51bGwgJiYgdHlwZW9mIGVsW2tleV0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgLy8gZS5nLiA8ZGl2IDppZD1cIm51bGxcIj5cclxuICAgICAgICBlbFtrZXldID0gJyc7XHJcbiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBzb21lIHByb3BlcnRpZXMgcGVyZm9ybSB2YWx1ZSB2YWxpZGF0aW9uIGFuZCB0aHJvd1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGVsW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgRmFpbGVkIHNldHRpbmcgcHJvcCBcIiR7a2V5fVwiIG9uIDwke2VsLnRhZ05hbWUudG9Mb3dlckNhc2UoKX0+OiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgdmFsdWUgJHt2YWx1ZX0gaXMgaW52YWxpZC5gLCBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vLyBBc3luYyBlZGdlIGNhc2UgZml4IHJlcXVpcmVzIHN0b3JpbmcgYW4gZXZlbnQgbGlzdGVuZXIncyBhdHRhY2ggdGltZXN0YW1wLlxyXG5sZXQgX2dldE5vdyA9IERhdGUubm93O1xyXG4vLyBEZXRlcm1pbmUgd2hhdCBldmVudCB0aW1lc3RhbXAgdGhlIGJyb3dzZXIgaXMgdXNpbmcuIEFubm95aW5nbHksIHRoZVxyXG4vLyB0aW1lc3RhbXAgY2FuIGVpdGhlciBiZSBoaS1yZXMgKHJlbGF0aXZlIHRvIHBhZ2UgbG9hZCkgb3IgbG93LXJlc1xyXG4vLyAocmVsYXRpdmUgdG8gVU5JWCBlcG9jaCksIHNvIGluIG9yZGVyIHRvIGNvbXBhcmUgdGltZSB3ZSBoYXZlIHRvIHVzZSB0aGVcclxuLy8gc2FtZSB0aW1lc3RhbXAgdHlwZSB3aGVuIHNhdmluZyB0aGUgZmx1c2ggdGltZXN0YW1wLlxyXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgX2dldE5vdygpID4gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50JykudGltZVN0YW1wKSB7XHJcbiAgICAvLyBpZiB0aGUgbG93LXJlcyB0aW1lc3RhbXAgd2hpY2ggaXMgYmlnZ2VyIHRoYW4gdGhlIGV2ZW50IHRpbWVzdGFtcFxyXG4gICAgLy8gKHdoaWNoIGlzIGV2YWx1YXRlZCBBRlRFUikgaXQgbWVhbnMgdGhlIGV2ZW50IGlzIHVzaW5nIGEgaGktcmVzIHRpbWVzdGFtcCxcclxuICAgIC8vIGFuZCB3ZSBuZWVkIHRvIHVzZSB0aGUgaGktcmVzIHZlcnNpb24gZm9yIGV2ZW50IGxpc3RlbmVycyBhcyB3ZWxsLlxyXG4gICAgX2dldE5vdyA9ICgpID0+IHBlcmZvcm1hbmNlLm5vdygpO1xyXG59XHJcbi8vIFRvIGF2b2lkIHRoZSBvdmVyaGVhZCBvZiByZXBlYXRlZGx5IGNhbGxpbmcgcGVyZm9ybWFuY2Uubm93KCksIHdlIGNhY2hlXHJcbi8vIGFuZCB1c2UgdGhlIHNhbWUgdGltZXN0YW1wIGZvciBhbGwgZXZlbnQgbGlzdGVuZXJzIGF0dGFjaGVkIGluIHRoZSBzYW1lIHRpY2suXHJcbmxldCBjYWNoZWROb3cgPSAwO1xyXG5jb25zdCBwID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbmNvbnN0IHJlc2V0ID0gKCkgPT4ge1xyXG4gICAgY2FjaGVkTm93ID0gMDtcclxufTtcclxuY29uc3QgZ2V0Tm93ID0gKCkgPT4gY2FjaGVkTm93IHx8IChwLnRoZW4ocmVzZXQpLCAoY2FjaGVkTm93ID0gX2dldE5vdygpKSk7XHJcbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xyXG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XHJcbn1cclxuZnVuY3Rpb24gcGF0Y2hFdmVudChlbCwgcmF3TmFtZSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIGluc3RhbmNlID0gbnVsbCkge1xyXG4gICAgLy8gdmVpID0gdnVlIGV2ZW50IGludm9rZXJzXHJcbiAgICBjb25zdCBpbnZva2VycyA9IGVsLl92ZWkgfHwgKGVsLl92ZWkgPSB7fSk7XHJcbiAgICBjb25zdCBleGlzdGluZ0ludm9rZXIgPSBpbnZva2Vyc1tyYXdOYW1lXTtcclxuICAgIGlmIChuZXh0VmFsdWUgJiYgZXhpc3RpbmdJbnZva2VyKSB7XHJcbiAgICAgICAgLy8gcGF0Y2hcclxuICAgICAgICBleGlzdGluZ0ludm9rZXIudmFsdWUgPSBuZXh0VmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBbbmFtZSwgb3B0aW9uc10gPSBwYXJzZU5hbWUocmF3TmFtZSk7XHJcbiAgICAgICAgaWYgKG5leHRWYWx1ZSkge1xyXG4gICAgICAgICAgICAvLyBhZGRcclxuICAgICAgICAgICAgY29uc3QgaW52b2tlciA9IChpbnZva2Vyc1tyYXdOYW1lXSA9IGNyZWF0ZUludm9rZXIobmV4dFZhbHVlLCBpbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBpbnZva2VyLCBvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZXhpc3RpbmdJbnZva2VyKSB7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZVxyXG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBleGlzdGluZ0ludm9rZXIsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICBpbnZva2Vyc1tyYXdOYW1lXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3Qgb3B0aW9uc01vZGlmaWVyUkUgPSAvKD86T25jZXxQYXNzaXZlfENhcHR1cmUpJC87XHJcbmZ1bmN0aW9uIHBhcnNlTmFtZShuYW1lKSB7XHJcbiAgICBsZXQgb3B0aW9ucztcclxuICAgIGlmIChvcHRpb25zTW9kaWZpZXJSRS50ZXN0KG5hbWUpKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xyXG4gICAgICAgIGxldCBtO1xyXG4gICAgICAgIHdoaWxlICgobSA9IG5hbWUubWF0Y2gob3B0aW9uc01vZGlmaWVyUkUpKSkge1xyXG4gICAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgwLCBuYW1lLmxlbmd0aCAtIG1bMF0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgb3B0aW9uc1ttWzBdLnRvTG93ZXJDYXNlKCldID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW25hbWUuc2xpY2UoMikudG9Mb3dlckNhc2UoKSwgb3B0aW9uc107XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlSW52b2tlcihpbml0aWFsVmFsdWUsIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBpbnZva2VyID0gKGUpID0+IHtcclxuICAgICAgICAvLyBhc3luYyBlZGdlIGNhc2UgIzY1NjY6IGlubmVyIGNsaWNrIGV2ZW50IHRyaWdnZXJzIHBhdGNoLCBldmVudCBoYW5kbGVyXHJcbiAgICAgICAgLy8gYXR0YWNoZWQgdG8gb3V0ZXIgZWxlbWVudCBkdXJpbmcgcGF0Y2gsIGFuZCB0cmlnZ2VyZWQgYWdhaW4uIFRoaXNcclxuICAgICAgICAvLyBoYXBwZW5zIGJlY2F1c2UgYnJvd3NlcnMgZmlyZSBtaWNyb3Rhc2sgdGlja3MgYmV0d2VlbiBldmVudCBwcm9wYWdhdGlvbi5cclxuICAgICAgICAvLyB0aGUgc29sdXRpb24gaXMgc2ltcGxlOiB3ZSBzYXZlIHRoZSB0aW1lc3RhbXAgd2hlbiBhIGhhbmRsZXIgaXMgYXR0YWNoZWQsXHJcbiAgICAgICAgLy8gYW5kIHRoZSBoYW5kbGVyIHdvdWxkIG9ubHkgZmlyZSBpZiB0aGUgZXZlbnQgcGFzc2VkIHRvIGl0IHdhcyBmaXJlZFxyXG4gICAgICAgIC8vIEFGVEVSIGl0IHdhcyBhdHRhY2hlZC5cclxuICAgICAgICBjb25zdCB0aW1lU3RhbXAgPSBlLnRpbWVTdGFtcCB8fCBfZ2V0Tm93KCk7XHJcbiAgICAgICAgaWYgKHRpbWVTdGFtcCA+PSBpbnZva2VyLmF0dGFjaGVkIC0gMSkge1xyXG4gICAgICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbihlLCBpbnZva2VyLnZhbHVlKSwgaW5zdGFuY2UsIDUgLyogTkFUSVZFX0VWRU5UX0hBTkRMRVIgKi8sIFtlXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGludm9rZXIudmFsdWUgPSBpbml0aWFsVmFsdWU7XHJcbiAgICBpbnZva2VyLmF0dGFjaGVkID0gZ2V0Tm93KCk7XHJcbiAgICByZXR1cm4gaW52b2tlcjtcclxufVxyXG5mdW5jdGlvbiBwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbihlLCB2YWx1ZSkge1xyXG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxTdG9wID0gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247XHJcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIG9yaWdpbmFsU3RvcC5jYWxsKGUpO1xyXG4gICAgICAgICAgICBlLl9zdG9wcGVkID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB2YWx1ZS5tYXAoZm4gPT4gKGUpID0+ICFlLl9zdG9wcGVkICYmIGZuKGUpKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxufVxuXG5jb25zdCBuYXRpdmVPblJFID0gL15vblthLXpdLztcclxuY29uc3QgZm9yY2VQYXRjaFByb3AgPSAoXywga2V5KSA9PiBrZXkgPT09ICd2YWx1ZSc7XHJcbmNvbnN0IHBhdGNoUHJvcCA9IChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgaXNTVkcgPSBmYWxzZSwgcHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pID0+IHtcclxuICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgLy8gc3BlY2lhbFxyXG4gICAgICAgIGNhc2UgJ2NsYXNzJzpcclxuICAgICAgICAgICAgcGF0Y2hDbGFzcyhlbCwgbmV4dFZhbHVlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3N0eWxlJzpcclxuICAgICAgICAgICAgcGF0Y2hTdHlsZShlbCwgcHJldlZhbHVlLCBuZXh0VmFsdWUpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBpZiAoaXNPbihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZ25vcmUgdi1tb2RlbCBsaXN0ZW5lcnNcclxuICAgICAgICAgICAgICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaEV2ZW50KGVsLCBrZXksIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBwYXJlbnRDb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNob3VsZFNldEFzUHJvcChlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hET01Qcm9wKGVsLCBrZXksIG5leHRWYWx1ZSwgcHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciA8aW5wdXQgdi1tb2RlbCB0eXBlPVwiY2hlY2tib3hcIj4gd2l0aFxyXG4gICAgICAgICAgICAgICAgLy8gOnRydWUtdmFsdWUgJiA6ZmFsc2UtdmFsdWVcclxuICAgICAgICAgICAgICAgIC8vIHN0b3JlIHZhbHVlIGFzIGRvbSBwcm9wZXJ0aWVzIHNpbmNlIG5vbi1zdHJpbmcgdmFsdWVzIHdpbGwgYmVcclxuICAgICAgICAgICAgICAgIC8vIHN0cmluZ2lmaWVkLlxyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3RydWUtdmFsdWUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuX3RydWVWYWx1ZSA9IG5leHRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ2ZhbHNlLXZhbHVlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLl9mYWxzZVZhbHVlID0gbmV4dFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGF0Y2hBdHRyKGVsLCBrZXksIG5leHRWYWx1ZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgdmFsdWUsIGlzU1ZHKSB7XHJcbiAgICBpZiAoaXNTVkcpIHtcclxuICAgICAgICAvLyBtb3N0IGtleXMgbXVzdCBiZSBzZXQgYXMgYXR0cmlidXRlIG9uIHN2ZyBlbGVtZW50cyB0byB3b3JrXHJcbiAgICAgICAgLy8gLi4uZXhjZXB0IGlubmVySFRNTFxyXG4gICAgICAgIGlmIChrZXkgPT09ICdpbm5lckhUTUwnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBvciBuYXRpdmUgb25jbGljayB3aXRoIGZ1bmN0aW9uIHZhbHVlc1xyXG4gICAgICAgIGlmIChrZXkgaW4gZWwgJiYgbmF0aXZlT25SRS50ZXN0KGtleSkgJiYgaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIHNwZWxsY2hlY2sgYW5kIGRyYWdnYWJsZSBhcmUgbnVtZXJhdGVkIGF0dHJzLCBob3dldmVyIHRoZWlyXHJcbiAgICAvLyBjb3JyZXNwb25kaW5nIERPTSBwcm9wZXJ0aWVzIGFyZSBhY3R1YWxseSBib29sZWFucyAtIHRoaXMgbGVhZHMgdG9cclxuICAgIC8vIHNldHRpbmcgaXQgd2l0aCBhIHN0cmluZyBcImZhbHNlXCIgdmFsdWUgbGVhZGluZyBpdCB0byBiZSBjb2VyY2VkIHRvXHJcbiAgICAvLyBgdHJ1ZWAsIHNvIHdlIG5lZWQgdG8gYWx3YXlzIHRyZWF0IHRoZW0gYXMgYXR0cmlidXRlcy5cclxuICAgIC8vIE5vdGUgdGhhdCBgY29udGVudEVkaXRhYmxlYCBkb2Vzbid0IGhhdmUgdGhpcyBwcm9ibGVtOiBpdHMgRE9NXHJcbiAgICAvLyBwcm9wZXJ0eSBpcyBhbHNvIGVudW1lcmF0ZWQgc3RyaW5nIHZhbHVlcy5cclxuICAgIGlmIChrZXkgPT09ICdzcGVsbGNoZWNrJyB8fCBrZXkgPT09ICdkcmFnZ2FibGUnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gIzE3ODcgZm9ybSBhcyBhbiBhdHRyaWJ1dGUgbXVzdCBiZSBhIHN0cmluZywgd2hpbGUgaXQgYWNjZXB0cyBhbiBFbGVtZW50IGFzXHJcbiAgICAvLyBhIHByb3BcclxuICAgIGlmIChrZXkgPT09ICdmb3JtJyAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gIzE1MjYgPGlucHV0IGxpc3Q+IG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZVxyXG4gICAgaWYgKGtleSA9PT0gJ2xpc3QnICYmIGVsLnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBuYXRpdmUgb25jbGljayB3aXRoIHN0cmluZyB2YWx1ZSwgbXVzdCBiZSBzZXQgYXMgYXR0cmlidXRlXHJcbiAgICBpZiAobmF0aXZlT25SRS50ZXN0KGtleSkgJiYgaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGtleSBpbiBlbDtcclxufVxuXG5mdW5jdGlvbiB1c2VDc3NNb2R1bGUobmFtZSA9ICckc3R5bGUnKSB7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihgdXNlQ3NzTW9kdWxlIG11c3QgYmUgY2FsbGVkIGluc2lkZSBzZXR1cCgpYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBFTVBUWV9PQko7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1vZHVsZXMgPSBpbnN0YW5jZS50eXBlLl9fY3NzTW9kdWxlcztcclxuICAgICAgICBpZiAoIW1vZHVsZXMpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oYEN1cnJlbnQgaW5zdGFuY2UgZG9lcyBub3QgaGF2ZSBDU1MgbW9kdWxlcyBpbmplY3RlZC5gKTtcclxuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbW9kID0gbW9kdWxlc1tuYW1lXTtcclxuICAgICAgICBpZiAoIW1vZCkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oYEN1cnJlbnQgaW5zdGFuY2UgZG9lcyBub3QgaGF2ZSBDU1MgbW9kdWxlIG5hbWVkIFwiJHtuYW1lfVwiLmApO1xyXG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfT0JKO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbW9kO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIHVzZUNzc1ZhcnMoZ2V0dGVyLCBzY29wZWQgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIHdhcm4oYHVzZUNzc1ZhcnMgaXMgY2FsbGVkIHdpdGhvdXQgY3VycmVudCBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlLmApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHByZWZpeCA9IHNjb3BlZCAmJiBpbnN0YW5jZS50eXBlLl9fc2NvcGVJZFxyXG4gICAgICAgID8gYCR7aW5zdGFuY2UudHlwZS5fX3Njb3BlSWQucmVwbGFjZSgvXmRhdGEtdi0vLCAnJyl9LWBcclxuICAgICAgICA6IGBgO1xyXG4gICAgY29uc3Qgc2V0VmFycyA9ICgpID0+IHNldFZhcnNPblZOb2RlKGluc3RhbmNlLnN1YlRyZWUsIGdldHRlcihpbnN0YW5jZS5wcm94eSksIHByZWZpeCk7XHJcbiAgICBvbk1vdW50ZWQoKCkgPT4gd2F0Y2hFZmZlY3Qoc2V0VmFycykpO1xyXG4gICAgb25VcGRhdGVkKHNldFZhcnMpO1xyXG59XHJcbmZ1bmN0aW9uIHNldFZhcnNPblZOb2RlKHZub2RlLCB2YXJzLCBwcmVmaXgpIHtcclxuICAgIGlmICggdm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgY29uc3Qgc3VzcGVuc2UgPSB2bm9kZS5zdXNwZW5zZTtcclxuICAgICAgICB2bm9kZSA9IHN1c3BlbnNlLmFjdGl2ZUJyYW5jaDtcclxuICAgICAgICBpZiAoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCAmJiAhc3VzcGVuc2UuaXNIeWRyYXRpbmcpIHtcclxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldFZhcnNPblZOb2RlKHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgdmFycywgcHJlZml4KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gZHJpbGwgZG93biBIT0NzIHVudGlsIGl0J3MgYSBub24tY29tcG9uZW50IHZub2RlXHJcbiAgICB3aGlsZSAodm5vZGUuY29tcG9uZW50KSB7XHJcbiAgICAgICAgdm5vZGUgPSB2bm9kZS5jb21wb25lbnQuc3ViVHJlZTtcclxuICAgIH1cclxuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gJiYgdm5vZGUuZWwpIHtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHZub2RlLmVsLnN0eWxlO1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhcnMpIHtcclxuICAgICAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoYC0tJHtwcmVmaXh9JHtrZXl9YCwgdW5yZWYodmFyc1trZXldKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gRnJhZ21lbnQpIHtcclxuICAgICAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKGMgPT4gc2V0VmFyc09uVk5vZGUoYywgdmFycywgcHJlZml4KSk7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgVFJBTlNJVElPTiA9ICd0cmFuc2l0aW9uJztcclxuY29uc3QgQU5JTUFUSU9OID0gJ2FuaW1hdGlvbic7XHJcbi8vIERPTSBUcmFuc2l0aW9uIGlzIGEgaGlnaGVyLW9yZGVyLWNvbXBvbmVudCBiYXNlZCBvbiB0aGUgcGxhdGZvcm0tYWdub3N0aWNcclxuLy8gYmFzZSBUcmFuc2l0aW9uIGNvbXBvbmVudCwgd2l0aCBET00tc3BlY2lmaWMgbG9naWMuXHJcbmNvbnN0IFRyYW5zaXRpb24gPSAocHJvcHMsIHsgc2xvdHMgfSkgPT4gaChCYXNlVHJhbnNpdGlvbiwgcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhwcm9wcyksIHNsb3RzKTtcclxuVHJhbnNpdGlvbi5kaXNwbGF5TmFtZSA9ICdUcmFuc2l0aW9uJztcclxuY29uc3QgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IHtcclxuICAgIG5hbWU6IFN0cmluZyxcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGNzczoge1xyXG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgICAgZGVmYXVsdDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIGR1cmF0aW9uOiBbU3RyaW5nLCBOdW1iZXIsIE9iamVjdF0sXHJcbiAgICBlbnRlckZyb21DbGFzczogU3RyaW5nLFxyXG4gICAgZW50ZXJBY3RpdmVDbGFzczogU3RyaW5nLFxyXG4gICAgZW50ZXJUb0NsYXNzOiBTdHJpbmcsXHJcbiAgICBhcHBlYXJGcm9tQ2xhc3M6IFN0cmluZyxcclxuICAgIGFwcGVhckFjdGl2ZUNsYXNzOiBTdHJpbmcsXHJcbiAgICBhcHBlYXJUb0NsYXNzOiBTdHJpbmcsXHJcbiAgICBsZWF2ZUZyb21DbGFzczogU3RyaW5nLFxyXG4gICAgbGVhdmVBY3RpdmVDbGFzczogU3RyaW5nLFxyXG4gICAgbGVhdmVUb0NsYXNzOiBTdHJpbmdcclxufTtcclxuY29uc3QgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IChUcmFuc2l0aW9uLnByb3BzID0gLyojX19QVVJFX18qLyBleHRlbmQoe30sIEJhc2VUcmFuc2l0aW9uLnByb3BzLCBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzKSk7XHJcbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocmF3UHJvcHMpIHtcclxuICAgIGxldCB7IG5hbWUgPSAndicsIHR5cGUsIGNzcyA9IHRydWUsIGR1cmF0aW9uLCBlbnRlckZyb21DbGFzcyA9IGAke25hbWV9LWVudGVyLWZyb21gLCBlbnRlckFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tZW50ZXItYWN0aXZlYCwgZW50ZXJUb0NsYXNzID0gYCR7bmFtZX0tZW50ZXItdG9gLCBhcHBlYXJGcm9tQ2xhc3MgPSBlbnRlckZyb21DbGFzcywgYXBwZWFyQWN0aXZlQ2xhc3MgPSBlbnRlckFjdGl2ZUNsYXNzLCBhcHBlYXJUb0NsYXNzID0gZW50ZXJUb0NsYXNzLCBsZWF2ZUZyb21DbGFzcyA9IGAke25hbWV9LWxlYXZlLWZyb21gLCBsZWF2ZUFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tbGVhdmUtYWN0aXZlYCwgbGVhdmVUb0NsYXNzID0gYCR7bmFtZX0tbGVhdmUtdG9gIH0gPSByYXdQcm9wcztcclxuICAgIGNvbnN0IGJhc2VQcm9wcyA9IHt9O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3UHJvcHMpIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycykpIHtcclxuICAgICAgICAgICAgYmFzZVByb3BzW2tleV0gPSByYXdQcm9wc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghY3NzKSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2VQcm9wcztcclxuICAgIH1cclxuICAgIGNvbnN0IGR1cmF0aW9ucyA9IG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKTtcclxuICAgIGNvbnN0IGVudGVyRHVyYXRpb24gPSBkdXJhdGlvbnMgJiYgZHVyYXRpb25zWzBdO1xyXG4gICAgY29uc3QgbGVhdmVEdXJhdGlvbiA9IGR1cmF0aW9ucyAmJiBkdXJhdGlvbnNbMV07XHJcbiAgICBjb25zdCB7IG9uQmVmb3JlRW50ZXIsIG9uRW50ZXIsIG9uRW50ZXJDYW5jZWxsZWQsIG9uTGVhdmUsIG9uTGVhdmVDYW5jZWxsZWQsIG9uQmVmb3JlQXBwZWFyID0gb25CZWZvcmVFbnRlciwgb25BcHBlYXIgPSBvbkVudGVyLCBvbkFwcGVhckNhbmNlbGxlZCA9IG9uRW50ZXJDYW5jZWxsZWQgfSA9IGJhc2VQcm9wcztcclxuICAgIGNvbnN0IGZpbmlzaEVudGVyID0gKGVsLCBpc0FwcGVhciwgZG9uZSkgPT4ge1xyXG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJUb0NsYXNzIDogZW50ZXJUb0NsYXNzKTtcclxuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyQWN0aXZlQ2xhc3MgOiBlbnRlckFjdGl2ZUNsYXNzKTtcclxuICAgICAgICBkb25lICYmIGRvbmUoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBmaW5pc2hMZWF2ZSA9IChlbCwgZG9uZSkgPT4ge1xyXG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcclxuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIGRvbmUgJiYgZG9uZSgpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG1ha2VFbnRlckhvb2sgPSAoaXNBcHBlYXIpID0+IHtcclxuICAgICAgICByZXR1cm4gKGVsLCBkb25lKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhvb2sgPSBpc0FwcGVhciA/IG9uQXBwZWFyIDogb25FbnRlcjtcclxuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZSA9ICgpID0+IGZpbmlzaEVudGVyKGVsLCBpc0FwcGVhciwgZG9uZSk7XHJcbiAgICAgICAgICAgIGhvb2sgJiYgaG9vayhlbCwgcmVzb2x2ZSk7XHJcbiAgICAgICAgICAgIG5leHRGcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyRnJvbUNsYXNzIDogZW50ZXJGcm9tQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoaG9vayAmJiBob29rLmxlbmd0aCA+IDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudGVyRHVyYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCBlbnRlckR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgcmVzb2x2ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBleHRlbmQoYmFzZVByb3BzLCB7XHJcbiAgICAgICAgb25CZWZvcmVFbnRlcihlbCkge1xyXG4gICAgICAgICAgICBvbkJlZm9yZUVudGVyICYmIG9uQmVmb3JlRW50ZXIoZWwpO1xyXG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGVudGVyQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGVudGVyRnJvbUNsYXNzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQmVmb3JlQXBwZWFyKGVsKSB7XHJcbiAgICAgICAgICAgIG9uQmVmb3JlQXBwZWFyICYmIG9uQmVmb3JlQXBwZWFyKGVsKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhcHBlYXJBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYXBwZWFyRnJvbUNsYXNzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uRW50ZXI6IG1ha2VFbnRlckhvb2soZmFsc2UpLFxyXG4gICAgICAgIG9uQXBwZWFyOiBtYWtlRW50ZXJIb29rKHRydWUpLFxyXG4gICAgICAgIG9uTGVhdmUoZWwsIGRvbmUpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZSA9ICgpID0+IGZpbmlzaExlYXZlKGVsLCBkb25lKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XHJcbiAgICAgICAgICAgIG5leHRGcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlRnJvbUNsYXNzKTtcclxuICAgICAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcclxuICAgICAgICAgICAgICAgIGlmICghKG9uTGVhdmUgJiYgb25MZWF2ZS5sZW5ndGggPiAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWF2ZUR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgbGVhdmVEdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIHJlc29sdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG9uTGVhdmUgJiYgb25MZWF2ZShlbCwgcmVzb2x2ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkVudGVyQ2FuY2VsbGVkKGVsKSB7XHJcbiAgICAgICAgICAgIGZpbmlzaEVudGVyKGVsLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIG9uRW50ZXJDYW5jZWxsZWQgJiYgb25FbnRlckNhbmNlbGxlZChlbCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkFwcGVhckNhbmNlbGxlZChlbCkge1xyXG4gICAgICAgICAgICBmaW5pc2hFbnRlcihlbCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIG9uQXBwZWFyQ2FuY2VsbGVkICYmIG9uQXBwZWFyQ2FuY2VsbGVkKGVsKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uTGVhdmVDYW5jZWxsZWQoZWwpIHtcclxuICAgICAgICAgICAgZmluaXNoTGVhdmUoZWwpO1xyXG4gICAgICAgICAgICBvbkxlYXZlQ2FuY2VsbGVkICYmIG9uTGVhdmVDYW5jZWxsZWQoZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKSB7XHJcbiAgICBpZiAoZHVyYXRpb24gPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYmplY3QoZHVyYXRpb24pKSB7XHJcbiAgICAgICAgcmV0dXJuIFtOdW1iZXJPZihkdXJhdGlvbi5lbnRlciksIE51bWJlck9mKGR1cmF0aW9uLmxlYXZlKV07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBuID0gTnVtYmVyT2YoZHVyYXRpb24pO1xyXG4gICAgICAgIHJldHVybiBbbiwgbl07XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gTnVtYmVyT2YodmFsKSB7XHJcbiAgICBjb25zdCByZXMgPSB0b051bWJlcih2YWwpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSlcclxuICAgICAgICB2YWxpZGF0ZUR1cmF0aW9uKHJlcyk7XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbmZ1bmN0aW9uIHZhbGlkYXRlRHVyYXRpb24odmFsKSB7XHJcbiAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ251bWJlcicpIHtcclxuICAgICAgICB3YXJuKGA8dHJhbnNpdGlvbj4gZXhwbGljaXQgZHVyYXRpb24gaXMgbm90IGEgdmFsaWQgbnVtYmVyIC0gYCArXHJcbiAgICAgICAgICAgIGBnb3QgJHtKU09OLnN0cmluZ2lmeSh2YWwpfS5gKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzTmFOKHZhbCkpIHtcclxuICAgICAgICB3YXJuKGA8dHJhbnNpdGlvbj4gZXhwbGljaXQgZHVyYXRpb24gaXMgTmFOIC0gYCArXHJcbiAgICAgICAgICAgICd0aGUgZHVyYXRpb24gZXhwcmVzc2lvbiBtaWdodCBiZSBpbmNvcnJlY3QuJyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcclxuICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goYyA9PiBjICYmIGVsLmNsYXNzTGlzdC5hZGQoYykpO1xyXG4gICAgKGVsLl92dGMgfHxcclxuICAgICAgICAoZWwuX3Z0YyA9IG5ldyBTZXQoKSkpLmFkZChjbHMpO1xyXG59XHJcbmZ1bmN0aW9uIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgY2xzKSB7XHJcbiAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBlbC5jbGFzc0xpc3QucmVtb3ZlKGMpKTtcclxuICAgIGNvbnN0IHsgX3Z0YyB9ID0gZWw7XHJcbiAgICBpZiAoX3Z0Yykge1xyXG4gICAgICAgIF92dGMuZGVsZXRlKGNscyk7XHJcbiAgICAgICAgaWYgKCFfdnRjLnNpemUpIHtcclxuICAgICAgICAgICAgZWwuX3Z0YyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbmV4dEZyYW1lKGNiKSB7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIGV4cGVjdGVkVHlwZSwgY2IpIHtcclxuICAgIGNvbnN0IHsgdHlwZSwgdGltZW91dCwgcHJvcENvdW50IH0gPSBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKTtcclxuICAgIGlmICghdHlwZSkge1xyXG4gICAgICAgIHJldHVybiBjYigpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZW5kRXZlbnQgPSB0eXBlICsgJ2VuZCc7XHJcbiAgICBsZXQgZW5kZWQgPSAwO1xyXG4gICAgY29uc3QgZW5kID0gKCkgPT4ge1xyXG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcclxuICAgICAgICBjYigpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG9uRW5kID0gKGUpID0+IHtcclxuICAgICAgICBpZiAoZS50YXJnZXQgPT09IGVsKSB7XHJcbiAgICAgICAgICAgIGlmICgrK2VuZGVkID49IHByb3BDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgZW5kKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKGVuZGVkIDwgcHJvcENvdW50KSB7XHJcbiAgICAgICAgICAgIGVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHRpbWVvdXQgKyAxKTtcclxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcclxufVxyXG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKSB7XHJcbiAgICBjb25zdCBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XHJcbiAgICAvLyBKU0RPTSBtYXkgcmV0dXJuIHVuZGVmaW5lZCBmb3IgdHJhbnNpdGlvbiBwcm9wZXJ0aWVzXHJcbiAgICBjb25zdCBnZXRTdHlsZVByb3BlcnRpZXMgPSAoa2V5KSA9PiAoc3R5bGVzW2tleV0gfHwgJycpLnNwbGl0KCcsICcpO1xyXG4gICAgY29uc3QgdHJhbnNpdGlvbkRlbGF5cyA9IGdldFN0eWxlUHJvcGVydGllcyhUUkFOU0lUSU9OICsgJ0RlbGF5Jyk7XHJcbiAgICBjb25zdCB0cmFuc2l0aW9uRHVyYXRpb25zID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKFRSQU5TSVRJT04gKyAnRHVyYXRpb24nKTtcclxuICAgIGNvbnN0IHRyYW5zaXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dCh0cmFuc2l0aW9uRGVsYXlzLCB0cmFuc2l0aW9uRHVyYXRpb25zKTtcclxuICAgIGNvbnN0IGFuaW1hdGlvbkRlbGF5cyA9IGdldFN0eWxlUHJvcGVydGllcyhBTklNQVRJT04gKyAnRGVsYXknKTtcclxuICAgIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhBTklNQVRJT04gKyAnRHVyYXRpb24nKTtcclxuICAgIGNvbnN0IGFuaW1hdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KGFuaW1hdGlvbkRlbGF5cywgYW5pbWF0aW9uRHVyYXRpb25zKTtcclxuICAgIGxldCB0eXBlID0gbnVsbDtcclxuICAgIGxldCB0aW1lb3V0ID0gMDtcclxuICAgIGxldCBwcm9wQ291bnQgPSAwO1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoZXhwZWN0ZWRUeXBlID09PSBUUkFOU0lUSU9OKSB7XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0ID4gMCkge1xyXG4gICAgICAgICAgICB0eXBlID0gVFJBTlNJVElPTjtcclxuICAgICAgICAgICAgdGltZW91dCA9IHRyYW5zaXRpb25UaW1lb3V0O1xyXG4gICAgICAgICAgICBwcm9wQ291bnQgPSB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IEFOSU1BVElPTikge1xyXG4gICAgICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkge1xyXG4gICAgICAgICAgICB0eXBlID0gQU5JTUFUSU9OO1xyXG4gICAgICAgICAgICB0aW1lb3V0ID0gYW5pbWF0aW9uVGltZW91dDtcclxuICAgICAgICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0aW1lb3V0ID0gTWF0aC5tYXgodHJhbnNpdGlvblRpbWVvdXQsIGFuaW1hdGlvblRpbWVvdXQpO1xyXG4gICAgICAgIHR5cGUgPVxyXG4gICAgICAgICAgICB0aW1lb3V0ID4gMFxyXG4gICAgICAgICAgICAgICAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXRcclxuICAgICAgICAgICAgICAgICAgICA/IFRSQU5TSVRJT05cclxuICAgICAgICAgICAgICAgICAgICA6IEFOSU1BVElPTlxyXG4gICAgICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgIHByb3BDb3VudCA9IHR5cGVcclxuICAgICAgICAgICAgPyB0eXBlID09PSBUUkFOU0lUSU9OXHJcbiAgICAgICAgICAgICAgICA/IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICA6IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGhcclxuICAgICAgICAgICAgOiAwO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaGFzVHJhbnNmb3JtID0gdHlwZSA9PT0gVFJBTlNJVElPTiAmJlxyXG4gICAgICAgIC9cXGIodHJhbnNmb3JtfGFsbCkoLHwkKS8udGVzdChzdHlsZXNbVFJBTlNJVElPTiArICdQcm9wZXJ0eSddKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgICB0aW1lb3V0LFxyXG4gICAgICAgIHByb3BDb3VudCxcclxuICAgICAgICBoYXNUcmFuc2Zvcm1cclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZ2V0VGltZW91dChkZWxheXMsIGR1cmF0aW9ucykge1xyXG4gICAgd2hpbGUgKGRlbGF5cy5sZW5ndGggPCBkdXJhdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgZGVsYXlzID0gZGVsYXlzLmNvbmNhdChkZWxheXMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE1hdGgubWF4KC4uLmR1cmF0aW9ucy5tYXAoKGQsIGkpID0+IHRvTXMoZCkgKyB0b01zKGRlbGF5c1tpXSkpKTtcclxufVxyXG4vLyBPbGQgdmVyc2lvbnMgb2YgQ2hyb21pdW0gKGJlbG93IDYxLjAuMzE2My4xMDApIGZvcm1hdHMgZmxvYXRpbmcgcG9pbnRlclxyXG4vLyBudW1iZXJzIGluIGEgbG9jYWxlLWRlcGVuZGVudCB3YXksIHVzaW5nIGEgY29tbWEgaW5zdGVhZCBvZiBhIGRvdC5cclxuLy8gSWYgY29tbWEgaXMgbm90IHJlcGxhY2VkIHdpdGggYSBkb3QsIHRoZSBpbnB1dCB3aWxsIGJlIHJvdW5kZWQgZG93blxyXG4vLyAoaS5lLiBhY3RpbmcgYXMgYSBmbG9vciBmdW5jdGlvbikgY2F1c2luZyB1bmV4cGVjdGVkIGJlaGF2aW9yc1xyXG5mdW5jdGlvbiB0b01zKHMpIHtcclxuICAgIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkucmVwbGFjZSgnLCcsICcuJykpICogMTAwMDtcclxufVxuXG5mdW5jdGlvbiB0b1JhdyhvYnNlcnZlZCkge1xyXG4gICAgcmV0dXJuICgob2JzZXJ2ZWQgJiYgdG9SYXcob2JzZXJ2ZWRbXCJfX3ZfcmF3XCIgLyogUkFXICovXSkpIHx8IG9ic2VydmVkKTtcclxufVxuXG5jb25zdCBwb3NpdGlvbk1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmNvbnN0IG5ld1Bvc2l0aW9uTWFwID0gbmV3IFdlYWtNYXAoKTtcclxuY29uc3QgVHJhbnNpdGlvbkdyb3VwSW1wbCA9IHtcclxuICAgIG5hbWU6ICdUcmFuc2l0aW9uR3JvdXAnLFxyXG4gICAgcHJvcHM6IC8qI19fUFVSRV9fKi8gZXh0ZW5kKHt9LCBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLCB7XHJcbiAgICAgICAgdGFnOiBTdHJpbmcsXHJcbiAgICAgICAgbW92ZUNsYXNzOiBTdHJpbmdcclxuICAgIH0pLFxyXG4gICAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcclxuICAgICAgICBsZXQgcHJldkNoaWxkcmVuO1xyXG4gICAgICAgIGxldCBjaGlsZHJlbjtcclxuICAgICAgICBvblVwZGF0ZWQoKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBjaGlsZHJlbiBpcyBndWFyYW50ZWVkIHRvIGV4aXN0IGFmdGVyIGluaXRpYWwgcmVuZGVyXHJcbiAgICAgICAgICAgIGlmICghcHJldkNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdmVDbGFzcyA9IHByb3BzLm1vdmVDbGFzcyB8fCBgJHtwcm9wcy5uYW1lIHx8ICd2J30tbW92ZWA7XHJcbiAgICAgICAgICAgIGlmICghaGFzQ1NTVHJhbnNmb3JtKHByZXZDaGlsZHJlblswXS5lbCwgaW5zdGFuY2Uudm5vZGUuZWwsIG1vdmVDbGFzcykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB3ZSBkaXZpZGUgdGhlIHdvcmsgaW50byB0aHJlZSBsb29wcyB0byBhdm9pZCBtaXhpbmcgRE9NIHJlYWRzIGFuZCB3cml0ZXNcclxuICAgICAgICAgICAgLy8gaW4gZWFjaCBpdGVyYXRpb24gLSB3aGljaCBoZWxwcyBwcmV2ZW50IGxheW91dCB0aHJhc2hpbmcuXHJcbiAgICAgICAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKGNhbGxQZW5kaW5nQ2JzKTtcclxuICAgICAgICAgICAgcHJldkNoaWxkcmVuLmZvckVhY2gocmVjb3JkUG9zaXRpb24pO1xyXG4gICAgICAgICAgICBjb25zdCBtb3ZlZENoaWxkcmVuID0gcHJldkNoaWxkcmVuLmZpbHRlcihhcHBseVRyYW5zbGF0aW9uKTtcclxuICAgICAgICAgICAgLy8gZm9yY2UgcmVmbG93IHRvIHB1dCBldmVyeXRoaW5nIGluIHBvc2l0aW9uXHJcbiAgICAgICAgICAgIGZvcmNlUmVmbG93KCk7XHJcbiAgICAgICAgICAgIG1vdmVkQ2hpbGRyZW4uZm9yRWFjaChjID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gYy5lbDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XHJcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSBzdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBzdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNiID0gKGVsLl9tb3ZlQ2IgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZSB8fCAvdHJhbnNmb3JtJC8udGVzdChlLnByb3BlcnR5TmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGNiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwuX21vdmVDYiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBjYik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xyXG4gICAgICAgICAgICBjb25zdCBjc3NUcmFuc2l0aW9uUHJvcHMgPSByZXNvbHZlVHJhbnNpdGlvblByb3BzKHJhd1Byb3BzKTtcclxuICAgICAgICAgICAgY29uc3QgdGFnID0gcmF3UHJvcHMudGFnIHx8IEZyYWdtZW50O1xyXG4gICAgICAgICAgICBwcmV2Q2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ID8gZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKHNsb3RzLmRlZmF1bHQoKSkgOiBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5rZXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhjaGlsZCwgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhjaGlsZCwgY3NzVHJhbnNpdGlvblByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYDxUcmFuc2l0aW9uR3JvdXA+IGNoaWxkcmVuIG11c3QgYmUga2V5ZWQuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHByZXZDaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IHByZXZDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoY2hpbGQsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MoY2hpbGQsIGNzc1RyYW5zaXRpb25Qcm9wcywgc3RhdGUsIGluc3RhbmNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25NYXAuc2V0KGNoaWxkLCBjaGlsZC5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHRhZywgbnVsbCwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IFRyYW5zaXRpb25Hcm91cCA9IFRyYW5zaXRpb25Hcm91cEltcGw7XHJcbmZ1bmN0aW9uIGNhbGxQZW5kaW5nQ2JzKGMpIHtcclxuICAgIGNvbnN0IGVsID0gYy5lbDtcclxuICAgIGlmIChlbC5fbW92ZUNiKSB7XHJcbiAgICAgICAgZWwuX21vdmVDYigpO1xyXG4gICAgfVxyXG4gICAgaWYgKGVsLl9lbnRlckNiKSB7XHJcbiAgICAgICAgZWwuX2VudGVyQ2IoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByZWNvcmRQb3NpdGlvbihjKSB7XHJcbiAgICBuZXdQb3NpdGlvbk1hcC5zZXQoYywgYy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbihjKSB7XHJcbiAgICBjb25zdCBvbGRQb3MgPSBwb3NpdGlvbk1hcC5nZXQoYyk7XHJcbiAgICBjb25zdCBuZXdQb3MgPSBuZXdQb3NpdGlvbk1hcC5nZXQoYyk7XHJcbiAgICBjb25zdCBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7XHJcbiAgICBjb25zdCBkeSA9IG9sZFBvcy50b3AgLSBuZXdQb3MudG9wO1xyXG4gICAgaWYgKGR4IHx8IGR5KSB7XHJcbiAgICAgICAgY29uc3QgcyA9IGMuZWwuc3R5bGU7XHJcbiAgICAgICAgcy50cmFuc2Zvcm0gPSBzLndlYmtpdFRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtkeH1weCwke2R5fXB4KWA7XHJcbiAgICAgICAgcy50cmFuc2l0aW9uRHVyYXRpb24gPSAnMHMnO1xyXG4gICAgICAgIHJldHVybiBjO1xyXG4gICAgfVxyXG59XHJcbi8vIHRoaXMgaXMgcHV0IGluIGEgZGVkaWNhdGVkIGZ1bmN0aW9uIHRvIGF2b2lkIHRoZSBsaW5lIGZyb20gYmVpbmcgdHJlZXNoYWtlblxyXG5mdW5jdGlvbiBmb3JjZVJlZmxvdygpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcclxufVxyXG5mdW5jdGlvbiBoYXNDU1NUcmFuc2Zvcm0oZWwsIHJvb3QsIG1vdmVDbGFzcykge1xyXG4gICAgLy8gRGV0ZWN0IHdoZXRoZXIgYW4gZWxlbWVudCB3aXRoIHRoZSBtb3ZlIGNsYXNzIGFwcGxpZWQgaGFzXHJcbiAgICAvLyBDU1MgdHJhbnNpdGlvbnMuIFNpbmNlIHRoZSBlbGVtZW50IG1heSBiZSBpbnNpZGUgYW4gZW50ZXJpbmdcclxuICAgIC8vIHRyYW5zaXRpb24gYXQgdGhpcyB2ZXJ5IG1vbWVudCwgd2UgbWFrZSBhIGNsb25lIG9mIGl0IGFuZCByZW1vdmVcclxuICAgIC8vIGFsbCBvdGhlciB0cmFuc2l0aW9uIGNsYXNzZXMgYXBwbGllZCB0byBlbnN1cmUgb25seSB0aGUgbW92ZSBjbGFzc1xyXG4gICAgLy8gaXMgYXBwbGllZC5cclxuICAgIGNvbnN0IGNsb25lID0gZWwuY2xvbmVOb2RlKCk7XHJcbiAgICBpZiAoZWwuX3Z0Yykge1xyXG4gICAgICAgIGVsLl92dGMuZm9yRWFjaChjbHMgPT4ge1xyXG4gICAgICAgICAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBjbG9uZS5jbGFzc0xpc3QucmVtb3ZlKGMpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG1vdmVDbGFzcy5zcGxpdCgvXFxzKy8pLmZvckVhY2goYyA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5hZGQoYykpO1xyXG4gICAgY2xvbmUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IChyb290Lm5vZGVUeXBlID09PSAxXHJcbiAgICAgICAgPyByb290XHJcbiAgICAgICAgOiByb290LnBhcmVudE5vZGUpO1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNsb25lKTtcclxuICAgIGNvbnN0IHsgaGFzVHJhbnNmb3JtIH0gPSBnZXRUcmFuc2l0aW9uSW5mbyhjbG9uZSk7XHJcbiAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY2xvbmUpO1xyXG4gICAgcmV0dXJuIGhhc1RyYW5zZm9ybTtcclxufVxuXG5jb25zdCBnZXRNb2RlbEFzc2lnbmVyID0gKHZub2RlKSA9PiB7XHJcbiAgICBjb25zdCBmbiA9IHZub2RlLnByb3BzWydvblVwZGF0ZTptb2RlbFZhbHVlJ107XHJcbiAgICByZXR1cm4gaXNBcnJheShmbikgPyB2YWx1ZSA9PiBpbnZva2VBcnJheUZucyhmbiwgdmFsdWUpIDogZm47XHJcbn07XHJcbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25TdGFydChlKSB7XHJcbiAgICBlLnRhcmdldC5jb21wb3NpbmcgPSB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25FbmQoZSkge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcbiAgICBpZiAodGFyZ2V0LmNvbXBvc2luZykge1xyXG4gICAgICAgIHRhcmdldC5jb21wb3NpbmcgPSBmYWxzZTtcclxuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgJ2lucHV0Jyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdHJpZ2dlcihlbCwgdHlwZSkge1xyXG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJyk7XHJcbiAgICBlLmluaXRFdmVudCh0eXBlLCB0cnVlLCB0cnVlKTtcclxuICAgIGVsLmRpc3BhdGNoRXZlbnQoZSk7XHJcbn1cclxuLy8gV2UgYXJlIGV4cG9ydGluZyB0aGUgdi1tb2RlbCBydW50aW1lIGRpcmVjdGx5IGFzIHZub2RlIGhvb2tzIHNvIHRoYXQgaXQgY2FuXHJcbi8vIGJlIHRyZWUtc2hha2VuIGluIGNhc2Ugdi1tb2RlbCBpcyBuZXZlciB1c2VkLlxyXG5jb25zdCB2TW9kZWxUZXh0ID0ge1xyXG4gICAgY3JlYXRlZChlbCwgeyBtb2RpZmllcnM6IHsgbGF6eSwgdHJpbSwgbnVtYmVyIH0gfSwgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgY29uc3QgY2FzdFRvTnVtYmVyID0gbnVtYmVyIHx8IGVsLnR5cGUgPT09ICdudW1iZXInO1xyXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGxhenkgPyAnY2hhbmdlJyA6ICdpbnB1dCcsIGUgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuY29tcG9zaW5nKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBsZXQgZG9tVmFsdWUgPSBlbC52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKHRyaW0pIHtcclxuICAgICAgICAgICAgICAgIGRvbVZhbHVlID0gZG9tVmFsdWUudHJpbSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNhc3RUb051bWJlcikge1xyXG4gICAgICAgICAgICAgICAgZG9tVmFsdWUgPSB0b051bWJlcihkb21WYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWwuX2Fzc2lnbihkb21WYWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRyaW0pIHtcclxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGVsLnZhbHVlID0gZWwudmFsdWUudHJpbSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFsYXp5KSB7XHJcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjb21wb3NpdGlvbnN0YXJ0Jywgb25Db21wb3NpdGlvblN0YXJ0KTtcclxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NvbXBvc2l0aW9uZW5kJywgb25Db21wb3NpdGlvbkVuZCk7XHJcbiAgICAgICAgICAgIC8vIFNhZmFyaSA8IDEwLjIgJiBVSVdlYlZpZXcgZG9lc24ndCBmaXJlIGNvbXBvc2l0aW9uZW5kIHdoZW5cclxuICAgICAgICAgICAgLy8gc3dpdGNoaW5nIGZvY3VzIGJlZm9yZSBjb25maXJtaW5nIGNvbXBvc2l0aW9uIGNob2ljZVxyXG4gICAgICAgICAgICAvLyB0aGlzIGFsc28gZml4ZXMgdGhlIGlzc3VlIHdoZXJlIHNvbWUgYnJvd3NlcnMgZS5nLiBpT1MgQ2hyb21lXHJcbiAgICAgICAgICAgIC8vIGZpcmVzIFwiY2hhbmdlXCIgaW5zdGVhZCBvZiBcImlucHV0XCIgb24gYXV0b2NvbXBsZXRlLlxyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgb25Db21wb3NpdGlvbkVuZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8vIHNldCB2YWx1ZSBvbiBtb3VudGVkIHNvIGl0J3MgYWZ0ZXIgbWluL21heCBmb3IgdHlwZT1cInJhbmdlXCJcclxuICAgIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xyXG4gICAgICAgIGVsLnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlVXBkYXRlKGVsLCB7IHZhbHVlLCBtb2RpZmllcnM6IHsgdHJpbSwgbnVtYmVyIH0gfSwgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgLy8gYXZvaWQgY2xlYXJpbmcgdW5yZXNvbHZlZCB0ZXh0LiAjMjMwMlxyXG4gICAgICAgIGlmIChlbC5jb21wb3NpbmcpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWwpIHtcclxuICAgICAgICAgICAgaWYgKHRyaW0gJiYgZWwudmFsdWUudHJpbSgpID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgobnVtYmVyIHx8IGVsLnR5cGUgPT09ICdudW1iZXInKSAmJiB0b051bWJlcihlbC52YWx1ZSkgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcclxuICAgICAgICBpZiAoZWwudmFsdWUgIT09IG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgIGVsLnZhbHVlID0gbmV3VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5jb25zdCB2TW9kZWxDaGVja2JveCA9IHtcclxuICAgIGNyZWF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XHJcbiAgICAgICAgc2V0Q2hlY2tlZChlbCwgYmluZGluZywgdm5vZGUpO1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtb2RlbFZhbHVlID0gZWwuX21vZGVsVmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IGdldFZhbHVlKGVsKTtcclxuICAgICAgICAgICAgY29uc3QgY2hlY2tlZCA9IGVsLmNoZWNrZWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGFzc2lnbiA9IGVsLl9hc3NpZ247XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGxvb3NlSW5kZXhPZihtb2RlbFZhbHVlLCBlbGVtZW50VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSBpbmRleCAhPT0gLTE7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCAmJiAhZm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhc3NpZ24obW9kZWxWYWx1ZS5jb25jYXQoZWxlbWVudFZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghY2hlY2tlZCAmJiBmb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gWy4uLm1vZGVsVmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduKGZpbHRlcmVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1NldChtb2RlbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RlbFZhbHVlLmFkZChlbGVtZW50VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxWYWx1ZS5kZWxldGUoZWxlbWVudFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFzc2lnbihnZXRDaGVja2JveFZhbHVlKGVsLCBjaGVja2VkKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBiZWZvcmVVcGRhdGUoZWwsIGJpbmRpbmcsIHZub2RlKSB7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgICAgIHNldENoZWNrZWQoZWwsIGJpbmRpbmcsIHZub2RlKTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gc2V0Q2hlY2tlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcclxuICAgIGVsLl9tb2RlbFZhbHVlID0gdmFsdWU7XHJcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VJbmRleE9mKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSkgPiAtMTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzU2V0KHZhbHVlKSkge1xyXG4gICAgICAgIGVsLmNoZWNrZWQgPSB2YWx1ZS5oYXModm5vZGUucHJvcHMudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7XHJcbiAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIGdldENoZWNrYm94VmFsdWUoZWwsIHRydWUpKTtcclxuICAgIH1cclxufVxyXG5jb25zdCB2TW9kZWxSYWRpbyA9IHtcclxuICAgIGNyZWF0ZWQoZWwsIHsgdmFsdWUgfSwgdm5vZGUpIHtcclxuICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpO1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBlbC5fYXNzaWduKGdldFZhbHVlKGVsKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlVXBkYXRlKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB2bm9kZSkge1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5jb25zdCB2TW9kZWxTZWxlY3QgPSB7XHJcbiAgICBjcmVhdGVkKGVsLCB7IG1vZGlmaWVyczogeyBudW1iZXIgfSB9LCB2bm9kZSkge1xyXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkVmFsID0gQXJyYXkucHJvdG90eXBlLmZpbHRlclxyXG4gICAgICAgICAgICAgICAgLmNhbGwoZWwub3B0aW9ucywgKG8pID0+IG8uc2VsZWN0ZWQpXHJcbiAgICAgICAgICAgICAgICAubWFwKChvKSA9PiBudW1iZXIgPyB0b051bWJlcihnZXRWYWx1ZShvKSkgOiBnZXRWYWx1ZShvKSk7XHJcbiAgICAgICAgICAgIGVsLl9hc3NpZ24oZWwubXVsdGlwbGUgPyBzZWxlY3RlZFZhbCA6IHNlbGVjdGVkVmFsWzBdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICB9LFxyXG4gICAgLy8gc2V0IHZhbHVlIGluIG1vdW50ZWQgJiB1cGRhdGVkIGJlY2F1c2UgPHNlbGVjdD4gcmVsaWVzIG9uIGl0cyBjaGlsZHJlblxyXG4gICAgLy8gPG9wdGlvbj5zLlxyXG4gICAgbW91bnRlZChlbCwgeyB2YWx1ZSB9KSB7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcclxuICAgIH0sXHJcbiAgICBiZWZvcmVVcGRhdGUoZWwsIF9iaW5kaW5nLCB2bm9kZSkge1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGVkKGVsLCB7IHZhbHVlIH0pIHtcclxuICAgICAgICBzZXRTZWxlY3RlZChlbCwgdmFsdWUpO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBzZXRTZWxlY3RlZChlbCwgdmFsdWUpIHtcclxuICAgIGNvbnN0IGlzTXVsdGlwbGUgPSBlbC5tdWx0aXBsZTtcclxuICAgIGlmIChpc011bHRpcGxlICYmICFpc0FycmF5KHZhbHVlKSAmJiAhaXNTZXQodmFsdWUpKSB7XHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIHdhcm4oYDxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD4gZXhwZWN0cyBhbiBBcnJheSBvciBTZXQgdmFsdWUgZm9yIGl0cyBiaW5kaW5nLCBgICtcclxuICAgICAgICAgICAgICAgIGBidXQgZ290ICR7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSl9LmApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gZWwub3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBjb25zdCBvcHRpb24gPSBlbC5vcHRpb25zW2ldO1xyXG4gICAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0gZ2V0VmFsdWUob3B0aW9uKTtcclxuICAgICAgICBpZiAoaXNNdWx0aXBsZSkge1xyXG4gICAgICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgb3B0aW9uVmFsdWUpID4gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB2YWx1ZS5oYXMob3B0aW9uVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb24pLCB2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGVsLnNlbGVjdGVkSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFpc011bHRpcGxlKSB7XHJcbiAgICAgICAgZWwuc2VsZWN0ZWRJbmRleCA9IC0xO1xyXG4gICAgfVxyXG59XHJcbi8vIHJldHJpZXZlIHJhdyB2YWx1ZSBzZXQgdmlhIDp2YWx1ZSBiaW5kaW5nc1xyXG5mdW5jdGlvbiBnZXRWYWx1ZShlbCkge1xyXG4gICAgcmV0dXJuICdfdmFsdWUnIGluIGVsID8gZWwuX3ZhbHVlIDogZWwudmFsdWU7XHJcbn1cclxuLy8gcmV0cmlldmUgcmF3IHZhbHVlIGZvciB0cnVlLXZhbHVlIGFuZCBmYWxzZS12YWx1ZSBzZXQgdmlhIDp0cnVlLXZhbHVlIG9yIDpmYWxzZS12YWx1ZSBiaW5kaW5nc1xyXG5mdW5jdGlvbiBnZXRDaGVja2JveFZhbHVlKGVsLCBjaGVja2VkKSB7XHJcbiAgICBjb25zdCBrZXkgPSBjaGVja2VkID8gJ190cnVlVmFsdWUnIDogJ19mYWxzZVZhbHVlJztcclxuICAgIHJldHVybiBrZXkgaW4gZWwgPyBlbFtrZXldIDogY2hlY2tlZDtcclxufVxyXG5jb25zdCB2TW9kZWxEeW5hbWljID0ge1xyXG4gICAgY3JlYXRlZChlbCwgYmluZGluZywgdm5vZGUpIHtcclxuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgbnVsbCwgJ2NyZWF0ZWQnKTtcclxuICAgIH0sXHJcbiAgICBtb3VudGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xyXG4gICAgICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBudWxsLCAnbW91bnRlZCcpO1xyXG4gICAgfSxcclxuICAgIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSkge1xyXG4gICAgICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsICdiZWZvcmVVcGRhdGUnKTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XHJcbiAgICAgICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgJ3VwZGF0ZWQnKTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgaG9vaykge1xyXG4gICAgbGV0IG1vZGVsVG9Vc2U7XHJcbiAgICBzd2l0Y2ggKGVsLnRhZ05hbWUpIHtcclxuICAgICAgICBjYXNlICdTRUxFQ1QnOlxyXG4gICAgICAgICAgICBtb2RlbFRvVXNlID0gdk1vZGVsU2VsZWN0O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdURVhUQVJFQSc6XHJcbiAgICAgICAgICAgIG1vZGVsVG9Vc2UgPSB2TW9kZWxUZXh0O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBzd2l0Y2ggKHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcclxuICAgICAgICAgICAgICAgICAgICBtb2RlbFRvVXNlID0gdk1vZGVsQ2hlY2tib3g7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyYWRpbyc6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbFJhZGlvO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBtb2RlbFRvVXNlID0gdk1vZGVsVGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgZm4gPSBtb2RlbFRvVXNlW2hvb2tdO1xyXG4gICAgZm4gJiYgZm4oZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpO1xyXG59XG5cbmNvbnN0IHN5c3RlbU1vZGlmaWVycyA9IFsnY3RybCcsICdzaGlmdCcsICdhbHQnLCAnbWV0YSddO1xyXG5jb25zdCBtb2RpZmllckd1YXJkcyA9IHtcclxuICAgIHN0b3A6IGUgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSxcclxuICAgIHByZXZlbnQ6IGUgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLFxyXG4gICAgc2VsZjogZSA9PiBlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0LFxyXG4gICAgY3RybDogZSA9PiAhZS5jdHJsS2V5LFxyXG4gICAgc2hpZnQ6IGUgPT4gIWUuc2hpZnRLZXksXHJcbiAgICBhbHQ6IGUgPT4gIWUuYWx0S2V5LFxyXG4gICAgbWV0YTogZSA9PiAhZS5tZXRhS2V5LFxyXG4gICAgbGVmdDogZSA9PiAnYnV0dG9uJyBpbiBlICYmIGUuYnV0dG9uICE9PSAwLFxyXG4gICAgbWlkZGxlOiBlID0+ICdidXR0b24nIGluIGUgJiYgZS5idXR0b24gIT09IDEsXHJcbiAgICByaWdodDogZSA9PiAnYnV0dG9uJyBpbiBlICYmIGUuYnV0dG9uICE9PSAyLFxyXG4gICAgZXhhY3Q6IChlLCBtb2RpZmllcnMpID0+IHN5c3RlbU1vZGlmaWVycy5zb21lKG0gPT4gZVtgJHttfUtleWBdICYmICFtb2RpZmllcnMuaW5jbHVkZXMobSkpXHJcbn07XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3Qgd2l0aE1vZGlmaWVycyA9IChmbiwgbW9kaWZpZXJzKSA9PiB7XHJcbiAgICByZXR1cm4gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtb2RpZmllcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZ3VhcmQgPSBtb2RpZmllckd1YXJkc1ttb2RpZmllcnNbaV1dO1xyXG4gICAgICAgICAgICBpZiAoZ3VhcmQgJiYgZ3VhcmQoZXZlbnQsIG1vZGlmaWVycykpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmbihldmVudCwgLi4uYXJncyk7XHJcbiAgICB9O1xyXG59O1xyXG4vLyBLZXB0IGZvciAyLnggY29tcGF0LlxyXG4vLyBOb3RlOiBJRTExIGNvbXBhdCBmb3IgYHNwYWNlYmFyYCBhbmQgYGRlbGAgaXMgcmVtb3ZlZCBmb3Igbm93LlxyXG5jb25zdCBrZXlOYW1lcyA9IHtcclxuICAgIGVzYzogJ2VzY2FwZScsXHJcbiAgICBzcGFjZTogJyAnLFxyXG4gICAgdXA6ICdhcnJvdy11cCcsXHJcbiAgICBsZWZ0OiAnYXJyb3ctbGVmdCcsXHJcbiAgICByaWdodDogJ2Fycm93LXJpZ2h0JyxcclxuICAgIGRvd246ICdhcnJvdy1kb3duJyxcclxuICAgIGRlbGV0ZTogJ2JhY2tzcGFjZSdcclxufTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB3aXRoS2V5cyA9IChmbiwgbW9kaWZpZXJzKSA9PiB7XHJcbiAgICByZXR1cm4gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKCEoJ2tleScgaW4gZXZlbnQpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgZXZlbnRLZXkgPSBoeXBoZW5hdGUoZXZlbnQua2V5KTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgLy8gTm9uZSBvZiB0aGUgcHJvdmlkZWQga2V5IG1vZGlmaWVycyBtYXRjaCB0aGUgY3VycmVudCBldmVudCBrZXlcclxuICAgICAgICAhbW9kaWZpZXJzLnNvbWUoayA9PiBrID09PSBldmVudEtleSB8fCBrZXlOYW1lc1trXSA9PT0gZXZlbnRLZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZuKGV2ZW50KTtcclxuICAgIH07XHJcbn07XG5cbmNvbnN0IHZTaG93ID0ge1xyXG4gICAgYmVmb3JlTW91bnQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcclxuICAgICAgICBlbC5fdm9kID0gZWwuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJycgOiBlbC5zdHlsZS5kaXNwbGF5O1xyXG4gICAgICAgIGlmICh0cmFuc2l0aW9uICYmIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3VudGVkKGVsLCB7IHZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb24gJiYgdmFsdWUpIHtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZWQoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XHJcbiAgICAgICAgaWYgKCF2YWx1ZSA9PT0gIW9sZFZhbHVlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcclxuICAgICAgICAgICAgICAgIHNldERpc3BsYXkoZWwsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmxlYXZlKGVsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlVW5tb3VudChlbCwgeyB2YWx1ZSB9KSB7XHJcbiAgICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBzZXREaXNwbGF5KGVsLCB2YWx1ZSkge1xyXG4gICAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gZWwuX3ZvZCA6ICdub25lJztcclxufVxuXG5jb25zdCByZW5kZXJlck9wdGlvbnMgPSBleHRlbmQoeyBwYXRjaFByb3AsIGZvcmNlUGF0Y2hQcm9wIH0sIG5vZGVPcHMpO1xyXG4vLyBsYXp5IGNyZWF0ZSB0aGUgcmVuZGVyZXIgLSB0aGlzIG1ha2VzIGNvcmUgcmVuZGVyZXIgbG9naWMgdHJlZS1zaGFrYWJsZVxyXG4vLyBpbiBjYXNlIHRoZSB1c2VyIG9ubHkgaW1wb3J0cyByZWFjdGl2aXR5IHV0aWxpdGllcyBmcm9tIFZ1ZS5cclxubGV0IHJlbmRlcmVyO1xyXG5sZXQgZW5hYmxlZEh5ZHJhdGlvbiA9IGZhbHNlO1xyXG5mdW5jdGlvbiBlbnN1cmVSZW5kZXJlcigpIHtcclxuICAgIHJldHVybiByZW5kZXJlciB8fCAocmVuZGVyZXIgPSBjcmVhdGVSZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpKTtcclxufVxyXG5mdW5jdGlvbiBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpIHtcclxuICAgIHJlbmRlcmVyID0gZW5hYmxlZEh5ZHJhdGlvblxyXG4gICAgICAgID8gcmVuZGVyZXJcclxuICAgICAgICA6IGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKHJlbmRlcmVyT3B0aW9ucyk7XHJcbiAgICBlbmFibGVkSHlkcmF0aW9uID0gdHJ1ZTtcclxuICAgIHJldHVybiByZW5kZXJlcjtcclxufVxyXG4vLyB1c2UgZXhwbGljaXQgdHlwZSBjYXN0cyBoZXJlIHRvIGF2b2lkIGltcG9ydCgpIGNhbGxzIGluIHJvbGxlZC11cCBkLnRzXHJcbmNvbnN0IHJlbmRlciA9ICgoLi4uYXJncykgPT4ge1xyXG4gICAgZW5zdXJlUmVuZGVyZXIoKS5yZW5kZXIoLi4uYXJncyk7XHJcbn0pO1xyXG5jb25zdCBoeWRyYXRlID0gKCguLi5hcmdzKSA9PiB7XHJcbiAgICBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpLmh5ZHJhdGUoLi4uYXJncyk7XHJcbn0pO1xyXG5jb25zdCBjcmVhdGVBcHAgPSAoKC4uLmFyZ3MpID0+IHtcclxuICAgIGNvbnN0IGFwcCA9IGVuc3VyZVJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IG1vdW50IH0gPSBhcHA7XHJcbiAgICBhcHAubW91bnQgPSAoY29udGFpbmVyT3JTZWxlY3RvcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXJPclNlbGVjdG9yKTtcclxuICAgICAgICBpZiAoIWNvbnRhaW5lcilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGFwcC5fY29tcG9uZW50O1xyXG4gICAgICAgIGlmICghaXNGdW5jdGlvbihjb21wb25lbnQpICYmICFjb21wb25lbnQucmVuZGVyICYmICFjb21wb25lbnQudGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgY29tcG9uZW50LnRlbXBsYXRlID0gY29udGFpbmVyLmlubmVySFRNTDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2xlYXIgY29udGVudCBiZWZvcmUgbW91bnRpbmdcclxuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgY29uc3QgcHJveHkgPSBtb3VudChjb250YWluZXIpO1xyXG4gICAgICAgIGNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ3YtY2xvYWsnKTtcclxuICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLXYtYXBwJywgJycpO1xyXG4gICAgICAgIHJldHVybiBwcm94eTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gYXBwO1xyXG59KTtcclxuY29uc3QgY3JlYXRlU1NSQXBwID0gKCguLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zdCBhcHAgPSBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpLmNyZWF0ZUFwcCguLi5hcmdzKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xyXG4gICAgYXBwLm1vdW50ID0gKGNvbnRhaW5lck9yU2VsZWN0b3IpID0+IHtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyT3JTZWxlY3Rvcik7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbW91bnQoY29udGFpbmVyLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGFwcDtcclxufSk7XHJcbmZ1bmN0aW9uIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCkge1xyXG4gICAgLy8gSW5qZWN0IGBpc05hdGl2ZVRhZ2BcclxuICAgIC8vIHRoaXMgaXMgdXNlZCBmb3IgY29tcG9uZW50IG5hbWUgdmFsaWRhdGlvbiAoZGV2IG9ubHkpXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgJ2lzTmF0aXZlVGFnJywge1xyXG4gICAgICAgIHZhbHVlOiAodGFnKSA9PiBpc0hUTUxUYWcodGFnKSB8fCBpc1NWR1RhZyh0YWcpLFxyXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lcikge1xyXG4gICAgaWYgKGlzU3RyaW5nKGNvbnRhaW5lcikpIHtcclxuICAgICAgICBjb25zdCByZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcik7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcmVzKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEZhaWxlZCB0byBtb3VudCBhcHA6IG1vdW50IHRhcmdldCBzZWxlY3RvciByZXR1cm5lZCBudWxsLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcclxufVxuXG5leHBvcnQgeyBUcmFuc2l0aW9uLCBUcmFuc2l0aW9uR3JvdXAsIGNyZWF0ZUFwcCwgY3JlYXRlU1NSQXBwLCBoeWRyYXRlLCByZW5kZXIsIHVzZUNzc01vZHVsZSwgdXNlQ3NzVmFycywgdk1vZGVsQ2hlY2tib3gsIHZNb2RlbER5bmFtaWMsIHZNb2RlbFJhZGlvLCB2TW9kZWxTZWxlY3QsIHZNb2RlbFRleHQsIHZTaG93LCB3aXRoS2V5cywgd2l0aE1vZGlmaWVycyB9O1xuIiwiLyoqXHJcbiAqIE1ha2UgYSBtYXAgYW5kIHJldHVybiBhIGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhIGtleVxyXG4gKiBpcyBpbiB0aGF0IG1hcC5cclxuICogSU1QT1JUQU5UOiBhbGwgY2FsbHMgb2YgdGhpcyBmdW5jdGlvbiBtdXN0IGJlIHByZWZpeGVkIHdpdGhcclxuICogXFwvXFwqI1xcX1xcX1BVUkVcXF9cXF9cXCpcXC9cclxuICogU28gdGhhdCByb2xsdXAgY2FuIHRyZWUtc2hha2UgdGhlbSBpZiBuZWNlc3NhcnkuXHJcbiAqL1xyXG5mdW5jdGlvbiBtYWtlTWFwKHN0ciwgZXhwZWN0c0xvd2VyQ2FzZSkge1xyXG4gICAgY29uc3QgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIGNvbnN0IGxpc3QgPSBzdHIuc3BsaXQoJywnKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIG1hcFtsaXN0W2ldXSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZXhwZWN0c0xvd2VyQ2FzZSA/IHZhbCA9PiAhIW1hcFt2YWwudG9Mb3dlckNhc2UoKV0gOiB2YWwgPT4gISFtYXBbdmFsXTtcclxufVxuXG4vLyBQYXRjaCBmbGFncyBhcmUgb3B0aW1pemF0aW9uIGhpbnRzIGdlbmVyYXRlZCBieSB0aGUgY29tcGlsZXIuXHJcbi8vIHdoZW4gYSBibG9jayB3aXRoIGR5bmFtaWNDaGlsZHJlbiBpcyBlbmNvdW50ZXJlZCBkdXJpbmcgZGlmZiwgdGhlIGFsZ29yaXRobVxyXG4vLyBlbnRlcnMgXCJvcHRpbWl6ZWQgbW9kZVwiLiBJbiB0aGlzIG1vZGUsIHdlIGtub3cgdGhhdCB0aGUgdmRvbSBpcyBwcm9kdWNlZCBieVxyXG4vLyBhIHJlbmRlciBmdW5jdGlvbiBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyLCBzbyB0aGUgYWxnb3JpdGhtIG9ubHkgbmVlZHMgdG9cclxuLy8gaGFuZGxlIHVwZGF0ZXMgZXhwbGljaXRseSBtYXJrZWQgYnkgdGhlc2UgcGF0Y2ggZmxhZ3MuXHJcbi8vIGRldiBvbmx5IGZsYWcgLT4gbmFtZSBtYXBwaW5nXHJcbmNvbnN0IFBhdGNoRmxhZ05hbWVzID0ge1xyXG4gICAgWzEgLyogVEVYVCAqL106IGBURVhUYCxcclxuICAgIFsyIC8qIENMQVNTICovXTogYENMQVNTYCxcclxuICAgIFs0IC8qIFNUWUxFICovXTogYFNUWUxFYCxcclxuICAgIFs4IC8qIFBST1BTICovXTogYFBST1BTYCxcclxuICAgIFsxNiAvKiBGVUxMX1BST1BTICovXTogYEZVTExfUFJPUFNgLFxyXG4gICAgWzMyIC8qIEhZRFJBVEVfRVZFTlRTICovXTogYEhZRFJBVEVfRVZFTlRTYCxcclxuICAgIFs2NCAvKiBTVEFCTEVfRlJBR01FTlQgKi9dOiBgU1RBQkxFX0ZSQUdNRU5UYCxcclxuICAgIFsxMjggLyogS0VZRURfRlJBR01FTlQgKi9dOiBgS0VZRURfRlJBR01FTlRgLFxyXG4gICAgWzI1NiAvKiBVTktFWUVEX0ZSQUdNRU5UICovXTogYFVOS0VZRURfRlJBR01FTlRgLFxyXG4gICAgWzEwMjQgLyogRFlOQU1JQ19TTE9UUyAqL106IGBEWU5BTUlDX1NMT1RTYCxcclxuICAgIFs1MTIgLyogTkVFRF9QQVRDSCAqL106IGBORUVEX1BBVENIYCxcclxuICAgIFstMSAvKiBIT0lTVEVEICovXTogYEhPSVNURURgLFxyXG4gICAgWy0yIC8qIEJBSUwgKi9dOiBgQkFJTGBcclxufTtcblxuY29uc3QgR0xPQkFMU19XSElURV9MSVNURUQgPSAnSW5maW5pdHksdW5kZWZpbmVkLE5hTixpc0Zpbml0ZSxpc05hTixwYXJzZUZsb2F0LHBhcnNlSW50LGRlY29kZVVSSSwnICtcclxuICAgICdkZWNvZGVVUklDb21wb25lbnQsZW5jb2RlVVJJLGVuY29kZVVSSUNvbXBvbmVudCxNYXRoLE51bWJlcixEYXRlLEFycmF5LCcgK1xyXG4gICAgJ09iamVjdCxCb29sZWFuLFN0cmluZyxSZWdFeHAsTWFwLFNldCxKU09OLEludGwnO1xyXG5jb25zdCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoR0xPQkFMU19XSElURV9MSVNURUQpO1xuXG5jb25zdCByYW5nZSA9IDI7XHJcbmZ1bmN0aW9uIGdlbmVyYXRlQ29kZUZyYW1lKHNvdXJjZSwgc3RhcnQgPSAwLCBlbmQgPSBzb3VyY2UubGVuZ3RoKSB7XHJcbiAgICBjb25zdCBsaW5lcyA9IHNvdXJjZS5zcGxpdCgvXFxyP1xcbi8pO1xyXG4gICAgbGV0IGNvdW50ID0gMDtcclxuICAgIGNvbnN0IHJlcyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvdW50ICs9IGxpbmVzW2ldLmxlbmd0aCArIDE7XHJcbiAgICAgICAgaWYgKGNvdW50ID49IHN0YXJ0KSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gcmFuZ2U7IGogPD0gaSArIHJhbmdlIHx8IGVuZCA+IGNvdW50OyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChqIDwgMCB8fCBqID49IGxpbmVzLmxlbmd0aClcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBqICsgMTtcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKGAke2xpbmV9JHsnICcucmVwZWF0KE1hdGgubWF4KDMgLSBTdHJpbmcobGluZSkubGVuZ3RoLCAwKSl9fCAgJHtsaW5lc1tqXX1gKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVMZW5ndGggPSBsaW5lc1tqXS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHB1c2ggdW5kZXJsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFkID0gc3RhcnQgLSAoY291bnQgLSBsaW5lTGVuZ3RoKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoMSwgZW5kID4gY291bnQgPyBsaW5lTGVuZ3RoIC0gcGFkIDogZW5kIC0gc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKGAgICB8ICBgICsgJyAnLnJlcGVhdChwYWQpICsgJ14nLnJlcGVhdChsZW5ndGgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGogPiBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZCA+IGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KE1hdGgubWluKGVuZCAtIGNvdW50LCBsaW5lTGVuZ3RoKSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKGAgICB8ICBgICsgJ14nLnJlcGVhdChsZW5ndGgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQgKz0gbGluZUxlbmd0aCArIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5qb2luKCdcXG4nKTtcclxufVxuXG4vKipcclxuICogT24gdGhlIGNsaWVudCB3ZSBvbmx5IG5lZWQgdG8gb2ZmZXIgc3BlY2lhbCBjYXNlcyBmb3IgYm9vbGVhbiBhdHRyaWJ1dGVzIHRoYXRcclxuICogaGF2ZSBkaWZmZXJlbnQgbmFtZXMgZnJvbSB0aGVpciBjb3JyZXNwb25kaW5nIGRvbSBwcm9wZXJ0aWVzOlxyXG4gKiAtIGl0ZW1zY29wZSAtPiBOL0FcclxuICogLSBhbGxvd2Z1bGxzY3JlZW4gLT4gYWxsb3dGdWxsc2NyZWVuXHJcbiAqIC0gZm9ybW5vdmFsaWRhdGUgLT4gZm9ybU5vVmFsaWRhdGVcclxuICogLSBpc21hcCAtPiBpc01hcFxyXG4gKiAtIG5vbW9kdWxlIC0+IG5vTW9kdWxlXHJcbiAqIC0gbm92YWxpZGF0ZSAtPiBub1ZhbGlkYXRlXHJcbiAqIC0gcmVhZG9ubHkgLT4gcmVhZE9ubHlcclxuICovXHJcbmNvbnN0IHNwZWNpYWxCb29sZWFuQXR0cnMgPSBgaXRlbXNjb3BlLGFsbG93ZnVsbHNjcmVlbixmb3Jtbm92YWxpZGF0ZSxpc21hcCxub21vZHVsZSxub3ZhbGlkYXRlLHJlYWRvbmx5YDtcclxuY29uc3QgaXNTcGVjaWFsQm9vbGVhbkF0dHIgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoc3BlY2lhbEJvb2xlYW5BdHRycyk7XHJcbi8qKlxyXG4gKiBUaGUgZnVsbCBsaXN0IGlzIG5lZWRlZCBkdXJpbmcgU1NSIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgaW5pdGlhbCBtYXJrdXAuXHJcbiAqL1xyXG5jb25zdCBpc0Jvb2xlYW5BdHRyID0gLyojX19QVVJFX18qLyBtYWtlTWFwKHNwZWNpYWxCb29sZWFuQXR0cnMgK1xyXG4gICAgYCxhc3luYyxhdXRvZm9jdXMsYXV0b3BsYXksY29udHJvbHMsZGVmYXVsdCxkZWZlcixkaXNhYmxlZCxoaWRkZW4sYCArXHJcbiAgICBgbG9vcCxvcGVuLHJlcXVpcmVkLHJldmVyc2VkLHNjb3BlZCxzZWFtbGVzcyxgICtcclxuICAgIGBjaGVja2VkLG11dGVkLG11bHRpcGxlLHNlbGVjdGVkYCk7XHJcbmNvbnN0IHVuc2FmZUF0dHJDaGFyUkUgPSAvWz4vPVwiJ1xcdTAwMDlcXHUwMDBhXFx1MDAwY1xcdTAwMjBdLztcclxuY29uc3QgYXR0clZhbGlkYXRpb25DYWNoZSA9IHt9O1xyXG5mdW5jdGlvbiBpc1NTUlNhZmVBdHRyTmFtZShuYW1lKSB7XHJcbiAgICBpZiAoYXR0clZhbGlkYXRpb25DYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgIHJldHVybiBhdHRyVmFsaWRhdGlvbkNhY2hlW25hbWVdO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaXNVbnNhZmUgPSB1bnNhZmVBdHRyQ2hhclJFLnRlc3QobmFtZSk7XHJcbiAgICBpZiAoaXNVbnNhZmUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGB1bnNhZmUgYXR0cmlidXRlIG5hbWU6ICR7bmFtZX1gKTtcclxuICAgIH1cclxuICAgIHJldHVybiAoYXR0clZhbGlkYXRpb25DYWNoZVtuYW1lXSA9ICFpc1Vuc2FmZSk7XHJcbn1cclxuY29uc3QgcHJvcHNUb0F0dHJNYXAgPSB7XHJcbiAgICBhY2NlcHRDaGFyc2V0OiAnYWNjZXB0LWNoYXJzZXQnLFxyXG4gICAgY2xhc3NOYW1lOiAnY2xhc3MnLFxyXG4gICAgaHRtbEZvcjogJ2ZvcicsXHJcbiAgICBodHRwRXF1aXY6ICdodHRwLWVxdWl2J1xyXG59O1xyXG4vKipcclxuICogQ1NTIHByb3BlcnRpZXMgdGhhdCBhY2NlcHQgcGxhaW4gbnVtYmVyc1xyXG4gKi9cclxuY29uc3QgaXNOb1VuaXROdW1lcmljU3R5bGVQcm9wID0gLyojX19QVVJFX18qLyBtYWtlTWFwKGBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50LGJvcmRlci1pbWFnZS1vdXRzZXQsYm9yZGVyLWltYWdlLXNsaWNlLGAgK1xyXG4gICAgYGJvcmRlci1pbWFnZS13aWR0aCxib3gtZmxleCxib3gtZmxleC1ncm91cCxib3gtb3JkaW5hbC1ncm91cCxjb2x1bW4tY291bnQsYCArXHJcbiAgICBgY29sdW1ucyxmbGV4LGZsZXgtZ3JvdyxmbGV4LXBvc2l0aXZlLGZsZXgtc2hyaW5rLGZsZXgtbmVnYXRpdmUsZmxleC1vcmRlcixgICtcclxuICAgIGBncmlkLXJvdyxncmlkLXJvdy1lbmQsZ3JpZC1yb3ctc3BhbixncmlkLXJvdy1zdGFydCxncmlkLWNvbHVtbixgICtcclxuICAgIGBncmlkLWNvbHVtbi1lbmQsZ3JpZC1jb2x1bW4tc3BhbixncmlkLWNvbHVtbi1zdGFydCxmb250LXdlaWdodCxsaW5lLWNsYW1wLGAgK1xyXG4gICAgYGxpbmUtaGVpZ2h0LG9wYWNpdHksb3JkZXIsb3JwaGFucyx0YWItc2l6ZSx3aWRvd3Msei1pbmRleCx6b29tLGAgK1xyXG4gICAgLy8gU1ZHXHJcbiAgICBgZmlsbC1vcGFjaXR5LGZsb29kLW9wYWNpdHksc3RvcC1vcGFjaXR5LHN0cm9rZS1kYXNoYXJyYXksc3Ryb2tlLWRhc2hvZmZzZXQsYCArXHJcbiAgICBgc3Ryb2tlLW1pdGVybGltaXQsc3Ryb2tlLW9wYWNpdHksc3Ryb2tlLXdpZHRoYCk7XHJcbi8qKlxyXG4gKiBLbm93biBhdHRyaWJ1dGVzLCB0aGlzIGlzIHVzZWQgZm9yIHN0cmluZ2lmaWNhdGlvbiBvZiBydW50aW1lIHN0YXRpYyBub2Rlc1xyXG4gKiBzbyB0aGF0IHdlIGRvbid0IHN0cmluZ2lmeSBiaW5kaW5ncyB0aGF0IGNhbm5vdCBiZSBzZXQgZnJvbSBIVE1MLlxyXG4gKiBEb24ndCBhbHNvIGZvcmdldCB0byBhbGxvdyBgZGF0YS0qYCBhbmQgYGFyaWEtKmAhXHJcbiAqIEdlbmVyYXRlZCBmcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQXR0cmlidXRlc1xyXG4gKi9cclxuY29uc3QgaXNLbm93bkF0dHIgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoYGFjY2VwdCxhY2NlcHQtY2hhcnNldCxhY2Nlc3NrZXksYWN0aW9uLGFsaWduLGFsbG93LGFsdCxhc3luYyxgICtcclxuICAgIGBhdXRvY2FwaXRhbGl6ZSxhdXRvY29tcGxldGUsYXV0b2ZvY3VzLGF1dG9wbGF5LGJhY2tncm91bmQsYmdjb2xvcixgICtcclxuICAgIGBib3JkZXIsYnVmZmVyZWQsY2FwdHVyZSxjaGFsbGVuZ2UsY2hhcnNldCxjaGVja2VkLGNpdGUsY2xhc3MsY29kZSxgICtcclxuICAgIGBjb2RlYmFzZSxjb2xvcixjb2xzLGNvbHNwYW4sY29udGVudCxjb250ZW50ZWRpdGFibGUsY29udGV4dG1lbnUsY29udHJvbHMsYCArXHJcbiAgICBgY29vcmRzLGNyb3Nzb3JpZ2luLGNzcCxkYXRhLGRhdGV0aW1lLGRlY29kaW5nLGRlZmF1bHQsZGVmZXIsZGlyLGRpcm5hbWUsYCArXHJcbiAgICBgZGlzYWJsZWQsZG93bmxvYWQsZHJhZ2dhYmxlLGRyb3B6b25lLGVuY3R5cGUsZW50ZXJrZXloaW50LGZvcixmb3JtLGAgK1xyXG4gICAgYGZvcm1hY3Rpb24sZm9ybWVuY3R5cGUsZm9ybW1ldGhvZCxmb3Jtbm92YWxpZGF0ZSxmb3JtdGFyZ2V0LGhlYWRlcnMsYCArXHJcbiAgICBgaGVpZ2h0LGhpZGRlbixoaWdoLGhyZWYsaHJlZmxhbmcsaHR0cC1lcXVpdixpY29uLGlkLGltcG9ydGFuY2UsaW50ZWdyaXR5LGAgK1xyXG4gICAgYGlzbWFwLGl0ZW1wcm9wLGtleXR5cGUsa2luZCxsYWJlbCxsYW5nLGxhbmd1YWdlLGxvYWRpbmcsbGlzdCxsb29wLGxvdyxgICtcclxuICAgIGBtYW5pZmVzdCxtYXgsbWF4bGVuZ3RoLG1pbmxlbmd0aCxtZWRpYSxtaW4sbXVsdGlwbGUsbXV0ZWQsbmFtZSxub3ZhbGlkYXRlLGAgK1xyXG4gICAgYG9wZW4sb3B0aW11bSxwYXR0ZXJuLHBpbmcscGxhY2Vob2xkZXIscG9zdGVyLHByZWxvYWQscmFkaW9ncm91cCxyZWFkb25seSxgICtcclxuICAgIGByZWZlcnJlcnBvbGljeSxyZWwscmVxdWlyZWQscmV2ZXJzZWQscm93cyxyb3dzcGFuLHNhbmRib3gsc2NvcGUsc2NvcGVkLGAgK1xyXG4gICAgYHNlbGVjdGVkLHNoYXBlLHNpemUsc2l6ZXMsc2xvdCxzcGFuLHNwZWxsY2hlY2ssc3JjLHNyY2RvYyxzcmNsYW5nLHNyY3NldCxgICtcclxuICAgIGBzdGFydCxzdGVwLHN0eWxlLHN1bW1hcnksdGFiaW5kZXgsdGFyZ2V0LHRpdGxlLHRyYW5zbGF0ZSx0eXBlLHVzZW1hcCxgICtcclxuICAgIGB2YWx1ZSx3aWR0aCx3cmFwYCk7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0eWxlKHZhbHVlKSB7XHJcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBjb25zdCByZXMgPSB7fTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB2YWx1ZVtpXTtcclxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVN0eWxlKGlzU3RyaW5nKGl0ZW0pID8gcGFyc2VTdHJpbmdTdHlsZShpdGVtKSA6IGl0ZW0pO1xyXG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbm9ybWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc1trZXldID0gbm9ybWFsaXplZFtrZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgbGlzdERlbGltaXRlclJFID0gLzsoPyFbXihdKlxcKSkvZztcclxuY29uc3QgcHJvcGVydHlEZWxpbWl0ZXJSRSA9IC86KC4rKS87XHJcbmZ1bmN0aW9uIHBhcnNlU3RyaW5nU3R5bGUoY3NzVGV4dCkge1xyXG4gICAgY29uc3QgcmV0ID0ge307XHJcbiAgICBjc3NUZXh0LnNwbGl0KGxpc3REZWxpbWl0ZXJSRSkuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICBjb25zdCB0bXAgPSBpdGVtLnNwbGl0KHByb3BlcnR5RGVsaW1pdGVyUkUpO1xyXG4gICAgICAgICAgICB0bXAubGVuZ3RoID4gMSAmJiAocmV0W3RtcFswXS50cmltKCldID0gdG1wWzFdLnRyaW0oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XHJcbmZ1bmN0aW9uIHN0cmluZ2lmeVN0eWxlKHN0eWxlcykge1xyXG4gICAgbGV0IHJldCA9ICcnO1xyXG4gICAgaWYgKCFzdHlsZXMpIHtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gc3R5bGVzKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzdHlsZXNba2V5XTtcclxuICAgICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0ga2V5LnN0YXJ0c1dpdGgoYC0tYCkgPyBrZXkgOiBoeXBoZW5hdGUoa2V5KTtcclxuICAgICAgICBpZiAoaXNTdHJpbmcodmFsdWUpIHx8XHJcbiAgICAgICAgICAgICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzTm9Vbml0TnVtZXJpY1N0eWxlUHJvcChub3JtYWxpemVkS2V5KSkpIHtcclxuICAgICAgICAgICAgLy8gb25seSByZW5kZXIgdmFsaWQgdmFsdWVzXHJcbiAgICAgICAgICAgIHJldCArPSBgJHtub3JtYWxpemVkS2V5fToke3ZhbHVlfTtgO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplQ2xhc3ModmFsdWUpIHtcclxuICAgIGxldCByZXMgPSAnJztcclxuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcclxuICAgICAgICByZXMgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICByZXMgKz0gbm9ybWFsaXplQ2xhc3ModmFsdWVbaV0pICsgJyAnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWVbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHJlcyArPSBuYW1lICsgJyAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy50cmltKCk7XHJcbn1cblxuLy8gVGhlc2UgdGFnIGNvbmZpZ3MgYXJlIHNoYXJlZCBiZXR3ZWVuIGNvbXBpbGVyLWRvbSBhbmQgcnVudGltZS1kb20sIHNvIHRoZXlcclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50XHJcbmNvbnN0IEhUTUxfVEFHUyA9ICdodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSxhZGRyZXNzLGFydGljbGUsYXNpZGUsZm9vdGVyLCcgK1xyXG4gICAgJ2hlYWRlcixoMSxoMixoMyxoNCxoNSxoNixoZ3JvdXAsbmF2LHNlY3Rpb24sZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sJyArXHJcbiAgICAnZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsJyArXHJcbiAgICAnZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ0YyxydWJ5LHMsc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLCcgK1xyXG4gICAgJ3RpbWUsdSx2YXIsd2JyLGFyZWEsYXVkaW8sbWFwLHRyYWNrLHZpZGVvLGVtYmVkLG9iamVjdCxwYXJhbSxzb3VyY2UsJyArXHJcbiAgICAnY2FudmFzLHNjcmlwdCxub3NjcmlwdCxkZWwsaW5zLGNhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLCcgK1xyXG4gICAgJ3RoLHRyLGJ1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCwnICtcclxuICAgICdvcHRpb24sb3V0cHV0LHByb2dyZXNzLHNlbGVjdCx0ZXh0YXJlYSxkZXRhaWxzLGRpYWxvZyxtZW51LCcgK1xyXG4gICAgJ3N1bW1hcnksdGVtcGxhdGUsYmxvY2txdW90ZSxpZnJhbWUsdGZvb3QnO1xyXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvRWxlbWVudFxyXG5jb25zdCBTVkdfVEFHUyA9ICdzdmcsYW5pbWF0ZSxhbmltYXRlTW90aW9uLGFuaW1hdGVUcmFuc2Zvcm0sY2lyY2xlLGNsaXBQYXRoLGNvbG9yLXByb2ZpbGUsJyArXHJcbiAgICAnZGVmcyxkZXNjLGRpc2NhcmQsZWxsaXBzZSxmZUJsZW5kLGZlQ29sb3JNYXRyaXgsZmVDb21wb25lbnRUcmFuc2ZlciwnICtcclxuICAgICdmZUNvbXBvc2l0ZSxmZUNvbnZvbHZlTWF0cml4LGZlRGlmZnVzZUxpZ2h0aW5nLGZlRGlzcGxhY2VtZW50TWFwLCcgK1xyXG4gICAgJ2ZlRGlzdGFuY2VMaWdodCxmZURyb3BTaGFkb3csZmVGbG9vZCxmZUZ1bmNBLGZlRnVuY0IsZmVGdW5jRyxmZUZ1bmNSLCcgK1xyXG4gICAgJ2ZlR2F1c3NpYW5CbHVyLGZlSW1hZ2UsZmVNZXJnZSxmZU1lcmdlTm9kZSxmZU1vcnBob2xvZ3ksZmVPZmZzZXQsJyArXHJcbiAgICAnZmVQb2ludExpZ2h0LGZlU3BlY3VsYXJMaWdodGluZyxmZVNwb3RMaWdodCxmZVRpbGUsZmVUdXJidWxlbmNlLGZpbHRlciwnICtcclxuICAgICdmb3JlaWduT2JqZWN0LGcsaGF0Y2gsaGF0Y2hwYXRoLGltYWdlLGxpbmUsbGluZWFyR3JhZGllbnQsbWFya2VyLG1hc2ssJyArXHJcbiAgICAnbWVzaCxtZXNoZ3JhZGllbnQsbWVzaHBhdGNoLG1lc2hyb3csbWV0YWRhdGEsbXBhdGgscGF0aCxwYXR0ZXJuLCcgK1xyXG4gICAgJ3BvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc29saWRjb2xvcixzdG9wLHN3aXRjaCxzeW1ib2wsJyArXHJcbiAgICAndGV4dCx0ZXh0UGF0aCx0aXRsZSx0c3Bhbix1bmtub3duLHVzZSx2aWV3JztcclxuY29uc3QgVk9JRF9UQUdTID0gJ2FyZWEsYmFzZSxicixjb2wsZW1iZWQsaHIsaW1nLGlucHV0LGxpbmssbWV0YSxwYXJhbSxzb3VyY2UsdHJhY2ssd2JyJztcclxuY29uc3QgaXNIVE1MVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKEhUTUxfVEFHUyk7XHJcbmNvbnN0IGlzU1ZHVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFNWR19UQUdTKTtcclxuY29uc3QgaXNWb2lkVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFZPSURfVEFHUyk7XG5cbmNvbnN0IGVzY2FwZVJFID0gL1tcIicmPD5dLztcclxuZnVuY3Rpb24gZXNjYXBlSHRtbChzdHJpbmcpIHtcclxuICAgIGNvbnN0IHN0ciA9ICcnICsgc3RyaW5nO1xyXG4gICAgY29uc3QgbWF0Y2ggPSBlc2NhcGVSRS5leGVjKHN0cik7XHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxuICAgIGxldCBodG1sID0gJyc7XHJcbiAgICBsZXQgZXNjYXBlZDtcclxuICAgIGxldCBpbmRleDtcclxuICAgIGxldCBsYXN0SW5kZXggPSAwO1xyXG4gICAgZm9yIChpbmRleCA9IG1hdGNoLmluZGV4OyBpbmRleCA8IHN0ci5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICBzd2l0Y2ggKHN0ci5jaGFyQ29kZUF0KGluZGV4KSkge1xyXG4gICAgICAgICAgICBjYXNlIDM0OiAvLyBcIlxyXG4gICAgICAgICAgICAgICAgZXNjYXBlZCA9ICcmcXVvdDsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzg6IC8vICZcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJmFtcDsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzk6IC8vICdcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJiMzOTsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNjA6IC8vIDxcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJmx0Oyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA2MjogLy8gPlxyXG4gICAgICAgICAgICAgICAgZXNjYXBlZCA9ICcmZ3Q7JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsYXN0SW5kZXggIT09IGluZGV4KSB7XHJcbiAgICAgICAgICAgIGh0bWwgKz0gc3RyLnN1YnN0cmluZyhsYXN0SW5kZXgsIGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGFzdEluZGV4ID0gaW5kZXggKyAxO1xyXG4gICAgICAgIGh0bWwgKz0gZXNjYXBlZDtcclxuICAgIH1cclxuICAgIHJldHVybiBsYXN0SW5kZXggIT09IGluZGV4ID8gaHRtbCArIHN0ci5zdWJzdHJpbmcobGFzdEluZGV4LCBpbmRleCkgOiBodG1sO1xyXG59XHJcbi8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNTIvc3ludGF4Lmh0bWwjY29tbWVudHNcclxuY29uc3QgY29tbWVudFN0cmlwUkUgPSAvXi0/Pnw8IS0tfC0tPnwtLSE+fDwhLSQvZztcclxuZnVuY3Rpb24gZXNjYXBlSHRtbENvbW1lbnQoc3JjKSB7XHJcbiAgICByZXR1cm4gc3JjLnJlcGxhY2UoY29tbWVudFN0cmlwUkUsICcnKTtcclxufVxuXG5mdW5jdGlvbiBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikge1xyXG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICBsZXQgZXF1YWwgPSB0cnVlO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGVxdWFsICYmIGkgPCBhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZXF1YWwgPSBsb29zZUVxdWFsKGFbaV0sIGJbaV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVxdWFsO1xyXG59XHJcbmZ1bmN0aW9uIGxvb3NlRXF1YWwoYSwgYikge1xyXG4gICAgaWYgKGEgPT09IGIpXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICBsZXQgYVZhbGlkVHlwZSA9IGlzRGF0ZShhKTtcclxuICAgIGxldCBiVmFsaWRUeXBlID0gaXNEYXRlKGIpO1xyXG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xyXG4gICAgICAgIHJldHVybiBhVmFsaWRUeXBlICYmIGJWYWxpZFR5cGUgPyBhLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKCkgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIGFWYWxpZFR5cGUgPSBpc0FycmF5KGEpO1xyXG4gICAgYlZhbGlkVHlwZSA9IGlzQXJyYXkoYik7XHJcbiAgICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSA6IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgYVZhbGlkVHlwZSA9IGlzT2JqZWN0KGEpO1xyXG4gICAgYlZhbGlkVHlwZSA9IGlzT2JqZWN0KGIpO1xyXG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZjogdGhpcyBpZiB3aWxsIHByb2JhYmx5IG5ldmVyIGJlIGNhbGxlZCAqL1xyXG4gICAgICAgIGlmICghYVZhbGlkVHlwZSB8fCAhYlZhbGlkVHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFLZXlzQ291bnQgPSBPYmplY3Qua2V5cyhhKS5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgYktleXNDb3VudCA9IE9iamVjdC5rZXlzKGIpLmxlbmd0aDtcclxuICAgICAgICBpZiAoYUtleXNDb3VudCAhPT0gYktleXNDb3VudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcclxuICAgICAgICAgICAgY29uc3QgYUhhc0tleSA9IGEuaGFzT3duUHJvcGVydHkoa2V5KTtcclxuICAgICAgICAgICAgY29uc3QgYkhhc0tleSA9IGIuaGFzT3duUHJvcGVydHkoa2V5KTtcclxuICAgICAgICAgICAgaWYgKChhSGFzS2V5ICYmICFiSGFzS2V5KSB8fFxyXG4gICAgICAgICAgICAgICAgKCFhSGFzS2V5ICYmIGJIYXNLZXkpIHx8XHJcbiAgICAgICAgICAgICAgICAhbG9vc2VFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcoYSkgPT09IFN0cmluZyhiKTtcclxufVxyXG5mdW5jdGlvbiBsb29zZUluZGV4T2YoYXJyLCB2YWwpIHtcclxuICAgIHJldHVybiBhcnIuZmluZEluZGV4KGl0ZW0gPT4gbG9vc2VFcXVhbChpdGVtLCB2YWwpKTtcclxufVxuXG4vKipcclxuICogRm9yIGNvbnZlcnRpbmcge3sgaW50ZXJwb2xhdGlvbiB9fSB2YWx1ZXMgdG8gZGlzcGxheWVkIHN0cmluZ3MuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB0b0Rpc3BsYXlTdHJpbmcgPSAodmFsKSA9PiB7XHJcbiAgICByZXR1cm4gdmFsID09IG51bGxcclxuICAgICAgICA/ICcnXHJcbiAgICAgICAgOiBpc09iamVjdCh2YWwpXHJcbiAgICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkodmFsLCByZXBsYWNlciwgMilcclxuICAgICAgICAgICAgOiBTdHJpbmcodmFsKTtcclxufTtcclxuY29uc3QgcmVwbGFjZXIgPSAoX2tleSwgdmFsKSA9PiB7XHJcbiAgICBpZiAoaXNNYXAodmFsKSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFtgTWFwKCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLmVudHJpZXMoKV0ucmVkdWNlKChlbnRyaWVzLCBba2V5LCB2YWxdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbnRyaWVzW2Ake2tleX0gPT5gXSA9IHZhbDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbnRyaWVzO1xyXG4gICAgICAgICAgICB9LCB7fSlcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTZXQodmFsKSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFtgU2V0KCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLnZhbHVlcygpXVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdCh2YWwpICYmICFpc0FycmF5KHZhbCkgJiYgIWlzUGxhaW5PYmplY3QodmFsKSkge1xyXG4gICAgICAgIHJldHVybiBTdHJpbmcodmFsKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWw7XHJcbn07XG5cbi8qKlxyXG4gKiBMaXN0IG9mIEBiYWJlbC9wYXJzZXIgcGx1Z2lucyB0aGF0IGFyZSB1c2VkIGZvciB0ZW1wbGF0ZSBleHByZXNzaW9uXHJcbiAqIHRyYW5zZm9ybXMgYW5kIFNGQyBzY3JpcHQgdHJhbnNmb3Jtcy4gQnkgZGVmYXVsdCB3ZSBlbmFibGUgcHJvcG9zYWxzIHNsYXRlZFxyXG4gKiBmb3IgRVMyMDIwLiBUaGlzIHdpbGwgbmVlZCB0byBiZSB1cGRhdGVkIGFzIHRoZSBzcGVjIG1vdmVzIGZvcndhcmQuXHJcbiAqIEZ1bGwgbGlzdCBhdCBodHRwczovL2JhYmVsanMuaW8vZG9jcy9lbi9uZXh0L2JhYmVsLXBhcnNlciNwbHVnaW5zXHJcbiAqL1xyXG5jb25zdCBiYWJlbFBhcnNlckRlZmF1bHRQbHVnaW5zID0gW1xyXG4gICAgJ2JpZ0ludCcsXHJcbiAgICAnb3B0aW9uYWxDaGFpbmluZycsXHJcbiAgICAnbnVsbGlzaENvYWxlc2NpbmdPcGVyYXRvcidcclxuXTtcclxuY29uc3QgRU1QVFlfT0JKID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICA/IE9iamVjdC5mcmVlemUoe30pXHJcbiAgICA6IHt9O1xyXG5jb25zdCBFTVBUWV9BUlIgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBPYmplY3QuZnJlZXplKFtdKSA6IFtdO1xyXG5jb25zdCBOT09QID0gKCkgPT4geyB9O1xyXG4vKipcclxuICogQWx3YXlzIHJldHVybiBmYWxzZS5cclxuICovXHJcbmNvbnN0IE5PID0gKCkgPT4gZmFsc2U7XHJcbmNvbnN0IG9uUkUgPSAvXm9uW15hLXpdLztcclxuY29uc3QgaXNPbiA9IChrZXkpID0+IG9uUkUudGVzdChrZXkpO1xyXG5jb25zdCBpc01vZGVsTGlzdGVuZXIgPSAoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aCgnb25VcGRhdGU6Jyk7XHJcbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XHJcbmNvbnN0IHJlbW92ZSA9IChhcnIsIGVsKSA9PiB7XHJcbiAgICBjb25zdCBpID0gYXJyLmluZGV4T2YoZWwpO1xyXG4gICAgaWYgKGkgPiAtMSkge1xyXG4gICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcclxuY29uc3QgaGFzT3duID0gKHZhbCwga2V5KSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwga2V5KTtcclxuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XHJcbmNvbnN0IGlzTWFwID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IE1hcF0nO1xyXG5jb25zdCBpc1NldCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSAnW29iamVjdCBTZXRdJztcclxuY29uc3QgaXNEYXRlID0gKHZhbCkgPT4gdmFsIGluc3RhbmNlb2YgRGF0ZTtcclxuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbic7XHJcbmNvbnN0IGlzU3RyaW5nID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XHJcbmNvbnN0IGlzU3ltYm9sID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N5bWJvbCc7XHJcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xyXG5jb25zdCBpc1Byb21pc2UgPSAodmFsKSA9PiB7XHJcbiAgICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC50aGVuKSAmJiBpc0Z1bmN0aW9uKHZhbC5jYXRjaCk7XHJcbn07XHJcbmNvbnN0IG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcclxuY29uc3QgdG9UeXBlU3RyaW5nID0gKHZhbHVlKSA9PiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcclxuY29uc3QgdG9SYXdUeXBlID0gKHZhbHVlKSA9PiB7XHJcbiAgICAvLyBleHRyYWN0IFwiUmF3VHlwZVwiIGZyb20gc3RyaW5ncyBsaWtlIFwiW29iamVjdCBSYXdUeXBlXVwiXHJcbiAgICByZXR1cm4gdG9UeXBlU3RyaW5nKHZhbHVlKS5zbGljZSg4LCAtMSk7XHJcbn07XHJcbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XHJcbmNvbnN0IGlzSW50ZWdlcktleSA9IChrZXkpID0+IGlzU3RyaW5nKGtleSkgJiZcclxuICAgIGtleSAhPT0gJ05hTicgJiZcclxuICAgIGtleVswXSAhPT0gJy0nICYmXHJcbiAgICAnJyArIHBhcnNlSW50KGtleSwgMTApID09PSBrZXk7XHJcbmNvbnN0IGlzUmVzZXJ2ZWRQcm9wID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFxyXG4vLyB0aGUgbGVhZGluZyBjb21tYSBpcyBpbnRlbnRpb25hbCBzbyBlbXB0eSBzdHJpbmcgXCJcIiBpcyBhbHNvIGluY2x1ZGVkXHJcbicsa2V5LHJlZiwnICtcclxuICAgICdvblZub2RlQmVmb3JlTW91bnQsb25Wbm9kZU1vdW50ZWQsJyArXHJcbiAgICAnb25Wbm9kZUJlZm9yZVVwZGF0ZSxvblZub2RlVXBkYXRlZCwnICtcclxuICAgICdvblZub2RlQmVmb3JlVW5tb3VudCxvblZub2RlVW5tb3VudGVkJyk7XHJcbmNvbnN0IGNhY2hlU3RyaW5nRnVuY3Rpb24gPSAoZm4pID0+IHtcclxuICAgIGNvbnN0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHJldHVybiAoKHN0cikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGhpdCA9IGNhY2hlW3N0cl07XHJcbiAgICAgICAgcmV0dXJuIGhpdCB8fCAoY2FjaGVbc3RyXSA9IGZuKHN0cikpO1xyXG4gICAgfSk7XHJcbn07XHJcbmNvbnN0IGNhbWVsaXplUkUgPSAvLShcXHcpL2c7XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3QgY2FtZWxpemUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHtcclxuICAgIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCAoXywgYykgPT4gKGMgPyBjLnRvVXBwZXJDYXNlKCkgOiAnJykpO1xyXG59KTtcclxuY29uc3QgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IGh5cGhlbmF0ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsICctJDEnKS50b0xvd2VyQ2FzZSgpKTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCBjYXBpdGFsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSkpO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IHRvSGFuZGxlcktleSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gKHN0ciA/IGBvbiR7Y2FwaXRhbGl6ZShzdHIpfWAgOiBgYCkpO1xyXG4vLyBjb21wYXJlIHdoZXRoZXIgYSB2YWx1ZSBoYXMgY2hhbmdlZCwgYWNjb3VudGluZyBmb3IgTmFOLlxyXG5jb25zdCBoYXNDaGFuZ2VkID0gKHZhbHVlLCBvbGRWYWx1ZSkgPT4gdmFsdWUgIT09IG9sZFZhbHVlICYmICh2YWx1ZSA9PT0gdmFsdWUgfHwgb2xkVmFsdWUgPT09IG9sZFZhbHVlKTtcclxuY29uc3QgaW52b2tlQXJyYXlGbnMgPSAoZm5zLCBhcmcpID0+IHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm5zW2ldKGFyZyk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGRlZiA9IChvYmosIGtleSwgdmFsdWUpID0+IHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICB2YWx1ZVxyXG4gICAgfSk7XHJcbn07XHJcbmNvbnN0IHRvTnVtYmVyID0gKHZhbCkgPT4ge1xyXG4gICAgY29uc3QgbiA9IHBhcnNlRmxvYXQodmFsKTtcclxuICAgIHJldHVybiBpc05hTihuKSA/IHZhbCA6IG47XHJcbn07XHJcbmxldCBfZ2xvYmFsVGhpcztcclxuY29uc3QgZ2V0R2xvYmFsVGhpcyA9ICgpID0+IHtcclxuICAgIHJldHVybiAoX2dsb2JhbFRoaXMgfHxcclxuICAgICAgICAoX2dsb2JhbFRoaXMgPVxyXG4gICAgICAgICAgICB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgID8gZ2xvYmFsVGhpc1xyXG4gICAgICAgICAgICAgICAgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgICAgICA/IHNlbGZcclxuICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gd2luZG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZ2xvYmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSk7XHJcbn07XG5cbmV4cG9ydCB7IEVNUFRZX0FSUiwgRU1QVFlfT0JKLCBOTywgTk9PUCwgUGF0Y2hGbGFnTmFtZXMsIGJhYmVsUGFyc2VyRGVmYXVsdFBsdWdpbnMsIGNhbWVsaXplLCBjYXBpdGFsaXplLCBkZWYsIGVzY2FwZUh0bWwsIGVzY2FwZUh0bWxDb21tZW50LCBleHRlbmQsIGdlbmVyYXRlQ29kZUZyYW1lLCBnZXRHbG9iYWxUaGlzLCBoYXNDaGFuZ2VkLCBoYXNPd24sIGh5cGhlbmF0ZSwgaW52b2tlQXJyYXlGbnMsIGlzQXJyYXksIGlzQm9vbGVhbkF0dHIsIGlzRGF0ZSwgaXNGdW5jdGlvbiwgaXNHbG9iYWxseVdoaXRlbGlzdGVkLCBpc0hUTUxUYWcsIGlzSW50ZWdlcktleSwgaXNLbm93bkF0dHIsIGlzTWFwLCBpc01vZGVsTGlzdGVuZXIsIGlzTm9Vbml0TnVtZXJpY1N0eWxlUHJvcCwgaXNPYmplY3QsIGlzT24sIGlzUGxhaW5PYmplY3QsIGlzUHJvbWlzZSwgaXNSZXNlcnZlZFByb3AsIGlzU1NSU2FmZUF0dHJOYW1lLCBpc1NWR1RhZywgaXNTZXQsIGlzU3BlY2lhbEJvb2xlYW5BdHRyLCBpc1N0cmluZywgaXNTeW1ib2wsIGlzVm9pZFRhZywgbG9vc2VFcXVhbCwgbG9vc2VJbmRleE9mLCBtYWtlTWFwLCBub3JtYWxpemVDbGFzcywgbm9ybWFsaXplU3R5bGUsIG9iamVjdFRvU3RyaW5nLCBwYXJzZVN0cmluZ1N0eWxlLCBwcm9wc1RvQXR0ck1hcCwgcmVtb3ZlLCBzdHJpbmdpZnlTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXksIHRvTnVtYmVyLCB0b1Jhd1R5cGUsIHRvVHlwZVN0cmluZyB9O1xuIiwiPHRlbXBsYXRlPlxyXG4gICAgPGRpdiBpZD1cImFwcFwiPlxyXG4gICAgICAgIDxyb3V0ZXItdmlldyAvPlxyXG4gICAgPC9kaXY+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0PlxyXG4gICAgZXhwb3J0IGRlZmF1bHR7XHJcbiAgICAgICAgZGF0YSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgIH1cclxuPC9zY3JpcHQ+XHJcblxyXG5cclxuPHN0eWxlIHNjb3BlZD5cclxuICAgICNhcHB7XHJcbiAgICAgICAgd2lkdGg6IDYwJTtcclxuICAgICAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICAgICAgbWluLWhlaWdodDogNTAwcHg7XHJcbiAgICAgICAgYmFja2dyb3VuZDogI2YyZjRmODtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMjAlO1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDEwMHB4O1xyXG4gICAgfVxyXG48L3N0eWxlPiIsIjx0ZW1wbGF0ZT5cclxuICA8ZGl2IGNsYXNzPVwiaW5kZXhcIj5cclxuICAgIDxoMiBjbGFzcz1cInRpdGxlXCI+5Zu+54mH44CB6KeG6aKR5LiK5Lyg5bCP5bel5YW3IO+8iOaUr+aMgeaJuemHj+S4iuS8oO+8iTwvaDI+XHJcbiAgICA8ZGl2IGNsYXNzPVwic2VhcmNoXCI+XHJcbiAgICAgIDxpbnB1dFxyXG4gICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICBjbGFzcz1cInVwbG9hZF9maWxlXCJcclxuICAgICAgICB2LW1vZGVsPVwidmFsdWVcIlxyXG4gICAgICA+XHJcbiAgICAgIDxkaXYgc3R5bGU9XCJ3aWR0aDoxMCVcIj5cclxuICAgICAgICA8aW5wdXRcclxuICAgICAgICAgIHR5cGU9XCJmaWxlXCJcclxuICAgICAgICAgIHN0eWxlPVwiZGlzcGxheTpub25lXCJcclxuICAgICAgICAgIGlkPVwiZmlsZVwiXHJcbiAgICAgICAgICBtdWx0aXBsZT1cIm11bHRpcGxlXCJcclxuICAgICAgICAgIEBjaGFuZ2U9XCJjaG9vc2VGaWxlKCRldmVudClcIlxyXG4gICAgICAgID5cclxuICAgICAgICA8YVxyXG4gICAgICAgICAgaHJlZj1cImphdmFzY3JpcHQ6O1wiXHJcbiAgICAgICAgICBjbGFzcz1cImNob29zZVwiXHJcbiAgICAgICAgICBAY2xpY2s9XCJidG5GaWxlXCJcclxuICAgICAgICA+6YCJ5oup5Zu+54mHPC9hPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBzdHlsZT1cIndpZHRoOjEwJVwiPlxyXG4gICAgICAgIDwhLS0gPGlucHV0IHR5cGU9XCJmaWxlXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIiBAY2xpY2s9XCJ1cGxvYWRGaWxlXCI+IC0tPlxyXG4gICAgICAgIDxhXHJcbiAgICAgICAgICBocmVmPVwiamF2YXNjcmlwdDo7XCJcclxuICAgICAgICAgIGNsYXNzPVwiYnRuVXBsb2FkXCJcclxuICAgICAgICAgIEBjbGljaz1cImJ0blVwbG9hZFwiXHJcbiAgICAgICAgPuS4iuS8oDwvYT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XHJcbiAgICAgIDx0YWJsZT5cclxuICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgIDx0aD7nvJblj7c8L3RoPlxyXG4gICAgICAgICAgICA8dGg+5Zyw5Z2APC90aD5cclxuICAgICAgICAgICAgPHRoPumihOiniCA8L3RoPlxyXG4gICAgICAgICAgICA8dGg+5pel5pyfPC90aD5cclxuICAgICAgICAgICAgPHRoPuaTjeS9nDwvdGg+XHJcbiAgICAgICAgICA8L3RyPlxyXG4gICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgPHRyXHJcbiAgICAgICAgICAgIHYtZm9yPVwiKGl0ZW0sIGluZGV4KSBpbiBkYXRhTGlzdFwiXHJcbiAgICAgICAgICAgIDprZXk9XCJpbmRleFwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDx0ZD57e2l0ZW0uaWR9fTwvdGQ+XHJcbiAgICAgICAgICAgIDx0ZD57e2l0ZW0udXJsfX08L3RkPlxyXG4gICAgICAgICAgICA8dGQ+PGltZyA6c3JjPVwiaXRlbS51cmxcIiBhbHQ9XCJcIj48L3RkPlxyXG4gICAgICAgICAgICA8dGQ+e3tpdGVtLnRpbWV9fTwvdGQ+XHJcbiAgICAgICAgICAgIDx0ZD57e2l0ZW0udGltZX19PC90ZD5cclxuICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgPC90Ym9keT5cclxuICAgICAgPC90YWJsZT5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGRhdGEoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB2YWx1ZTogXCJcIixcclxuICAgICAgZGF0YUxpc3Q6IFwiXCJcclxuICAgIH07XHJcbiAgfSxcclxuICBjcmVhdGVkKCkge1xyXG4gICAgbGV0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XHJcbiAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICB1cmw6IG9yaWdpbiArIFwiL2dldEZpbGVcIixcclxuICAgICAgdHlwZTogXCJnZXRcIixcclxuICAgICAgZGF0YTogXCJcIixcclxuICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICBwcm9jZXNzRGF0YTogZmFsc2UsIC8vIOWRiuiviWpRdWVyeeS4jeimgeWOu+WkhOeQhuWPkemAgeeahOaVsOaNrlxyXG4gICAgICBjb250ZW50VHlwZTogZmFsc2UsIC8vIOWRiuiviWpRdWVyeeS4jeimgeWOu+iuvue9rkNvbnRlbnQtVHlwZeivt+axguWktFxyXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICBzZWxmLmRhdGFMaXN0ID0gcmVzO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZhaWw6IGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgbWV0aG9kczoge1xyXG4gICAgYnRuRmlsZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICQoXCIjZmlsZVwiKS5jbGljaygpO1xyXG4gICAgfSxcclxuICAgIGNob29zZUZpbGU6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgbGV0IGxlbiA9IGUudGFyZ2V0LmZpbGVzLmxlbmd0aDtcclxuICAgICAgbGV0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XHJcbiAgICAgIGxldCBmaWxlTmFtZSA9IFwiXCI7XHJcbiAgICAgIGxldCBmaWxlID0gXCJcIjtcclxuICAgICAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgZmlsZSA9IGUudGFyZ2V0LmZpbGVzW2ldO1xyXG4gICAgICAgIGZpbGVOYW1lID0gZS50YXJnZXQuZmlsZXNbaV0ubmFtZTtcclxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJmaWxlXCIgKyBpLCBmaWxlKTtcclxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJmaWxlTmFtZVwiICsgaSwgZmlsZU5hbWUpO1xyXG4gICAgICAgIHRoaXMudmFsdWUgKz0gZS50YXJnZXQuZmlsZXNbaV0ubmFtZSArIFwiICBcIjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IG9yaWdpbiArIFwiL3VwbG9hZFwiLFxyXG4gICAgICAgIHR5cGU6IFwicG9zdFwiLFxyXG4gICAgICAgIGRhdGE6IGZvcm1EYXRhLFxyXG4gICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsIC8vIOWRiuiviWpRdWVyeeS4jeimgeWOu+WkhOeQhuWPkemAgeeahOaVsOaNrlxyXG4gICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZSwgLy8g5ZGK6K+JalF1ZXJ55LiN6KaB5Y676K6+572uQ29udGVudC1UeXBl6K+35rGC5aS0XHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZmFpbDogZnVuY3Rpb24oZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGUudGFyZ2V0LmZpbGVzLmxlbmd0aCk7XHJcbiAgICB9LFxyXG4gICAgYnRuVXBsb2FkOiBmdW5jdGlvbigpIHt9XHJcbiAgfVxyXG59O1xyXG48L3NjcmlwdD5cclxuXHJcblxyXG48c3R5bGUgc2NvcGVkID5cclxuYSB7XHJcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcbi50aXRsZSB7XHJcbiAgY29sb3I6ICM4ZTgxODg7XHJcbiAgcGFkZGluZy10b3A6IDI1cHg7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuLnNlYXJjaCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG4udXBsb2FkX2ZpbGUge1xyXG4gIGJhY2tncm91bmQ6ICNlZWU7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgd2lkdGg6IDgwJTtcclxuICBoZWlnaHQ6IDQwcHg7XHJcbiAgYm9yZGVyOiAwcHg7XHJcbiAgb3V0bGluZTogbm9uZTtcclxufVxyXG4uY2hvb3NlIHtcclxuICBkaXNwbGF5OiBibG9jaztcclxuICBoZWlnaHQ6IDQwcHg7XHJcbiAgLyogd2lkdGg6IDEwJTsgKi9cclxuICBiYWNrZ3JvdW5kOiAjNWE2YTdhO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIGxpbmUtaGVpZ2h0OiA0MHB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4uYnRuVXBsb2FkIHtcclxuICBkaXNwbGF5OiBibG9jaztcclxuICBoZWlnaHQ6IDQwcHg7XHJcbiAgLyogd2lkdGg6IDEwJTsgKi9cclxuICBiYWNrZ3JvdW5kOiAjNGNiNmNiO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIGxpbmUtaGVpZ2h0OiA0MHB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxudGFibGUge1xyXG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7XHJcbn1cclxudGFibGUgdGQsXHJcbnRhYmxlIHRoIHtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjY2FkOWVhO1xyXG4gIGNvbG9yOiAjNjY2O1xyXG4gIGhlaWdodDogMzBweDtcclxufVxyXG50YWJsZSB0aGVhZCB0aCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NjZThlYjtcclxuICB3aWR0aDogMTAwcHg7XHJcbn1cclxudGFibGUgdHI6bnRoLWNoaWxkKG9kZCkge1xyXG4gIGJhY2tncm91bmQ6ICNmZmY7XHJcbn1cclxudGFibGUgdHI6bnRoLWNoaWxkKGV2ZW4pIHtcclxuICBiYWNrZ3JvdW5kOiAjZjVmYWZhO1xyXG59XHJcbnRhYmxlIHRyIHRke1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG59XHJcbjwvc3R5bGU+XHJcbiIsIjx0ZW1wbGF0ZT5cclxuICAgIDxkaXYgY2xhc3M9XCJ0ZXN0XCI+XHJcbiAgICAgICAgYWFhYWRzYWRhc2RcclxuICAgIDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuXHJcbjwvc2NyaXB0PlxyXG5cclxuXHJcbjxzdHlsZT5cclxuPC9zdHlsZT4iLCIvKiFcbiAgKiB2dWUtcm91dGVyIHY0LjAuMC1yYy4zXG4gICogKGMpIDIwMjAgRWR1YXJkbyBTYW4gTWFydGluIE1vcm90ZVxuICAqIEBsaWNlbnNlIE1JVFxuICAqL1xuaW1wb3J0IHsgZ2V0Q3VycmVudEluc3RhbmNlLCBpbmplY3QsIG9uVW5tb3VudGVkLCBvbkRlYWN0aXZhdGVkLCBvbkFjdGl2YXRlZCwgY29tcHV0ZWQsIHVucmVmLCBkZWZpbmVDb21wb25lbnQsIHJlYWN0aXZlLCBoLCBwcm92aWRlLCByZWYsIHdhdGNoLCBzaGFsbG93UmVmLCBuZXh0VGljayB9IGZyb20gJ3Z1ZSc7XG5cbmNvbnN0IGhhc1N5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCc7XHJcbmNvbnN0IFBvbHlTeW1ib2wgPSAobmFtZSkgPT4gXHJcbi8vIHZyID0gdnVlIHJvdXRlclxyXG5oYXNTeW1ib2xcclxuICAgID8gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdbdnVlLXJvdXRlcl06ICcgKyBuYW1lIDogbmFtZSlcclxuICAgIDogKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdbdnVlLXJvdXRlcl06ICcgOiAnX3ZyXycpICsgbmFtZTtcclxuLy8gcnZsbSA9IFJvdXRlciBWaWV3IExvY2F0aW9uIE1hdGNoZWRcclxuY29uc3QgbWF0Y2hlZFJvdXRlS2V5ID0gLyojX19QVVJFX18qLyBQb2x5U3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdyb3V0ZXIgdmlldyBsb2NhdGlvbiBtYXRjaGVkJyA6ICdydmxtJyk7XHJcbi8vIHJ2ZCA9IFJvdXRlciBWaWV3IERlcHRoXHJcbmNvbnN0IHZpZXdEZXB0aEtleSA9IC8qI19fUFVSRV9fKi8gUG9seVN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAncm91dGVyIHZpZXcgZGVwdGgnIDogJ3J2ZCcpO1xyXG4vKipcclxuICogQWxsb3dzIG92ZXJyaWRpbmcgdGhlIHJvdXRlciBpbnN0YW5jZSByZXR1cm5lZCBieSBgdXNlUm91dGVyYCBpbiB0ZXN0cy4gciBzdGFuZHMgZm9yIHJvdXRlclxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmNvbnN0IHJvdXRlcktleSA9IC8qI19fUFVSRV9fKi8gUG9seVN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAncm91dGVyJyA6ICdyJyk7XHJcbi8qKlxyXG4gKiBBbGxvd3Mgb3ZlcnJpZGluZyB0aGUgY3VycmVudCByb3V0ZSByZXR1cm5lZCBieSBgdXNlUm91dGVgIGluIHRlc3RzLiBybCBzdGFuZHMgZm9yIHJvdXRlIGxvY2F0aW9uXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuY29uc3Qgcm91dGVMb2NhdGlvbktleSA9IC8qI19fUFVSRV9fKi8gUG9seVN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAncm91dGUgbG9jYXRpb24nIDogJ3JsJyk7XG5cbmNvbnN0IGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuXG5mdW5jdGlvbiBpc0VTTW9kdWxlKG9iaikge1xyXG4gICAgcmV0dXJuIG9iai5fX2VzTW9kdWxlIHx8IChoYXNTeW1ib2wgJiYgb2JqW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdNb2R1bGUnKTtcclxufVxyXG5jb25zdCBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xyXG5mdW5jdGlvbiBhcHBseVRvUGFyYW1zKGZuLCBwYXJhbXMpIHtcclxuICAgIGNvbnN0IG5ld1BhcmFtcyA9IHt9O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbXNba2V5XTtcclxuICAgICAgICBuZXdQYXJhbXNba2V5XSA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKGZuKSA6IGZuKHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXdQYXJhbXM7XHJcbn1cclxubGV0IG5vb3AgPSAoKSA9PiB7IH07XG5cbmZ1bmN0aW9uIHdhcm4obXNnKSB7XHJcbiAgICAvLyBhdm9pZCB1c2luZyAuLi5hcmdzIGFzIGl0IGJyZWFrcyBpbiBvbGRlciBFZGdlIGJ1aWxkc1xyXG4gICAgY29uc3QgYXJncyA9IEFycmF5LmZyb20oYXJndW1lbnRzKS5zbGljZSgxKTtcclxuICAgIGNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLCBbJ1tWdWUgUm91dGVyIHdhcm5dOiAnICsgbXNnXS5jb25jYXQoYXJncykpO1xyXG59XG5cbmNvbnN0IFRSQUlMSU5HX1NMQVNIX1JFID0gL1xcLyQvO1xyXG5jb25zdCByZW1vdmVUcmFpbGluZ1NsYXNoID0gKHBhdGgpID0+IHBhdGgucmVwbGFjZShUUkFJTElOR19TTEFTSF9SRSwgJycpO1xyXG4vKipcclxuICogVHJhbnNmb3JtcyBhbiBVUkkgaW50byBhIG5vcm1hbGl6ZWQgaGlzdG9yeSBsb2NhdGlvblxyXG4gKlxyXG4gKiBAcGFyYW0gcGFyc2VRdWVyeVxyXG4gKiBAcGFyYW0gbG9jYXRpb24gLSBVUkkgdG8gbm9ybWFsaXplXHJcbiAqIEBwYXJhbSBjdXJyZW50TG9jYXRpb24gLSBjdXJyZW50IGFic29sdXRlIGxvY2F0aW9uLiBBbGxvd3MgcmVzb2x2aW5nIHJlbGF0aXZlXHJcbiAqIHBhdGhzLiBNdXN0IHN0YXJ0IHdpdGggYC9gLiBEZWZhdWx0cyB0byBgL2BcclxuICogQHJldHVybnMgYSBub3JtYWxpemVkIGhpc3RvcnkgbG9jYXRpb25cclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlVVJMKHBhcnNlUXVlcnksIGxvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24gPSAnLycpIHtcclxuICAgIGxldCBwYXRoLCBxdWVyeSA9IHt9LCBzZWFyY2hTdHJpbmcgPSAnJywgaGFzaCA9ICcnO1xyXG4gICAgLy8gQ291bGQgdXNlIFVSTCBhbmQgVVJMU2VhcmNoUGFyYW1zIGJ1dCBJRSAxMSBkb2Vzbid0IHN1cHBvcnQgaXRcclxuICAgIGNvbnN0IHNlYXJjaFBvcyA9IGxvY2F0aW9uLmluZGV4T2YoJz8nKTtcclxuICAgIGNvbnN0IGhhc2hQb3MgPSBsb2NhdGlvbi5pbmRleE9mKCcjJywgc2VhcmNoUG9zID4gLTEgPyBzZWFyY2hQb3MgOiAwKTtcclxuICAgIGlmIChzZWFyY2hQb3MgPiAtMSkge1xyXG4gICAgICAgIHBhdGggPSBsb2NhdGlvbi5zbGljZSgwLCBzZWFyY2hQb3MpO1xyXG4gICAgICAgIHNlYXJjaFN0cmluZyA9IGxvY2F0aW9uLnNsaWNlKHNlYXJjaFBvcyArIDEsIGhhc2hQb3MgPiAtMSA/IGhhc2hQb3MgOiBsb2NhdGlvbi5sZW5ndGgpO1xyXG4gICAgICAgIHF1ZXJ5ID0gcGFyc2VRdWVyeShzZWFyY2hTdHJpbmcpO1xyXG4gICAgfVxyXG4gICAgaWYgKGhhc2hQb3MgPiAtMSkge1xyXG4gICAgICAgIHBhdGggPSBwYXRoIHx8IGxvY2F0aW9uLnNsaWNlKDAsIGhhc2hQb3MpO1xyXG4gICAgICAgIC8vIGtlZXAgdGhlICMgY2hhcmFjdGVyXHJcbiAgICAgICAgaGFzaCA9IGxvY2F0aW9uLnNsaWNlKGhhc2hQb3MsIGxvY2F0aW9uLmxlbmd0aCk7XHJcbiAgICB9XHJcbiAgICAvLyBubyBzZWFyY2ggYW5kIG5vIHF1ZXJ5XHJcbiAgICBwYXRoID0gcmVzb2x2ZVJlbGF0aXZlUGF0aChwYXRoICE9IG51bGwgPyBwYXRoIDogbG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbik7XHJcbiAgICAvLyBlbXB0eSBwYXRoIG1lYW5zIGEgcmVsYXRpdmUgcXVlcnkgb3IgaGFzaCBgP2Zvbz1mYCwgYCN0aGluZ2BcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZnVsbFBhdGg6IHBhdGggKyAoc2VhcmNoU3RyaW5nICYmICc/JykgKyBzZWFyY2hTdHJpbmcgKyBoYXNoLFxyXG4gICAgICAgIHBhdGgsXHJcbiAgICAgICAgcXVlcnksXHJcbiAgICAgICAgaGFzaCxcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIFN0cmluZ2lmaWVzIGEgVVJMIG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW0gc3RyaW5naWZ5UXVlcnlcclxuICogQHBhcmFtIGxvY2F0aW9uXHJcbiAqL1xyXG5mdW5jdGlvbiBzdHJpbmdpZnlVUkwoc3RyaW5naWZ5UXVlcnksIGxvY2F0aW9uKSB7XHJcbiAgICBsZXQgcXVlcnkgPSBsb2NhdGlvbi5xdWVyeSA/IHN0cmluZ2lmeVF1ZXJ5KGxvY2F0aW9uLnF1ZXJ5KSA6ICcnO1xyXG4gICAgcmV0dXJuIGxvY2F0aW9uLnBhdGggKyAocXVlcnkgJiYgJz8nKSArIHF1ZXJ5ICsgKGxvY2F0aW9uLmhhc2ggfHwgJycpO1xyXG59XHJcbi8qKlxyXG4gKiBTdHJpcHMgb2ZmIHRoZSBiYXNlIGZyb20gdGhlIGJlZ2lubmluZyBvZiBhIGxvY2F0aW9uLnBhdGhuYW1lIGluIGEgbm9uXHJcbiAqIGNhc2Utc2Vuc2l0aXZlIHdheS5cclxuICpcclxuICogQHBhcmFtIHBhdGhuYW1lIC0gbG9jYXRpb24ucGF0aG5hbWVcclxuICogQHBhcmFtIGJhc2UgLSBiYXNlIHRvIHN0cmlwIG9mZlxyXG4gKi9cclxuZnVuY3Rpb24gc3RyaXBCYXNlKHBhdGhuYW1lLCBiYXNlKSB7XHJcbiAgICAvLyBubyBiYXNlIG9yIGJhc2UgaXMgbm90IGZvdW5kIGF0IHRoZSBiZWdpbm5pbmdcclxuICAgIGlmICghYmFzZSB8fCBwYXRobmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYmFzZS50b0xvd2VyQ2FzZSgpKSlcclxuICAgICAgICByZXR1cm4gcGF0aG5hbWU7XHJcbiAgICByZXR1cm4gcGF0aG5hbWUuc2xpY2UoYmFzZS5sZW5ndGgpIHx8ICcvJztcclxufVxyXG4vKipcclxuICogQ2hlY2tzIGlmIHR3byBSb3V0ZUxvY2F0aW9uIGFyZSBlcXVhbC4gVGhpcyBtZWFucyB0aGF0IGJvdGggbG9jYXRpb25zIGFyZVxyXG4gKiBwb2ludGluZyB0b3dhcmRzIHRoZSBzYW1lIHtAbGluayBSb3V0ZVJlY29yZH0gYW5kIHRoYXQgYWxsIGBwYXJhbXNgLCBgcXVlcnlgXHJcbiAqIHBhcmFtZXRlcnMgYW5kIGBoYXNoYCBhcmUgdGhlIHNhbWVcclxuICpcclxuICogQHBhcmFtIGEgLSBmaXJzdCB7QGxpbmsgUm91dGVMb2NhdGlvbn1cclxuICogQHBhcmFtIGIgLSBzZWNvbmQge0BsaW5rIFJvdXRlTG9jYXRpb259XHJcbiAqL1xyXG5mdW5jdGlvbiBpc1NhbWVSb3V0ZUxvY2F0aW9uKHN0cmluZ2lmeVF1ZXJ5LCBhLCBiKSB7XHJcbiAgICBsZXQgYUxhc3RJbmRleCA9IGEubWF0Y2hlZC5sZW5ndGggLSAxO1xyXG4gICAgbGV0IGJMYXN0SW5kZXggPSBiLm1hdGNoZWQubGVuZ3RoIC0gMTtcclxuICAgIHJldHVybiAoYUxhc3RJbmRleCA+IC0xICYmXHJcbiAgICAgICAgYUxhc3RJbmRleCA9PT0gYkxhc3RJbmRleCAmJlxyXG4gICAgICAgIGlzU2FtZVJvdXRlUmVjb3JkKGEubWF0Y2hlZFthTGFzdEluZGV4XSwgYi5tYXRjaGVkW2JMYXN0SW5kZXhdKSAmJlxyXG4gICAgICAgIGlzU2FtZVJvdXRlTG9jYXRpb25QYXJhbXMoYS5wYXJhbXMsIGIucGFyYW1zKSAmJlxyXG4gICAgICAgIHN0cmluZ2lmeVF1ZXJ5KGEucXVlcnkpID09PSBzdHJpbmdpZnlRdWVyeShiLnF1ZXJ5KSAmJlxyXG4gICAgICAgIGEuaGFzaCA9PT0gYi5oYXNoKTtcclxufVxyXG4vKipcclxuICogQ2hlY2sgaWYgdHdvIGBSb3V0ZVJlY29yZHNgIGFyZSBlcXVhbC4gVGFrZXMgaW50byBhY2NvdW50IGFsaWFzZXM6IHRoZXkgYXJlXHJcbiAqIGNvbnNpZGVyZWQgZXF1YWwgdG8gdGhlIGBSb3V0ZVJlY29yZGAgdGhleSBhcmUgYWxpYXNpbmcuXHJcbiAqXHJcbiAqIEBwYXJhbSBhIC0gZmlyc3Qge0BsaW5rIFJvdXRlUmVjb3JkfVxyXG4gKiBAcGFyYW0gYiAtIHNlY29uZCB7QGxpbmsgUm91dGVSZWNvcmR9XHJcbiAqL1xyXG5mdW5jdGlvbiBpc1NhbWVSb3V0ZVJlY29yZChhLCBiKSB7XHJcbiAgICAvLyBzaW5jZSB0aGUgb3JpZ2luYWwgcmVjb3JkIGhhcyBhbiB1bmRlZmluZWQgdmFsdWUgZm9yIGFsaWFzT2ZcclxuICAgIC8vIGJ1dCBhbGwgYWxpYXNlcyBwb2ludCB0byB0aGUgb3JpZ2luYWwgcmVjb3JkLCB0aGlzIHdpbGwgYWx3YXlzIGNvbXBhcmVcclxuICAgIC8vIHRoZSBvcmlnaW5hbCByZWNvcmRcclxuICAgIHJldHVybiAoYS5hbGlhc09mIHx8IGEpID09PSAoYi5hbGlhc09mIHx8IGIpO1xyXG59XHJcbmZ1bmN0aW9uIGlzU2FtZVJvdXRlTG9jYXRpb25QYXJhbXMoYSwgYikge1xyXG4gICAgaWYgKE9iamVjdC5rZXlzKGEpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIGZvciAobGV0IGtleSBpbiBhKSB7XHJcbiAgICAgICAgaWYgKCFpc1NhbWVSb3V0ZUxvY2F0aW9uUGFyYW1zVmFsdWUoYVtrZXldLCBiW2tleV0pKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBpc1NhbWVSb3V0ZUxvY2F0aW9uUGFyYW1zVmFsdWUoYSwgYikge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSlcclxuICAgICAgICA/IGlzRXF1aXZhbGVudEFycmF5KGEsIGIpXHJcbiAgICAgICAgOiBBcnJheS5pc0FycmF5KGIpXHJcbiAgICAgICAgICAgID8gaXNFcXVpdmFsZW50QXJyYXkoYiwgYSlcclxuICAgICAgICAgICAgOiBhID09PSBiO1xyXG59XHJcbi8qKlxyXG4gKiBDaGVjayBpZiB0d28gYXJyYXlzIGFyZSB0aGUgc2FtZSBvciBpZiBhbiBhcnJheSB3aXRoIG9uZSBzaW5nbGUgZW50cnkgaXMgdGhlXHJcbiAqIHNhbWUgYXMgYW5vdGhlciBwcmltaXRpdmUgdmFsdWUuIFVzZWQgdG8gY2hlY2sgcXVlcnkgYW5kIHBhcmFtZXRlcnNcclxuICpcclxuICogQHBhcmFtIGEgLSBhcnJheSBvZiB2YWx1ZXNcclxuICogQHBhcmFtIGIgLSBhcnJheSBvZiB2YWx1ZXMgb3IgYSBzaW5nbGUgdmFsdWVcclxuICovXHJcbmZ1bmN0aW9uIGlzRXF1aXZhbGVudEFycmF5KGEsIGIpIHtcclxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGIpXHJcbiAgICAgICAgPyBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgYS5ldmVyeSgodmFsdWUsIGkpID0+IHZhbHVlID09PSBiW2ldKVxyXG4gICAgICAgIDogYS5sZW5ndGggPT09IDEgJiYgYVswXSA9PT0gYjtcclxufVxyXG4vKipcclxuICogUmVzb2x2ZXMgYSByZWxhdGl2ZSBwYXRoIHRoYXQgc3RhcnRzIHdpdGggYC5gLlxyXG4gKlxyXG4gKiBAcGFyYW0gdG8gLSBwYXRoIGxvY2F0aW9uIHdlIGFyZSByZXNvbHZpbmdcclxuICogQHBhcmFtIGZyb20gLSBjdXJyZW50TG9jYXRpb24ucGF0aCwgc2hvdWxkIHN0YXJ0IHdpdGggYC9gXHJcbiAqL1xyXG5mdW5jdGlvbiByZXNvbHZlUmVsYXRpdmVQYXRoKHRvLCBmcm9tKSB7XHJcbiAgICBpZiAodG8uc3RhcnRzV2l0aCgnLycpKVxyXG4gICAgICAgIHJldHVybiB0bztcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWZyb20uc3RhcnRzV2l0aCgnLycpKSB7XHJcbiAgICAgICAgd2FybihgQ2Fubm90IHJlc29sdmUgYSByZWxhdGl2ZSBsb2NhdGlvbiB3aXRob3V0IGFuIGFic29sdXRlIHBhdGguIFRyeWluZyB0byByZXNvbHZlIFwiJHt0b31cIiBmcm9tIFwiJHtmcm9tfVwiLiBJdCBzaG91bGQgbG9vayBsaWtlIFwiLyR7ZnJvbX1cIi5gKTtcclxuICAgICAgICByZXR1cm4gdG87XHJcbiAgICB9XHJcbiAgICBpZiAoIXRvKVxyXG4gICAgICAgIHJldHVybiBmcm9tO1xyXG4gICAgY29uc3QgZnJvbVNlZ21lbnRzID0gZnJvbS5zcGxpdCgnLycpO1xyXG4gICAgY29uc3QgdG9TZWdtZW50cyA9IHRvLnNwbGl0KCcvJyk7XHJcbiAgICBsZXQgcG9zaXRpb24gPSBmcm9tU2VnbWVudHMubGVuZ3RoIC0gMTtcclxuICAgIGxldCB0b1Bvc2l0aW9uO1xyXG4gICAgbGV0IHNlZ21lbnQ7XHJcbiAgICBmb3IgKHRvUG9zaXRpb24gPSAwOyB0b1Bvc2l0aW9uIDwgdG9TZWdtZW50cy5sZW5ndGg7IHRvUG9zaXRpb24rKykge1xyXG4gICAgICAgIHNlZ21lbnQgPSB0b1NlZ21lbnRzW3RvUG9zaXRpb25dO1xyXG4gICAgICAgIC8vIGNhbid0IGdvIGJlbG93IHplcm9cclxuICAgICAgICBpZiAocG9zaXRpb24gPT09IDEgfHwgc2VnbWVudCA9PT0gJy4nKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICBpZiAoc2VnbWVudCA9PT0gJy4uJylcclxuICAgICAgICAgICAgcG9zaXRpb24tLTtcclxuICAgICAgICAvLyBmb3VuZCBzb21ldGhpbmcgdGhhdCBpcyBub3QgcmVsYXRpdmUgcGF0aFxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGZyb21TZWdtZW50cy5zbGljZSgwLCBwb3NpdGlvbikuam9pbignLycpICtcclxuICAgICAgICAnLycgK1xyXG4gICAgICAgIHRvU2VnbWVudHNcclxuICAgICAgICAgICAgLnNsaWNlKHRvUG9zaXRpb24gLSAodG9Qb3NpdGlvbiA9PT0gdG9TZWdtZW50cy5sZW5ndGggPyAxIDogMCkpXHJcbiAgICAgICAgICAgIC5qb2luKCcvJykpO1xyXG59XG5cbnZhciBOYXZpZ2F0aW9uVHlwZTtcclxuKGZ1bmN0aW9uIChOYXZpZ2F0aW9uVHlwZSkge1xyXG4gICAgTmF2aWdhdGlvblR5cGVbXCJwb3BcIl0gPSBcInBvcFwiO1xyXG4gICAgTmF2aWdhdGlvblR5cGVbXCJwdXNoXCJdID0gXCJwdXNoXCI7XHJcbn0pKE5hdmlnYXRpb25UeXBlIHx8IChOYXZpZ2F0aW9uVHlwZSA9IHt9KSk7XHJcbnZhciBOYXZpZ2F0aW9uRGlyZWN0aW9uO1xyXG4oZnVuY3Rpb24gKE5hdmlnYXRpb25EaXJlY3Rpb24pIHtcclxuICAgIE5hdmlnYXRpb25EaXJlY3Rpb25bXCJiYWNrXCJdID0gXCJiYWNrXCI7XHJcbiAgICBOYXZpZ2F0aW9uRGlyZWN0aW9uW1wiZm9yd2FyZFwiXSA9IFwiZm9yd2FyZFwiO1xyXG4gICAgTmF2aWdhdGlvbkRpcmVjdGlvbltcInVua25vd25cIl0gPSBcIlwiO1xyXG59KShOYXZpZ2F0aW9uRGlyZWN0aW9uIHx8IChOYXZpZ2F0aW9uRGlyZWN0aW9uID0ge30pKTtcclxuLyoqXHJcbiAqIFN0YXJ0aW5nIGxvY2F0aW9uIGZvciBIaXN0b3JpZXNcclxuICovXHJcbmNvbnN0IFNUQVJUID0gJyc7XHJcbi8vIEdlbmVyaWMgdXRpbHNcclxuLyoqXHJcbiAqIE5vcm1hbGl6ZXMgYSBiYXNlIGJ5IHJlbW92aW5nIGFueSB0cmFpbGluZyBzbGFzaCBhbmQgcmVhZGluZyB0aGUgYmFzZSB0YWcgaWZcclxuICogcHJlc2VudC5cclxuICpcclxuICogQHBhcmFtIGJhc2UgLSBiYXNlIHRvIG5vcm1hbGl6ZVxyXG4gKi9cclxuZnVuY3Rpb24gbm9ybWFsaXplQmFzZShiYXNlKSB7XHJcbiAgICBpZiAoIWJhc2UpIHtcclxuICAgICAgICBpZiAoaXNCcm93c2VyKSB7XHJcbiAgICAgICAgICAgIC8vIHJlc3BlY3QgPGJhc2U+IHRhZ1xyXG4gICAgICAgICAgICBjb25zdCBiYXNlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdiYXNlJyk7XHJcbiAgICAgICAgICAgIGJhc2UgPSAoYmFzZUVsICYmIGJhc2VFbC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkgfHwgJy8nO1xyXG4gICAgICAgICAgICAvLyBzdHJpcCBmdWxsIFVSTCBvcmlnaW5cclxuICAgICAgICAgICAgYmFzZSA9IGJhc2UucmVwbGFjZSgvXlxcdys6XFwvXFwvW15cXC9dKy8sICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGJhc2UgPSAnLyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gZW5zdXJlIGxlYWRpbmcgc2xhc2ggd2hlbiBpdCB3YXMgcmVtb3ZlZCBieSB0aGUgcmVnZXggYWJvdmUgYXZvaWQgbGVhZGluZ1xyXG4gICAgLy8gc2xhc2ggd2l0aCBoYXNoIGJlY2F1c2UgdGhlIGZpbGUgY291bGQgYmUgcmVhZCBmcm9tIHRoZSBkaXNrIGxpa2UgZmlsZTovL1xyXG4gICAgLy8gYW5kIHRoZSBsZWFkaW5nIHNsYXNoIHdvdWxkIGNhdXNlIHByb2JsZW1zXHJcbiAgICBpZiAoYmFzZVswXSAhPT0gJy8nICYmIGJhc2VbMF0gIT09ICcjJylcclxuICAgICAgICBiYXNlID0gJy8nICsgYmFzZTtcclxuICAgIC8vIHJlbW92ZSB0aGUgdHJhaWxpbmcgc2xhc2ggc28gYWxsIG90aGVyIG1ldGhvZCBjYW4ganVzdCBkbyBgYmFzZSArIGZ1bGxQYXRoYFxyXG4gICAgLy8gdG8gYnVpbGQgYW4gaHJlZlxyXG4gICAgcmV0dXJuIHJlbW92ZVRyYWlsaW5nU2xhc2goYmFzZSk7XHJcbn1cclxuLy8gcmVtb3ZlIGFueSBjaGFyYWN0ZXIgYmVmb3JlIHRoZSBoYXNoXHJcbmNvbnN0IEJFRk9SRV9IQVNIX1JFID0gL15bXiNdKyMvO1xyXG5mdW5jdGlvbiBjcmVhdGVIcmVmKGJhc2UsIGxvY2F0aW9uKSB7XHJcbiAgICByZXR1cm4gYmFzZS5yZXBsYWNlKEJFRk9SRV9IQVNIX1JFLCAnIycpICsgbG9jYXRpb247XHJcbn1cblxuZnVuY3Rpb24gZ2V0RWxlbWVudFBvc2l0aW9uKGVsLCBvZmZzZXQpIHtcclxuICAgIGNvbnN0IGRvY1JlY3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBjb25zdCBlbFJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYmVoYXZpb3I6IG9mZnNldC5iZWhhdmlvcixcclxuICAgICAgICBsZWZ0OiBlbFJlY3QubGVmdCAtIGRvY1JlY3QubGVmdCAtIChvZmZzZXQubGVmdCB8fCAwKSxcclxuICAgICAgICB0b3A6IGVsUmVjdC50b3AgLSBkb2NSZWN0LnRvcCAtIChvZmZzZXQudG9wIHx8IDApLFxyXG4gICAgfTtcclxufVxyXG5jb25zdCBjb21wdXRlU2Nyb2xsUG9zaXRpb24gPSAoKSA9PiAoe1xyXG4gICAgbGVmdDogd2luZG93LnBhZ2VYT2Zmc2V0LFxyXG4gICAgdG9wOiB3aW5kb3cucGFnZVlPZmZzZXQsXHJcbn0pO1xyXG5mdW5jdGlvbiBzY3JvbGxUb1Bvc2l0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICBsZXQgc2Nyb2xsVG9PcHRpb25zO1xyXG4gICAgaWYgKCdlbCcgaW4gcG9zaXRpb24pIHtcclxuICAgICAgICBsZXQgcG9zaXRpb25FbCA9IHBvc2l0aW9uLmVsO1xyXG4gICAgICAgIGNvbnN0IGlzSWRTZWxlY3RvciA9IHR5cGVvZiBwb3NpdGlvbkVsID09PSAnc3RyaW5nJyAmJiBwb3NpdGlvbkVsLnN0YXJ0c1dpdGgoJyMnKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBgaWRgcyBjYW4gYWNjZXB0IHByZXR0eSBtdWNoIGFueSBjaGFyYWN0ZXJzLCBpbmNsdWRpbmcgQ1NTIGNvbWJpbmF0b3JzXHJcbiAgICAgICAgICogbGlrZSBgPmAgb3IgYH5gLiBJdCdzIHN0aWxsIHBvc3NpYmxlIHRvIHJldHJpZXZlIGVsZW1lbnRzIHVzaW5nXHJcbiAgICAgICAgICogYGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd+JylgIGJ1dCBpdCBuZWVkcyB0byBiZSBlc2NhcGVkIHdoZW4gdXNpbmdcclxuICAgICAgICAgKiBgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1xcXFx+JylgIGZvciBpdCB0byBiZSB2YWxpZC4gVGhlIG9ubHlcclxuICAgICAgICAgKiByZXF1aXJlbWVudHMgZm9yIGBpZGBzIGFyZSB0aGVtIHRvIGJlIHVuaXF1ZSBvbiB0aGUgcGFnZSBhbmQgdG8gbm90IGJlXHJcbiAgICAgICAgICogZW1wdHkgKGBpZD1cIlwiYCkuIEJlY2F1c2Ugb2YgdGhhdCwgd2hlbiBwYXNzaW5nIGFuIGlkIHNlbGVjdG9yLCBpdCBzaG91bGRcclxuICAgICAgICAgKiBiZSBwcm9wZXJseSBlc2NhcGVkIGZvciBpdCB0byB3b3JrIHdpdGggYHF1ZXJ5U2VsZWN0b3JgLiBXZSBjb3VsZCBjaGVja1xyXG4gICAgICAgICAqIGZvciB0aGUgaWQgc2VsZWN0b3IgdG8gYmUgc2ltcGxlIChubyBDU1MgY29tYmluYXRvcnMgYCsgPn5gKSBidXQgdGhhdFxyXG4gICAgICAgICAqIHdvdWxkIG1ha2UgdGhpbmdzIGluY29uc2lzdGVudCBzaW5jZSB0aGV5IGFyZSB2YWxpZCBjaGFyYWN0ZXJzIGZvciBhblxyXG4gICAgICAgICAqIGBpZGAgYnV0IHdvdWxkIG5lZWQgdG8gYmUgZXNjYXBlZCB3aGVuIHVzaW5nIGBxdWVyeVNlbGVjdG9yYCwgYnJlYWtpbmdcclxuICAgICAgICAgKiB0aGVpciB1c2FnZSBhbmQgZW5kaW5nIHVwIGluIG5vIHNlbGVjdG9yIHJldHVybmVkLiBTZWxlY3RvcnMgbmVlZCB0byBiZVxyXG4gICAgICAgICAqIGVzY2FwZWQ6XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAtIGAjMS10aGluZ2AgYmVjb21lcyBgI1xcMzEgLXRoaW5nYFxyXG4gICAgICAgICAqIC0gYCN3aXRofnN5bWJvbHNgIGJlY29tZXMgYCN3aXRoXFxcXH5zeW1ib2xzYFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogLSBNb3JlIGluZm9ybWF0aW9uIGFib3V0ICB0aGUgdG9waWMgY2FuIGJlIGZvdW5kIGF0XHJcbiAgICAgICAgICogICBodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvaHRtbDUtaWQtY2xhc3MuXHJcbiAgICAgICAgICogLSBQcmFjdGljYWwgZXhhbXBsZTogaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vaHRtbDUtaWRcclxuICAgICAgICAgKi9cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHR5cGVvZiBwb3NpdGlvbi5lbCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgaWYgKCFpc0lkU2VsZWN0b3IgfHwgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uLmVsLnNsaWNlKDEpKSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZm91bmRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9zaXRpb24uZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lkU2VsZWN0b3IgJiYgZm91bmRFbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBUaGUgc2VsZWN0b3IgXCIke3Bvc2l0aW9uLmVsfVwiIHNob3VsZCBiZSBwYXNzZWQgYXMgXCJlbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignJHtwb3NpdGlvbi5lbH0nKVwiIGJlY2F1c2UgaXQgc3RhcnRzIHdpdGggXCIjXCIuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiB0byBhdm9pZCBvdGhlciB3YXJuaW5nc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYFRoZSBzZWxlY3RvciBcIiR7cG9zaXRpb24uZWx9XCIgaXMgaW52YWxpZC4gSWYgeW91IGFyZSB1c2luZyBhbiBpZCBzZWxlY3RvciwgbWFrZSBzdXJlIHRvIGVzY2FwZSBpdC4gWW91IGNhbiBmaW5kIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgZXNjYXBpbmcgY2hhcmFjdGVycyBpbiBzZWxlY3RvcnMgYXQgaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2Nzcy1lc2NhcGVzIG9yIHVzZSBDU1MuZXNjYXBlIChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ1NTL2VzY2FwZSkuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRvIGF2b2lkIG90aGVyIHdhcm5pbmdzXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGVsID0gdHlwZW9mIHBvc2l0aW9uRWwgPT09ICdzdHJpbmcnXHJcbiAgICAgICAgICAgID8gaXNJZFNlbGVjdG9yXHJcbiAgICAgICAgICAgICAgICA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uRWwuc2xpY2UoMSkpXHJcbiAgICAgICAgICAgICAgICA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9zaXRpb25FbClcclxuICAgICAgICAgICAgOiBwb3NpdGlvbkVsO1xyXG4gICAgICAgIGlmICghZWwpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBDb3VsZG4ndCBmaW5kIGVsZW1lbnQgdXNpbmcgc2VsZWN0b3IgXCIke3Bvc2l0aW9uLmVsfVwiIHJldHVybmVkIGJ5IHNjcm9sbEJlaGF2aW9yLmApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNjcm9sbFRvT3B0aW9ucyA9IGdldEVsZW1lbnRQb3NpdGlvbihlbCwgcG9zaXRpb24pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc2Nyb2xsVG9PcHRpb25zID0gcG9zaXRpb247XHJcbiAgICB9XHJcbiAgICBpZiAoJ3Njcm9sbEJlaGF2aW9yJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUpXHJcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKHNjcm9sbFRvT3B0aW9ucyk7XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oc2Nyb2xsVG9PcHRpb25zLmxlZnQgIT0gbnVsbCA/IHNjcm9sbFRvT3B0aW9ucy5sZWZ0IDogd2luZG93LnBhZ2VYT2Zmc2V0LCBzY3JvbGxUb09wdGlvbnMudG9wICE9IG51bGwgPyBzY3JvbGxUb09wdGlvbnMudG9wIDogd2luZG93LnBhZ2VZT2Zmc2V0KTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRTY3JvbGxLZXkocGF0aCwgZGVsdGEpIHtcclxuICAgIGNvbnN0IHBvc2l0aW9uID0gaGlzdG9yeS5zdGF0ZSA/IGhpc3Rvcnkuc3RhdGUucG9zaXRpb24gLSBkZWx0YSA6IC0xO1xyXG4gICAgcmV0dXJuIHBvc2l0aW9uICsgcGF0aDtcclxufVxyXG5jb25zdCBzY3JvbGxQb3NpdGlvbnMgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIHNhdmVTY3JvbGxQb3NpdGlvbihrZXksIHNjcm9sbFBvc2l0aW9uKSB7XHJcbiAgICBzY3JvbGxQb3NpdGlvbnMuc2V0KGtleSwgc2Nyb2xsUG9zaXRpb24pO1xyXG59XHJcbmZ1bmN0aW9uIGdldFNhdmVkU2Nyb2xsUG9zaXRpb24oa2V5KSB7XHJcbiAgICBjb25zdCBzY3JvbGwgPSBzY3JvbGxQb3NpdGlvbnMuZ2V0KGtleSk7XHJcbiAgICAvLyBjb25zdW1lIGl0IHNvIGl0J3Mgbm90IHVzZWQgYWdhaW5cclxuICAgIHNjcm9sbFBvc2l0aW9ucy5kZWxldGUoa2V5KTtcclxuICAgIHJldHVybiBzY3JvbGw7XHJcbn1cclxuLy8gVE9ETzogUkZDIGFib3V0IGhvdyB0byBzYXZlIHNjcm9sbCBwb3NpdGlvblxyXG4vKipcclxuICogU2Nyb2xsQmVoYXZpb3IgaW5zdGFuY2UgdXNlZCBieSB0aGUgcm91dGVyIHRvIGNvbXB1dGUgYW5kIHJlc3RvcmUgdGhlIHNjcm9sbFxyXG4gKiBwb3NpdGlvbiB3aGVuIG5hdmlnYXRpbmcuXHJcbiAqL1xyXG4vLyBleHBvcnQgaW50ZXJmYWNlIFNjcm9sbEhhbmRsZXI8U2Nyb2xsUG9zaXRpb25FbnRyeSBleHRlbmRzIEhpc3RvcnlTdGF0ZVZhbHVlLCBTY3JvbGxQb3NpdGlvbiBleHRlbmRzIFNjcm9sbFBvc2l0aW9uRW50cnk+IHtcclxuLy8gICAvLyByZXR1cm5zIGEgc2Nyb2xsIHBvc2l0aW9uIHRoYXQgY2FuIGJlIHNhdmVkIGluIGhpc3RvcnlcclxuLy8gICBjb21wdXRlKCk6IFNjcm9sbFBvc2l0aW9uRW50cnlcclxuLy8gICAvLyBjYW4gdGFrZSBhbiBleHRlbmRlZCBTY3JvbGxQb3NpdGlvbkVudHJ5XHJcbi8vICAgc2Nyb2xsKHBvc2l0aW9uOiBTY3JvbGxQb3NpdGlvbik6IHZvaWRcclxuLy8gfVxyXG4vLyBleHBvcnQgY29uc3Qgc2Nyb2xsSGFuZGxlcjogU2Nyb2xsSGFuZGxlcjxTY3JvbGxQb3NpdGlvbj4gPSB7XHJcbi8vICAgY29tcHV0ZTogY29tcHV0ZVNjcm9sbCxcclxuLy8gICBzY3JvbGw6IHNjcm9sbFRvUG9zaXRpb24sXHJcbi8vIH1cblxubGV0IGNyZWF0ZUJhc2VMb2NhdGlvbiA9ICgpID0+IGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIGxvY2F0aW9uLmhvc3Q7XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbm9ybWFsaXplZCBoaXN0b3J5IGxvY2F0aW9uIGZyb20gYSB3aW5kb3cubG9jYXRpb24gb2JqZWN0XHJcbiAqIEBwYXJhbSBsb2NhdGlvbiAtXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVDdXJyZW50TG9jYXRpb24oYmFzZSwgbG9jYXRpb24pIHtcclxuICAgIGNvbnN0IHsgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9ID0gbG9jYXRpb247XHJcbiAgICAvLyBhbGxvd3MgaGFzaCBiYXNlZCB1cmxcclxuICAgIGNvbnN0IGhhc2hQb3MgPSBiYXNlLmluZGV4T2YoJyMnKTtcclxuICAgIGlmIChoYXNoUG9zID4gLTEpIHtcclxuICAgICAgICAvLyBwcmVwZW5kIHRoZSBzdGFydGluZyBzbGFzaCB0byBoYXNoIHNvIHRoZSB1cmwgc3RhcnRzIHdpdGggLyNcclxuICAgICAgICBsZXQgcGF0aEZyb21IYXNoID0gaGFzaC5zbGljZSgxKTtcclxuICAgICAgICBpZiAocGF0aEZyb21IYXNoWzBdICE9PSAnLycpXHJcbiAgICAgICAgICAgIHBhdGhGcm9tSGFzaCA9ICcvJyArIHBhdGhGcm9tSGFzaDtcclxuICAgICAgICByZXR1cm4gc3RyaXBCYXNlKHBhdGhGcm9tSGFzaCwgJycpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcGF0aCA9IHN0cmlwQmFzZShwYXRobmFtZSwgYmFzZSk7XHJcbiAgICByZXR1cm4gcGF0aCArIHNlYXJjaCArIGhhc2g7XHJcbn1cclxuZnVuY3Rpb24gdXNlSGlzdG9yeUxpc3RlbmVycyhiYXNlLCBoaXN0b3J5U3RhdGUsIGN1cnJlbnRMb2NhdGlvbiwgcmVwbGFjZSkge1xyXG4gICAgbGV0IGxpc3RlbmVycyA9IFtdO1xyXG4gICAgbGV0IHRlYXJkb3ducyA9IFtdO1xyXG4gICAgLy8gVE9ETzogc2hvdWxkIGl0IGJlIGEgc3RhY2s/IGEgRGljdC4gQ2hlY2sgaWYgdGhlIHBvcHN0YXRlIGxpc3RlbmVyXHJcbiAgICAvLyBjYW4gdHJpZ2dlciB0d2ljZVxyXG4gICAgbGV0IHBhdXNlU3RhdGUgPSBudWxsO1xyXG4gICAgY29uc3QgcG9wU3RhdGVIYW5kbGVyID0gKHsgc3RhdGUsIH0pID0+IHtcclxuICAgICAgICBjb25zdCB0byA9IGNyZWF0ZUN1cnJlbnRMb2NhdGlvbihiYXNlLCBsb2NhdGlvbik7XHJcbiAgICAgICAgY29uc3QgZnJvbSA9IGN1cnJlbnRMb2NhdGlvbi52YWx1ZTtcclxuICAgICAgICBjb25zdCBmcm9tU3RhdGUgPSBoaXN0b3J5U3RhdGUudmFsdWU7XHJcbiAgICAgICAgbGV0IGRlbHRhID0gMDtcclxuICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgY3VycmVudExvY2F0aW9uLnZhbHVlID0gdG87XHJcbiAgICAgICAgICAgIGhpc3RvcnlTdGF0ZS52YWx1ZSA9IHN0YXRlO1xyXG4gICAgICAgICAgICAvLyBpZ25vcmUgdGhlIHBvcHN0YXRlIGFuZCByZXNldCB0aGUgcGF1c2VTdGF0ZVxyXG4gICAgICAgICAgICBpZiAocGF1c2VTdGF0ZSAmJiBwYXVzZVN0YXRlID09PSBmcm9tKSB7XHJcbiAgICAgICAgICAgICAgICBwYXVzZVN0YXRlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWx0YSA9IGZyb21TdGF0ZSA/IHN0YXRlLnBvc2l0aW9uIC0gZnJvbVN0YXRlLnBvc2l0aW9uIDogMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcGxhY2UodG8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh7IGRlbHRhRnJvbUN1cnJlbnQgfSlcclxuICAgICAgICAvLyBIZXJlIHdlIGNvdWxkIGFsc28gcmV2ZXJ0IHRoZSBuYXZpZ2F0aW9uIGJ5IGNhbGxpbmcgaGlzdG9yeS5nbygtZGVsdGEpXHJcbiAgICAgICAgLy8gdGhpcyBsaXN0ZW5lciB3aWxsIGhhdmUgdG8gYmUgYWRhcHRlZCB0byBub3QgdHJpZ2dlciBhZ2FpbiBhbmQgdG8gd2FpdCBmb3IgdGhlIHVybFxyXG4gICAgICAgIC8vIHRvIGJlIHVwZGF0ZWQgYmVmb3JlIHRyaWdnZXJpbmcgdGhlIGxpc3RlbmVycy4gU29tZSBraW5kIG9mIHZhbGlkYXRpb24gZnVuY3Rpb24gd291bGQgYWxzb1xyXG4gICAgICAgIC8vIG5lZWQgdG8gYmUgcGFzc2VkIHRvIHRoZSBsaXN0ZW5lcnMgc28gdGhlIG5hdmlnYXRpb24gY2FuIGJlIGFjY2VwdGVkXHJcbiAgICAgICAgLy8gY2FsbCBhbGwgbGlzdGVuZXJzXHJcbiAgICAgICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcihjdXJyZW50TG9jYXRpb24udmFsdWUsIGZyb20sIHtcclxuICAgICAgICAgICAgICAgIGRlbHRhLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogTmF2aWdhdGlvblR5cGUucG9wLFxyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBkZWx0YVxyXG4gICAgICAgICAgICAgICAgICAgID8gZGVsdGEgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gTmF2aWdhdGlvbkRpcmVjdGlvbi5mb3J3YXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogTmF2aWdhdGlvbkRpcmVjdGlvbi5iYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgOiBOYXZpZ2F0aW9uRGlyZWN0aW9uLnVua25vd24sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIHBhdXNlTGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHBhdXNlU3RhdGUgPSBjdXJyZW50TG9jYXRpb24udmFsdWU7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBsaXN0ZW4oY2FsbGJhY2spIHtcclxuICAgICAgICAvLyBzZXR1cCB0aGUgbGlzdGVuZXIgYW5kIHByZXBhcmUgdGVhcmRvd24gY2FsbGJhY2tzXHJcbiAgICAgICAgbGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgIGNvbnN0IHRlYXJkb3duID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRlYXJkb3ducy5wdXNoKHRlYXJkb3duKTtcclxuICAgICAgICByZXR1cm4gdGVhcmRvd247XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBiZWZvcmVVbmxvYWRMaXN0ZW5lcigpIHtcclxuICAgICAgICBjb25zdCB7IGhpc3RvcnkgfSA9IHdpbmRvdztcclxuICAgICAgICBpZiAoIWhpc3Rvcnkuc3RhdGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShhc3NpZ24oe30sIGhpc3Rvcnkuc3RhdGUsIHsgc2Nyb2xsOiBjb21wdXRlU2Nyb2xsUG9zaXRpb24oKSB9KSwgJycpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IHRlYXJkb3duIG9mIHRlYXJkb3ducylcclxuICAgICAgICAgICAgdGVhcmRvd24oKTtcclxuICAgICAgICB0ZWFyZG93bnMgPSBbXTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBwb3BTdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBiZWZvcmVVbmxvYWRMaXN0ZW5lcik7XHJcbiAgICB9XHJcbiAgICAvLyBzZXR1cCB0aGUgbGlzdGVuZXJzIGFuZCBwcmVwYXJlIHRlYXJkb3duIGNhbGxiYWNrc1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgcG9wU3RhdGVIYW5kbGVyKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBiZWZvcmVVbmxvYWRMaXN0ZW5lcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHBhdXNlTGlzdGVuZXJzLFxyXG4gICAgICAgIGxpc3RlbixcclxuICAgICAgICBkZXN0cm95LFxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIHN0YXRlIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gYnVpbGRTdGF0ZShiYWNrLCBjdXJyZW50LCBmb3J3YXJkLCByZXBsYWNlZCA9IGZhbHNlLCBjb21wdXRlU2Nyb2xsID0gZmFsc2UpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYmFjayxcclxuICAgICAgICBjdXJyZW50LFxyXG4gICAgICAgIGZvcndhcmQsXHJcbiAgICAgICAgcmVwbGFjZWQsXHJcbiAgICAgICAgcG9zaXRpb246IHdpbmRvdy5oaXN0b3J5Lmxlbmd0aCxcclxuICAgICAgICBzY3JvbGw6IGNvbXB1dGVTY3JvbGwgPyBjb21wdXRlU2Nyb2xsUG9zaXRpb24oKSA6IG51bGwsXHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIHVzZUhpc3RvcnlTdGF0ZU5hdmlnYXRpb24oYmFzZSkge1xyXG4gICAgY29uc3QgeyBoaXN0b3J5LCBsb2NhdGlvbiB9ID0gd2luZG93O1xyXG4gICAgLy8gcHJpdmF0ZSB2YXJpYWJsZXNcclxuICAgIGxldCBjdXJyZW50TG9jYXRpb24gPSB7XHJcbiAgICAgICAgdmFsdWU6IGNyZWF0ZUN1cnJlbnRMb2NhdGlvbihiYXNlLCBsb2NhdGlvbiksXHJcbiAgICB9O1xyXG4gICAgbGV0IGhpc3RvcnlTdGF0ZSA9IHsgdmFsdWU6IGhpc3Rvcnkuc3RhdGUgfTtcclxuICAgIC8vIGJ1aWxkIGN1cnJlbnQgaGlzdG9yeSBlbnRyeSBhcyB0aGlzIGlzIGEgZnJlc2ggbmF2aWdhdGlvblxyXG4gICAgaWYgKCFoaXN0b3J5U3RhdGUudmFsdWUpIHtcclxuICAgICAgICBjaGFuZ2VMb2NhdGlvbihjdXJyZW50TG9jYXRpb24udmFsdWUsIHtcclxuICAgICAgICAgICAgYmFjazogbnVsbCxcclxuICAgICAgICAgICAgY3VycmVudDogY3VycmVudExvY2F0aW9uLnZhbHVlLFxyXG4gICAgICAgICAgICBmb3J3YXJkOiBudWxsLFxyXG4gICAgICAgICAgICAvLyB0aGUgbGVuZ3RoIGlzIG9mZiBieSBvbmUsIHdlIG5lZWQgdG8gZGVjcmVhc2UgaXRcclxuICAgICAgICAgICAgcG9zaXRpb246IGhpc3RvcnkubGVuZ3RoIC0gMSxcclxuICAgICAgICAgICAgcmVwbGFjZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIC8vIGRvbid0IGFkZCBhIHNjcm9sbCBhcyB0aGUgdXNlciBtYXkgaGF2ZSBhbiBhbmNob3IgYW5kIHdlIHdhbnRcclxuICAgICAgICAgICAgLy8gc2Nyb2xsQmVoYXZpb3IgdG8gYmUgdHJpZ2dlcmVkIHdpdGhvdXQgYSBzYXZlZCBwb3NpdGlvblxyXG4gICAgICAgICAgICBzY3JvbGw6IG51bGwsXHJcbiAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VMb2NhdGlvbih0bywgc3RhdGUsIHJlcGxhY2UpIHtcclxuICAgICAgICAvLyB3aGVuIHRoZSBiYXNlIGhhcyBhIGAjYCwgb25seSB1c2UgdGhhdCBmb3IgdGhlIFVSTFxyXG4gICAgICAgIGNvbnN0IGhhc2hJbmRleCA9IGJhc2UuaW5kZXhPZignIycpO1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGhhc2hJbmRleCA+IC0xXHJcbiAgICAgICAgICAgID8gYmFzZS5zbGljZShoYXNoSW5kZXgpICsgdG9cclxuICAgICAgICAgICAgOiBjcmVhdGVCYXNlTG9jYXRpb24oKSArIGJhc2UgKyB0bztcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBCUk9XU0VSIFFVSVJLXHJcbiAgICAgICAgICAgIC8vIE5PVEU6IFNhZmFyaSB0aHJvd3MgYSBTZWN1cml0eUVycm9yIHdoZW4gY2FsbGluZyB0aGlzIGZ1bmN0aW9uIDEwMCB0aW1lcyBpbiAzMCBzZWNvbmRzXHJcbiAgICAgICAgICAgIGhpc3RvcnlbcmVwbGFjZSA/ICdyZXBsYWNlU3RhdGUnIDogJ3B1c2hTdGF0ZSddKHN0YXRlLCAnJywgdXJsKTtcclxuICAgICAgICAgICAgaGlzdG9yeVN0YXRlLnZhbHVlID0gc3RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybignRXJyb3Igd2l0aCBwdXNoL3JlcGxhY2UgU3RhdGUnLCBlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEZvcmNlIHRoZSBuYXZpZ2F0aW9uLCB0aGlzIGFsc28gcmVzZXRzIHRoZSBjYWxsIGNvdW50XHJcbiAgICAgICAgICAgIGxvY2F0aW9uW3JlcGxhY2UgPyAncmVwbGFjZScgOiAnYXNzaWduJ10odXJsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZXBsYWNlKHRvLCBkYXRhKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBhc3NpZ24oe30sIGhpc3Rvcnkuc3RhdGUsIGJ1aWxkU3RhdGUoaGlzdG9yeVN0YXRlLnZhbHVlLmJhY2ssIFxyXG4gICAgICAgIC8vIGtlZXAgYmFjayBhbmQgZm9yd2FyZCBlbnRyaWVzIGJ1dCBvdmVycmlkZSBjdXJyZW50IHBvc2l0aW9uXHJcbiAgICAgICAgdG8sIGhpc3RvcnlTdGF0ZS52YWx1ZS5mb3J3YXJkLCB0cnVlKSwgZGF0YSwgeyBwb3NpdGlvbjogaGlzdG9yeVN0YXRlLnZhbHVlLnBvc2l0aW9uIH0pO1xyXG4gICAgICAgIGNoYW5nZUxvY2F0aW9uKHRvLCBzdGF0ZSwgdHJ1ZSk7XHJcbiAgICAgICAgY3VycmVudExvY2F0aW9uLnZhbHVlID0gdG87XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwdXNoKHRvLCBkYXRhKSB7XHJcbiAgICAgICAgLy8gQWRkIHRvIGN1cnJlbnQgZW50cnkgdGhlIGluZm9ybWF0aW9uIG9mIHdoZXJlIHdlIGFyZSBnb2luZ1xyXG4gICAgICAgIC8vIGFzIHdlbGwgYXMgc2F2aW5nIHRoZSBjdXJyZW50IHBvc2l0aW9uXHJcbiAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gYXNzaWduKHt9LCBcclxuICAgICAgICAvLyB1c2UgY3VycmVudCBoaXN0b3J5IHN0YXRlIHRvIGdyYWNlZnVsbHkgaGFuZGxlIGEgd3JvbmcgY2FsbCB0b1xyXG4gICAgICAgIC8vIGhpc3RvcnkucmVwbGFjZVN0YXRlXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1yb3V0ZXItbmV4dC9pc3N1ZXMvMzY2XHJcbiAgICAgICAgaGlzdG9yeVN0YXRlLnZhbHVlLCBoaXN0b3J5LnN0YXRlLCB7XHJcbiAgICAgICAgICAgIGZvcndhcmQ6IHRvLFxyXG4gICAgICAgICAgICBzY3JvbGw6IGNvbXB1dGVTY3JvbGxQb3NpdGlvbigpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWhpc3Rvcnkuc3RhdGUpIHtcclxuICAgICAgICAgICAgd2FybihgaGlzdG9yeS5zdGF0ZSBzZWVtcyB0byBoYXZlIGJlZW4gbWFudWFsbHkgcmVwbGFjZWQgd2l0aG91dCBwcmVzZXJ2aW5nIHRoZSBuZWNlc3NhcnkgdmFsdWVzLiBNYWtlIHN1cmUgdG8gcHJlc2VydmUgZXhpc3RpbmcgaGlzdG9yeSBzdGF0ZSBpZiB5b3UgYXJlIG1hbnVhbGx5IGNhbGxpbmcgaGlzdG9yeS5yZXBsYWNlU3RhdGU6XFxuXFxuYCArXHJcbiAgICAgICAgICAgICAgICBgaGlzdG9yeS5yZXBsYWNlU3RhdGUoaGlzdG9yeS5zdGF0ZSwgJycsIHVybClcXG5cXG5gICtcclxuICAgICAgICAgICAgICAgIGBZb3UgY2FuIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhdCBodHRwczovL25leHQucm91dGVyLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vI3VzYWdlLW9mLWhpc3Rvcnktc3RhdGUuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoYW5nZUxvY2F0aW9uKGN1cnJlbnRTdGF0ZS5jdXJyZW50LCBjdXJyZW50U3RhdGUsIHRydWUpO1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gYXNzaWduKHt9LCBidWlsZFN0YXRlKGN1cnJlbnRMb2NhdGlvbi52YWx1ZSwgdG8sIG51bGwpLCB7IHBvc2l0aW9uOiBjdXJyZW50U3RhdGUucG9zaXRpb24gKyAxIH0sIGRhdGEpO1xyXG4gICAgICAgIGNoYW5nZUxvY2F0aW9uKHRvLCBzdGF0ZSwgZmFsc2UpO1xyXG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbi52YWx1ZSA9IHRvO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBsb2NhdGlvbjogY3VycmVudExvY2F0aW9uLFxyXG4gICAgICAgIHN0YXRlOiBoaXN0b3J5U3RhdGUsXHJcbiAgICAgICAgcHVzaCxcclxuICAgICAgICByZXBsYWNlLFxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhbiBIVE1MNSBoaXN0b3J5LiBNb3N0IGNvbW1vbiBoaXN0b3J5IGZvciBzaW5nbGUgcGFnZSBhcHBsaWNhdGlvbnMuXHJcbiAqXHJcbiAqIEBwYXJhbSBiYXNlIC1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVdlYkhpc3RvcnkoYmFzZSkge1xyXG4gICAgYmFzZSA9IG5vcm1hbGl6ZUJhc2UoYmFzZSk7XHJcbiAgICBjb25zdCBoaXN0b3J5TmF2aWdhdGlvbiA9IHVzZUhpc3RvcnlTdGF0ZU5hdmlnYXRpb24oYmFzZSk7XHJcbiAgICBjb25zdCBoaXN0b3J5TGlzdGVuZXJzID0gdXNlSGlzdG9yeUxpc3RlbmVycyhiYXNlLCBoaXN0b3J5TmF2aWdhdGlvbi5zdGF0ZSwgaGlzdG9yeU5hdmlnYXRpb24ubG9jYXRpb24sIGhpc3RvcnlOYXZpZ2F0aW9uLnJlcGxhY2UpO1xyXG4gICAgZnVuY3Rpb24gZ28oZGVsdGEsIHRyaWdnZXJMaXN0ZW5lcnMgPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKCF0cmlnZ2VyTGlzdGVuZXJzKVxyXG4gICAgICAgICAgICBoaXN0b3J5TGlzdGVuZXJzLnBhdXNlTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgaGlzdG9yeS5nbyhkZWx0YSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCByb3V0ZXJIaXN0b3J5ID0gYXNzaWduKHtcclxuICAgICAgICAvLyBpdCdzIG92ZXJyaWRkZW4gcmlnaHQgYWZ0ZXJcclxuICAgICAgICBsb2NhdGlvbjogJycsXHJcbiAgICAgICAgYmFzZSxcclxuICAgICAgICBnbyxcclxuICAgICAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLmJpbmQobnVsbCwgYmFzZSksXHJcbiAgICB9LCBoaXN0b3J5TmF2aWdhdGlvbiwgaGlzdG9yeUxpc3RlbmVycyk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocm91dGVySGlzdG9yeSwgJ2xvY2F0aW9uJywge1xyXG4gICAgICAgIGdldDogKCkgPT4gaGlzdG9yeU5hdmlnYXRpb24ubG9jYXRpb24udmFsdWUsXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyb3V0ZXJIaXN0b3J5LCAnc3RhdGUnLCB7XHJcbiAgICAgICAgZ2V0OiAoKSA9PiBoaXN0b3J5TmF2aWdhdGlvbi5zdGF0ZS52YWx1ZSxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJvdXRlckhpc3Rvcnk7XHJcbn1cblxuLyoqXHJcbiAqIENyZWF0ZXMgYSBpbi1tZW1vcnkgYmFzZWQgaGlzdG9yeS4gVGhlIG1haW4gcHVycG9zZSBvZiB0aGlzIGhpc3RvcnkgaXMgdG8gaGFuZGxlIFNTUi4gSXQgc3RhcnRzIGluIGEgc3BlY2lhbCBsb2NhdGlvbiB0aGF0IGlzIG5vd2hlcmUuXHJcbiAqIEl0J3MgdXAgdG8gdGhlIHVzZXIgdG8gcmVwbGFjZSB0aGF0IGxvY2F0aW9uIHdpdGggdGhlIHN0YXJ0ZXIgbG9jYXRpb24gYnkgZWl0aGVyIGNhbGxpbmcgYHJvdXRlci5wdXNoYCBvciBgcm91dGVyLnJlcGxhY2VgLlxyXG4gKlxyXG4gKiBAcGFyYW0gYmFzZSAtIEJhc2UgYXBwbGllZCB0byBhbGwgdXJscywgZGVmYXVsdHMgdG8gJy8nXHJcbiAqIEByZXR1cm5zIGEgaGlzdG9yeSBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSByb3V0ZXIgY29uc3RydWN0b3JcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUhpc3RvcnkoYmFzZSA9ICcnKSB7XHJcbiAgICBsZXQgbGlzdGVuZXJzID0gW107XHJcbiAgICBsZXQgcXVldWUgPSBbU1RBUlRdO1xyXG4gICAgbGV0IHBvc2l0aW9uID0gMDtcclxuICAgIGZ1bmN0aW9uIHNldExvY2F0aW9uKGxvY2F0aW9uKSB7XHJcbiAgICAgICAgcG9zaXRpb24rKztcclxuICAgICAgICBpZiAocG9zaXRpb24gPT09IHF1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyB3ZSBhcmUgYXQgdGhlIGVuZCwgd2UgY2FuIHNpbXBseSBhcHBlbmQgYSBuZXcgZW50cnlcclxuICAgICAgICAgICAgcXVldWUucHVzaChsb2NhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB3ZSBhcmUgaW4gdGhlIG1pZGRsZSwgd2UgcmVtb3ZlIGV2ZXJ5dGhpbmcgZnJvbSBoZXJlIGluIHRoZSBxdWV1ZVxyXG4gICAgICAgICAgICBxdWV1ZS5zcGxpY2UocG9zaXRpb24pO1xyXG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGxvY2F0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB0cmlnZ2VyTGlzdGVuZXJzKHRvLCBmcm9tLCB7IGRpcmVjdGlvbiwgZGVsdGEgfSkge1xyXG4gICAgICAgIGNvbnN0IGluZm8gPSB7XHJcbiAgICAgICAgICAgIGRpcmVjdGlvbixcclxuICAgICAgICAgICAgZGVsdGEsXHJcbiAgICAgICAgICAgIHR5cGU6IE5hdmlnYXRpb25UeXBlLnBvcCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGZvciAobGV0IGNhbGxiYWNrIG9mIGxpc3RlbmVycykge1xyXG4gICAgICAgICAgICBjYWxsYmFjayh0bywgZnJvbSwgaW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3Qgcm91dGVySGlzdG9yeSA9IHtcclxuICAgICAgICAvLyByZXdyaXR0ZW4gYnkgT2JqZWN0LmRlZmluZVByb3BlcnR5XHJcbiAgICAgICAgbG9jYXRpb246IFNUQVJULFxyXG4gICAgICAgIHN0YXRlOiB7fSxcclxuICAgICAgICBiYXNlLFxyXG4gICAgICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYuYmluZChudWxsLCBiYXNlKSxcclxuICAgICAgICByZXBsYWNlKHRvKSB7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBjdXJyZW50IGVudHJ5IGFuZCBkZWNyZW1lbnQgcG9zaXRpb25cclxuICAgICAgICAgICAgcXVldWUuc3BsaWNlKHBvc2l0aW9uLS0sIDEpO1xyXG4gICAgICAgICAgICBzZXRMb2NhdGlvbih0byk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwdXNoKHRvLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHNldExvY2F0aW9uKHRvKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxpc3RlbihjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVzdHJveSgpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXJzID0gW107XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnbyhkZWx0YSwgc2hvdWxkVHJpZ2dlciA9IHRydWUpIHtcclxuICAgICAgICAgICAgY29uc3QgZnJvbSA9IHRoaXMubG9jYXRpb247XHJcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IFxyXG4gICAgICAgICAgICAvLyB3ZSBhcmUgY29uc2lkZXJpbmcgZGVsdGEgPT09IDAgZ29pbmcgZm9yd2FyZCwgYnV0IGluIGFic3RyYWN0IG1vZGVcclxuICAgICAgICAgICAgLy8gdXNpbmcgMCBmb3IgdGhlIGRlbHRhIGRvZXNuJ3QgbWFrZSBzZW5zZSBsaWtlIGl0IGRvZXMgaW4gaHRtbDUgd2hlcmVcclxuICAgICAgICAgICAgLy8gaXQgcmVsb2FkcyB0aGUgcGFnZVxyXG4gICAgICAgICAgICBkZWx0YSA8IDAgPyBOYXZpZ2F0aW9uRGlyZWN0aW9uLmJhY2sgOiBOYXZpZ2F0aW9uRGlyZWN0aW9uLmZvcndhcmQ7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocG9zaXRpb24gKyBkZWx0YSwgcXVldWUubGVuZ3RoIC0gMSkpO1xyXG4gICAgICAgICAgICBpZiAoc2hvdWxkVHJpZ2dlcikge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckxpc3RlbmVycyh0aGlzLmxvY2F0aW9uLCBmcm9tLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyb3V0ZXJIaXN0b3J5LCAnbG9jYXRpb24nLCB7XHJcbiAgICAgICAgZ2V0OiAoKSA9PiBxdWV1ZVtwb3NpdGlvbl0sXHJcbiAgICB9KTtcclxuICAgIHJldHVybiByb3V0ZXJIaXN0b3J5O1xyXG59XG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgaGFzaCBoaXN0b3J5LiBVc2VmdWwgZm9yIHdlYiBhcHBsaWNhdGlvbnMgd2l0aCBubyBob3N0IChlLmcuXHJcbiAqIGBmaWxlOi8vYCkgb3Igd2hlbiBjb25maWd1cmluZyBhIHNlcnZlciB0byBoYW5kbGUgYW55IFVSTC5cclxuICpcclxuICogQHBhcmFtIGJhc2UgLSBvcHRpb25hbCBiYXNlIHRvIHByb3ZpZGUuIERlZmF1bHRzIHRvIGBsb2NhdGlvbi5wYXRobmFtZWAgb3JcclxuICogYC9gIGlmIGF0IHJvb3QuIElmIHRoZXJlIGlzIGEgYGJhc2VgIHRhZyBpbiB0aGUgYGhlYWRgLCBpdHMgdmFsdWUgd2lsbCBiZVxyXG4gKiAqKmlnbm9yZWQqKi5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBganNcclxuICogLy8gYXQgaHR0cHM6Ly9leGFtcGxlLmNvbS9mb2xkZXJcclxuICogY3JlYXRlV2ViSGFzaEhpc3RvcnkoKSAvLyBnaXZlcyBhIHVybCBvZiBgaHR0cHM6Ly9leGFtcGxlLmNvbS9mb2xkZXIjYFxyXG4gKiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgnL2ZvbGRlci8nKSAvLyBnaXZlcyBhIHVybCBvZiBgaHR0cHM6Ly9leGFtcGxlLmNvbS9mb2xkZXIvI2BcclxuICogLy8gaWYgdGhlIGAjYCBpcyBwcm92aWRlZCBpbiB0aGUgYmFzZSwgaXQgd29uJ3QgYmUgYWRkZWQgYnkgYGNyZWF0ZVdlYkhhc2hIaXN0b3J5YFxyXG4gKiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgnL2ZvbGRlci8jL2FwcC8nKSAvLyBnaXZlcyBhIHVybCBvZiBgaHR0cHM6Ly9leGFtcGxlLmNvbS9mb2xkZXIvIy9hcHAvYFxyXG4gKiAvLyB5b3Ugc2hvdWxkIGF2b2lkIGRvaW5nIHRoaXMgYmVjYXVzZSBpdCBjaGFuZ2VzIHRoZSBvcmlnaW5hbCB1cmwgYW5kIGJyZWFrcyBjb3B5aW5nIHVybHNcclxuICogY3JlYXRlV2ViSGFzaEhpc3RvcnkoJy9vdGhlci1mb2xkZXIvJykgLy8gZ2l2ZXMgYSB1cmwgb2YgYGh0dHBzOi8vZXhhbXBsZS5jb20vb3RoZXItZm9sZGVyLyNgXHJcbiAqXHJcbiAqIC8vIGF0IGZpbGU6Ly8vdXNyL2V0Yy9mb2xkZXIvaW5kZXguaHRtbFxyXG4gKiAvLyBmb3IgbG9jYXRpb25zIHdpdGggbm8gYGhvc3RgLCB0aGUgYmFzZSBpcyBpZ25vcmVkXHJcbiAqIGNyZWF0ZVdlYkhhc2hIaXN0b3J5KCcvaUFtSWdub3JlZCcpIC8vIGdpdmVzIGEgdXJsIG9mIGBmaWxlOi8vL3Vzci9ldGMvZm9sZGVyL2luZGV4Lmh0bWwjYFxyXG4gKiBgYGBcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVdlYkhhc2hIaXN0b3J5KGJhc2UpIHtcclxuICAgIC8vIE1ha2Ugc3VyZSB0aGlzIGltcGxlbWVudGF0aW9uIGlzIGZpbmUgaW4gdGVybXMgb2YgZW5jb2RpbmcsIHNwZWNpYWxseSBmb3IgSUUxMVxyXG4gICAgLy8gZm9yIGBmaWxlOi8vYCwgZGlyZWN0bHkgdXNlIHRoZSBwYXRobmFtZSBhbmQgaWdub3JlIHRoZSBiYXNlXHJcbiAgICAvLyBsb2NhdGlvbi5wYXRobmFtZSBjb250YWlucyBhbiBpbml0aWFsIGAvYCBldmVuIGF0IHRoZSByb290OiBgaHR0cHM6Ly9leGFtcGxlLmNvbWBcclxuICAgIGJhc2UgPSBsb2NhdGlvbi5ob3N0ID8gYmFzZSB8fCBsb2NhdGlvbi5wYXRobmFtZSA6ICcnO1xyXG4gICAgLy8gYWxsb3cgdGhlIHVzZXIgdG8gcHJvdmlkZSBhIGAjYCBpbiB0aGUgbWlkZGxlOiBgL2Jhc2UvIy9hcHBgXHJcbiAgICBpZiAoYmFzZS5pbmRleE9mKCcjJykgPCAwKVxyXG4gICAgICAgIGJhc2UgKz0gJyMnO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhYmFzZS5lbmRzV2l0aCgnIy8nKSAmJiAhYmFzZS5lbmRzV2l0aCgnIycpKSB7XHJcbiAgICAgICAgd2FybihgQSBoYXNoIGJhc2UgbXVzdCBlbmQgd2l0aCBhIFwiI1wiOlxcblwiJHtiYXNlfVwiIHNob3VsZCBiZSBcIiR7YmFzZS5yZXBsYWNlKC8jLiokLywgJyMnKX1cIi5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjcmVhdGVXZWJIaXN0b3J5KGJhc2UpO1xyXG59XG5cbmZ1bmN0aW9uIGlzUm91dGVMb2NhdGlvbihyb3V0ZSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiByb3V0ZSA9PT0gJ3N0cmluZycgfHwgKHJvdXRlICYmIHR5cGVvZiByb3V0ZSA9PT0gJ29iamVjdCcpO1xyXG59XHJcbmZ1bmN0aW9uIGlzUm91dGVOYW1lKG5hbWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5hbWUgPT09ICdzeW1ib2wnO1xyXG59XG5cbi8qKlxyXG4gKiBJbml0aWFsIHJvdXRlIGxvY2F0aW9uIHdoZXJlIHRoZSByb3V0ZXIgaXMuIENhbiBiZSB1c2VkIGluIG5hdmlnYXRpb24gZ3VhcmRzXHJcbiAqIHRvIGRpZmZlcmVudGlhdGUgdGhlIGluaXRpYWwgbmF2aWdhdGlvbi5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBganNcclxuICogaW1wb3J0IHsgU1RBUlRfTE9DQVRJT04gfSBmcm9tICd2dWUtcm91dGVyJ1xyXG4gKlxyXG4gKiByb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20pID0+IHtcclxuICogICBpZiAoZnJvbSA9PT0gU1RBUlRfTE9DQVRJT04pIHtcclxuICogICAgIC8vIGluaXRpYWwgbmF2aWdhdGlvblxyXG4gKiAgIH1cclxuICogfSlcclxuICogYGBgXHJcbiAqL1xyXG5jb25zdCBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEID0ge1xyXG4gICAgcGF0aDogJy8nLFxyXG4gICAgbmFtZTogdW5kZWZpbmVkLFxyXG4gICAgcGFyYW1zOiB7fSxcclxuICAgIHF1ZXJ5OiB7fSxcclxuICAgIGhhc2g6ICcnLFxyXG4gICAgZnVsbFBhdGg6ICcvJyxcclxuICAgIG1hdGNoZWQ6IFtdLFxyXG4gICAgbWV0YToge30sXHJcbiAgICByZWRpcmVjdGVkRnJvbTogdW5kZWZpbmVkLFxyXG59O1xuXG5jb25zdCBOYXZpZ2F0aW9uRmFpbHVyZVN5bWJvbCA9IC8qI19fUFVSRV9fKi8gUG9seVN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnbmF2aWdhdGlvbiBmYWlsdXJlJyA6ICduZicpO1xyXG4vKipcclxuICogRW51bWVyYXRpb24gd2l0aCBhbGwgcG9zc2libGUgdHlwZXMgZm9yIG5hdmlnYXRpb24gZmFpbHVyZXMuIENhbiBiZSBwYXNzZWQgdG9cclxuICoge0BsaW5rIGlzTmF2aWdhdGlvbkZhaWx1cmV9IHRvIGNoZWNrIGZvciBzcGVjaWZpYyBmYWlsdXJlcy5cclxuICovXHJcbnZhciBOYXZpZ2F0aW9uRmFpbHVyZVR5cGU7XHJcbihmdW5jdGlvbiAoTmF2aWdhdGlvbkZhaWx1cmVUeXBlKSB7XHJcbiAgICAvKipcclxuICAgICAqIEFuIGFib3J0ZWQgbmF2aWdhdGlvbiBpcyBhIG5hdmlnYXRpb24gdGhhdCBmYWlsZWQgYmVjYXVzZSBhIG5hdmlnYXRpb25cclxuICAgICAqIGd1YXJkIHJldHVybmVkIGBmYWxzZWAgb3IgY2FsbGVkIGBuZXh0KGZhbHNlKWBcclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbkZhaWx1cmVUeXBlW05hdmlnYXRpb25GYWlsdXJlVHlwZVtcImFib3J0ZWRcIl0gPSA0XSA9IFwiYWJvcnRlZFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBBIGNhbmNlbGxlZCBuYXZpZ2F0aW9uIGlzIGEgbmF2aWdhdGlvbiB0aGF0IGZhaWxlZCBiZWNhdXNlIGEgbW9yZSByZWNlbnRcclxuICAgICAqIG5hdmlnYXRpb24gZmluaXNoZWQgc3RhcnRlZCAobm90IG5lY2Vzc2FyaWx5IGZpbmlzaGVkKS5cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbkZhaWx1cmVUeXBlW05hdmlnYXRpb25GYWlsdXJlVHlwZVtcImNhbmNlbGxlZFwiXSA9IDhdID0gXCJjYW5jZWxsZWRcIjtcclxuICAgIC8qKlxyXG4gICAgICogQSBkdXBsaWNhdGVkIG5hdmlnYXRpb24gaXMgYSBuYXZpZ2F0aW9uIHRoYXQgZmFpbGVkIGJlY2F1c2UgaXQgd2FzXHJcbiAgICAgKiBpbml0aWF0ZWQgd2hpbGUgYWxyZWFkeSBiZWluZyBhdCB0aGUgZXhhY3Qgc2FtZSBsb2NhdGlvbi5cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbkZhaWx1cmVUeXBlW05hdmlnYXRpb25GYWlsdXJlVHlwZVtcImR1cGxpY2F0ZWRcIl0gPSAxNl0gPSBcImR1cGxpY2F0ZWRcIjtcclxufSkoTmF2aWdhdGlvbkZhaWx1cmVUeXBlIHx8IChOYXZpZ2F0aW9uRmFpbHVyZVR5cGUgPSB7fSkpO1xyXG4vLyBERVYgb25seSBkZWJ1ZyBtZXNzYWdlc1xyXG5jb25zdCBFcnJvclR5cGVNZXNzYWdlcyA9IHtcclxuICAgIFsxIC8qIE1BVENIRVJfTk9UX0ZPVU5EICovXSh7IGxvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24gfSkge1xyXG4gICAgICAgIHJldHVybiBgTm8gbWF0Y2ggZm9yXFxuICR7SlNPTi5zdHJpbmdpZnkobG9jYXRpb24pfSR7Y3VycmVudExvY2F0aW9uXHJcbiAgICAgICAgICAgID8gJ1xcbndoaWxlIGJlaW5nIGF0XFxuJyArIEpTT04uc3RyaW5naWZ5KGN1cnJlbnRMb2NhdGlvbilcclxuICAgICAgICAgICAgOiAnJ31gO1xyXG4gICAgfSxcclxuICAgIFsyIC8qIE5BVklHQVRJT05fR1VBUkRfUkVESVJFQ1QgKi9dKHsgZnJvbSwgdG8sIH0pIHtcclxuICAgICAgICByZXR1cm4gYFJlZGlyZWN0ZWQgZnJvbSBcIiR7ZnJvbS5mdWxsUGF0aH1cIiB0byBcIiR7c3RyaW5naWZ5Um91dGUodG8pfVwiIHZpYSBhIG5hdmlnYXRpb24gZ3VhcmQuYDtcclxuICAgIH0sXHJcbiAgICBbNCAvKiBOQVZJR0FUSU9OX0FCT1JURUQgKi9dKHsgZnJvbSwgdG8gfSkge1xyXG4gICAgICAgIHJldHVybiBgTmF2aWdhdGlvbiBhYm9ydGVkIGZyb20gXCIke2Zyb20uZnVsbFBhdGh9XCIgdG8gXCIke3RvLmZ1bGxQYXRofVwiIHZpYSBhIG5hdmlnYXRpb24gZ3VhcmQuYDtcclxuICAgIH0sXHJcbiAgICBbOCAvKiBOQVZJR0FUSU9OX0NBTkNFTExFRCAqL10oeyBmcm9tLCB0byB9KSB7XHJcbiAgICAgICAgcmV0dXJuIGBOYXZpZ2F0aW9uIGNhbmNlbGxlZCBmcm9tIFwiJHtmcm9tLmZ1bGxQYXRofVwiIHRvIFwiJHt0by5mdWxsUGF0aH1cIiB3aXRoIGEgbmV3IG5hdmlnYXRpb24uYDtcclxuICAgIH0sXHJcbiAgICBbMTYgLyogTkFWSUdBVElPTl9EVVBMSUNBVEVEICovXSh7IGZyb20sIHRvIH0pIHtcclxuICAgICAgICByZXR1cm4gYEF2b2lkZWQgcmVkdW5kYW50IG5hdmlnYXRpb24gdG8gY3VycmVudCBsb2NhdGlvbjogXCIke2Zyb20uZnVsbFBhdGh9XCIuYDtcclxuICAgIH0sXHJcbn07XHJcbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlckVycm9yKHR5cGUsIHBhcmFtcykge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAhdHJ1ZSkge1xyXG4gICAgICAgIHJldHVybiBhc3NpZ24obmV3IEVycm9yKEVycm9yVHlwZU1lc3NhZ2VzW3R5cGVdKHBhcmFtcykpLCB7XHJcbiAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgIFtOYXZpZ2F0aW9uRmFpbHVyZVN5bWJvbF06IHRydWUsXHJcbiAgICAgICAgfSwgcGFyYW1zKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBhc3NpZ24obmV3IEVycm9yKCksIHtcclxuICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgW05hdmlnYXRpb25GYWlsdXJlU3ltYm9sXTogdHJ1ZSxcclxuICAgICAgICB9LCBwYXJhbXMpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzTmF2aWdhdGlvbkZhaWx1cmUoZXJyb3IsIHR5cGUpIHtcclxuICAgIHJldHVybiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJlxyXG4gICAgICAgIE5hdmlnYXRpb25GYWlsdXJlU3ltYm9sIGluIGVycm9yICYmXHJcbiAgICAgICAgKHR5cGUgPT0gbnVsbCB8fCAhIShlcnJvci50eXBlICYgdHlwZSkpKTtcclxufVxyXG5jb25zdCBwcm9wZXJ0aWVzVG9Mb2cgPSBbJ3BhcmFtcycsICdxdWVyeScsICdoYXNoJ107XHJcbmZ1bmN0aW9uIHN0cmluZ2lmeVJvdXRlKHRvKSB7XHJcbiAgICBpZiAodHlwZW9mIHRvID09PSAnc3RyaW5nJylcclxuICAgICAgICByZXR1cm4gdG87XHJcbiAgICBpZiAoJ3BhdGgnIGluIHRvKVxyXG4gICAgICAgIHJldHVybiB0by5wYXRoO1xyXG4gICAgY29uc3QgbG9jYXRpb24gPSB7fTtcclxuICAgIGZvciAoY29uc3Qga2V5IG9mIHByb3BlcnRpZXNUb0xvZykge1xyXG4gICAgICAgIGlmIChrZXkgaW4gdG8pXHJcbiAgICAgICAgICAgIGxvY2F0aW9uW2tleV0gPSB0b1trZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGxvY2F0aW9uLCBudWxsLCAyKTtcclxufVxuXG4vLyBkZWZhdWx0IHBhdHRlcm4gZm9yIGEgcGFyYW06IG5vbiBncmVlZHkgZXZlcnl0aGluZyBidXQgL1xyXG5jb25zdCBCQVNFX1BBUkFNX1BBVFRFUk4gPSAnW14vXSs/JztcclxuY29uc3QgQkFTRV9QQVRIX1BBUlNFUl9PUFRJT05TID0ge1xyXG4gICAgc2Vuc2l0aXZlOiBmYWxzZSxcclxuICAgIHN0cmljdDogZmFsc2UsXHJcbiAgICBzdGFydDogdHJ1ZSxcclxuICAgIGVuZDogdHJ1ZSxcclxufTtcclxuLy8gU3BlY2lhbCBSZWdleCBjaGFyYWN0ZXJzIHRoYXQgbXVzdCBiZSBlc2NhcGVkIGluIHN0YXRpYyB0b2tlbnNcclxuY29uc3QgUkVHRVhfQ0hBUlNfUkUgPSAvWy4rKj9eJHt9KClbXFxdL1xcXFxdL2c7XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgcGF0aCBwYXJzZXIgZnJvbSBhbiBhcnJheSBvZiBTZWdtZW50cyAoYSBzZWdtZW50IGlzIGFuIGFycmF5IG9mIFRva2VucylcclxuICpcclxuICogQHBhcmFtIHNlZ21lbnRzIC0gYXJyYXkgb2Ygc2VnbWVudHMgcmV0dXJuZWQgYnkgdG9rZW5pemVQYXRoXHJcbiAqIEBwYXJhbSBleHRyYU9wdGlvbnMgLSBvcHRpb25hbCBvcHRpb25zIGZvciB0aGUgcmVnZXhwXHJcbiAqIEByZXR1cm5zIGEgUGF0aFBhcnNlclxyXG4gKi9cclxuZnVuY3Rpb24gdG9rZW5zVG9QYXJzZXIoc2VnbWVudHMsIGV4dHJhT3B0aW9ucykge1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IGFzc2lnbih7fSwgQkFTRV9QQVRIX1BBUlNFUl9PUFRJT05TLCBleHRyYU9wdGlvbnMpO1xyXG4gICAgLy8gdGhlIGFtb3VudCBvZiBzY29yZXMgaXMgdGhlIHNhbWUgYXMgdGhlIGxlbmd0aCBvZiBzZWdtZW50cyBleGNlcHQgZm9yIHRoZSByb290IHNlZ21lbnQgXCIvXCJcclxuICAgIGxldCBzY29yZSA9IFtdO1xyXG4gICAgLy8gdGhlIHJlZ2V4cCBhcyBhIHN0cmluZ1xyXG4gICAgbGV0IHBhdHRlcm4gPSBvcHRpb25zLnN0YXJ0ID8gJ14nIDogJyc7XHJcbiAgICAvLyBleHRyYWN0ZWQga2V5c1xyXG4gICAgY29uc3Qga2V5cyA9IFtdO1xyXG4gICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzKSB7XHJcbiAgICAgICAgLy8gdGhlIHJvb3Qgc2VnbWVudCBuZWVkcyBzcGVjaWFsIHRyZWF0bWVudFxyXG4gICAgICAgIGNvbnN0IHNlZ21lbnRTY29yZXMgPSBzZWdtZW50Lmxlbmd0aCA/IFtdIDogWzkwIC8qIFJvb3QgKi9dO1xyXG4gICAgICAgIC8vIGFsbG93IHRyYWlsaW5nIHNsYXNoXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuc3RyaWN0ICYmICFzZWdtZW50Lmxlbmd0aClcclxuICAgICAgICAgICAgcGF0dGVybiArPSAnLyc7XHJcbiAgICAgICAgZm9yIChsZXQgdG9rZW5JbmRleCA9IDA7IHRva2VuSW5kZXggPCBzZWdtZW50Lmxlbmd0aDsgdG9rZW5JbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gc2VnbWVudFt0b2tlbkluZGV4XTtcclxuICAgICAgICAgICAgLy8gcmVzZXRzIHRoZSBzY29yZSBpZiB3ZSBhcmUgaW5zaWRlIGEgc3ViIHNlZ21lbnQgLzphLW90aGVyLTpiXHJcbiAgICAgICAgICAgIGxldCBzdWJTZWdtZW50U2NvcmUgPSA0MCAvKiBTZWdtZW50ICovICtcclxuICAgICAgICAgICAgICAgIChvcHRpb25zLnNlbnNpdGl2ZSA/IDAuMjUgLyogQm9udXNDYXNlU2Vuc2l0aXZlICovIDogMCk7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSAwIC8qIFN0YXRpYyAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gcHJlcGVuZCB0aGUgc2xhc2ggaWYgd2UgYXJlIHN0YXJ0aW5nIGEgbmV3IHNlZ21lbnRcclxuICAgICAgICAgICAgICAgIGlmICghdG9rZW5JbmRleClcclxuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuICs9ICcvJztcclxuICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gdG9rZW4udmFsdWUucmVwbGFjZShSRUdFWF9DSEFSU19SRSwgJ1xcXFwkJicpO1xyXG4gICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IDQwIC8qIFN0YXRpYyAqLztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0b2tlbi50eXBlID09PSAxIC8qIFBhcmFtICovKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlLCByZXBlYXRhYmxlLCBvcHRpb25hbCwgcmVnZXhwIH0gPSB0b2tlbjtcclxuICAgICAgICAgICAgICAgIGtleXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0YWJsZSxcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25hbCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmUgPSByZWdleHAgPyByZWdleHAgOiBCQVNFX1BBUkFNX1BBVFRFUk47XHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgdXNlciBwcm92aWRlZCBhIGN1c3RvbSByZWdleHAgLzppZChcXFxcZCspXHJcbiAgICAgICAgICAgICAgICBpZiAocmUgIT09IEJBU0VfUEFSQU1fUEFUVEVSTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YlNlZ21lbnRTY29yZSArPSAxMCAvKiBCb251c0N1c3RvbVJlZ0V4cCAqLztcclxuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHJlZ2V4cCBpcyB2YWxpZCBiZWZvcmUgdXNpbmcgaXRcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKGAoJHtyZX0pYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGN1c3RvbSBSZWdFeHAgZm9yIHBhcmFtIFwiJHt2YWx1ZX1cIiAoJHtyZX0pOiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHdlIHJlcGVhdCB3ZSBtdXN0IHRha2UgY2FyZSBvZiB0aGUgcmVwZWF0aW5nIGxlYWRpbmcgc2xhc2hcclxuICAgICAgICAgICAgICAgIGxldCBzdWJQYXR0ZXJuID0gcmVwZWF0YWJsZSA/IGAoKD86JHtyZX0pKD86Lyg/OiR7cmV9KSkqKWAgOiBgKCR7cmV9KWA7XHJcbiAgICAgICAgICAgICAgICAvLyBwcmVwZW5kIHRoZSBzbGFzaCBpZiB3ZSBhcmUgc3RhcnRpbmcgYSBuZXcgc2VnbWVudFxyXG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbkluZGV4KVxyXG4gICAgICAgICAgICAgICAgICAgIHN1YlBhdHRlcm4gPSBvcHRpb25hbCA/IGAoPzovJHtzdWJQYXR0ZXJufSlgIDogJy8nICsgc3ViUGF0dGVybjtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25hbClcclxuICAgICAgICAgICAgICAgICAgICBzdWJQYXR0ZXJuICs9ICc/JztcclxuICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gc3ViUGF0dGVybjtcclxuICAgICAgICAgICAgICAgIHN1YlNlZ21lbnRTY29yZSArPSAyMCAvKiBEeW5hbWljICovO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbmFsKVxyXG4gICAgICAgICAgICAgICAgICAgIHN1YlNlZ21lbnRTY29yZSArPSAtOCAvKiBCb251c09wdGlvbmFsICovO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcGVhdGFibGUpXHJcbiAgICAgICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IC0yMCAvKiBCb251c1JlcGVhdGFibGUgKi87XHJcbiAgICAgICAgICAgICAgICBpZiAocmUgPT09ICcuKicpXHJcbiAgICAgICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IC01MCAvKiBCb251c1dpbGRjYXJkICovO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlZ21lbnRTY29yZXMucHVzaChzdWJTZWdtZW50U2NvcmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhbiBlbXB0eSBhcnJheSBsaWtlIC9ob21lLyAtPiBbW3tob21lfV0sIFtdXVxyXG4gICAgICAgIC8vIGlmICghc2VnbWVudC5sZW5ndGgpIHBhdHRlcm4gKz0gJy8nXHJcbiAgICAgICAgc2NvcmUucHVzaChzZWdtZW50U2NvcmVzKTtcclxuICAgIH1cclxuICAgIC8vIG9ubHkgYXBwbHkgdGhlIHN0cmljdCBib251cyB0byB0aGUgbGFzdCBzY29yZVxyXG4gICAgaWYgKG9wdGlvbnMuc3RyaWN0ICYmIG9wdGlvbnMuZW5kKSB7XHJcbiAgICAgICAgY29uc3QgaSA9IHNjb3JlLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgc2NvcmVbaV1bc2NvcmVbaV0ubGVuZ3RoIC0gMV0gKz0gMC43MDAwMDAwMDAwMDAwMDAxIC8qIEJvbnVzU3RyaWN0ICovO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETzogZGV2IG9ubHkgd2FybiBkb3VibGUgdHJhaWxpbmcgc2xhc2hcclxuICAgIGlmICghb3B0aW9ucy5zdHJpY3QpXHJcbiAgICAgICAgcGF0dGVybiArPSAnLz8nO1xyXG4gICAgaWYgKG9wdGlvbnMuZW5kKVxyXG4gICAgICAgIHBhdHRlcm4gKz0gJyQnO1xyXG4gICAgLy8gYWxsb3cgcGF0aHMgbGlrZSAvZHluYW1pYyB0byBvbmx5IG1hdGNoIGR5bmFtaWMgb3IgZHluYW1pYy8uLi4gYnV0IG5vdCBkeW5hbWljX3NvbWV0aGluZ19lbHNlXHJcbiAgICBlbHNlIGlmIChvcHRpb25zLnN0cmljdClcclxuICAgICAgICBwYXR0ZXJuICs9ICcoPzovfCQpJztcclxuICAgIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChwYXR0ZXJuLCBvcHRpb25zLnNlbnNpdGl2ZSA/ICcnIDogJ2knKTtcclxuICAgIGZ1bmN0aW9uIHBhcnNlKHBhdGgpIHtcclxuICAgICAgICBjb25zdCBtYXRjaCA9IHBhdGgubWF0Y2gocmUpO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHt9O1xyXG4gICAgICAgIGlmICghbWF0Y2gpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbWF0Y2gubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBtYXRjaFtpXSB8fCAnJztcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpIC0gMV07XHJcbiAgICAgICAgICAgIHBhcmFtc1trZXkubmFtZV0gPSB2YWx1ZSAmJiBrZXkucmVwZWF0YWJsZSA/IHZhbHVlLnNwbGl0KCcvJykgOiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhcmFtcztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHN0cmluZ2lmeShwYXJhbXMpIHtcclxuICAgICAgICBsZXQgcGF0aCA9ICcnO1xyXG4gICAgICAgIC8vIGZvciBvcHRpb25hbCBwYXJhbWV0ZXJzIHRvIGFsbG93IHRvIGJlIGVtcHR5XHJcbiAgICAgICAgbGV0IGF2b2lkRHVwbGljYXRlZFNsYXNoID0gZmFsc2U7XHJcbiAgICAgICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzKSB7XHJcbiAgICAgICAgICAgIGlmICghYXZvaWREdXBsaWNhdGVkU2xhc2ggfHwgIXBhdGguZW5kc1dpdGgoJy8nKSlcclxuICAgICAgICAgICAgICAgIHBhdGggKz0gJy8nO1xyXG4gICAgICAgICAgICBhdm9pZER1cGxpY2F0ZWRTbGFzaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHNlZ21lbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSAwIC8qIFN0YXRpYyAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggKz0gdG9rZW4udmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbi50eXBlID09PSAxIC8qIFBhcmFtICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSwgcmVwZWF0YWJsZSwgb3B0aW9uYWwgfSA9IHRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gdmFsdWUgaW4gcGFyYW1zID8gcGFyYW1zW3ZhbHVlXSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmFtKSAmJiAhcmVwZWF0YWJsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm92aWRlZCBwYXJhbSBcIiR7dmFsdWV9XCIgaXMgYW4gYXJyYXkgYnV0IGl0IGlzIG5vdCByZXBlYXRhYmxlICgqIG9yICsgbW9kaWZpZXJzKWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBBcnJheS5pc0FycmF5KHBhcmFtKSA/IHBhcmFtLmpvaW4oJy8nKSA6IHBhcmFtO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbGFzdCBzbGFzaCBhcyB3ZSBjb3VsZCBiZSBhdCB0aGUgZW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5lbmRzV2l0aCgnLycpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoLnNsaWNlKDAsIC0xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdCBhcHBlbmQgYSBzbGFzaCBvbiB0aGUgbmV4dCBpdGVyYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdm9pZER1cGxpY2F0ZWRTbGFzaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIHJlcXVpcmVkIHBhcmFtIFwiJHt2YWx1ZX1cImApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwYXRoICs9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhdGg7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlLFxyXG4gICAgICAgIHNjb3JlLFxyXG4gICAgICAgIGtleXMsXHJcbiAgICAgICAgcGFyc2UsXHJcbiAgICAgICAgc3RyaW5naWZ5LFxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogQ29tcGFyZXMgYW4gYXJyYXkgb2YgbnVtYmVycyBhcyB1c2VkIGluIFBhdGhQYXJzZXIuc2NvcmUgYW5kIHJldHVybnMgYVxyXG4gKiBudW1iZXIuIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gYHNvcnRgIGFuIGFycmF5XHJcbiAqIEBwYXJhbSBhIC0gZmlyc3QgYXJyYXkgb2YgbnVtYmVyc1xyXG4gKiBAcGFyYW0gYiAtIHNlY29uZCBhcnJheSBvZiBudW1iZXJzXHJcbiAqIEByZXR1cm5zIDAgaWYgYm90aCBhcmUgZXF1YWwsIDwgMCBpZiBhIHNob3VsZCBiZSBzb3J0ZWQgZmlyc3QsID4gMCBpZiBiXHJcbiAqIHNob3VsZCBiZSBzb3J0ZWQgZmlyc3RcclxuICovXHJcbmZ1bmN0aW9uIGNvbXBhcmVTY29yZUFycmF5KGEsIGIpIHtcclxuICAgIGxldCBpID0gMDtcclxuICAgIHdoaWxlIChpIDwgYS5sZW5ndGggJiYgaSA8IGIubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgZGlmZiA9IGJbaV0gLSBhW2ldO1xyXG4gICAgICAgIC8vIG9ubHkga2VlcCBnb2luZyBpZiBkaWZmID09PSAwXHJcbiAgICAgICAgaWYgKGRpZmYpXHJcbiAgICAgICAgICAgIHJldHVybiBkaWZmO1xyXG4gICAgICAgIGkrKztcclxuICAgIH1cclxuICAgIC8vIGlmIHRoZSBsYXN0IHN1YnNlZ21lbnQgd2FzIFN0YXRpYywgdGhlIHNob3J0ZXIgc2VnbWVudHMgc2hvdWxkIGJlIHNvcnRlZCBmaXJzdFxyXG4gICAgLy8gb3RoZXJ3aXNlIHNvcnQgdGhlIGxvbmdlc3Qgc2VnbWVudCBmaXJzdFxyXG4gICAgaWYgKGEubGVuZ3RoIDwgYi5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gYS5sZW5ndGggPT09IDEgJiYgYVswXSA9PT0gNDAgLyogU3RhdGljICovICsgNDAgLyogU2VnbWVudCAqL1xyXG4gICAgICAgICAgICA/IC0xXHJcbiAgICAgICAgICAgIDogMTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGEubGVuZ3RoID4gYi5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gYi5sZW5ndGggPT09IDEgJiYgYlswXSA9PT0gNDAgLyogU3RhdGljICovICsgNDAgLyogU2VnbWVudCAqL1xyXG4gICAgICAgICAgICA/IDFcclxuICAgICAgICAgICAgOiAtMTtcclxuICAgIH1cclxuICAgIHJldHVybiAwO1xyXG59XHJcbi8qKlxyXG4gKiBDb21wYXJlIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBgc29ydGAgdG8gc29ydCBhbiBhcnJheSBvZiBQYXRoUGFyc2VyXHJcbiAqIEBwYXJhbSBhIC0gZmlyc3QgUGF0aFBhcnNlclxyXG4gKiBAcGFyYW0gYiAtIHNlY29uZCBQYXRoUGFyc2VyXHJcbiAqIEByZXR1cm5zIDAgaWYgYm90aCBhcmUgZXF1YWwsIDwgMCBpZiBhIHNob3VsZCBiZSBzb3J0ZWQgZmlyc3QsID4gMCBpZiBiXHJcbiAqL1xyXG5mdW5jdGlvbiBjb21wYXJlUGF0aFBhcnNlclNjb3JlKGEsIGIpIHtcclxuICAgIGxldCBpID0gMDtcclxuICAgIGNvbnN0IGFTY29yZSA9IGEuc2NvcmU7XHJcbiAgICBjb25zdCBiU2NvcmUgPSBiLnNjb3JlO1xyXG4gICAgd2hpbGUgKGkgPCBhU2NvcmUubGVuZ3RoICYmIGkgPCBiU2NvcmUubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgY29tcCA9IGNvbXBhcmVTY29yZUFycmF5KGFTY29yZVtpXSwgYlNjb3JlW2ldKTtcclxuICAgICAgICAvLyBkbyBub3QgcmV0dXJuIGlmIGJvdGggYXJlIGVxdWFsXHJcbiAgICAgICAgaWYgKGNvbXApXHJcbiAgICAgICAgICAgIHJldHVybiBjb21wO1xyXG4gICAgICAgIGkrKztcclxuICAgIH1cclxuICAgIC8vIGlmIGEgYW5kIGIgc2hhcmUgdGhlIHNhbWUgc2NvcmUgZW50cmllcyBidXQgYiBoYXMgbW9yZSwgc29ydCBiIGZpcnN0XHJcbiAgICByZXR1cm4gYlNjb3JlLmxlbmd0aCAtIGFTY29yZS5sZW5ndGg7XHJcbiAgICAvLyB0aGlzIGlzIHRoZSB0ZXJuYXJ5IHZlcnNpb25cclxuICAgIC8vIHJldHVybiBhU2NvcmUubGVuZ3RoIDwgYlNjb3JlLmxlbmd0aFxyXG4gICAgLy8gICA/IDFcclxuICAgIC8vICAgOiBhU2NvcmUubGVuZ3RoID4gYlNjb3JlLmxlbmd0aFxyXG4gICAgLy8gICA/IC0xXHJcbiAgICAvLyAgIDogMFxyXG59XG5cbmNvbnN0IFJPT1RfVE9LRU4gPSB7XHJcbiAgICB0eXBlOiAwIC8qIFN0YXRpYyAqLyxcclxuICAgIHZhbHVlOiAnJyxcclxufTtcclxuY29uc3QgVkFMSURfUEFSQU1fUkUgPSAvW2EtekEtWjAtOV9dLztcclxuLy8gQWZ0ZXIgc29tZSBwcm9maWxpbmcsIHRoZSBjYWNoZSBzZWVtcyB0byBiZSB1bm5lY2Vzc2FyeSBiZWNhdXNlIHRva2VuaXplUGF0aFxyXG4vLyAodGhlIHNsb3dlc3QgcGFydCBvZiBhZGRpbmcgYSByb3V0ZSkgaXMgdmVyeSBmYXN0XHJcbi8vIGNvbnN0IHRva2VuQ2FjaGUgPSBuZXcgTWFwPHN0cmluZywgVG9rZW5bXVtdPigpXHJcbmZ1bmN0aW9uIHRva2VuaXplUGF0aChwYXRoKSB7XHJcbiAgICBpZiAoIXBhdGgpXHJcbiAgICAgICAgcmV0dXJuIFtbXV07XHJcbiAgICBpZiAocGF0aCA9PT0gJy8nKVxyXG4gICAgICAgIHJldHVybiBbW1JPT1RfVE9LRU5dXTtcclxuICAgIGlmICghcGF0aC5zdGFydHNXaXRoKCcvJykpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgICAgID8gYFJvdXRlIHBhdGhzIHNob3VsZCBzdGFydCB3aXRoIGEgXCIvXCI6IFwiJHtwYXRofVwiIHNob3VsZCBiZSBcIi8ke3BhdGh9XCIuYFxyXG4gICAgICAgICAgICA6IGBJbnZhbGlkIHBhdGggXCIke3BhdGh9XCJgKTtcclxuICAgIH1cclxuICAgIC8vIGlmICh0b2tlbkNhY2hlLmhhcyhwYXRoKSkgcmV0dXJuIHRva2VuQ2FjaGUuZ2V0KHBhdGgpIVxyXG4gICAgZnVuY3Rpb24gY3Jhc2gobWVzc2FnZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRVJSICgke3N0YXRlfSkvXCIke2J1ZmZlcn1cIjogJHttZXNzYWdlfWApO1xyXG4gICAgfVxyXG4gICAgbGV0IHN0YXRlID0gMCAvKiBTdGF0aWMgKi87XHJcbiAgICBsZXQgcHJldmlvdXNTdGF0ZSA9IHN0YXRlO1xyXG4gICAgY29uc3QgdG9rZW5zID0gW107XHJcbiAgICAvLyB0aGUgc2VnbWVudCB3aWxsIGFsd2F5cyBiZSB2YWxpZCBiZWNhdXNlIHdlIGdldCBpbnRvIHRoZSBpbml0aWFsIHN0YXRlXHJcbiAgICAvLyB3aXRoIHRoZSBsZWFkaW5nIC9cclxuICAgIGxldCBzZWdtZW50O1xyXG4gICAgZnVuY3Rpb24gZmluYWxpemVTZWdtZW50KCkge1xyXG4gICAgICAgIGlmIChzZWdtZW50KVxyXG4gICAgICAgICAgICB0b2tlbnMucHVzaChzZWdtZW50KTtcclxuICAgICAgICBzZWdtZW50ID0gW107XHJcbiAgICB9XHJcbiAgICAvLyBpbmRleCBvbiB0aGUgcGF0aFxyXG4gICAgbGV0IGkgPSAwO1xyXG4gICAgLy8gY2hhciBhdCBpbmRleFxyXG4gICAgbGV0IGNoYXI7XHJcbiAgICAvLyBidWZmZXIgb2YgdGhlIHZhbHVlIHJlYWRcclxuICAgIGxldCBidWZmZXIgPSAnJztcclxuICAgIC8vIGN1c3RvbSByZWdleHAgZm9yIGEgcGFyYW1cclxuICAgIGxldCBjdXN0b21SZSA9ICcnO1xyXG4gICAgZnVuY3Rpb24gY29uc3VtZUJ1ZmZlcigpIHtcclxuICAgICAgICBpZiAoIWJ1ZmZlcilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gMCAvKiBTdGF0aWMgKi8pIHtcclxuICAgICAgICAgICAgc2VnbWVudC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IDAgLyogU3RhdGljICovLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGJ1ZmZlcixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHN0YXRlID09PSAxIC8qIFBhcmFtICovIHx8XHJcbiAgICAgICAgICAgIHN0YXRlID09PSAyIC8qIFBhcmFtUmVnRXhwICovIHx8XHJcbiAgICAgICAgICAgIHN0YXRlID09PSAzIC8qIFBhcmFtUmVnRXhwRW5kICovKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWdtZW50Lmxlbmd0aCA+IDEgJiYgKGNoYXIgPT09ICcqJyB8fCBjaGFyID09PSAnKycpKVxyXG4gICAgICAgICAgICAgICAgY3Jhc2goYEEgcmVwZWF0YWJsZSBwYXJhbSAoJHtidWZmZXJ9KSBtdXN0IGJlIGFsb25lIGluIGl0cyBzZWdtZW50LiBlZzogJy86aWRzKy5gKTtcclxuICAgICAgICAgICAgc2VnbWVudC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IDEgLyogUGFyYW0gKi8sXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogYnVmZmVyLFxyXG4gICAgICAgICAgICAgICAgcmVnZXhwOiBjdXN0b21SZSxcclxuICAgICAgICAgICAgICAgIHJlcGVhdGFibGU6IGNoYXIgPT09ICcqJyB8fCBjaGFyID09PSAnKycsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25hbDogY2hhciA9PT0gJyonIHx8IGNoYXIgPT09ICc/JyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjcmFzaCgnSW52YWxpZCBzdGF0ZSB0byBjb25zdW1lIGJ1ZmZlcicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBidWZmZXIgPSAnJztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGFkZENoYXJUb0J1ZmZlcigpIHtcclxuICAgICAgICBidWZmZXIgKz0gY2hhcjtcclxuICAgIH1cclxuICAgIHdoaWxlIChpIDwgcGF0aC5sZW5ndGgpIHtcclxuICAgICAgICBjaGFyID0gcGF0aFtpKytdO1xyXG4gICAgICAgIGlmIChjaGFyID09PSAnXFxcXCcgJiYgc3RhdGUgIT09IDIgLyogUGFyYW1SZWdFeHAgKi8pIHtcclxuICAgICAgICAgICAgcHJldmlvdXNTdGF0ZSA9IHN0YXRlO1xyXG4gICAgICAgICAgICBzdGF0ZSA9IDQgLyogRXNjYXBlTmV4dCAqLztcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSAwIC8qIFN0YXRpYyAqLzpcclxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSAnLycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN1bWVCdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZmluYWxpemVTZWdtZW50KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGFyID09PSAnOicpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdW1lQnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAxIC8qIFBhcmFtICovO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2hhclRvQnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0IC8qIEVzY2FwZU5leHQgKi86XHJcbiAgICAgICAgICAgICAgICBhZGRDaGFyVG9CdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gcHJldmlvdXNTdGF0ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDEgLyogUGFyYW0gKi86XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhciA9PT0gJygnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAyIC8qIFBhcmFtUmVnRXhwICovO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbVJlID0gJyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChWQUxJRF9QQVJBTV9SRS50ZXN0KGNoYXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2hhclRvQnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdW1lQnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAwIC8qIFN0YXRpYyAqLztcclxuICAgICAgICAgICAgICAgICAgICAvLyBnbyBiYWNrIG9uZSBjaGFyYWN0ZXIgaWYgd2Ugd2VyZSBub3QgbW9kaWZ5aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXIgIT09ICcqJyAmJiBjaGFyICE9PSAnPycgJiYgY2hhciAhPT0gJysnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyIC8qIFBhcmFtUmVnRXhwICovOlxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogaXMgaXQgd29ydGggaGFuZGxpbmcgbmVzdGVkIHJlZ2V4cD8gbGlrZSA6cCg/OnByZWZpeF8oW14vXSspX3N1ZmZpeClcclxuICAgICAgICAgICAgICAgIC8vIGl0IGFscmVhZHkgd29ya3MgYnkgZXNjYXBpbmcgdGhlIGNsb3NpbmcgKVxyXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9wYXRocy5lc20uZGV2Lz9wPUFBTWVKYmlBd1FFY0RLYkFvQUFrUDYwUEcyUjZRQXZnTmFBNkFGQUNNMkFCdVFCQiNcclxuICAgICAgICAgICAgICAgIC8vIGlzIHRoaXMgcmVhbGx5IHNvbWV0aGluZyBwZW9wbGUgbmVlZCBzaW5jZSB5b3UgY2FuIGFsc28gd3JpdGVcclxuICAgICAgICAgICAgICAgIC8vIC9wcmVmaXhfOnAoKV9zdWZmaXhcclxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSAnKScpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdGhlIGVzY2FwZWQgKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXN0b21SZVtjdXN0b21SZS5sZW5ndGggLSAxXSA9PSAnXFxcXCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVJlID0gY3VzdG9tUmUuc2xpY2UoMCwgLTEpICsgY2hhcjtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMyAvKiBQYXJhbVJlZ0V4cEVuZCAqLztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbVJlICs9IGNoYXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzIC8qIFBhcmFtUmVnRXhwRW5kICovOlxyXG4gICAgICAgICAgICAgICAgLy8gc2FtZSBhcyBmaW5hbGl6aW5nIGEgcGFyYW1cclxuICAgICAgICAgICAgICAgIGNvbnN1bWVCdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gMCAvKiBTdGF0aWMgKi87XHJcbiAgICAgICAgICAgICAgICAvLyBnbyBiYWNrIG9uZSBjaGFyYWN0ZXIgaWYgd2Ugd2VyZSBub3QgbW9kaWZ5aW5nXHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhciAhPT0gJyonICYmIGNoYXIgIT09ICc/JyAmJiBjaGFyICE9PSAnKycpXHJcbiAgICAgICAgICAgICAgICAgICAgaS0tO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjcmFzaCgnVW5rbm93biBzdGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHN0YXRlID09PSAyIC8qIFBhcmFtUmVnRXhwICovKVxyXG4gICAgICAgIGNyYXNoKGBVbmZpbmlzaGVkIGN1c3RvbSBSZWdFeHAgZm9yIHBhcmFtIFwiJHtidWZmZXJ9XCJgKTtcclxuICAgIGNvbnN1bWVCdWZmZXIoKTtcclxuICAgIGZpbmFsaXplU2VnbWVudCgpO1xyXG4gICAgLy8gdG9rZW5DYWNoZS5zZXQocGF0aCwgdG9rZW5zKVxyXG4gICAgcmV0dXJuIHRva2VucztcclxufVxuXG5mdW5jdGlvbiBjcmVhdGVSb3V0ZVJlY29yZE1hdGNoZXIocmVjb3JkLCBwYXJlbnQsIG9wdGlvbnMpIHtcclxuICAgIGNvbnN0IHBhcnNlciA9IHRva2Vuc1RvUGFyc2VyKHRva2VuaXplUGF0aChyZWNvcmQucGF0aCksIG9wdGlvbnMpO1xyXG4gICAgLy8gd2FybiBhZ2FpbnN0IHBhcmFtcyB3aXRoIHRoZSBzYW1lIG5hbWVcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCBleGlzdGluZ0tleXMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgcGFyc2VyLmtleXMpIHtcclxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nS2V5cy5oYXMoa2V5Lm5hbWUpKVxyXG4gICAgICAgICAgICAgICAgd2FybihgRm91bmQgZHVwbGljYXRlZCBwYXJhbXMgd2l0aCBuYW1lIFwiJHtrZXkubmFtZX1cIiBmb3IgcGF0aCBcIiR7cmVjb3JkLnBhdGh9XCIuIE9ubHkgdGhlIGxhc3Qgb25lIHdpbGwgYmUgYXZhaWxhYmxlIG9uIFwiJHJvdXRlLnBhcmFtc1wiLmApO1xyXG4gICAgICAgICAgICBleGlzdGluZ0tleXMuYWRkKGtleS5uYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBtYXRjaGVyID0gYXNzaWduKHBhcnNlciwge1xyXG4gICAgICAgIHJlY29yZCxcclxuICAgICAgICBwYXJlbnQsXHJcbiAgICAgICAgLy8gdGhlc2UgbmVlZHMgdG8gYmUgcG9wdWxhdGVkIGJ5IHRoZSBwYXJlbnRcclxuICAgICAgICBjaGlsZHJlbjogW10sXHJcbiAgICAgICAgYWxpYXM6IFtdLFxyXG4gICAgfSk7XHJcbiAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgLy8gYm90aCBhcmUgYWxpYXNlcyBvciBib3RoIGFyZSBub3QgYWxpYXNlc1xyXG4gICAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gbWl4IHRoZW0gYmVjYXVzZSB0aGUgb3JkZXIgaXMgdXNlZCB3aGVuXHJcbiAgICAgICAgLy8gcGFzc2luZyBvcmlnaW5hbFJlY29yZCBpbiBNYXRjaGVyLmFkZFJvdXRlXHJcbiAgICAgICAgaWYgKCFtYXRjaGVyLnJlY29yZC5hbGlhc09mID09PSAhcGFyZW50LnJlY29yZC5hbGlhc09mKVxyXG4gICAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChtYXRjaGVyKTtcclxuICAgIH1cclxuICAgIHJldHVybiBtYXRjaGVyO1xyXG59XG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgUm91dGVyIE1hdGNoZXIuXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKiBAcGFyYW0gcm91dGVzIC0gYXJyYXkgb2YgaW5pdGlhbCByb3V0ZXNcclxuICogQHBhcmFtIGdsb2JhbE9wdGlvbnMgLSBnbG9iYWwgcm91dGUgb3B0aW9uc1xyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlUm91dGVyTWF0Y2hlcihyb3V0ZXMsIGdsb2JhbE9wdGlvbnMpIHtcclxuICAgIC8vIG5vcm1hbGl6ZWQgb3JkZXJlZCBhcnJheSBvZiBtYXRjaGVyc1xyXG4gICAgY29uc3QgbWF0Y2hlcnMgPSBbXTtcclxuICAgIGNvbnN0IG1hdGNoZXJNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICBnbG9iYWxPcHRpb25zID0gbWVyZ2VPcHRpb25zKHsgc3RyaWN0OiBmYWxzZSwgZW5kOiB0cnVlLCBzZW5zaXRpdmU6IGZhbHNlIH0sIGdsb2JhbE9wdGlvbnMpO1xyXG4gICAgZnVuY3Rpb24gZ2V0UmVjb3JkTWF0Y2hlcihuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIG1hdGNoZXJNYXAuZ2V0KG5hbWUpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gYWRkUm91dGUocmVjb3JkLCBwYXJlbnQsIG9yaWdpbmFsUmVjb3JkKSB7XHJcbiAgICAgICAgLy8gdXNlZCBsYXRlciBvbiB0byByZW1vdmUgYnkgbmFtZVxyXG4gICAgICAgIGxldCBpc1Jvb3RBZGQgPSAhb3JpZ2luYWxSZWNvcmQ7XHJcbiAgICAgICAgbGV0IG1haW5Ob3JtYWxpemVkUmVjb3JkID0gbm9ybWFsaXplUm91dGVSZWNvcmQocmVjb3JkKTtcclxuICAgICAgICAvLyB3ZSBtaWdodCBiZSB0aGUgY2hpbGQgb2YgYW4gYWxpYXNcclxuICAgICAgICBtYWluTm9ybWFsaXplZFJlY29yZC5hbGlhc09mID0gb3JpZ2luYWxSZWNvcmQgJiYgb3JpZ2luYWxSZWNvcmQucmVjb3JkO1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoZ2xvYmFsT3B0aW9ucywgcmVjb3JkKTtcclxuICAgICAgICAvLyBnZW5lcmF0ZSBhbiBhcnJheSBvZiByZWNvcmRzIHRvIGNvcnJlY3RseSBoYW5kbGUgYWxpYXNlc1xyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRSZWNvcmRzID0gW1xyXG4gICAgICAgICAgICBtYWluTm9ybWFsaXplZFJlY29yZCxcclxuICAgICAgICBdO1xyXG4gICAgICAgIGlmICgnYWxpYXMnIGluIHJlY29yZCkge1xyXG4gICAgICAgICAgICBjb25zdCBhbGlhc2VzID0gdHlwZW9mIHJlY29yZC5hbGlhcyA9PT0gJ3N0cmluZycgPyBbcmVjb3JkLmFsaWFzXSA6IHJlY29yZC5hbGlhcztcclxuICAgICAgICAgICAgZm9yIChjb25zdCBhbGlhcyBvZiBhbGlhc2VzKSB7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUmVjb3Jkcy5wdXNoKGFzc2lnbih7fSwgbWFpbk5vcm1hbGl6ZWRSZWNvcmQsIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGFsbG93cyB1cyB0byBob2xkIGEgY29weSBvZiB0aGUgYGNvbXBvbmVudHNgIG9wdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHRoYXQgYXN5bmMgY29tcG9uZW50cyBjYWNoZSBpcyBob2xkIG9uIHRoZSBvcmlnaW5hbCByZWNvcmRcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBvcmlnaW5hbFJlY29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG9yaWdpbmFsUmVjb3JkLnJlY29yZC5jb21wb25lbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbWFpbk5vcm1hbGl6ZWRSZWNvcmQuY29tcG9uZW50cyxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBhbGlhcyxcclxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBtaWdodCBiZSB0aGUgY2hpbGQgb2YgYW4gYWxpYXNcclxuICAgICAgICAgICAgICAgICAgICBhbGlhc09mOiBvcmlnaW5hbFJlY29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG9yaWdpbmFsUmVjb3JkLnJlY29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG1haW5Ob3JtYWxpemVkUmVjb3JkLFxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtYXRjaGVyO1xyXG4gICAgICAgIGxldCBvcmlnaW5hbE1hdGNoZXI7XHJcbiAgICAgICAgZm9yIChjb25zdCBub3JtYWxpemVkUmVjb3JkIG9mIG5vcm1hbGl6ZWRSZWNvcmRzKSB7XHJcbiAgICAgICAgICAgIGxldCB7IHBhdGggfSA9IG5vcm1hbGl6ZWRSZWNvcmQ7XHJcbiAgICAgICAgICAgIC8vIEJ1aWxkIHVwIHRoZSBwYXRoIGZvciBuZXN0ZWQgcm91dGVzIGlmIHRoZSBjaGlsZCBpc24ndCBhbiBhYnNvbHV0ZVxyXG4gICAgICAgICAgICAvLyByb3V0ZS4gT25seSBhZGQgdGhlIC8gZGVsaW1pdGVyIGlmIHRoZSBjaGlsZCBwYXRoIGlzbid0IGVtcHR5IGFuZCBpZiB0aGVcclxuICAgICAgICAgICAgLy8gcGFyZW50IHBhdGggZG9lc24ndCBoYXZlIGEgdHJhaWxpbmcgc2xhc2hcclxuICAgICAgICAgICAgaWYgKHBhcmVudCAmJiBwYXRoWzBdICE9PSAnLycpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwYXJlbnRQYXRoID0gcGFyZW50LnJlY29yZC5wYXRoO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbm5lY3RpbmdTbGFzaCA9IHBhcmVudFBhdGhbcGFyZW50UGF0aC5sZW5ndGggLSAxXSA9PT0gJy8nID8gJycgOiAnLyc7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUmVjb3JkLnBhdGggPVxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZWNvcmQucGF0aCArIChwYXRoICYmIGNvbm5lY3RpbmdTbGFzaCArIHBhdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbm9ybWFsaXplZFJlY29yZC5wYXRoID09PSAnKicpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2F0Y2ggYWxsIHJvdXRlcyAoXCIqXCIpIG11c3Qgbm93IGJlIGRlZmluZWQgdXNpbmcgYSBwYXJhbSB3aXRoIGEgY3VzdG9tIHJlZ2V4cC5cXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAnU2VlIG1vcmUgYXQgaHR0cHM6Ly9uZXh0LnJvdXRlci52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uLyNyZW1vdmVkLXN0YXItb3ItY2F0Y2gtYWxsLXJvdXRlcy4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjcmVhdGUgdGhlIG9iamVjdCBiZWZvcmUgaGFuZCBzbyBpdCBjYW4gYmUgcGFzc2VkIHRvIGNoaWxkcmVuXHJcbiAgICAgICAgICAgIG1hdGNoZXIgPSBjcmVhdGVSb3V0ZVJlY29yZE1hdGNoZXIobm9ybWFsaXplZFJlY29yZCwgcGFyZW50LCBvcHRpb25zKTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBwYXJlbnQgJiYgcGF0aFswXSA9PT0gJy8nKVxyXG4gICAgICAgICAgICAgICAgY2hlY2tNaXNzaW5nUGFyYW1zSW5BYnNvbHV0ZVBhdGgobWF0Y2hlciwgcGFyZW50KTtcclxuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGFuIGFsaWFzIHdlIG11c3QgdGVsbCB0aGUgb3JpZ2luYWwgcmVjb3JkIHRoYXQgd2UgZXhpc3RcclxuICAgICAgICAgICAgLy8gc28gd2UgY2FuIGJlIHJlbW92ZWRcclxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsUmVjb3JkKSB7XHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFJlY29yZC5hbGlhcy5wdXNoKG1hdGNoZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrU2FtZVBhcmFtcyhvcmlnaW5hbFJlY29yZCwgbWF0Y2hlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UsIHRoZSBmaXJzdCByZWNvcmQgaXMgdGhlIG9yaWdpbmFsIGFuZCBvdGhlcnMgYXJlIGFsaWFzZXNcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsTWF0Y2hlciA9IG9yaWdpbmFsTWF0Y2hlciB8fCBtYXRjaGVyO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsTWF0Y2hlciAhPT0gbWF0Y2hlcilcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbE1hdGNoZXIuYWxpYXMucHVzaChtYXRjaGVyKTtcclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgcm91dGUgaWYgbmFtZWQgYW5kIG9ubHkgZm9yIHRoZSB0b3AgcmVjb3JkIChhdm9pZCBpbiBuZXN0ZWQgY2FsbHMpXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHdvcmtzIGJlY2F1c2UgdGhlIG9yaWdpbmFsIHJlY29yZCBpcyB0aGUgZmlyc3Qgb25lXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSb290QWRkICYmIHJlY29yZC5uYW1lICYmICFpc0FsaWFzUmVjb3JkKG1hdGNoZXIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVJvdXRlKHJlY29yZC5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJ2NoaWxkcmVuJyBpbiBtYWluTm9ybWFsaXplZFJlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkcmVuID0gbWFpbk5vcm1hbGl6ZWRSZWNvcmQuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkUm91dGUoY2hpbGRyZW5baV0sIG1hdGNoZXIsIG9yaWdpbmFsUmVjb3JkICYmIG9yaWdpbmFsUmVjb3JkLmNoaWxkcmVuW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSB3YXMgbm8gb3JpZ2luYWwgcmVjb3JkLCB0aGVuIHRoZSBmaXJzdCBvbmUgd2FzIG5vdCBhbiBhbGlhcyBhbmQgYWxsXHJcbiAgICAgICAgICAgIC8vIG90aGVyIGFsaWFzIChpZiBhbnkpIG5lZWQgdG8gcmVmZXJlbmNlIHRoaXMgcmVjb3JkIHdoZW4gYWRkaW5nIGNoaWxkcmVuXHJcbiAgICAgICAgICAgIG9yaWdpbmFsUmVjb3JkID0gb3JpZ2luYWxSZWNvcmQgfHwgbWF0Y2hlcjtcclxuICAgICAgICAgICAgaW5zZXJ0TWF0Y2hlcihtYXRjaGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsTWF0Y2hlclxyXG4gICAgICAgICAgICA/ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIG90aGVyIG1hdGNoZXJzIGFyZSBhbGlhc2VzLCB0aGV5IHNob3VsZCBiZSByZW1vdmVkIGJ5IHRoZSBvcmlnaW5hbCBtYXRjaGVyXHJcbiAgICAgICAgICAgICAgICByZW1vdmVSb3V0ZShvcmlnaW5hbE1hdGNoZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDogbm9vcDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVJvdXRlKG1hdGNoZXJSZWYpIHtcclxuICAgICAgICBpZiAoaXNSb3V0ZU5hbWUobWF0Y2hlclJlZikpIHtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2hlciA9IG1hdGNoZXJNYXAuZ2V0KG1hdGNoZXJSZWYpO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2hlcikge1xyXG4gICAgICAgICAgICAgICAgbWF0Y2hlck1hcC5kZWxldGUobWF0Y2hlclJlZik7XHJcbiAgICAgICAgICAgICAgICBtYXRjaGVycy5zcGxpY2UobWF0Y2hlcnMuaW5kZXhPZihtYXRjaGVyKSwgMSk7XHJcbiAgICAgICAgICAgICAgICBtYXRjaGVyLmNoaWxkcmVuLmZvckVhY2gocmVtb3ZlUm91dGUpO1xyXG4gICAgICAgICAgICAgICAgbWF0Y2hlci5hbGlhcy5mb3JFYWNoKHJlbW92ZVJvdXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gbWF0Y2hlcnMuaW5kZXhPZihtYXRjaGVyUmVmKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIG1hdGNoZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlclJlZi5yZWNvcmQubmFtZSlcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVyTWFwLmRlbGV0ZShtYXRjaGVyUmVmLnJlY29yZC5uYW1lKTtcclxuICAgICAgICAgICAgICAgIG1hdGNoZXJSZWYuY2hpbGRyZW4uZm9yRWFjaChyZW1vdmVSb3V0ZSk7XHJcbiAgICAgICAgICAgICAgICBtYXRjaGVyUmVmLmFsaWFzLmZvckVhY2gocmVtb3ZlUm91dGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0Um91dGVzKCkge1xyXG4gICAgICAgIHJldHVybiBtYXRjaGVycztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGluc2VydE1hdGNoZXIobWF0Y2hlcikge1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnaSBpcycsIHsgaSB9KVxyXG4gICAgICAgIHdoaWxlIChpIDwgbWF0Y2hlcnMubGVuZ3RoICYmXHJcbiAgICAgICAgICAgIGNvbXBhcmVQYXRoUGFyc2VyU2NvcmUobWF0Y2hlciwgbWF0Y2hlcnNbaV0pID49IDApXHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnRU5EIGkgaXMnLCB7IGkgfSlcclxuICAgICAgICAvLyB3aGlsZSAoaSA8IG1hdGNoZXJzLmxlbmd0aCAmJiBtYXRjaGVyLnNjb3JlIDw9IG1hdGNoZXJzW2ldLnNjb3JlKSBpKytcclxuICAgICAgICBtYXRjaGVycy5zcGxpY2UoaSwgMCwgbWF0Y2hlcik7XHJcbiAgICAgICAgLy8gb25seSBhZGQgdGhlIG9yaWdpbmFsIHJlY29yZCB0byB0aGUgbmFtZSBtYXBcclxuICAgICAgICBpZiAobWF0Y2hlci5yZWNvcmQubmFtZSAmJiAhaXNBbGlhc1JlY29yZChtYXRjaGVyKSlcclxuICAgICAgICAgICAgbWF0Y2hlck1hcC5zZXQobWF0Y2hlci5yZWNvcmQubmFtZSwgbWF0Y2hlcik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZXNvbHZlKGxvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24pIHtcclxuICAgICAgICBsZXQgbWF0Y2hlcjtcclxuICAgICAgICBsZXQgcGFyYW1zID0ge307XHJcbiAgICAgICAgbGV0IHBhdGg7XHJcbiAgICAgICAgbGV0IG5hbWU7XHJcbiAgICAgICAgaWYgKCduYW1lJyBpbiBsb2NhdGlvbiAmJiBsb2NhdGlvbi5uYW1lKSB7XHJcbiAgICAgICAgICAgIG1hdGNoZXIgPSBtYXRjaGVyTWFwLmdldChsb2NhdGlvbi5uYW1lKTtcclxuICAgICAgICAgICAgaWYgKCFtYXRjaGVyKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlUm91dGVyRXJyb3IoMSAvKiBNQVRDSEVSX05PVF9GT1VORCAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5hbWUgPSBtYXRjaGVyLnJlY29yZC5uYW1lO1xyXG4gICAgICAgICAgICBwYXJhbXMgPSBhc3NpZ24oXHJcbiAgICAgICAgICAgIC8vIHBhcmFtc0Zyb21Mb2NhdGlvbiBpcyBhIG5ldyBvYmplY3RcclxuICAgICAgICAgICAgcGFyYW1zRnJvbUxvY2F0aW9uKGN1cnJlbnRMb2NhdGlvbi5wYXJhbXMsIFxyXG4gICAgICAgICAgICAvLyBvbmx5IGtlZXAgcGFyYW1zIHRoYXQgZXhpc3QgaW4gdGhlIHJlc29sdmVkIGxvY2F0aW9uXHJcbiAgICAgICAgICAgIC8vIFRPRE86IG9ubHkga2VlcCBvcHRpb25hbCBwYXJhbXMgY29taW5nIGZyb20gYSBwYXJlbnQgcmVjb3JkXHJcbiAgICAgICAgICAgIG1hdGNoZXIua2V5cy5maWx0ZXIoayA9PiAhay5vcHRpb25hbCkubWFwKGsgPT4gay5uYW1lKSksIGxvY2F0aW9uLnBhcmFtcyk7XHJcbiAgICAgICAgICAgIC8vIHRocm93cyBpZiBjYW5ub3QgYmUgc3RyaW5naWZpZWRcclxuICAgICAgICAgICAgcGF0aCA9IG1hdGNoZXIuc3RyaW5naWZ5KHBhcmFtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCdwYXRoJyBpbiBsb2NhdGlvbikge1xyXG4gICAgICAgICAgICAvLyBubyBuZWVkIHRvIHJlc29sdmUgdGhlIHBhdGggd2l0aCB0aGUgbWF0Y2hlciBhcyBpdCB3YXMgcHJvdmlkZWRcclxuICAgICAgICAgICAgLy8gdGhpcyBhbHNvIGFsbG93cyB0aGUgdXNlciB0byBjb250cm9sIHRoZSBlbmNvZGluZ1xyXG4gICAgICAgICAgICBwYXRoID0gbG9jYXRpb24ucGF0aDtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcGF0aC5zdGFydHNXaXRoKCcvJykpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFRoZSBNYXRjaGVyIGNhbm5vdCByZXNvbHZlIHJlbGF0aXZlIHBhdGhzIGJ1dCByZWNlaXZlZCBcIiR7cGF0aH1cIi4gVW5sZXNzIHlvdSBkaXJlY3RseSBjYWxsZWQgXFxgbWF0Y2hlci5yZXNvbHZlKFwiJHtwYXRofVwiKVxcYCwgdGhpcyBpcyBwcm9iYWJseSBhIGJ1ZyBpbiB2dWUtcm91dGVyLiBQbGVhc2Ugb3BlbiBhbiBpc3N1ZSBhdCBodHRwczovL25ldy1pc3N1ZS52dWVqcy5vcmcvP3JlcG89dnVlanMvdnVlLXJvdXRlci1uZXh0LmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hdGNoZXIgPSBtYXRjaGVycy5maW5kKG0gPT4gbS5yZS50ZXN0KHBhdGgpKTtcclxuICAgICAgICAgICAgLy8gbWF0Y2hlciBzaG91bGQgaGF2ZSBhIHZhbHVlIGFmdGVyIHRoZSBsb29wXHJcbiAgICAgICAgICAgIGlmIChtYXRjaGVyKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBkZXYgd2FybmluZyBvZiB1bnVzZWQgcGFyYW1zIGlmIHByb3ZpZGVkXHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBrbm93IHRoZSBtYXRjaGVyIHdvcmtzIGJlY2F1c2Ugd2UgdGVzdGVkIHRoZSByZWdleHBcclxuICAgICAgICAgICAgICAgIHBhcmFtcyA9IG1hdGNoZXIucGFyc2UocGF0aCk7XHJcbiAgICAgICAgICAgICAgICBuYW1lID0gbWF0Y2hlci5yZWNvcmQubmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBsb2NhdGlvbiBpcyBhIHJlbGF0aXZlIHBhdGhcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG1hdGNoIGJ5IG5hbWUgb3IgcGF0aCBvZiBjdXJyZW50IHJvdXRlXHJcbiAgICAgICAgICAgIG1hdGNoZXIgPSBjdXJyZW50TG9jYXRpb24ubmFtZVxyXG4gICAgICAgICAgICAgICAgPyBtYXRjaGVyTWFwLmdldChjdXJyZW50TG9jYXRpb24ubmFtZSlcclxuICAgICAgICAgICAgICAgIDogbWF0Y2hlcnMuZmluZChtID0+IG0ucmUudGVzdChjdXJyZW50TG9jYXRpb24ucGF0aCkpO1xyXG4gICAgICAgICAgICBpZiAoIW1hdGNoZXIpXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVSb3V0ZXJFcnJvcigxIC8qIE1BVENIRVJfTk9UX0ZPVU5EICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudExvY2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5hbWUgPSBtYXRjaGVyLnJlY29yZC5uYW1lO1xyXG4gICAgICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgbmF2aWdhdGluZyB0byB0aGUgc2FtZSBsb2NhdGlvbiwgd2UgZG9uJ3QgbmVlZCB0byBwaWNrIHRoZVxyXG4gICAgICAgICAgICAvLyBwYXJhbXMgbGlrZSB3aGVuIGBuYW1lYCBpcyBwcm92aWRlZFxyXG4gICAgICAgICAgICBwYXJhbXMgPSBhc3NpZ24oe30sIGN1cnJlbnRMb2NhdGlvbi5wYXJhbXMsIGxvY2F0aW9uLnBhcmFtcyk7XHJcbiAgICAgICAgICAgIHBhdGggPSBtYXRjaGVyLnN0cmluZ2lmeShwYXJhbXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtYXRjaGVkID0gW107XHJcbiAgICAgICAgbGV0IHBhcmVudE1hdGNoZXIgPSBtYXRjaGVyO1xyXG4gICAgICAgIHdoaWxlIChwYXJlbnRNYXRjaGVyKSB7XHJcbiAgICAgICAgICAgIC8vIHJldmVyc2VkIG9yZGVyIHNvIHBhcmVudHMgYXJlIGF0IHRoZSBiZWdpbm5pbmdcclxuICAgICAgICAgICAgbWF0Y2hlZC51bnNoaWZ0KHBhcmVudE1hdGNoZXIucmVjb3JkKTtcclxuICAgICAgICAgICAgcGFyZW50TWF0Y2hlciA9IHBhcmVudE1hdGNoZXIucGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICBwYXRoLFxyXG4gICAgICAgICAgICBwYXJhbXMsXHJcbiAgICAgICAgICAgIG1hdGNoZWQsXHJcbiAgICAgICAgICAgIG1ldGE6IG1lcmdlTWV0YUZpZWxkcyhtYXRjaGVkKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLy8gYWRkIGluaXRpYWwgcm91dGVzXHJcbiAgICByb3V0ZXMuZm9yRWFjaChyb3V0ZSA9PiBhZGRSb3V0ZShyb3V0ZSkpO1xyXG4gICAgcmV0dXJuIHsgYWRkUm91dGUsIHJlc29sdmUsIHJlbW92ZVJvdXRlLCBnZXRSb3V0ZXMsIGdldFJlY29yZE1hdGNoZXIgfTtcclxufVxyXG5mdW5jdGlvbiBwYXJhbXNGcm9tTG9jYXRpb24ocGFyYW1zLCBrZXlzKSB7XHJcbiAgICBsZXQgbmV3UGFyYW1zID0ge307XHJcbiAgICBmb3IgKGxldCBrZXkgb2Yga2V5cykge1xyXG4gICAgICAgIGlmIChrZXkgaW4gcGFyYW1zKVxyXG4gICAgICAgICAgICBuZXdQYXJhbXNba2V5XSA9IHBhcmFtc1trZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld1BhcmFtcztcclxufVxyXG4vKipcclxuICogTm9ybWFsaXplcyBhIFJvdXRlUmVjb3JkUmF3LiBDcmVhdGVzIGEgY29weVxyXG4gKlxyXG4gKiBAcGFyYW0gcmVjb3JkXHJcbiAqIEByZXR1cm5zIHRoZSBub3JtYWxpemVkIHZlcnNpb25cclxuICovXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVJvdXRlUmVjb3JkKHJlY29yZCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBwYXRoOiByZWNvcmQucGF0aCxcclxuICAgICAgICByZWRpcmVjdDogcmVjb3JkLnJlZGlyZWN0LFxyXG4gICAgICAgIG5hbWU6IHJlY29yZC5uYW1lLFxyXG4gICAgICAgIG1ldGE6IHJlY29yZC5tZXRhIHx8IHt9LFxyXG4gICAgICAgIGFsaWFzT2Y6IHVuZGVmaW5lZCxcclxuICAgICAgICBiZWZvcmVFbnRlcjogcmVjb3JkLmJlZm9yZUVudGVyLFxyXG4gICAgICAgIHByb3BzOiBub3JtYWxpemVSZWNvcmRQcm9wcyhyZWNvcmQpLFxyXG4gICAgICAgIGNoaWxkcmVuOiByZWNvcmQuY2hpbGRyZW4gfHwgW10sXHJcbiAgICAgICAgaW5zdGFuY2VzOiB7fSxcclxuICAgICAgICBsZWF2ZUd1YXJkczogW10sXHJcbiAgICAgICAgdXBkYXRlR3VhcmRzOiBbXSxcclxuICAgICAgICBlbnRlckNhbGxiYWNrczoge30sXHJcbiAgICAgICAgY29tcG9uZW50czogJ2NvbXBvbmVudHMnIGluIHJlY29yZFxyXG4gICAgICAgICAgICA/IHJlY29yZC5jb21wb25lbnRzIHx8IHt9XHJcbiAgICAgICAgICAgIDogeyBkZWZhdWx0OiByZWNvcmQuY29tcG9uZW50IH0sXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBOb3JtYWxpemUgdGhlIG9wdGlvbmFsIGBwcm9wc2AgaW4gYSByZWNvcmQgdG8gYWx3YXlzIGJlIGFuIG9iamVjdCBzaW1pbGFyIHRvXHJcbiAqIGNvbXBvbmVudHMuIEFsc28gYWNjZXB0IGEgYm9vbGVhbiBmb3IgY29tcG9uZW50cy5cclxuICogQHBhcmFtIHJlY29yZFxyXG4gKi9cclxuZnVuY3Rpb24gbm9ybWFsaXplUmVjb3JkUHJvcHMocmVjb3JkKSB7XHJcbiAgICBjb25zdCBwcm9wc09iamVjdCA9IHt9O1xyXG4gICAgLy8gcHJvcHMgZG9lcyBub3QgZXhpc3Qgb24gcmVkaXJlY3QgcmVjb3JkcyBidXQgd2UgY2FuIHNldCBmYWxzZSBkaXJlY3RseVxyXG4gICAgY29uc3QgcHJvcHMgPSByZWNvcmQucHJvcHMgfHwgZmFsc2U7XHJcbiAgICBpZiAoJ2NvbXBvbmVudCcgaW4gcmVjb3JkKSB7XHJcbiAgICAgICAgcHJvcHNPYmplY3QuZGVmYXVsdCA9IHByb3BzO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gTk9URTogd2UgY291bGQgYWxzbyBhbGxvdyBhIGZ1bmN0aW9uIHRvIGJlIGFwcGxpZWQgdG8gZXZlcnkgY29tcG9uZW50LlxyXG4gICAgICAgIC8vIFdvdWxkIG5lZWQgdXNlciBmZWVkYmFjayBmb3IgdXNlIGNhc2VzXHJcbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiByZWNvcmQuY29tcG9uZW50cylcclxuICAgICAgICAgICAgcHJvcHNPYmplY3RbbmFtZV0gPSB0eXBlb2YgcHJvcHMgPT09ICdib29sZWFuJyA/IHByb3BzIDogcHJvcHNbbmFtZV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJvcHNPYmplY3Q7XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrcyBpZiBhIHJlY29yZCBvciBhbnkgb2YgaXRzIHBhcmVudCBpcyBhbiBhbGlhc1xyXG4gKiBAcGFyYW0gcmVjb3JkXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0FsaWFzUmVjb3JkKHJlY29yZCkge1xyXG4gICAgd2hpbGUgKHJlY29yZCkge1xyXG4gICAgICAgIGlmIChyZWNvcmQucmVjb3JkLmFsaWFzT2YpXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIHJlY29yZCA9IHJlY29yZC5wYXJlbnQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuLyoqXHJcbiAqIE1lcmdlIG1ldGEgZmllbGRzIG9mIGFuIGFycmF5IG9mIHJlY29yZHNcclxuICpcclxuICogQHBhcmFtIG1hdGNoZWQgLSBhcnJheSBvZiBtYXRjaGVkIHJlY29yZHNcclxuICovXHJcbmZ1bmN0aW9uIG1lcmdlTWV0YUZpZWxkcyhtYXRjaGVkKSB7XHJcbiAgICByZXR1cm4gbWF0Y2hlZC5yZWR1Y2UoKG1ldGEsIHJlY29yZCkgPT4gYXNzaWduKG1ldGEsIHJlY29yZC5tZXRhKSwge30pO1xyXG59XHJcbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyhkZWZhdWx0cywgcGFydGlhbE9wdGlvbnMpIHtcclxuICAgIGxldCBvcHRpb25zID0ge307XHJcbiAgICBmb3IgKGxldCBrZXkgaW4gZGVmYXVsdHMpIHtcclxuICAgICAgICBvcHRpb25zW2tleV0gPVxyXG4gICAgICAgICAgICBrZXkgaW4gcGFydGlhbE9wdGlvbnMgPyBwYXJ0aWFsT3B0aW9uc1trZXldIDogZGVmYXVsdHNba2V5XTtcclxuICAgIH1cclxuICAgIHJldHVybiBvcHRpb25zO1xyXG59XHJcbmZ1bmN0aW9uIGlzU2FtZVBhcmFtKGEsIGIpIHtcclxuICAgIHJldHVybiAoYS5uYW1lID09PSBiLm5hbWUgJiZcclxuICAgICAgICBhLm9wdGlvbmFsID09PSBiLm9wdGlvbmFsICYmXHJcbiAgICAgICAgYS5yZXBlYXRhYmxlID09PSBiLnJlcGVhdGFibGUpO1xyXG59XHJcbmZ1bmN0aW9uIGNoZWNrU2FtZVBhcmFtcyhhLCBiKSB7XHJcbiAgICBmb3IgKGxldCBrZXkgb2YgYS5rZXlzKSB7XHJcbiAgICAgICAgaWYgKCFiLmtleXMuZmluZChpc1NhbWVQYXJhbS5iaW5kKG51bGwsIGtleSkpKVxyXG4gICAgICAgICAgICByZXR1cm4gd2FybihgQWxpYXMgXCIke2IucmVjb3JkLnBhdGh9XCIgYW5kIHRoZSBvcmlnaW5hbCByZWNvcmQ6IFwiJHthLnJlY29yZC5wYXRofVwiIHNob3VsZCBoYXZlIHRoZSBleGFjdCBzYW1lIHBhcmFtIG5hbWVkIFwiJHtrZXkubmFtZX1cImApO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQga2V5IG9mIGIua2V5cykge1xyXG4gICAgICAgIGlmICghYS5rZXlzLmZpbmQoaXNTYW1lUGFyYW0uYmluZChudWxsLCBrZXkpKSlcclxuICAgICAgICAgICAgcmV0dXJuIHdhcm4oYEFsaWFzIFwiJHtiLnJlY29yZC5wYXRofVwiIGFuZCB0aGUgb3JpZ2luYWwgcmVjb3JkOiBcIiR7YS5yZWNvcmQucGF0aH1cIiBzaG91bGQgaGF2ZSB0aGUgZXhhY3Qgc2FtZSBwYXJhbSBuYW1lZCBcIiR7a2V5Lm5hbWV9XCJgKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjaGVja01pc3NpbmdQYXJhbXNJbkFic29sdXRlUGF0aChyZWNvcmQsIHBhcmVudCkge1xyXG4gICAgZm9yIChsZXQga2V5IG9mIHBhcmVudC5rZXlzKSB7XHJcbiAgICAgICAgaWYgKCFyZWNvcmQua2V5cy5maW5kKGlzU2FtZVBhcmFtLmJpbmQobnVsbCwga2V5KSkpXHJcbiAgICAgICAgICAgIHJldHVybiB3YXJuKGBBYnNvbHV0ZSBwYXRoIFwiJHtyZWNvcmQucmVjb3JkLnBhdGh9XCIgc2hvdWxkIGhhdmUgdGhlIGV4YWN0IHNhbWUgcGFyYW0gbmFtZWQgXCIke2tleS5uYW1lfVwiIGFzIGl0cyBwYXJlbnQgXCIke3BhcmVudC5yZWNvcmQucGF0aH1cIi5gKTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogRW5jb2RpbmcgUnVsZXMg4pCjID0gU3BhY2UgUGF0aDog4pCjIFwiIDwgPiAjID8geyB9IFF1ZXJ5OiDikKMgXCIgPCA+ICMgJiA9IEhhc2g6IOKQoyBcIlxyXG4gKiA8ID4gYFxyXG4gKlxyXG4gKiBPbiB0b3Agb2YgdGhhdCwgdGhlIFJGQzM5ODYgKGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMi4yKVxyXG4gKiBkZWZpbmVzIHNvbWUgZXh0cmEgY2hhcmFjdGVycyB0byBiZSBlbmNvZGVkLiBNb3N0IGJyb3dzZXJzIGRvIG5vdCBlbmNvZGUgdGhlbVxyXG4gKiBpbiBlbmNvZGVVUkkgaHR0cHM6Ly9naXRodWIuY29tL3doYXR3Zy91cmwvaXNzdWVzLzM2OSwgc28gaXQgbWF5IGJlIHNhZmVyIHRvXHJcbiAqIGFsc28gZW5jb2RlIGAhJygpKmAuIExlYXZpbmcgdW5lbmNvZGVkIG9ubHkgQVNDSUkgYWxwaGFudW1lcmljKGBhLXpBLVowLTlgKVxyXG4gKiBwbHVzIGAtLl9+YC4gVGhpcyBleHRyYSBzYWZldHkgc2hvdWxkIGJlIGFwcGxpZWQgdG8gcXVlcnkgYnkgcGF0Y2hpbmcgdGhlXHJcbiAqIHN0cmluZyByZXR1cm5lZCBieSBlbmNvZGVVUklDb21wb25lbnQgZW5jb2RlVVJJIGFsc28gZW5jb2RlcyBgW1xcXV5gLiBgXFxgXHJcbiAqIHNob3VsZCBiZSBlbmNvZGVkIHRvIGF2b2lkIGFtYmlndWl0eS4gQnJvd3NlcnMgKElFLCBGRiwgQykgdHJhbnNmb3JtIGEgYFxcYFxyXG4gKiBpbnRvIGEgYC9gIGlmIGRpcmVjdGx5IHR5cGVkIGluLiBUaGUgX2JhY2t0aWNrXyAoYGBgYGApIHNob3VsZCBhbHNvIGJlXHJcbiAqIGVuY29kZWQgZXZlcnl3aGVyZSBiZWNhdXNlIHNvbWUgYnJvd3NlcnMgbGlrZSBGRiBlbmNvZGUgaXQgd2hlbiBkaXJlY3RseVxyXG4gKiB3cml0dGVuIHdoaWxlIG90aGVycyBkb24ndC4gU2FmYXJpIGFuZCBJRSBkb24ndCBlbmNvZGUgYGBcIjw+e31gYGAgaW4gaGFzaC5cclxuICovXHJcbi8vIGNvbnN0IEVYVFJBX1JFU0VSVkVEX1JFID0gL1shJygpKl0vZ1xyXG4vLyBjb25zdCBlbmNvZGVSZXNlcnZlZFJlcGxhY2VyID0gKGM6IHN0cmluZykgPT4gJyUnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KVxyXG5jb25zdCBIQVNIX1JFID0gLyMvZzsgLy8gJTIzXHJcbmNvbnN0IEFNUEVSU0FORF9SRSA9IC8mL2c7IC8vICUyNlxyXG5jb25zdCBTTEFTSF9SRSA9IC9cXC8vZzsgLy8gJTJGXHJcbmNvbnN0IEVRVUFMX1JFID0gLz0vZzsgLy8gJTNEXHJcbmNvbnN0IElNX1JFID0gL1xcPy9nOyAvLyAlM0ZcclxuY29uc3QgUExVU19SRSA9IC9cXCsvZzsgLy8gJTJCXHJcbi8qKlxyXG4gKiBOT1RFOiBJdCdzIG5vdCBjbGVhciB0byBtZSBpZiB3ZSBzaG91bGQgZW5jb2RlIHRoZSArIHN5bWJvbCBpbiBxdWVyaWVzLCBpdFxyXG4gKiBzZWVtcyB0byBiZSBsZXNzIGZsZXhpYmxlIHRoYW4gbm90IGRvaW5nIHNvIGFuZCBJIGNhbid0IGZpbmQgb3V0IHRoZSBsZWdhY3lcclxuICogc3lzdGVtcyByZXF1aXJpbmcgdGhpcyBmb3IgcmVndWxhciByZXF1ZXN0cyBsaWtlIHRleHQvaHRtbC4gSW4gdGhlIHN0YW5kYXJkLFxyXG4gKiB0aGUgZW5jb2Rpbmcgb2YgdGhlIHBsdXMgY2hhcmFjdGVyIGlzIG9ubHkgbWVudGlvbmVkIGZvclxyXG4gKiBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcclxuICogKGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsZW5jb2RlZC1wYXJzaW5nKSBhbmQgbW9zdCBicm93c2VycyBzZWVtcyBsb1xyXG4gKiBsZWF2ZSB0aGUgcGx1cyBjaGFyYWN0ZXIgYXMgaXMgaW4gcXVlcmllcy4gVG8gYmUgbW9yZSBmbGV4aWJsZSwgd2UgYWxsb3cgdGhlXHJcbiAqIHBsdXMgY2hhcmFjdGVyIG9uIHRoZSBxdWVyeSBidXQgaXQgY2FuIGFsc28gYmUgbWFudWFsbHkgZW5jb2RlZCBieSB0aGUgdXNlci5cclxuICpcclxuICogUmVzb3VyY2VzOlxyXG4gKiAtIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsZW5jb2RlZC1wYXJzaW5nXHJcbiAqIC0gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTYzNDI3MS91cmwtZW5jb2RpbmctdGhlLXNwYWNlLWNoYXJhY3Rlci1vci0yMFxyXG4gKi9cclxuY29uc3QgRU5DX0JSQUNLRVRfT1BFTl9SRSA9IC8lNUIvZzsgLy8gW1xyXG5jb25zdCBFTkNfQlJBQ0tFVF9DTE9TRV9SRSA9IC8lNUQvZzsgLy8gXVxyXG5jb25zdCBFTkNfQ0FSRVRfUkUgPSAvJTVFL2c7IC8vIF5cclxuY29uc3QgRU5DX0JBQ0tUSUNLX1JFID0gLyU2MC9nOyAvLyBgXHJcbmNvbnN0IEVOQ19DVVJMWV9PUEVOX1JFID0gLyU3Qi9nOyAvLyB7XHJcbmNvbnN0IEVOQ19QSVBFX1JFID0gLyU3Qy9nOyAvLyB8XHJcbmNvbnN0IEVOQ19DVVJMWV9DTE9TRV9SRSA9IC8lN0QvZzsgLy8gfVxyXG5jb25zdCBFTkNfU1BBQ0VfUkUgPSAvJTIwL2c7IC8vIH1cclxuLyoqXHJcbiAqIEVuY29kZSBjaGFyYWN0ZXJzIHRoYXQgbmVlZCB0byBiZSBlbmNvZGVkIG9uIHRoZSBwYXRoLCBzZWFyY2ggYW5kIGhhc2hcclxuICogc2VjdGlvbnMgb2YgdGhlIFVSTC5cclxuICpcclxuICogQGludGVybmFsXHJcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxyXG4gKiBAcmV0dXJucyBlbmNvZGVkIHN0cmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gY29tbW9uRW5jb2RlKHRleHQpIHtcclxuICAgIHJldHVybiBlbmNvZGVVUkkoJycgKyB0ZXh0KVxyXG4gICAgICAgIC5yZXBsYWNlKEVOQ19QSVBFX1JFLCAnfCcpXHJcbiAgICAgICAgLnJlcGxhY2UoRU5DX0JSQUNLRVRfT1BFTl9SRSwgJ1snKVxyXG4gICAgICAgIC5yZXBsYWNlKEVOQ19CUkFDS0VUX0NMT1NFX1JFLCAnXScpO1xyXG59XHJcbi8qKlxyXG4gKiBFbmNvZGUgY2hhcmFjdGVycyB0aGF0IG5lZWQgdG8gYmUgZW5jb2RlZCBvbiB0aGUgaGFzaCBzZWN0aW9uIG9mIHRoZSBVUkwuXHJcbiAqXHJcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxyXG4gKiBAcmV0dXJucyBlbmNvZGVkIHN0cmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gZW5jb2RlSGFzaCh0ZXh0KSB7XHJcbiAgICByZXR1cm4gY29tbW9uRW5jb2RlKHRleHQpXHJcbiAgICAgICAgLnJlcGxhY2UoRU5DX0NVUkxZX09QRU5fUkUsICd7JylcclxuICAgICAgICAucmVwbGFjZShFTkNfQ1VSTFlfQ0xPU0VfUkUsICd9JylcclxuICAgICAgICAucmVwbGFjZShFTkNfQ0FSRVRfUkUsICdeJyk7XHJcbn1cclxuLyoqXHJcbiAqIEVuY29kZSBjaGFyYWN0ZXJzIHRoYXQgbmVlZCB0byBiZSBlbmNvZGVkIHF1ZXJ5IHZhbHVlcyBvbiB0aGUgcXVlcnlcclxuICogc2VjdGlvbiBvZiB0aGUgVVJMLlxyXG4gKlxyXG4gKiBAcGFyYW0gdGV4dCAtIHN0cmluZyB0byBlbmNvZGVcclxuICogQHJldHVybnMgZW5jb2RlZCBzdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIGVuY29kZVF1ZXJ5VmFsdWUodGV4dCkge1xyXG4gICAgcmV0dXJuIChjb21tb25FbmNvZGUodGV4dClcclxuICAgICAgICAvLyBFbmNvZGUgdGhlIHNwYWNlIGFzICssIGVuY29kZSB0aGUgKyB0byBkaWZmZXJlbnRpYXRlIGl0IGZyb20gdGhlIHNwYWNlXHJcbiAgICAgICAgLnJlcGxhY2UoUExVU19SRSwgJyUyQicpXHJcbiAgICAgICAgLnJlcGxhY2UoRU5DX1NQQUNFX1JFLCAnKycpXHJcbiAgICAgICAgLnJlcGxhY2UoSEFTSF9SRSwgJyUyMycpXHJcbiAgICAgICAgLnJlcGxhY2UoQU1QRVJTQU5EX1JFLCAnJTI2JylcclxuICAgICAgICAucmVwbGFjZShFTkNfQkFDS1RJQ0tfUkUsICdgJylcclxuICAgICAgICAucmVwbGFjZShFTkNfQ1VSTFlfT1BFTl9SRSwgJ3snKVxyXG4gICAgICAgIC5yZXBsYWNlKEVOQ19DVVJMWV9DTE9TRV9SRSwgJ30nKVxyXG4gICAgICAgIC5yZXBsYWNlKEVOQ19DQVJFVF9SRSwgJ14nKSk7XHJcbn1cclxuLyoqXHJcbiAqIExpa2UgYGVuY29kZVF1ZXJ5VmFsdWVgIGJ1dCBhbHNvIGVuY29kZXMgdGhlIGA9YCBjaGFyYWN0ZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxyXG4gKi9cclxuZnVuY3Rpb24gZW5jb2RlUXVlcnlLZXkodGV4dCkge1xyXG4gICAgcmV0dXJuIGVuY29kZVF1ZXJ5VmFsdWUodGV4dCkucmVwbGFjZShFUVVBTF9SRSwgJyUzRCcpO1xyXG59XHJcbi8qKlxyXG4gKiBFbmNvZGUgY2hhcmFjdGVycyB0aGF0IG5lZWQgdG8gYmUgZW5jb2RlZCBvbiB0aGUgcGF0aCBzZWN0aW9uIG9mIHRoZSBVUkwuXHJcbiAqXHJcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxyXG4gKiBAcmV0dXJucyBlbmNvZGVkIHN0cmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gZW5jb2RlUGF0aCh0ZXh0KSB7XHJcbiAgICByZXR1cm4gY29tbW9uRW5jb2RlKHRleHQpLnJlcGxhY2UoSEFTSF9SRSwgJyUyMycpLnJlcGxhY2UoSU1fUkUsICclM0YnKTtcclxufVxyXG4vKipcclxuICogRW5jb2RlIGNoYXJhY3RlcnMgdGhhdCBuZWVkIHRvIGJlIGVuY29kZWQgb24gdGhlIHBhdGggc2VjdGlvbiBvZiB0aGUgVVJMIGFzIGFcclxuICogcGFyYW0uIFRoaXMgZnVuY3Rpb24gZW5jb2RlcyBldmVyeXRoaW5nIHtAbGluayBlbmNvZGVQYXRofSBkb2VzIHBsdXMgdGhlXHJcbiAqIHNsYXNoIChgL2ApIGNoYXJhY3Rlci5cclxuICpcclxuICogQHBhcmFtIHRleHQgLSBzdHJpbmcgdG8gZW5jb2RlXHJcbiAqIEByZXR1cm5zIGVuY29kZWQgc3RyaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBlbmNvZGVQYXJhbSh0ZXh0KSB7XHJcbiAgICByZXR1cm4gZW5jb2RlUGF0aCh0ZXh0KS5yZXBsYWNlKFNMQVNIX1JFLCAnJTJGJyk7XHJcbn1cclxuLyoqXHJcbiAqIERlY29kZSB0ZXh0IHVzaW5nIGBkZWNvZGVVUklDb21wb25lbnRgLiBSZXR1cm5zIHRoZSBvcmlnaW5hbCB0ZXh0IGlmIGl0XHJcbiAqIGZhaWxzLlxyXG4gKlxyXG4gKiBAcGFyYW0gdGV4dCAtIHN0cmluZyB0byBkZWNvZGVcclxuICogQHJldHVybnMgZGVjb2RlZCBzdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIGRlY29kZSh0ZXh0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoJycgKyB0ZXh0KTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihgRXJyb3IgZGVjb2RpbmcgXCIke3RleHR9XCIuIFVzaW5nIG9yaWdpbmFsIHZhbHVlYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJycgKyB0ZXh0O1xyXG59XG5cbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIGEgcXVlcnlTdHJpbmcgaW50byBhIHtAbGluayBMb2NhdGlvblF1ZXJ5fSBvYmplY3QuIEFjY2VwdCBib3RoLCBhXHJcbiAqIHZlcnNpb24gd2l0aCB0aGUgbGVhZGluZyBgP2AgYW5kIHdpdGhvdXQgU2hvdWxkIHdvcmsgYXMgVVJMU2VhcmNoUGFyYW1zXHJcblxuICogQGludGVybmFsXHJcbiAqXHJcbiAqIEBwYXJhbSBzZWFyY2ggLSBzZWFyY2ggc3RyaW5nIHRvIHBhcnNlXHJcbiAqIEByZXR1cm5zIGEgcXVlcnkgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZVF1ZXJ5KHNlYXJjaCkge1xyXG4gICAgY29uc3QgcXVlcnkgPSB7fTtcclxuICAgIC8vIGF2b2lkIGNyZWF0aW5nIGFuIG9iamVjdCB3aXRoIGFuIGVtcHR5IGtleSBhbmQgZW1wdHkgdmFsdWVcclxuICAgIC8vIGJlY2F1c2Ugb2Ygc3BsaXQoJyYnKVxyXG4gICAgaWYgKHNlYXJjaCA9PT0gJycgfHwgc2VhcmNoID09PSAnPycpXHJcbiAgICAgICAgcmV0dXJuIHF1ZXJ5O1xyXG4gICAgY29uc3QgaGFzTGVhZGluZ0lNID0gc2VhcmNoWzBdID09PSAnPyc7XHJcbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSAoaGFzTGVhZGluZ0lNID8gc2VhcmNoLnNsaWNlKDEpIDogc2VhcmNoKS5zcGxpdCgnJicpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWFyY2hQYXJhbXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAvLyBwcmUgZGVjb2RlIHRoZSArIGludG8gc3BhY2VcclxuICAgICAgICBjb25zdCBzZWFyY2hQYXJhbSA9IHNlYXJjaFBhcmFtc1tpXS5yZXBsYWNlKFBMVVNfUkUsICcgJyk7XHJcbiAgICAgICAgLy8gYWxsb3cgdGhlID0gY2hhcmFjdGVyXHJcbiAgICAgICAgbGV0IGVxUG9zID0gc2VhcmNoUGFyYW0uaW5kZXhPZignPScpO1xyXG4gICAgICAgIGxldCBrZXkgPSBkZWNvZGUoZXFQb3MgPCAwID8gc2VhcmNoUGFyYW0gOiBzZWFyY2hQYXJhbS5zbGljZSgwLCBlcVBvcykpO1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IGVxUG9zIDwgMCA/IG51bGwgOiBkZWNvZGUoc2VhcmNoUGFyYW0uc2xpY2UoZXFQb3MgKyAxKSk7XHJcbiAgICAgICAgaWYgKGtleSBpbiBxdWVyeSkge1xyXG4gICAgICAgICAgICAvLyBhbiBleHRyYSB2YXJpYWJsZSBmb3IgdHMgdHlwZXNcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRWYWx1ZSA9IHF1ZXJ5W2tleV07XHJcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShjdXJyZW50VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBxdWVyeVtrZXldID0gW2N1cnJlbnRWYWx1ZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudFZhbHVlLnB1c2godmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcXVlcnlba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBxdWVyeTtcclxufVxyXG4vKipcclxuICogU3RyaW5naWZpZXMgYSB7QGxpbmsgTG9jYXRpb25RdWVyeVJhd30gb2JqZWN0LiBMaWtlIGBVUkxTZWFyY2hQYXJhbXNgLCBpdFxyXG4gKiBkb2Vzbid0IHByZXBlbmQgYSBgP2BcclxuICpcclxuICogQGludGVybmFsXHJcbiAqXHJcbiAqIEBwYXJhbSBxdWVyeSAtIHF1ZXJ5IG9iamVjdCB0byBzdHJpbmdpZnlcclxuICogQHJldHVybnMgc3RyaW5nIHZlcnNpb24gb2YgdGhlIHF1ZXJ5IHdpdGhvdXQgdGhlIGxlYWRpbmcgYD9gXHJcbiAqL1xyXG5mdW5jdGlvbiBzdHJpbmdpZnlRdWVyeShxdWVyeSkge1xyXG4gICAgbGV0IHNlYXJjaCA9ICcnO1xyXG4gICAgZm9yIChsZXQga2V5IGluIHF1ZXJ5KSB7XHJcbiAgICAgICAgaWYgKHNlYXJjaC5sZW5ndGgpXHJcbiAgICAgICAgICAgIHNlYXJjaCArPSAnJic7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBxdWVyeVtrZXldO1xyXG4gICAgICAgIGtleSA9IGVuY29kZVF1ZXJ5S2V5KGtleSk7XHJcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gb25seSBudWxsIGFkZHMgdGhlIHZhbHVlXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgc2VhcmNoICs9IGtleTtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGtlZXAgbnVsbCB2YWx1ZXNcclxuICAgICAgICBsZXQgdmFsdWVzID0gQXJyYXkuaXNBcnJheSh2YWx1ZSlcclxuICAgICAgICAgICAgPyB2YWx1ZS5tYXAodiA9PiB2ICYmIGVuY29kZVF1ZXJ5VmFsdWUodikpXHJcbiAgICAgICAgICAgIDogW3ZhbHVlICYmIGVuY29kZVF1ZXJ5VmFsdWUodmFsdWUpXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAvLyBvbmx5IGFwcGVuZCAmIHdpdGggaSA+IDBcclxuICAgICAgICAgICAgc2VhcmNoICs9IChpID8gJyYnIDogJycpICsga2V5O1xyXG4gICAgICAgICAgICBpZiAodmFsdWVzW2ldICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICBzZWFyY2ggKz0gKCc9JyArIHZhbHVlc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNlYXJjaDtcclxufVxyXG4vKipcclxuICogVHJhbnNmb3JtcyBhIHtAbGluayBMb2NhdGlvblF1ZXJ5UmF3fSBpbnRvIGEge0BsaW5rIExvY2F0aW9uUXVlcnl9IGJ5IGNhc3RpbmdcclxuICogbnVtYmVycyBpbnRvIHN0cmluZ3MsIHJlbW92aW5nIGtleXMgd2l0aCBhbiB1bmRlZmluZWQgdmFsdWUgYW5kIHJlcGxhY2luZ1xyXG4gKiB1bmRlZmluZWQgd2l0aCBudWxsIGluIGFycmF5c1xyXG4gKlxyXG4gKiBAcGFyYW0gcXVlcnkgLSBxdWVyeSBvYmplY3QgdG8gbm9ybWFsaXplXHJcbiAqIEByZXR1cm5zIGEgbm9ybWFsaXplZCBxdWVyeSBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVF1ZXJ5KHF1ZXJ5KSB7XHJcbiAgICBjb25zdCBub3JtYWxpemVkUXVlcnkgPSB7fTtcclxuICAgIGZvciAobGV0IGtleSBpbiBxdWVyeSkge1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IHF1ZXJ5W2tleV07XHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplZFF1ZXJ5W2tleV0gPSBBcnJheS5pc0FycmF5KHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgPyB2YWx1ZS5tYXAodiA9PiAodiA9PSBudWxsID8gbnVsbCA6ICcnICsgdikpXHJcbiAgICAgICAgICAgICAgICA6IHZhbHVlID09IG51bGxcclxuICAgICAgICAgICAgICAgICAgICA/IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgOiAnJyArIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBub3JtYWxpemVkUXVlcnk7XHJcbn1cblxuLyoqXHJcbiAqIENyZWF0ZSBhIGxpc3Qgb2YgY2FsbGJhY2tzIHRoYXQgY2FuIGJlIHJlc2V0LiBVc2VkIHRvIGNyZWF0ZSBiZWZvcmUgYW5kIGFmdGVyIG5hdmlnYXRpb24gZ3VhcmRzIGxpc3RcclxuICovXHJcbmZ1bmN0aW9uIHVzZUNhbGxiYWNrcygpIHtcclxuICAgIGxldCBoYW5kbGVycyA9IFtdO1xyXG4gICAgZnVuY3Rpb24gYWRkKGhhbmRsZXIpIHtcclxuICAgICAgICBoYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGkgPSBoYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xyXG4gICAgICAgICAgICBpZiAoaSA+IC0xKVxyXG4gICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZXNldCgpIHtcclxuICAgICAgICBoYW5kbGVycyA9IFtdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBhZGQsXHJcbiAgICAgICAgbGlzdDogKCkgPT4gaGFuZGxlcnMsXHJcbiAgICAgICAgcmVzZXQsXHJcbiAgICB9O1xyXG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyR3VhcmQobGlzdCwgZ3VhcmQpIHtcclxuICAgIGNvbnN0IHJlbW92ZUZyb21MaXN0ID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdC5pbmRleE9mKGd1YXJkKTtcclxuICAgICAgICBpZiAoaW5kZXggPiAtMSlcclxuICAgICAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfTtcclxuICAgIG9uVW5tb3VudGVkKHJlbW92ZUZyb21MaXN0KTtcclxuICAgIG9uRGVhY3RpdmF0ZWQocmVtb3ZlRnJvbUxpc3QpO1xyXG4gICAgb25BY3RpdmF0ZWQoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdC5pbmRleE9mKGd1YXJkKTtcclxuICAgICAgICBpZiAoaW5kZXggPCAwKVxyXG4gICAgICAgICAgICBsaXN0LnB1c2goZ3VhcmQpO1xyXG4gICAgfSk7XHJcbiAgICBsaXN0LnB1c2goZ3VhcmQpO1xyXG59XHJcbi8qKlxyXG4gKiBBZGQgYSBuYXZpZ2F0aW9uIGd1YXJkIHRoYXQgdHJpZ2dlcnMgd2hlbmV2ZXIgdGhlIGNvbXBvbmVudCBmb3IgdGhlIGN1cnJlbnRcclxuICogbG9jYXRpb24gaXMgYWJvdXQgdG8gYmUgbGVmdC4gU2ltaWxhciB0byB7QGxpbmsgYmVmb3JlUm91dGVMZWF2ZX0gYnV0IGNhbiBiZVxyXG4gKiB1c2VkIGluIGFueSBjb21wb25lbnQuIFRoZSBndWFyZCBpcyByZW1vdmVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSBsZWF2ZUd1YXJkIC0ge0BsaW5rIE5hdmlnYXRpb25HdWFyZH1cclxuICovXHJcbmZ1bmN0aW9uIG9uQmVmb3JlUm91dGVMZWF2ZShsZWF2ZUd1YXJkKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFnZXRDdXJyZW50SW5zdGFuY2UoKSkge1xyXG4gICAgICAgIHdhcm4oJ29uQmVmb3JlUm91dGVMZWF2ZSBtdXN0IGJlIGNhbGxlZCBhdCB0aGUgdG9wIG9mIGEgc2V0dXAgZnVuY3Rpb24nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBhY3RpdmVSZWNvcmQgPSBpbmplY3QobWF0Y2hlZFJvdXRlS2V5LCB7fSkudmFsdWU7XHJcbiAgICBpZiAoIWFjdGl2ZVJlY29yZCkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICB3YXJuKCdvbkJlZm9yZVJvdXRlTGVhdmUgbXVzdCBiZSBjYWxsZWQgYXQgdGhlIHRvcCBvZiBhIHNldHVwIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXJHdWFyZChhY3RpdmVSZWNvcmQubGVhdmVHdWFyZHMsIGxlYXZlR3VhcmQpO1xyXG59XHJcbi8qKlxyXG4gKiBBZGQgYSBuYXZpZ2F0aW9uIGd1YXJkIHRoYXQgdHJpZ2dlcnMgd2hlbmV2ZXIgdGhlIGN1cnJlbnQgbG9jYXRpb24gaXMgYWJvdXRcclxuICogdG8gYmUgdXBkYXRlZC4gU2ltaWxhciB0byB7QGxpbmsgYmVmb3JlUm91dGVVcGRhdGV9IGJ1dCBjYW4gYmUgdXNlZCBpbiBhbnlcclxuICogY29tcG9uZW50LiBUaGUgZ3VhcmQgaXMgcmVtb3ZlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxyXG4gKlxyXG4gKiBAcGFyYW0gdXBkYXRlR3VhcmQgLSB7QGxpbmsgTmF2aWdhdGlvbkd1YXJkfVxyXG4gKi9cclxuZnVuY3Rpb24gb25CZWZvcmVSb3V0ZVVwZGF0ZSh1cGRhdGVHdWFyZCkge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZ2V0Q3VycmVudEluc3RhbmNlKCkpIHtcclxuICAgICAgICB3YXJuKCdvbkJlZm9yZVJvdXRlVXBkYXRlIG11c3QgYmUgY2FsbGVkIGF0IHRoZSB0b3Agb2YgYSBzZXR1cCBmdW5jdGlvbicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGFjdGl2ZVJlY29yZCA9IGluamVjdChtYXRjaGVkUm91dGVLZXksIHt9KS52YWx1ZTtcclxuICAgIGlmICghYWN0aXZlUmVjb3JkKSB7XHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIHdhcm4oJ29uQmVmb3JlUm91dGVVcGRhdGUgbXVzdCBiZSBjYWxsZWQgYXQgdGhlIHRvcCBvZiBhIHNldHVwIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXJHdWFyZChhY3RpdmVSZWNvcmQudXBkYXRlR3VhcmRzLCB1cGRhdGVHdWFyZCk7XHJcbn1cclxuZnVuY3Rpb24gZ3VhcmRUb1Byb21pc2VGbihndWFyZCwgdG8sIGZyb20sIHJlY29yZCwgbmFtZSkge1xyXG4gICAgLy8ga2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgZW50ZXJDYWxsYmFja0FycmF5IHRvIHByZXZlbnQgcHVzaGluZyBjYWxsYmFja3MgaWYgYSBuZXcgbmF2aWdhdGlvbiB0b29rIHBsYWNlXHJcbiAgICBjb25zdCBlbnRlckNhbGxiYWNrQXJyYXkgPSByZWNvcmQgJiZcclxuICAgICAgICAvLyBuYW1lIGlzIGRlZmluZWQgaWYgcmVjb3JkIGlzIGJlY2F1c2Ugb2YgdGhlIGZ1bmN0aW9uIG92ZXJsb2FkXHJcbiAgICAgICAgKHJlY29yZC5lbnRlckNhbGxiYWNrc1tuYW1lXSA9IHJlY29yZC5lbnRlckNhbGxiYWNrc1tuYW1lXSB8fCBbXSk7XHJcbiAgICByZXR1cm4gKCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5leHQgPSAodmFsaWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHZhbGlkID09PSBmYWxzZSlcclxuICAgICAgICAgICAgICAgIHJlamVjdChjcmVhdGVSb3V0ZXJFcnJvcig0IC8qIE5BVklHQVRJT05fQUJPUlRFRCAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgIGZyb20sXHJcbiAgICAgICAgICAgICAgICAgICAgdG8sXHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbGlkIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdCh2YWxpZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSb3V0ZUxvY2F0aW9uKHZhbGlkKSkge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGNyZWF0ZVJvdXRlckVycm9yKDIgLyogTkFWSUdBVElPTl9HVUFSRF9SRURJUkVDVCAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgIGZyb206IHRvLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvOiB2YWxpZCxcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbnRlckNhbGxiYWNrQXJyYXkgJiZcclxuICAgICAgICAgICAgICAgICAgICAvLyBzaW5jZSBlbnRlckNhbGxiYWNrQXJyYXkgaXMgdHJ1dGh5LCBib3RoIHJlY29yZCBhbmQgbmFtZSBhbHNvIGFyZVxyXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZC5lbnRlckNhbGxiYWNrc1tuYW1lXSA9PT0gZW50ZXJDYWxsYmFja0FycmF5ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHZhbGlkID09PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgICAgIGVudGVyQ2FsbGJhY2tBcnJheS5wdXNoKHZhbGlkKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gd3JhcHBpbmcgd2l0aCBQcm9taXNlLnJlc29sdmUgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBib3RoIGFzeW5jIGFuZCBzeW5jIGd1YXJkc1xyXG4gICAgICAgIGNvbnN0IGd1YXJkUmV0dXJuID0gZ3VhcmQuY2FsbChyZWNvcmQgJiYgcmVjb3JkLmluc3RhbmNlc1tuYW1lXSwgdG8sIGZyb20sIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGNhbk9ubHlCZUNhbGxlZE9uY2UobmV4dCwgdG8sIGZyb20pIDogbmV4dCk7XHJcbiAgICAgICAgbGV0IGd1YXJkQ2FsbCA9IFByb21pc2UucmVzb2x2ZShndWFyZFJldHVybik7XHJcbiAgICAgICAgaWYgKGd1YXJkLmxlbmd0aCA8IDMpXHJcbiAgICAgICAgICAgIGd1YXJkQ2FsbCA9IGd1YXJkQ2FsbC50aGVuKG5leHQpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZ3VhcmQubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYFRoZSBcIm5leHRcIiBjYWxsYmFjayB3YXMgbmV2ZXIgY2FsbGVkIGluc2lkZSBvZiAke2d1YXJkLm5hbWUgPyAnXCInICsgZ3VhcmQubmFtZSArICdcIicgOiAnJ306XFxuJHtndWFyZC50b1N0cmluZygpfVxcbi4gSWYgeW91IGFyZSByZXR1cm5pbmcgYSB2YWx1ZSBpbnN0ZWFkIG9mIGNhbGxpbmcgXCJuZXh0XCIsIG1ha2Ugc3VyZSB0byByZW1vdmUgdGhlIFwibmV4dFwiIHBhcmFtZXRlciBmcm9tIHlvdXIgZnVuY3Rpb24uYDtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBndWFyZFJldHVybiA9PT0gJ29iamVjdCcgJiYgJ3RoZW4nIGluIGd1YXJkUmV0dXJuKSB7XHJcbiAgICAgICAgICAgICAgICBndWFyZENhbGwgPSBndWFyZENhbGwudGhlbihyZXNvbHZlZFZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBfY2FsbGVkIGlzIGFkZGVkIGF0IGNhbk9ubHlCZUNhbGxlZE9uY2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHQuX2NhbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIG5hdmlnYXRpb24gZ3VhcmQnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB0ZXN0IG1lIVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGd1YXJkUmV0dXJuICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IF9jYWxsZWQgaXMgYWRkZWQgYXQgY2FuT25seUJlQ2FsbGVkT25jZVxyXG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0Ll9jYWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgbmF2aWdhdGlvbiBndWFyZCcpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZ3VhcmRDYWxsLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBjYW5Pbmx5QmVDYWxsZWRPbmNlKG5leHQsIHRvLCBmcm9tKSB7XHJcbiAgICBsZXQgY2FsbGVkID0gMDtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGNhbGxlZCsrID09PSAxKVxyXG4gICAgICAgICAgICB3YXJuKGBUaGUgXCJuZXh0XCIgY2FsbGJhY2sgd2FzIGNhbGxlZCBtb3JlIHRoYW4gb25jZSBpbiBvbmUgbmF2aWdhdGlvbiBndWFyZCB3aGVuIGdvaW5nIGZyb20gXCIke2Zyb20uZnVsbFBhdGh9XCIgdG8gXCIke3RvLmZ1bGxQYXRofVwiLiBJdCBzaG91bGQgYmUgY2FsbGVkIGV4YWN0bHkgb25lIHRpbWUgaW4gZWFjaCBuYXZpZ2F0aW9uIGd1YXJkLiBUaGlzIHdpbGwgZmFpbCBpbiBwcm9kdWN0aW9uLmApO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmU6IHdlIHB1dCBpdCBpbiB0aGUgb3JpZ2luYWwgb25lIGJlY2F1c2UgaXQncyBlYXNpZXIgdG8gY2hlY2tcclxuICAgICAgICBuZXh0Ll9jYWxsZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmIChjYWxsZWQgPT09IDEpXHJcbiAgICAgICAgICAgIG5leHQuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZXh0cmFjdENvbXBvbmVudHNHdWFyZHMobWF0Y2hlZCwgZ3VhcmRUeXBlLCB0bywgZnJvbSkge1xyXG4gICAgY29uc3QgZ3VhcmRzID0gW107XHJcbiAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiBtYXRjaGVkKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHJlY29yZC5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGxldCByYXdDb21wb25lbnQgPSByZWNvcmQuY29tcG9uZW50c1tuYW1lXTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyYXdDb21wb25lbnQgfHxcclxuICAgICAgICAgICAgICAgICAgICAodHlwZW9mIHJhd0NvbXBvbmVudCAhPT0gJ29iamVjdCcgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHJhd0NvbXBvbmVudCAhPT0gJ2Z1bmN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgXCIke25hbWV9XCIgaW4gcmVjb3JkIHdpdGggcGF0aCBcIiR7cmVjb3JkLnBhdGh9XCIgaXMgbm90YCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGAgYSB2YWxpZCBjb21wb25lbnQuIFJlY2VpdmVkIFwiJHtTdHJpbmcocmF3Q29tcG9uZW50KX1cIi5gKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdyB0byBlbnN1cmUgd2Ugc3RvcCBoZXJlIGJ1dCB3YXJuIHRvIGVuc3VyZSB0aGUgbWVzc2FnZSBpc24ndFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1pc3NlZCBieSB0aGUgdXNlclxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByb3V0ZSBjb21wb25lbnQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCd0aGVuJyBpbiByYXdDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3YXJuIGlmIHVzZXIgd3JvdGUgaW1wb3J0KCcvY29tcG9uZW50LnZ1ZScpIGluc3RlYWQgb2YgKCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAvLyBpbXBvcnQoJy4vY29tcG9uZW50LnZ1ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGluIHJlY29yZCB3aXRoIHBhdGggXCIke3JlY29yZC5wYXRofVwiIGlzIGEgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBQcm9taXNlIGluc3RlYWQgb2YgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBQcm9taXNlLiBEaWQgeW91IGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgd3JpdGUgXCJpbXBvcnQoJy4vTXlQYWdlLnZ1ZScpXCIgaW5zdGVhZCBvZiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYFwiKCkgPT4gaW1wb3J0KCcuL015UGFnZS52dWUnKVwiID8gVGhpcyB3aWxsIGJyZWFrIGluIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgcHJvZHVjdGlvbiBpZiBub3QgZml4ZWQuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb21pc2UgPSByYXdDb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmF3Q29tcG9uZW50ID0gKCkgPT4gcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBza2lwIHVwZGF0ZSBhbmQgbGVhdmUgZ3VhcmRzIGlmIHRoZSByb3V0ZSBjb21wb25lbnQgaXMgbm90IG1vdW50ZWRcclxuICAgICAgICAgICAgaWYgKGd1YXJkVHlwZSAhPT0gJ2JlZm9yZVJvdXRlRW50ZXInICYmICFyZWNvcmQuaW5zdGFuY2VzW25hbWVdKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIGlmIChpc1JvdXRlQ29tcG9uZW50KHJhd0NvbXBvbmVudCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIF9fdmNjT3B0cyBpcyBhZGRlZCBieSB2dWUtY2xhc3MtY29tcG9uZW50IGFuZCBjb250YWluIHRoZSByZWd1bGFyIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgIGxldCBvcHRpb25zID0gcmF3Q29tcG9uZW50Ll9fdmNjT3B0cyB8fCByYXdDb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBndWFyZCA9IG9wdGlvbnNbZ3VhcmRUeXBlXTtcclxuICAgICAgICAgICAgICAgIGd1YXJkICYmIGd1YXJkcy5wdXNoKGd1YXJkVG9Qcm9taXNlRm4oZ3VhcmQsIHRvLCBmcm9tLCByZWNvcmQsIG5hbWUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHJlcXVlc3RpbmcgdGhlIGNodW5rIGFscmVhZHlcclxuICAgICAgICAgICAgICAgIGxldCBjb21wb25lbnRQcm9taXNlID0gcmF3Q29tcG9uZW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICEoJ2NhdGNoJyBpbiBjb21wb25lbnRQcm9taXNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBcIiR7bmFtZX1cIiBpbiByZWNvcmQgd2l0aCBwYXRoIFwiJHtyZWNvcmQucGF0aH1cIiBpcyBhIGZ1bmN0aW9uIHRoYXQgZG9lcyBub3QgcmV0dXJuIGEgUHJvbWlzZS4gSWYgeW91IHdlcmUgcGFzc2luZyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50LCBtYWtlIHN1cmUgdG8gYWRkIGEgXCJkaXNwbGF5TmFtZVwiIHRvIHRoZSBjb21wb25lbnQuIFRoaXMgd2lsbCBicmVhayBpbiBwcm9kdWN0aW9uIGlmIG5vdCBmaXhlZC5gKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbXBvbmVudFByb21pc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzcGxheSB0aGUgZXJyb3IgaWYgYW55XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvbWlzZSA9IGNvbXBvbmVudFByb21pc2UuY2F0Y2goKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gZXJyID0+IGVyciAmJiB3YXJuKGVycikgOiBjb25zb2xlLmVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGd1YXJkcy5wdXNoKCgpID0+IGNvbXBvbmVudFByb21pc2UudGhlbihyZXNvbHZlZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNvbHZlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgQ291bGRuJ3QgcmVzb2x2ZSBjb21wb25lbnQgXCIke25hbWV9XCIgYXQgXCIke3JlY29yZC5wYXRofVwiYCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkQ29tcG9uZW50ID0gaXNFU01vZHVsZShyZXNvbHZlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZXNvbHZlZC5kZWZhdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVwbGFjZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgcmVzb2x2ZWQgY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkLmNvbXBvbmVudHNbbmFtZV0gPSByZXNvbHZlZENvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlOiB0aGUgb3B0aW9ucyB0eXBlcyBhcmUgbm90IHByb3BhZ2F0ZWQgdG8gQ29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3VhcmQgPSByZXNvbHZlZENvbXBvbmVudFtndWFyZFR5cGVdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBndWFyZCAmJiBndWFyZFRvUHJvbWlzZUZuKGd1YXJkLCB0bywgZnJvbSwgcmVjb3JkLCBuYW1lKSgpO1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGd1YXJkcztcclxufVxyXG4vKipcclxuICogQWxsb3dzIGRpZmZlcmVudGlhdGluZyBsYXp5IGNvbXBvbmVudHMgZnJvbSBmdW5jdGlvbmFsIGNvbXBvbmVudHMgYW5kIHZ1ZS1jbGFzcy1jb21wb25lbnRcclxuICogQHBhcmFtIGNvbXBvbmVudFxyXG4gKi9cclxuZnVuY3Rpb24gaXNSb3V0ZUNvbXBvbmVudChjb21wb25lbnQpIHtcclxuICAgIHJldHVybiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ29iamVjdCcgfHxcclxuICAgICAgICAnZGlzcGxheU5hbWUnIGluIGNvbXBvbmVudCB8fFxyXG4gICAgICAgICdwcm9wcycgaW4gY29tcG9uZW50IHx8XHJcbiAgICAgICAgJ19fdmNjT3B0cycgaW4gY29tcG9uZW50KTtcclxufVxuXG4vLyBUT0RPOiB3ZSBjb3VsZCBhbGxvdyBjdXJyZW50Um91dGUgYXMgYSBwcm9wIHRvIGV4cG9zZSBgaXNBY3RpdmVgIGFuZFxyXG4vLyBgaXNFeGFjdEFjdGl2ZWAgYmVoYXZpb3Igc2hvdWxkIGdvIHRocm91Z2ggYW4gUkZDXHJcbmZ1bmN0aW9uIHVzZUxpbmsocHJvcHMpIHtcclxuICAgIGNvbnN0IHJvdXRlciA9IGluamVjdChyb3V0ZXJLZXkpO1xyXG4gICAgY29uc3QgY3VycmVudFJvdXRlID0gaW5qZWN0KHJvdXRlTG9jYXRpb25LZXkpO1xyXG4gICAgY29uc3Qgcm91dGUgPSBjb21wdXRlZCgoKSA9PiByb3V0ZXIucmVzb2x2ZSh1bnJlZihwcm9wcy50bykpKTtcclxuICAgIGNvbnN0IGFjdGl2ZVJlY29yZEluZGV4ID0gY29tcHV0ZWQoKCkgPT4ge1xyXG4gICAgICAgIGxldCB7IG1hdGNoZWQgfSA9IHJvdXRlLnZhbHVlO1xyXG4gICAgICAgIGxldCB7IGxlbmd0aCB9ID0gbWF0Y2hlZDtcclxuICAgICAgICBjb25zdCByb3V0ZU1hdGNoZWQgPSBtYXRjaGVkW2xlbmd0aCAtIDFdO1xyXG4gICAgICAgIGxldCBjdXJyZW50TWF0Y2hlZCA9IGN1cnJlbnRSb3V0ZS5tYXRjaGVkO1xyXG4gICAgICAgIGlmICghcm91dGVNYXRjaGVkIHx8ICFjdXJyZW50TWF0Y2hlZC5sZW5ndGgpXHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICBsZXQgaW5kZXggPSBjdXJyZW50TWF0Y2hlZC5maW5kSW5kZXgoaXNTYW1lUm91dGVSZWNvcmQuYmluZChudWxsLCByb3V0ZU1hdGNoZWQpKTtcclxuICAgICAgICBpZiAoaW5kZXggPiAtMSlcclxuICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgICAgIC8vIHBvc3NpYmxlIHBhcmVudCByZWNvcmRcclxuICAgICAgICBsZXQgcGFyZW50UmVjb3JkUGF0aCA9IGdldE9yaWdpbmFsUGF0aChtYXRjaGVkW2xlbmd0aCAtIDJdKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgIC8vIHdlIGFyZSBkZWFsaW5nIHdpdGggbmVzdGVkIHJvdXRlc1xyXG4gICAgICAgIGxlbmd0aCA+IDEgJiZcclxuICAgICAgICAgICAgLy8gaWYgdGhlIHBhcmVudCBhbmQgbWF0Y2hlZCByb3V0ZSBoYXZlIHRoZSBzYW1lIHBhdGgsIHRoaXMgbGluayBpc1xyXG4gICAgICAgICAgICAvLyByZWZlcnJpbmcgdG8gdGhlIGVtcHR5IGNoaWxkLiBPciB3ZSBjdXJyZW50bHkgYXJlIG9uIGEgZGlmZmVyZW50XHJcbiAgICAgICAgICAgIC8vIGNoaWxkIG9mIHRoZSBzYW1lIHBhcmVudFxyXG4gICAgICAgICAgICBnZXRPcmlnaW5hbFBhdGgocm91dGVNYXRjaGVkKSA9PT0gcGFyZW50UmVjb3JkUGF0aCAmJlxyXG4gICAgICAgICAgICAvLyBhdm9pZCBjb21wYXJpbmcgdGhlIGNoaWxkIHdpdGggaXRzIHBhcmVudFxyXG4gICAgICAgICAgICBjdXJyZW50TWF0Y2hlZFtjdXJyZW50TWF0Y2hlZC5sZW5ndGggLSAxXS5wYXRoICE9PSBwYXJlbnRSZWNvcmRQYXRoXHJcbiAgICAgICAgICAgID8gY3VycmVudE1hdGNoZWQuZmluZEluZGV4KGlzU2FtZVJvdXRlUmVjb3JkLmJpbmQobnVsbCwgbWF0Y2hlZFtsZW5ndGggLSAyXSkpXHJcbiAgICAgICAgICAgIDogaW5kZXgpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBpc0FjdGl2ZSA9IGNvbXB1dGVkKCgpID0+IGFjdGl2ZVJlY29yZEluZGV4LnZhbHVlID4gLTEgJiZcclxuICAgICAgICBpbmNsdWRlc1BhcmFtcyhjdXJyZW50Um91dGUucGFyYW1zLCByb3V0ZS52YWx1ZS5wYXJhbXMpKTtcclxuICAgIGNvbnN0IGlzRXhhY3RBY3RpdmUgPSBjb21wdXRlZCgoKSA9PiBhY3RpdmVSZWNvcmRJbmRleC52YWx1ZSA+IC0xICYmXHJcbiAgICAgICAgYWN0aXZlUmVjb3JkSW5kZXgudmFsdWUgPT09IGN1cnJlbnRSb3V0ZS5tYXRjaGVkLmxlbmd0aCAtIDEgJiZcclxuICAgICAgICBpc1NhbWVSb3V0ZUxvY2F0aW9uUGFyYW1zKGN1cnJlbnRSb3V0ZS5wYXJhbXMsIHJvdXRlLnZhbHVlLnBhcmFtcykpO1xyXG4gICAgZnVuY3Rpb24gbmF2aWdhdGUoZSA9IHt9KSB7XHJcbiAgICAgICAgaWYgKGd1YXJkRXZlbnQoZSkpXHJcbiAgICAgICAgICAgIHJldHVybiByb3V0ZXJbdW5yZWYocHJvcHMucmVwbGFjZSkgPyAncmVwbGFjZScgOiAncHVzaCddKHVucmVmKHByb3BzLnRvKSk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByb3V0ZSxcclxuICAgICAgICBocmVmOiBjb21wdXRlZCgoKSA9PiByb3V0ZS52YWx1ZS5ocmVmKSxcclxuICAgICAgICBpc0FjdGl2ZSxcclxuICAgICAgICBpc0V4YWN0QWN0aXZlLFxyXG4gICAgICAgIG5hdmlnYXRlLFxyXG4gICAgfTtcclxufVxyXG5jb25zdCBSb3V0ZXJMaW5rSW1wbCA9IC8qI19fUFVSRV9fKi8gZGVmaW5lQ29tcG9uZW50KHtcclxuICAgIG5hbWU6ICdSb3V0ZXJMaW5rJyxcclxuICAgIHByb3BzOiB7XHJcbiAgICAgICAgdG86IHtcclxuICAgICAgICAgICAgdHlwZTogW1N0cmluZywgT2JqZWN0XSxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhY3RpdmVDbGFzczogU3RyaW5nLFxyXG4gICAgICAgIC8vIGluYWN0aXZlQ2xhc3M6IFN0cmluZyxcclxuICAgICAgICBleGFjdEFjdGl2ZUNsYXNzOiBTdHJpbmcsXHJcbiAgICAgICAgY3VzdG9tOiBCb29sZWFuLFxyXG4gICAgICAgIGFyaWFDdXJyZW50VmFsdWU6IHtcclxuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgICAgICBkZWZhdWx0OiAncGFnZScsXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cywgYXR0cnMgfSkge1xyXG4gICAgICAgIGNvbnN0IGxpbmsgPSByZWFjdGl2ZSh1c2VMaW5rKHByb3BzKSk7XHJcbiAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSBpbmplY3Qocm91dGVyS2V5KTtcclxuICAgICAgICBjb25zdCBlbENsYXNzID0gY29tcHV0ZWQoKCkgPT4gKHtcclxuICAgICAgICAgICAgW2dldExpbmtDbGFzcyhwcm9wcy5hY3RpdmVDbGFzcywgb3B0aW9ucy5saW5rQWN0aXZlQ2xhc3MsICdyb3V0ZXItbGluay1hY3RpdmUnKV06IGxpbmsuaXNBY3RpdmUsXHJcbiAgICAgICAgICAgIC8vIFtnZXRMaW5rQ2xhc3MoXHJcbiAgICAgICAgICAgIC8vICAgcHJvcHMuaW5hY3RpdmVDbGFzcyxcclxuICAgICAgICAgICAgLy8gICBvcHRpb25zLmxpbmtJbmFjdGl2ZUNsYXNzLFxyXG4gICAgICAgICAgICAvLyAgICdyb3V0ZXItbGluay1pbmFjdGl2ZSdcclxuICAgICAgICAgICAgLy8gKV06ICFsaW5rLmlzRXhhY3RBY3RpdmUsXHJcbiAgICAgICAgICAgIFtnZXRMaW5rQ2xhc3MocHJvcHMuZXhhY3RBY3RpdmVDbGFzcywgb3B0aW9ucy5saW5rRXhhY3RBY3RpdmVDbGFzcywgJ3JvdXRlci1saW5rLWV4YWN0LWFjdGl2ZScpXTogbGluay5pc0V4YWN0QWN0aXZlLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgJiYgc2xvdHMuZGVmYXVsdChsaW5rKTtcclxuICAgICAgICAgICAgcmV0dXJuIHByb3BzLmN1c3RvbVxyXG4gICAgICAgICAgICAgICAgPyBjaGlsZHJlblxyXG4gICAgICAgICAgICAgICAgOiBoKCdhJywgYXNzaWduKHtcclxuICAgICAgICAgICAgICAgICAgICAnYXJpYS1jdXJyZW50JzogbGluay5pc0V4YWN0QWN0aXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcHJvcHMuYXJpYUN1cnJlbnRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogbGluay5uYXZpZ2F0ZSxcclxuICAgICAgICAgICAgICAgICAgICBocmVmOiBsaW5rLmhyZWYsXHJcbiAgICAgICAgICAgICAgICB9LCBhdHRycywge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiBlbENsYXNzLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgfSksIGNoaWxkcmVuKTtcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxufSk7XHJcbi8vIGV4cG9ydCB0aGUgcHVibGljIHR5cGUgZm9yIGgvdHN4IGluZmVyZW5jZVxyXG4vLyBhbHNvIHRvIGF2b2lkIGlubGluZSBpbXBvcnQoKSBpbiBnZW5lcmF0ZWQgZC50cyBmaWxlc1xyXG4vKipcclxuICogQ29tcG9uZW50IHRvIHJlbmRlciBhIGxpbmsgdGhhdCB0cmlnZ2VycyBhIG5hdmlnYXRpb24gb24gY2xpY2suXHJcbiAqL1xyXG5jb25zdCBSb3V0ZXJMaW5rID0gUm91dGVyTGlua0ltcGw7XHJcbmZ1bmN0aW9uIGd1YXJkRXZlbnQoZSkge1xyXG4gICAgLy8gZG9uJ3QgcmVkaXJlY3Qgd2l0aCBjb250cm9sIGtleXNcclxuICAgIGlmIChlLm1ldGFLZXkgfHwgZS5hbHRLZXkgfHwgZS5jdHJsS2V5IHx8IGUuc2hpZnRLZXkpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gZG9uJ3QgcmVkaXJlY3Qgd2hlbiBwcmV2ZW50RGVmYXVsdCBjYWxsZWRcclxuICAgIGlmIChlLmRlZmF1bHRQcmV2ZW50ZWQpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gZG9uJ3QgcmVkaXJlY3Qgb24gcmlnaHQgY2xpY2tcclxuICAgIGlmIChlLmJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIGUuYnV0dG9uICE9PSAwKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIC8vIGRvbid0IHJlZGlyZWN0IGlmIGB0YXJnZXQ9XCJfYmxhbmtcImBcclxuICAgIC8vIEB0cy1pZ25vcmUgZ2V0QXR0cmlidXRlIGRvZXMgZXhpc3RcclxuICAgIGlmIChlLmN1cnJlbnRUYXJnZXQgJiYgZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSkge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmUgZ2V0QXR0cmlidXRlIGV4aXN0c1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ3RhcmdldCcpO1xyXG4gICAgICAgIGlmICgvXFxiX2JsYW5rXFxiL2kudGVzdCh0YXJnZXQpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyB0aGlzIG1heSBiZSBhIFdlZXggZXZlbnQgd2hpY2ggZG9lc24ndCBoYXZlIHRoaXMgbWV0aG9kXHJcbiAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdClcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBpbmNsdWRlc1BhcmFtcyhvdXRlciwgaW5uZXIpIHtcclxuICAgIGZvciAobGV0IGtleSBpbiBpbm5lcikge1xyXG4gICAgICAgIGxldCBpbm5lclZhbHVlID0gaW5uZXJba2V5XTtcclxuICAgICAgICBsZXQgb3V0ZXJWYWx1ZSA9IG91dGVyW2tleV07XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbm5lclZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBpZiAoaW5uZXJWYWx1ZSAhPT0gb3V0ZXJWYWx1ZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvdXRlclZhbHVlKSB8fFxyXG4gICAgICAgICAgICAgICAgb3V0ZXJWYWx1ZS5sZW5ndGggIT09IGlubmVyVmFsdWUubGVuZ3RoIHx8XHJcbiAgICAgICAgICAgICAgICBpbm5lclZhbHVlLnNvbWUoKHZhbHVlLCBpKSA9PiB2YWx1ZSAhPT0gb3V0ZXJWYWx1ZVtpXSkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuLyoqXHJcbiAqIEdldCB0aGUgb3JpZ2luYWwgcGF0aCB2YWx1ZSBvZiBhIHJlY29yZCBieSBmb2xsb3dpbmcgaXRzIGFsaWFzT2ZcclxuICogQHBhcmFtIHJlY29yZFxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0T3JpZ2luYWxQYXRoKHJlY29yZCkge1xyXG4gICAgcmV0dXJuIHJlY29yZCA/IChyZWNvcmQuYWxpYXNPZiA/IHJlY29yZC5hbGlhc09mLnBhdGggOiByZWNvcmQucGF0aCkgOiAnJztcclxufVxyXG4vKipcclxuICogVXRpbGl0eSBjbGFzcyB0byBnZXQgdGhlIGFjdGl2ZSBjbGFzcyBiYXNlZCBvbiBkZWZhdWx0cy5cclxuICogQHBhcmFtIHByb3BDbGFzc1xyXG4gKiBAcGFyYW0gZ2xvYmFsQ2xhc3NcclxuICogQHBhcmFtIGRlZmF1bHRDbGFzc1xyXG4gKi9cclxuY29uc3QgZ2V0TGlua0NsYXNzID0gKHByb3BDbGFzcywgZ2xvYmFsQ2xhc3MsIGRlZmF1bHRDbGFzcykgPT4gcHJvcENsYXNzICE9IG51bGxcclxuICAgID8gcHJvcENsYXNzXHJcbiAgICA6IGdsb2JhbENsYXNzICE9IG51bGxcclxuICAgICAgICA/IGdsb2JhbENsYXNzXHJcbiAgICAgICAgOiBkZWZhdWx0Q2xhc3M7XG5cbmNvbnN0IFJvdXRlclZpZXdJbXBsID0gLyojX19QVVJFX18qLyBkZWZpbmVDb21wb25lbnQoe1xyXG4gICAgbmFtZTogJ1JvdXRlclZpZXcnLFxyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICBuYW1lOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICAgICAgZGVmYXVsdDogJ2RlZmF1bHQnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcm91dGU6IE9iamVjdCxcclxuICAgIH0sXHJcbiAgICBzZXR1cChwcm9wcywgeyBhdHRycywgc2xvdHMgfSkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuRGVwcmVjYXRlZFVzYWdlKCk7XHJcbiAgICAgICAgY29uc3QgaW5qZWN0ZWRSb3V0ZSA9IGluamVjdChyb3V0ZUxvY2F0aW9uS2V5KTtcclxuICAgICAgICBjb25zdCBkZXB0aCA9IGluamVjdCh2aWV3RGVwdGhLZXksIDApO1xyXG4gICAgICAgIGNvbnN0IG1hdGNoZWRSb3V0ZVJlZiA9IGNvbXB1dGVkKCgpID0+IChwcm9wcy5yb3V0ZSB8fCBpbmplY3RlZFJvdXRlKS5tYXRjaGVkW2RlcHRoXSk7XHJcbiAgICAgICAgcHJvdmlkZSh2aWV3RGVwdGhLZXksIGRlcHRoICsgMSk7XHJcbiAgICAgICAgcHJvdmlkZShtYXRjaGVkUm91dGVLZXksIG1hdGNoZWRSb3V0ZVJlZik7XHJcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHJlZigpO1xyXG4gICAgICAgIC8vIHdhdGNoIGF0IHRoZSBzYW1lIHRpbWUgdGhlIGNvbXBvbmVudCBpbnN0YW5jZSwgdGhlIHJvdXRlIHJlY29yZCB3ZSBhcmVcclxuICAgICAgICAvLyByZW5kZXJpbmcsIGFuZCB0aGUgbmFtZVxyXG4gICAgICAgIHdhdGNoKCgpID0+IFt2aWV3UmVmLnZhbHVlLCBtYXRjaGVkUm91dGVSZWYudmFsdWUsIHByb3BzLm5hbWVdLCAoW2luc3RhbmNlLCB0bywgbmFtZV0sIFtvbGRJbnN0YW5jZSwgZnJvbSwgb2xkTmFtZV0pID0+IHtcclxuICAgICAgICAgICAgLy8gY29weSByZXVzZWQgaW5zdGFuY2VzXHJcbiAgICAgICAgICAgIGlmICh0bykge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIHVwZGF0ZSB0aGUgaW5zdGFuY2UgZm9yIG5ldyBpbnN0YW5jZXMgYXMgd2VsbCBhcyByZXVzZWRcclxuICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlcyB3aGVuIG5hdmlnYXRpbmcgdG8gYSBuZXcgcm91dGVcclxuICAgICAgICAgICAgICAgIHRvLmluc3RhbmNlc1tuYW1lXSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSBpcyByZXVzZWQgZm9yIGEgZGlmZmVyZW50IHJvdXRlIG9yIG5hbWUgc29cclxuICAgICAgICAgICAgICAgIC8vIHdlIGNvcHkgYW55IHNhdmVkIHVwZGF0ZSBvciBsZWF2ZSBndWFyZHNcclxuICAgICAgICAgICAgICAgIGlmIChmcm9tICYmIGluc3RhbmNlID09PSBvbGRJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvLmxlYXZlR3VhcmRzID0gZnJvbS5sZWF2ZUd1YXJkcztcclxuICAgICAgICAgICAgICAgICAgICB0by51cGRhdGVHdWFyZHMgPSBmcm9tLnVwZGF0ZUd1YXJkcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB0cmlnZ2VyIGJlZm9yZVJvdXRlRW50ZXIgbmV4dCBjYWxsYmFja3NcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlICYmXHJcbiAgICAgICAgICAgICAgICB0byAmJlxyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gaW5zdGFuY2UgYnV0IHRvIGFuZCBmcm9tIGFyZSB0aGUgc2FtZSB0aGlzIG1pZ2h0IGJlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgZmlyc3QgdmlzaXRcclxuICAgICAgICAgICAgICAgICghZnJvbSB8fCAhaXNTYW1lUm91dGVSZWNvcmQodG8sIGZyb20pIHx8ICFvbGRJbnN0YW5jZSkpIHtcclxuICAgICAgICAgICAgICAgICh0by5lbnRlckNhbGxiYWNrc1tuYW1lXSB8fCBbXSkuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayhpbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgeyBmbHVzaDogJ3Bvc3QnIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcHJvcHMucm91dGUgfHwgaW5qZWN0ZWRSb3V0ZTtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2hlZFJvdXRlID0gbWF0Y2hlZFJvdXRlUmVmLnZhbHVlO1xyXG4gICAgICAgICAgICBjb25zdCBWaWV3Q29tcG9uZW50ID0gbWF0Y2hlZFJvdXRlICYmIG1hdGNoZWRSb3V0ZS5jb21wb25lbnRzW3Byb3BzLm5hbWVdO1xyXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRoZSB2YWx1ZSBhdCB0aGUgdGltZSB3ZSByZW5kZXIgYmVjYXVzZSB3aGVuIHdlIHVubW91bnQsIHdlXHJcbiAgICAgICAgICAgIC8vIG5hdmlnYXRlZCB0byBhIGRpZmZlcmVudCBsb2NhdGlvbiBzbyB0aGUgdmFsdWUgaXMgZGlmZmVyZW50XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROYW1lID0gcHJvcHMubmFtZTtcclxuICAgICAgICAgICAgaWYgKCFWaWV3Q29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2xvdHMuZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgICAgID8gc2xvdHMuZGVmYXVsdCh7IENvbXBvbmVudDogVmlld0NvbXBvbmVudCwgcm91dGUgfSlcclxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJvcHMgZnJvbSByb3V0ZSBjb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlUHJvcHNPcHRpb24gPSBtYXRjaGVkUm91dGUucHJvcHNbcHJvcHMubmFtZV07XHJcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlUHJvcHMgPSByb3V0ZVByb3BzT3B0aW9uXHJcbiAgICAgICAgICAgICAgICA/IHJvdXRlUHJvcHNPcHRpb24gPT09IHRydWVcclxuICAgICAgICAgICAgICAgICAgICA/IHJvdXRlLnBhcmFtc1xyXG4gICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIHJvdXRlUHJvcHNPcHRpb24gPT09ICdmdW5jdGlvbidcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyByb3V0ZVByb3BzT3B0aW9uKHJvdXRlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJvdXRlUHJvcHNPcHRpb25cclxuICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgICAgY29uc3Qgb25Wbm9kZVVubW91bnRlZCA9IHZub2RlID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgaW5zdGFuY2UgcmVmZXJlbmNlIHRvIHByZXZlbnQgbGVha1xyXG4gICAgICAgICAgICAgICAgaWYgKHZub2RlLmNvbXBvbmVudC5pc1VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZWRSb3V0ZS5pbnN0YW5jZXNbY3VycmVudE5hbWVdID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gaChWaWV3Q29tcG9uZW50LCBhc3NpZ24oe30sIHJvdXRlUHJvcHMsIGF0dHJzLCB7XHJcbiAgICAgICAgICAgICAgICBvblZub2RlVW5tb3VudGVkLFxyXG4gICAgICAgICAgICAgICAgcmVmOiB2aWV3UmVmLFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIC8vIHBhc3MgdGhlIHZub2RlIHRvIHRoZSBzbG90IGFzIGEgcHJvcC5cclxuICAgICAgICAgICAgLy8gaCBhbmQgPGNvbXBvbmVudCA6aXM9XCIuLi5cIj4gYm90aCBhY2NlcHQgdm5vZGVzXHJcbiAgICAgICAgICAgIHNsb3RzLmRlZmF1bHRcclxuICAgICAgICAgICAgICAgID8gc2xvdHMuZGVmYXVsdCh7IENvbXBvbmVudDogY29tcG9uZW50LCByb3V0ZSB9KVxyXG4gICAgICAgICAgICAgICAgOiBjb21wb25lbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG59KTtcclxuLy8gZXhwb3J0IHRoZSBwdWJsaWMgdHlwZSBmb3IgaC90c3ggaW5mZXJlbmNlXHJcbi8vIGFsc28gdG8gYXZvaWQgaW5saW5lIGltcG9ydCgpIGluIGdlbmVyYXRlZCBkLnRzIGZpbGVzXHJcbi8qKlxyXG4gKiBDb21wb25lbnQgdG8gZGlzcGxheSB0aGUgY3VycmVudCByb3V0ZSB0aGUgdXNlciBpcyBhdC5cclxuICovXHJcbmNvbnN0IFJvdXRlclZpZXcgPSBSb3V0ZXJWaWV3SW1wbDtcclxuLy8gd2FybiBhZ2FpbnN0IGRlcHJlY2F0ZWQgdXNhZ2Ugd2l0aCA8dHJhbnNpdGlvbj4gJiA8a2VlcC1hbGl2ZT5cclxuLy8gZHVlIHRvIGZ1bmN0aW9uYWwgY29tcG9uZW50IGJlaW5nIG5vIGxvbmdlciBlYWdlciBpbiBWdWUgM1xyXG5mdW5jdGlvbiB3YXJuRGVwcmVjYXRlZFVzYWdlKCkge1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgIGNvbnN0IHBhcmVudE5hbWUgPSBpbnN0YW5jZS5wYXJlbnQgJiYgaW5zdGFuY2UucGFyZW50LnR5cGUubmFtZTtcclxuICAgIGlmIChwYXJlbnROYW1lICYmXHJcbiAgICAgICAgKHBhcmVudE5hbWUgPT09ICdLZWVwQWxpdmUnIHx8IHBhcmVudE5hbWUuaW5jbHVkZXMoJ1RyYW5zaXRpb24nKSkpIHtcclxuICAgICAgICBjb25zdCBjb21wID0gcGFyZW50TmFtZSA9PT0gJ0tlZXBBbGl2ZScgPyAna2VlcC1hbGl2ZScgOiAndHJhbnNpdGlvbic7XHJcbiAgICAgICAgd2FybihgPHJvdXRlci12aWV3PiBjYW4gbm8gbG9uZ2VyIGJlIHVzZWQgZGlyZWN0bHkgaW5zaWRlIDx0cmFuc2l0aW9uPiBvciA8a2VlcC1hbGl2ZT4uXFxuYCArXHJcbiAgICAgICAgICAgIGBVc2Ugc2xvdCBwcm9wcyBpbnN0ZWFkOlxcblxcbmAgK1xyXG4gICAgICAgICAgICBgPHJvdXRlci12aWV3IHYtc2xvdD1cInsgQ29tcG9uZW50IH1cIj5cXG5gICtcclxuICAgICAgICAgICAgYCAgPCR7Y29tcH0+XFxuYCArXHJcbiAgICAgICAgICAgIGAgICAgPGNvbXBvbmVudCA6aXM9XCJDb21wb25lbnRcIiAvPlxcbmAgK1xyXG4gICAgICAgICAgICBgICA8LyR7Y29tcH0+XFxuYCArXHJcbiAgICAgICAgICAgIGA8L3JvdXRlci12aWV3PmApO1xyXG4gICAgfVxyXG59XG5cbnZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9O1xuXG5mdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgYmFzZWRpciwgbW9kdWxlKSB7XG5cdHJldHVybiBtb2R1bGUgPSB7XG5cdFx0cGF0aDogYmFzZWRpcixcblx0XHRleHBvcnRzOiB7fSxcblx0XHRyZXF1aXJlOiBmdW5jdGlvbiAocGF0aCwgYmFzZSkge1xuXHRcdFx0cmV0dXJuIGNvbW1vbmpzUmVxdWlyZShwYXRoLCAoYmFzZSA9PT0gdW5kZWZpbmVkIHx8IGJhc2UgPT09IG51bGwpID8gbW9kdWxlLnBhdGggOiBiYXNlKTtcblx0XHR9XG5cdH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbn1cblxuZnVuY3Rpb24gY29tbW9uanNSZXF1aXJlICgpIHtcblx0dGhyb3cgbmV3IEVycm9yKCdEeW5hbWljIHJlcXVpcmVzIGFyZSBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSBAcm9sbHVwL3BsdWdpbi1jb21tb25qcycpO1xufVxuXG52YXIgZW52ID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ob29rID0gZXhwb3J0cy50YXJnZXQgPSBleHBvcnRzLmlzQnJvd3NlciA9IHZvaWQgMDtcbmV4cG9ydHMuaXNCcm93c2VyID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCc7XG5leHBvcnRzLnRhcmdldCA9IGV4cG9ydHMuaXNCcm93c2VyXG4gICAgPyB3aW5kb3dcbiAgICA6IHR5cGVvZiBjb21tb25qc0dsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBjb21tb25qc0dsb2JhbFxuICAgICAgICA6IHt9O1xuZXhwb3J0cy5ob29rID0gZXhwb3J0cy50YXJnZXQuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztcblxufSk7XG5cbnZhciBfY29uc3QgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFwaUhvb2tFdmVudHMgPSB2b2lkIDA7XG52YXIgQXBpSG9va0V2ZW50cztcbihmdW5jdGlvbiAoQXBpSG9va0V2ZW50cykge1xuICAgIEFwaUhvb2tFdmVudHNbXCJTRVRVUF9ERVZUT09MU19QTFVHSU5cIl0gPSBcImRldnRvb2xzLXBsdWdpbjpzZXR1cFwiO1xufSkoQXBpSG9va0V2ZW50cyA9IGV4cG9ydHMuQXBpSG9va0V2ZW50cyB8fCAoZXhwb3J0cy5BcGlIb29rRXZlbnRzID0ge30pKTtcblxufSk7XG5cbnZhciBhcGkgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pO1xuXG52YXIgYXBwID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KTtcblxudmFyIGNvbXBvbmVudCA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcblxufSk7XG5cbnZhciBjb250ZXh0ID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KTtcblxudmFyIGhvb2tzID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Ib29rcyA9IHZvaWQgMDtcbnZhciBIb29rcztcbihmdW5jdGlvbiAoSG9va3MpIHtcbiAgICBIb29rc1tcIlRSQU5TRk9STV9DQUxMXCJdID0gXCJ0cmFuc2Zvcm1DYWxsXCI7XG4gICAgSG9va3NbXCJHRVRfQVBQX1JFQ09SRF9OQU1FXCJdID0gXCJnZXRBcHBSZWNvcmROYW1lXCI7XG4gICAgSG9va3NbXCJHRVRfQVBQX1JPT1RfSU5TVEFOQ0VcIl0gPSBcImdldEFwcFJvb3RJbnN0YW5jZVwiO1xuICAgIEhvb2tzW1wiUkVHSVNURVJfQVBQTElDQVRJT05cIl0gPSBcInJlZ2lzdGVyQXBwbGljYXRpb25cIjtcbiAgICBIb29rc1tcIldBTEtfQ09NUE9ORU5UX1RSRUVcIl0gPSBcIndhbGtDb21wb25lbnRUcmVlXCI7XG4gICAgSG9va3NbXCJXQUxLX0NPTVBPTkVOVF9QQVJFTlRTXCJdID0gXCJ3YWxrQ29tcG9uZW50UGFyZW50c1wiO1xuICAgIEhvb2tzW1wiSU5TUEVDVF9DT01QT05FTlRcIl0gPSBcImluc3BlY3RDb21wb25lbnRcIjtcbiAgICBIb29rc1tcIkdFVF9DT01QT05FTlRfQk9VTkRTXCJdID0gXCJnZXRDb21wb25lbnRCb3VuZHNcIjtcbiAgICBIb29rc1tcIkdFVF9DT01QT05FTlRfTkFNRVwiXSA9IFwiZ2V0Q29tcG9uZW50TmFtZVwiO1xuICAgIEhvb2tzW1wiR0VUX0VMRU1FTlRfQ09NUE9ORU5UXCJdID0gXCJnZXRFbGVtZW50Q29tcG9uZW50XCI7XG4gICAgSG9va3NbXCJHRVRfSU5TUEVDVE9SX1RSRUVcIl0gPSBcImdldEluc3BlY3RvclRyZWVcIjtcbiAgICBIb29rc1tcIkdFVF9JTlNQRUNUT1JfU1RBVEVcIl0gPSBcImdldEluc3BlY3RvclN0YXRlXCI7XG59KShIb29rcyA9IGV4cG9ydHMuSG9va3MgfHwgKGV4cG9ydHMuSG9va3MgPSB7fSkpO1xuXG59KTtcblxudmFyIGFwaSQxID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xudmFyIF9fY3JlYXRlQmluZGluZyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0U3RhcihhcGksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKGFwcCwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIoY29tcG9uZW50LCBleHBvcnRzKTtcbl9fZXhwb3J0U3Rhcihjb250ZXh0LCBleHBvcnRzKTtcbl9fZXhwb3J0U3Rhcihob29rcywgZXhwb3J0cyk7XG5cbn0pO1xuXG52YXIgbGliID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xudmFyIF9fY3JlYXRlQmluZGluZyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2V0dXBEZXZ0b29sc1BsdWdpbiA9IHZvaWQgMDtcblxuXG5fX2V4cG9ydFN0YXIoYXBpJDEsIGV4cG9ydHMpO1xuZnVuY3Rpb24gc2V0dXBEZXZ0b29sc1BsdWdpbihwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuKSB7XG4gICAgaWYgKGVudi5ob29rKSB7XG4gICAgICAgIGVudi5ob29rLmVtaXQoX2NvbnN0LkFwaUhvb2tFdmVudHMuU0VUVVBfREVWVE9PTFNfUExVR0lOLCBwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGxpc3QgPSBlbnYudGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX1BMVUdJTlNfXyA9IGVudi50YXJnZXQuX19WVUVfREVWVE9PTFNfUExVR0lOU19fIHx8IFtdO1xuICAgICAgICBsaXN0LnB1c2goe1xuICAgICAgICAgICAgcGx1Z2luRGVzY3JpcHRvcixcbiAgICAgICAgICAgIHNldHVwRm5cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5zZXR1cERldnRvb2xzUGx1Z2luID0gc2V0dXBEZXZ0b29sc1BsdWdpbjtcblxufSk7XG5cbmZ1bmN0aW9uIGZvcm1hdFJvdXRlTG9jYXRpb24ocm91dGVMb2NhdGlvbiwgdG9vbHRpcCkge1xyXG4gICAgY29uc3QgY29weSA9IHtcclxuICAgICAgICAuLi5yb3V0ZUxvY2F0aW9uLFxyXG4gICAgICAgIC8vIHJlbW92ZSB2YXJpYWJsZXMgdGhhdCBjYW4gY29udGFpbiB2dWUgaW5zdGFuY2VzXHJcbiAgICAgICAgbWF0Y2hlZDogcm91dGVMb2NhdGlvbi5tYXRjaGVkLm1hcCgoeyBpbnN0YW5jZXMsIGNoaWxkcmVuLCBhbGlhc09mLCAuLi5yZXN0IH0pID0+IHJlc3QpLFxyXG4gICAgfTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgX2N1c3RvbToge1xyXG4gICAgICAgICAgICB0eXBlOiBudWxsLFxyXG4gICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgZGlzcGxheTogcm91dGVMb2NhdGlvbi5mdWxsUGF0aCxcclxuICAgICAgICAgICAgdG9vbHRpcCxcclxuICAgICAgICAgICAgdmFsdWU6IGNvcHksXHJcbiAgICAgICAgfSxcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZm9ybWF0RGlzcGxheShkaXNwbGF5KSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIF9jdXN0b206IHtcclxuICAgICAgICAgICAgZGlzcGxheSxcclxuICAgICAgICB9LFxyXG4gICAgfTtcclxufVxyXG4vLyB0byBzdXBwb3J0IG11bHRpcGxlIHJvdXRlciBpbnN0YW5jZXNcclxubGV0IHJvdXRlcklkID0gMDtcclxuZnVuY3Rpb24gYWRkRGV2dG9vbHMoYXBwLCByb3V0ZXIsIG1hdGNoZXIpIHtcclxuICAgIC8vIFRha2Ugb3ZlciByb3V0ZXIuYmVmb3JlRWFjaCBhbmQgYWZ0ZXJFYWNoXHJcbiAgICAvLyBpbmNyZW1lbnQgdG8gc3VwcG9ydCBtdWx0aXBsZSByb3V0ZXIgaW5zdGFuY2VzXHJcbiAgICBjb25zdCBpZCA9IHJvdXRlcklkKys7XHJcbiAgICBsaWIuc2V0dXBEZXZ0b29sc1BsdWdpbih7XHJcbiAgICAgICAgaWQ6ICdSb3V0ZXInICsgaWQgPyAnICcgKyBpZCA6ICcnLFxyXG4gICAgICAgIGxhYmVsOiAnUm91dGVyIGRldnRvb2xzJyxcclxuICAgICAgICBhcHAsXHJcbiAgICB9LCBhcGkgPT4ge1xyXG4gICAgICAgIGFwaS5vbi5pbnNwZWN0Q29tcG9uZW50KChwYXlsb2FkLCBjdHgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBheWxvYWQuaW5zdGFuY2VEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUm91dGluZycsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnJHJvdXRlJyxcclxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZvcm1hdFJvdXRlTG9jYXRpb24ocm91dGVyLmN1cnJlbnRSb3V0ZS52YWx1ZSwgJ0N1cnJlbnQgUm91dGUnKSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2F0Y2gocm91dGVyLmN1cnJlbnRSb3V0ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uc0xheWVySWQgPSAncm91dGVyOm5hdmlnYXRpb25zOicgKyBpZDtcclxuICAgICAgICBhcGkuYWRkVGltZWxpbmVMYXllcih7XHJcbiAgICAgICAgICAgIGlkOiBuYXZpZ2F0aW9uc0xheWVySWQsXHJcbiAgICAgICAgICAgIGxhYmVsOiBgUm91dGVyJHtpZCA/ICcgJyArIGlkIDogJyd9IE5hdmlnYXRpb25zYCxcclxuICAgICAgICAgICAgY29sb3I6IDB4NDBhOGM0LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGNvbnN0IGVycm9yc0xheWVySWQgPSAncm91dGVyOmVycm9ycydcclxuICAgICAgICAvLyBhcGkuYWRkVGltZWxpbmVMYXllcih7XHJcbiAgICAgICAgLy8gICBpZDogZXJyb3JzTGF5ZXJJZCxcclxuICAgICAgICAvLyAgIGxhYmVsOiAnUm91dGVyIEVycm9ycycsXHJcbiAgICAgICAgLy8gICBjb2xvcjogMHhlYTU0NTUsXHJcbiAgICAgICAgLy8gfSlcclxuICAgICAgICByb3V0ZXIub25FcnJvcihlcnJvciA9PiB7XHJcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgIGxheWVySWQ6IG5hdmlnYXRpb25zTGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGxvZ1R5cGU6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZTogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGVycm9yIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIGd1YXJkOiBmb3JtYXREaXNwbGF5KCdiZWZvcmVFYWNoJyksXHJcbiAgICAgICAgICAgICAgICBmcm9tOiBmb3JtYXRSb3V0ZUxvY2F0aW9uKGZyb20sICdDdXJyZW50IExvY2F0aW9uIGR1cmluZyB0aGlzIG5hdmlnYXRpb24nKSxcclxuICAgICAgICAgICAgICAgIHRvOiBmb3JtYXRSb3V0ZUxvY2F0aW9uKHRvLCAnVGFyZ2V0IGxvY2F0aW9uJyksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgIGxheWVySWQ6IG5hdmlnYXRpb25zTGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZTogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgICAgICBtZXRhOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcm91dGVyLmFmdGVyRWFjaCgodG8sIGZyb20sIGZhaWx1cmUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIGd1YXJkOiBmb3JtYXREaXNwbGF5KCdhZnRlckVhY2gnKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKGZhaWx1cmUpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEuZmFpbHVyZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBfY3VzdG9tOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmFpbHVyZSA/IGZhaWx1cmUubWVzc2FnZSA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnTmF2aWdhdGlvbiBGYWlsdXJlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZhaWx1cmUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBkYXRhLnN0YXR1cyA9IGZvcm1hdERpc3BsYXkoJ+KdjCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGF0YS5zdGF0dXMgPSBmb3JtYXREaXNwbGF5KCfinIUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB3ZSBzZXQgaGVyZSB0byBoYXZlIHRoZSByaWdodCBvcmRlclxyXG4gICAgICAgICAgICBkYXRhLmZyb20gPSBmb3JtYXRSb3V0ZUxvY2F0aW9uKGZyb20sICdDdXJyZW50IExvY2F0aW9uIGR1cmluZyB0aGlzIG5hdmlnYXRpb24nKTtcclxuICAgICAgICAgICAgZGF0YS50byA9IGZvcm1hdFJvdXRlTG9jYXRpb24odG8sICdUYXJnZXQgbG9jYXRpb24nKTtcclxuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xyXG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogbmF2aWdhdGlvbnNMYXllcklkLFxyXG4gICAgICAgICAgICAgICAgZXZlbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGxvZ1R5cGU6IGZhaWx1cmUgPyAnd2FybmluZycgOiAnZGVmYXVsdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0YToge30sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCByb3V0ZXJJbnNwZWN0b3JJZCA9ICdyb3V0ZXItaW5zcGVjdG9yOicgKyBpZDtcclxuICAgICAgICBhcGkuYWRkSW5zcGVjdG9yKHtcclxuICAgICAgICAgICAgaWQ6IHJvdXRlckluc3BlY3RvcklkLFxyXG4gICAgICAgICAgICBsYWJlbDogJ1JvdXRlcycgKyAoaWQgPyAnICcgKyBpZCA6ICcnKSxcclxuICAgICAgICAgICAgaWNvbjogJ2Jvb2snLFxyXG4gICAgICAgICAgICB0cmVlRmlsdGVyUGxhY2Vob2xkZXI6ICdTZWFyY2ggcm91dGVzJyxcclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkub24uZ2V0SW5zcGVjdG9yVHJlZShwYXlsb2FkID0+IHtcclxuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gcm91dGVySW5zcGVjdG9ySWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCByb3V0ZXMgPSBtYXRjaGVyLmdldFJvdXRlcygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuZmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm91dGVzID0gcm91dGVzLmZpbHRlcihyb3V0ZSA9PiAhcm91dGUucGFyZW50ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNhdmUgaXNBY3RpdmUgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNSb3V0ZU1hdGNoaW5nKHJvdXRlLCBwYXlsb2FkLmZpbHRlci50b0xvd2VyQ2FzZSgpKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyByZXNldCBtYXRjaCBzdGF0ZSBpZiBubyBmaWx0ZXIgaXMgcHJvdmlkZWRcclxuICAgICAgICAgICAgICAgIGlmICghcGF5bG9hZC5maWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByb3V0ZXMuZm9yRWFjaChyb3V0ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlLl9fdmRfbWF0Y2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBheWxvYWQucm9vdE5vZGVzID0gcm91dGVzLm1hcChmb3JtYXRSb3V0ZVJlY29yZEZvckluc3BlY3Rvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkub24uZ2V0SW5zcGVjdG9yU3RhdGUocGF5bG9hZCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IHJvdXRlckluc3BlY3RvcklkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZXMgPSBtYXRjaGVyLmdldFJvdXRlcygpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb3V0ZXMuZmluZChyb3V0ZSA9PiByb3V0ZS5yZWNvcmQucGF0aCA9PT0gcGF5bG9hZC5ub2RlSWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogZm9ybWF0Um91dGVSZWNvcmRNYXRjaGVyRm9yU3RhdGVJbnNwZWN0b3Iocm91dGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIG1vZGlmaWVyRm9yS2V5KGtleSkge1xyXG4gICAgaWYgKGtleS5vcHRpb25hbCkge1xyXG4gICAgICAgIHJldHVybiBrZXkucmVwZWF0YWJsZSA/ICcqJyA6ICc/JztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBrZXkucmVwZWF0YWJsZSA/ICcrJyA6ICcnO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGZvcm1hdFJvdXRlUmVjb3JkTWF0Y2hlckZvclN0YXRlSW5zcGVjdG9yKHJvdXRlKSB7XHJcbiAgICBjb25zdCB7IHJlY29yZCB9ID0gcm91dGU7XHJcbiAgICBjb25zdCBmaWVsZHMgPSBbXHJcbiAgICAgICAgeyBlZGl0YWJsZTogZmFsc2UsIGtleTogJ3BhdGgnLCB2YWx1ZTogcmVjb3JkLnBhdGggfSxcclxuICAgIF07XHJcbiAgICBpZiAocmVjb3JkLm5hbWUgIT0gbnVsbClcclxuICAgICAgICBmaWVsZHMucHVzaCh7XHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAga2V5OiAnbmFtZScsXHJcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQubmFtZSxcclxuICAgICAgICB9KTtcclxuICAgIGZpZWxkcy5wdXNoKHsgZWRpdGFibGU6IGZhbHNlLCBrZXk6ICdyZWdleHAnLCB2YWx1ZTogcm91dGUucmUgfSk7XHJcbiAgICBpZiAocm91dGUua2V5cy5sZW5ndGgpXHJcbiAgICAgICAgZmllbGRzLnB1c2goe1xyXG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGtleTogJ2tleXMnLFxyXG4gICAgICAgICAgICB2YWx1ZToge1xyXG4gICAgICAgICAgICAgICAgX2N1c3RvbToge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogcm91dGUua2V5c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGtleSA9PiBgJHtrZXkubmFtZX0ke21vZGlmaWVyRm9yS2V5KGtleSl9YClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKSxcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnUGFyYW0ga2V5cycsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJvdXRlLmtleXMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgaWYgKHJlY29yZC5yZWRpcmVjdCAhPSBudWxsKVxyXG4gICAgICAgIGZpZWxkcy5wdXNoKHtcclxuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBrZXk6ICdyZWRpcmVjdCcsXHJcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQucmVkaXJlY3QsXHJcbiAgICAgICAgfSk7XHJcbiAgICBpZiAocm91dGUuYWxpYXMubGVuZ3RoKVxyXG4gICAgICAgIGZpZWxkcy5wdXNoKHtcclxuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBrZXk6ICdhbGlhc2VzJyxcclxuICAgICAgICAgICAgdmFsdWU6IHJvdXRlLmFsaWFzLm1hcChhbGlhcyA9PiBhbGlhcy5yZWNvcmQucGF0aCksXHJcbiAgICAgICAgfSk7XHJcbiAgICBmaWVsZHMucHVzaCh7XHJcbiAgICAgICAga2V5OiAnc2NvcmUnLFxyXG4gICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICB2YWx1ZToge1xyXG4gICAgICAgICAgICBfY3VzdG9tOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiByb3V0ZS5zY29yZS5tYXAoc2NvcmUgPT4gc2NvcmUuam9pbignLCAnKSkuam9pbignIHwgJyksXHJcbiAgICAgICAgICAgICAgICB0b29sdGlwOiAnU2NvcmUgdXNlZCB0byBzb3J0IHJvdXRlcycsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogcm91dGUuc2NvcmUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZpZWxkcztcclxufVxyXG5mdW5jdGlvbiBmb3JtYXRSb3V0ZVJlY29yZEZvckluc3BlY3Rvcihyb3V0ZSkge1xyXG4gICAgY29uc3QgdGFncyA9IFtdO1xyXG4gICAgY29uc3QgeyByZWNvcmQgfSA9IHJvdXRlO1xyXG4gICAgaWYgKHJlY29yZC5uYW1lICE9IG51bGwpIHtcclxuICAgICAgICB0YWdzLnB1c2goe1xyXG4gICAgICAgICAgICBsYWJlbDogU3RyaW5nKHJlY29yZC5uYW1lKSxcclxuICAgICAgICAgICAgdGV4dENvbG9yOiAwLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IDB4MDBiY2Q0LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlY29yZC5hbGlhc09mKSB7XHJcbiAgICAgICAgdGFncy5wdXNoKHtcclxuICAgICAgICAgICAgbGFiZWw6ICdhbGlhcycsXHJcbiAgICAgICAgICAgIHRleHRDb2xvcjogMCxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAweGZmOTg0ZixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChyb3V0ZS5fX3ZkX21hdGNoKSB7XHJcbiAgICAgICAgdGFncy5wdXNoKHtcclxuICAgICAgICAgICAgbGFiZWw6ICdtYXRjaGVzJyxcclxuICAgICAgICAgICAgdGV4dENvbG9yOiAwLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IDB4ZjRmNGY0LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlY29yZC5yZWRpcmVjdCkge1xyXG4gICAgICAgIHRhZ3MucHVzaCh7XHJcbiAgICAgICAgICAgIGxhYmVsOiAncmVkaXJlY3Q6ICcgK1xyXG4gICAgICAgICAgICAgICAgKHR5cGVvZiByZWNvcmQucmVkaXJlY3QgPT09ICdzdHJpbmcnID8gcmVjb3JkLnJlZGlyZWN0IDogJ09iamVjdCcpLFxyXG4gICAgICAgICAgICB0ZXh0Q29sb3I6IDB4ZmZmZmZmLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IDB4NjY2NjY2LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpZDogcmVjb3JkLnBhdGgsXHJcbiAgICAgICAgbGFiZWw6IHJlY29yZC5wYXRoLFxyXG4gICAgICAgIHRhZ3MsXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNoaWxkcmVuOiByb3V0ZS5jaGlsZHJlbi5tYXAoZm9ybWF0Um91dGVSZWNvcmRGb3JJbnNwZWN0b3IpLFxyXG4gICAgfTtcclxufVxyXG5jb25zdCBFWFRSQUNUX1JFR0VYUF9SRSA9IC9eXFwvKC4qKVxcLyhbYS16XSopJC87XHJcbmZ1bmN0aW9uIGlzUm91dGVNYXRjaGluZyhyb3V0ZSwgZmlsdGVyKSB7XHJcbiAgICBjb25zdCBmb3VuZCA9IFN0cmluZyhyb3V0ZS5yZSkubWF0Y2goRVhUUkFDVF9SRUdFWFBfUkUpO1xyXG4gICAgcm91dGUuX192ZF9tYXRjaCA9IGZhbHNlO1xyXG4gICAgaWYgKCFmb3VuZCB8fCBmb3VuZC5sZW5ndGggPCAzKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIC8vIHVzZSBhIHJlZ2V4cCB3aXRob3V0ICQgYXQgdGhlIGVuZCB0byBtYXRjaCBuZXN0ZWQgcm91dGVzIGJldHRlclxyXG4gICAgY29uc3Qgbm9uRW5kaW5nUkUgPSBuZXcgUmVnRXhwKGZvdW5kWzFdLnJlcGxhY2UoL1xcJCQvLCAnJyksIGZvdW5kWzJdKTtcclxuICAgIGlmIChub25FbmRpbmdSRS50ZXN0KGZpbHRlcikpIHtcclxuICAgICAgICAvLyBtYXJrIGNoaWxkcmVuIGFzIG1hdGNoZXNcclxuICAgICAgICByb3V0ZS5jaGlsZHJlbi5zb21lKGNoaWxkID0+IGlzUm91dGVNYXRjaGluZyhjaGlsZCwgZmlsdGVyKSk7XHJcbiAgICAgICAgLy8gZXhjZXB0aW9uIGNhc2U6IGAvYFxyXG4gICAgICAgIGlmIChyb3V0ZS5yZWNvcmQucGF0aCAhPT0gJy8nIHx8IGZpbHRlciA9PT0gJy8nKSB7XHJcbiAgICAgICAgICAgIHJvdXRlLl9fdmRfbWF0Y2ggPSByb3V0ZS5yZS50ZXN0KGZpbHRlcik7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBoaWRlIHRoZSAvIHJvdXRlXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcGF0aCA9IHJvdXRlLnJlY29yZC5wYXRoLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBjb25zdCBkZWNvZGVkUGF0aCA9IGRlY29kZShwYXRoKTtcclxuICAgIC8vIGFsc28gYWxsb3cgcGFydGlhbCBtYXRjaGluZyBvbiB0aGUgcGF0aFxyXG4gICAgaWYgKCFmaWx0ZXIuc3RhcnRzV2l0aCgnLycpICYmXHJcbiAgICAgICAgKGRlY29kZWRQYXRoLmluY2x1ZGVzKGZpbHRlcikgfHwgcGF0aC5pbmNsdWRlcyhmaWx0ZXIpKSlcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIGlmIChkZWNvZGVkUGF0aC5zdGFydHNXaXRoKGZpbHRlcikgfHwgcGF0aC5zdGFydHNXaXRoKGZpbHRlcikpXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICBpZiAocm91dGUucmVjb3JkLm5hbWUgJiYgU3RyaW5nKHJvdXRlLnJlY29yZC5uYW1lKS5pbmNsdWRlcyhmaWx0ZXIpKVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgcmV0dXJuIHJvdXRlLmNoaWxkcmVuLnNvbWUoY2hpbGQgPT4gaXNSb3V0ZU1hdGNoaW5nKGNoaWxkLCBmaWx0ZXIpKTtcclxufVxuXG4vKipcclxuICogQ3JlYXRlcyBhIFJvdXRlciBpbnN0YW5jZSB0aGF0IGNhbiBiZSB1c2VkIGJ5IGEgVnVlIGFwcC5cclxuICpcclxuICogQHBhcmFtIG9wdGlvbnMgLSB7QGxpbmsgUm91dGVyT3B0aW9uc31cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlcihvcHRpb25zKSB7XHJcbiAgICBjb25zdCBtYXRjaGVyID0gY3JlYXRlUm91dGVyTWF0Y2hlcihvcHRpb25zLnJvdXRlcywgb3B0aW9ucyk7XHJcbiAgICBsZXQgcGFyc2VRdWVyeSQxID0gb3B0aW9ucy5wYXJzZVF1ZXJ5IHx8IHBhcnNlUXVlcnk7XHJcbiAgICBsZXQgc3RyaW5naWZ5UXVlcnkkMSA9IG9wdGlvbnMuc3RyaW5naWZ5UXVlcnkgfHwgc3RyaW5naWZ5UXVlcnk7XHJcbiAgICBsZXQgeyBzY3JvbGxCZWhhdmlvciB9ID0gb3B0aW9ucztcclxuICAgIGxldCByb3V0ZXJIaXN0b3J5ID0gb3B0aW9ucy5oaXN0b3J5O1xyXG4gICAgY29uc3QgYmVmb3JlR3VhcmRzID0gdXNlQ2FsbGJhY2tzKCk7XHJcbiAgICBjb25zdCBiZWZvcmVSZXNvbHZlR3VhcmRzID0gdXNlQ2FsbGJhY2tzKCk7XHJcbiAgICBjb25zdCBhZnRlckd1YXJkcyA9IHVzZUNhbGxiYWNrcygpO1xyXG4gICAgY29uc3QgY3VycmVudFJvdXRlID0gc2hhbGxvd1JlZihTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEKTtcclxuICAgIGxldCBwZW5kaW5nTG9jYXRpb24gPSBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEO1xyXG4gICAgLy8gbGVhdmUgdGhlIHNjcm9sbFJlc3RvcmF0aW9uIGlmIG5vIHNjcm9sbEJlaGF2aW9yIGlzIHByb3ZpZGVkXHJcbiAgICBpZiAoaXNCcm93c2VyICYmIHNjcm9sbEJlaGF2aW9yICYmICdzY3JvbGxSZXN0b3JhdGlvbicgaW4gaGlzdG9yeSkge1xyXG4gICAgICAgIGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSAnbWFudWFsJztcclxuICAgIH1cclxuICAgIGNvbnN0IG5vcm1hbGl6ZVBhcmFtcyA9IGFwcGx5VG9QYXJhbXMuYmluZChudWxsLCBwYXJhbVZhbHVlID0+ICcnICsgcGFyYW1WYWx1ZSk7XHJcbiAgICBjb25zdCBlbmNvZGVQYXJhbXMgPSBhcHBseVRvUGFyYW1zLmJpbmQobnVsbCwgZW5jb2RlUGFyYW0pO1xyXG4gICAgY29uc3QgZGVjb2RlUGFyYW1zID0gYXBwbHlUb1BhcmFtcy5iaW5kKG51bGwsIGRlY29kZSk7XHJcbiAgICBmdW5jdGlvbiBhZGRSb3V0ZShwYXJlbnRPclJvdXRlLCByb3V0ZSkge1xyXG4gICAgICAgIGxldCBwYXJlbnQ7XHJcbiAgICAgICAgbGV0IHJlY29yZDtcclxuICAgICAgICBpZiAoaXNSb3V0ZU5hbWUocGFyZW50T3JSb3V0ZSkpIHtcclxuICAgICAgICAgICAgcGFyZW50ID0gbWF0Y2hlci5nZXRSZWNvcmRNYXRjaGVyKHBhcmVudE9yUm91dGUpO1xyXG4gICAgICAgICAgICByZWNvcmQgPSByb3V0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlY29yZCA9IHBhcmVudE9yUm91dGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtYXRjaGVyLmFkZFJvdXRlKHJlY29yZCwgcGFyZW50KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVJvdXRlKG5hbWUpIHtcclxuICAgICAgICBsZXQgcmVjb3JkTWF0Y2hlciA9IG1hdGNoZXIuZ2V0UmVjb3JkTWF0Y2hlcihuYW1lKTtcclxuICAgICAgICBpZiAocmVjb3JkTWF0Y2hlcikge1xyXG4gICAgICAgICAgICBtYXRjaGVyLnJlbW92ZVJvdXRlKHJlY29yZE1hdGNoZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybihgQ2Fubm90IHJlbW92ZSBub24tZXhpc3RlbnQgcm91dGUgXCIke1N0cmluZyhuYW1lKX1cImApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldFJvdXRlcygpIHtcclxuICAgICAgICByZXR1cm4gbWF0Y2hlci5nZXRSb3V0ZXMoKS5tYXAocm91dGVNYXRjaGVyID0+IHJvdXRlTWF0Y2hlci5yZWNvcmQpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaGFzUm91dGUobmFtZSkge1xyXG4gICAgICAgIHJldHVybiAhIW1hdGNoZXIuZ2V0UmVjb3JkTWF0Y2hlcihuYW1lKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlc29sdmUocmF3TG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbikge1xyXG4gICAgICAgIC8vIGNvbnN0IG9iamVjdExvY2F0aW9uID0gcm91dGVyTG9jYXRpb25Bc09iamVjdChyYXdMb2NhdGlvbilcclxuICAgICAgICAvLyB3ZSBjcmVhdGUgYSBjb3B5IHRvIG1vZGlmeSBpdCBsYXRlclxyXG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbiA9IGFzc2lnbih7fSwgY3VycmVudExvY2F0aW9uIHx8IGN1cnJlbnRSb3V0ZS52YWx1ZSk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiByYXdMb2NhdGlvbiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgbGV0IGxvY2F0aW9uTm9ybWFsaXplZCA9IHBhcnNlVVJMKHBhcnNlUXVlcnkkMSwgcmF3TG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbi5wYXRoKTtcclxuICAgICAgICAgICAgbGV0IG1hdGNoZWRSb3V0ZSA9IG1hdGNoZXIucmVzb2x2ZSh7IHBhdGg6IGxvY2F0aW9uTm9ybWFsaXplZC5wYXRoIH0sIGN1cnJlbnRMb2NhdGlvbik7XHJcbiAgICAgICAgICAgIGxldCBocmVmID0gcm91dGVySGlzdG9yeS5jcmVhdGVIcmVmKGxvY2F0aW9uTm9ybWFsaXplZC5mdWxsUGF0aCk7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChocmVmLnN0YXJ0c1dpdGgoJy8vJykpXHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgTG9jYXRpb24gXCIke3Jhd0xvY2F0aW9ufVwiIHJlc29sdmVkIHRvIFwiJHtocmVmfVwiLiBBIHJlc29sdmVkIGxvY2F0aW9uIGNhbm5vdCBzdGFydCB3aXRoIG11bHRpcGxlIHNsYXNoZXMuYCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghbWF0Y2hlZFJvdXRlLm1hdGNoZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgTm8gbWF0Y2ggZm91bmQgZm9yIGxvY2F0aW9uIHdpdGggcGF0aCBcIiR7cmF3TG9jYXRpb259XCJgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBsb2NhdGlvbk5vcm1hbGl6ZWQgaXMgYWx3YXlzIGEgbmV3IG9iamVjdFxyXG4gICAgICAgICAgICByZXR1cm4gYXNzaWduKGxvY2F0aW9uTm9ybWFsaXplZCwgbWF0Y2hlZFJvdXRlLCB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGRlY29kZVBhcmFtcyhtYXRjaGVkUm91dGUucGFyYW1zKSxcclxuICAgICAgICAgICAgICAgIGhhc2g6IGRlY29kZShsb2NhdGlvbk5vcm1hbGl6ZWQuaGFzaCksXHJcbiAgICAgICAgICAgICAgICByZWRpcmVjdGVkRnJvbTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgaHJlZixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtYXRjaGVyTG9jYXRpb247XHJcbiAgICAgICAgLy8gcGF0aCBjb3VsZCBiZSByZWxhdGl2ZSBpbiBvYmplY3QgYXMgd2VsbFxyXG4gICAgICAgIGlmICgncGF0aCcgaW4gcmF3TG9jYXRpb24pIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgJ3BhcmFtcycgaW4gcmF3TG9jYXRpb24gJiZcclxuICAgICAgICAgICAgICAgICEoJ25hbWUnIGluIHJhd0xvY2F0aW9uKSAmJlxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocmF3TG9jYXRpb24ucGFyYW1zKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFBhdGggXCIke3Jhd0xvY2F0aW9uLnBhdGh9XCIgd2FzIHBhc3NlZCB3aXRoIHBhcmFtcyBidXQgdGhleSB3aWxsIGJlIGlnbm9yZWQuIFVzZSBhIG5hbWVkIHJvdXRlIGFsb25nc2lkZSBwYXJhbXMgaW5zdGVhZC5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXRjaGVyTG9jYXRpb24gPSBhc3NpZ24oe30sIHJhd0xvY2F0aW9uLCB7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBwYXJzZVVSTChwYXJzZVF1ZXJ5JDEsIHJhd0xvY2F0aW9uLnBhdGgsIGN1cnJlbnRMb2NhdGlvbi5wYXRoKS5wYXRoLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHBhc3MgZW5jb2RlZCB2YWx1ZXMgdG8gdGhlIG1hdGNoZXIgc28gaXQgY2FuIHByb2R1Y2UgZW5jb2RlZCBwYXRoIGFuZCBmdWxsUGF0aFxyXG4gICAgICAgICAgICBtYXRjaGVyTG9jYXRpb24gPSBhc3NpZ24oe30sIHJhd0xvY2F0aW9uLCB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGVuY29kZVBhcmFtcyhyYXdMb2NhdGlvbi5wYXJhbXMpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gY3VycmVudCBsb2NhdGlvbiBwYXJhbXMgYXJlIGRlY29kZWQsIHdlIG5lZWQgdG8gZW5jb2RlIHRoZW0gaW4gY2FzZSB0aGVcclxuICAgICAgICAgICAgLy8gbWF0Y2hlciBtZXJnZXMgdGhlIHBhcmFtc1xyXG4gICAgICAgICAgICBjdXJyZW50TG9jYXRpb24ucGFyYW1zID0gZW5jb2RlUGFyYW1zKGN1cnJlbnRMb2NhdGlvbi5wYXJhbXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbWF0Y2hlZFJvdXRlID0gbWF0Y2hlci5yZXNvbHZlKG1hdGNoZXJMb2NhdGlvbiwgY3VycmVudExvY2F0aW9uKTtcclxuICAgICAgICBjb25zdCBoYXNoID0gcmF3TG9jYXRpb24uaGFzaCB8fCAnJztcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhhc2ggJiYgIWhhc2guc3RhcnRzV2l0aCgnIycpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEEgXFxgaGFzaFxcYCBzaG91bGQgYWx3YXlzIHN0YXJ0IHdpdGggdGhlIGNoYXJhY3RlciBcIiNcIi4gUmVwbGFjZSBcIiR7aGFzaH1cIiB3aXRoIFwiIyR7aGFzaH1cIi5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZGVjb2RpbmcgdGhlbSkgdGhlIG1hdGNoZXIgbWlnaHQgaGF2ZSBtZXJnZWQgY3VycmVudCBsb2NhdGlvbiBwYXJhbXMgc29cclxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHJ1biB0aGUgZGVjb2RpbmcgYWdhaW5cclxuICAgICAgICBtYXRjaGVkUm91dGUucGFyYW1zID0gbm9ybWFsaXplUGFyYW1zKGRlY29kZVBhcmFtcyhtYXRjaGVkUm91dGUucGFyYW1zKSk7XHJcbiAgICAgICAgY29uc3QgZnVsbFBhdGggPSBzdHJpbmdpZnlVUkwoc3RyaW5naWZ5UXVlcnkkMSwgYXNzaWduKHt9LCByYXdMb2NhdGlvbiwge1xyXG4gICAgICAgICAgICBoYXNoOiBlbmNvZGVIYXNoKGhhc2gpLFxyXG4gICAgICAgICAgICBwYXRoOiBtYXRjaGVkUm91dGUucGF0aCxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgbGV0IGhyZWYgPSByb3V0ZXJIaXN0b3J5LmNyZWF0ZUhyZWYoZnVsbFBhdGgpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgaWYgKGhyZWYuc3RhcnRzV2l0aCgnLy8nKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgTG9jYXRpb24gXCIke3Jhd0xvY2F0aW9ufVwiIHJlc29sdmVkIHRvIFwiJHtocmVmfVwiLiBBIHJlc29sdmVkIGxvY2F0aW9uIGNhbm5vdCBzdGFydCB3aXRoIG11bHRpcGxlIHNsYXNoZXMuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIW1hdGNoZWRSb3V0ZS5tYXRjaGVkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgTm8gbWF0Y2ggZm91bmQgZm9yIGxvY2F0aW9uIHdpdGggcGF0aCBcIiR7J3BhdGgnIGluIHJhd0xvY2F0aW9uID8gcmF3TG9jYXRpb24ucGF0aCA6IHJhd0xvY2F0aW9ufVwiYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFzc2lnbih7XHJcbiAgICAgICAgICAgIGZ1bGxQYXRoLFxyXG4gICAgICAgICAgICAvLyBrZWVwIHRoZSBoYXNoIGVuY29kZWQgc28gZnVsbFBhdGggaXMgZWZmZWN0aXZlbHkgcGF0aCArIGVuY29kZWRRdWVyeSArXHJcbiAgICAgICAgICAgIC8vIGhhc2hcclxuICAgICAgICAgICAgaGFzaCxcclxuICAgICAgICAgICAgcXVlcnk6IFxyXG4gICAgICAgICAgICAvLyBpZiB0aGUgdXNlciBpcyB1c2luZyBhIGN1c3RvbSBxdWVyeSBsaWIgbGlrZSBxcywgd2UgbWlnaHQgaGF2ZVxyXG4gICAgICAgICAgICAvLyBuZXN0ZWQgb2JqZWN0cywgc28gd2Uga2VlcCB0aGUgcXVlcnkgYXMgaXMsIG1lYW5pbmcgaXQgY2FuIGNvbnRhaW5cclxuICAgICAgICAgICAgLy8gbnVtYmVycyBhdCBgJHJvdXRlLnF1ZXJ5YCwgYnV0IGF0IHRoZSBwb2ludCwgdGhlIHVzZXIgd2lsbCBoYXZlIHRvXHJcbiAgICAgICAgICAgIC8vIHVzZSB0aGVpciBvd24gdHlwZSBhbnl3YXkuXHJcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUtcm91dGVyLW5leHQvaXNzdWVzLzMyOCNpc3N1ZWNvbW1lbnQtNjQ5NDgxNTY3XHJcbiAgICAgICAgICAgIHN0cmluZ2lmeVF1ZXJ5JDEgPT09IHN0cmluZ2lmeVF1ZXJ5XHJcbiAgICAgICAgICAgICAgICA/IG5vcm1hbGl6ZVF1ZXJ5KHJhd0xvY2F0aW9uLnF1ZXJ5KVxyXG4gICAgICAgICAgICAgICAgOiByYXdMb2NhdGlvbi5xdWVyeSxcclxuICAgICAgICB9LCBtYXRjaGVkUm91dGUsIHtcclxuICAgICAgICAgICAgcmVkaXJlY3RlZEZyb206IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgaHJlZixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGxvY2F0aW9uQXNPYmplY3QodG8pIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIHRvID09PSAnc3RyaW5nJyA/IHsgcGF0aDogdG8gfSA6IGFzc2lnbih7fSwgdG8pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2hlY2tDYW5jZWxlZE5hdmlnYXRpb24odG8sIGZyb20pIHtcclxuICAgICAgICBpZiAocGVuZGluZ0xvY2F0aW9uICE9PSB0bykge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlUm91dGVyRXJyb3IoOCAvKiBOQVZJR0FUSU9OX0NBTkNFTExFRCAqLywge1xyXG4gICAgICAgICAgICAgICAgZnJvbSxcclxuICAgICAgICAgICAgICAgIHRvLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwdXNoKHRvKSB7XHJcbiAgICAgICAgcmV0dXJuIHB1c2hXaXRoUmVkaXJlY3QodG8pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVwbGFjZSh0bykge1xyXG4gICAgICAgIHJldHVybiBwdXNoKGFzc2lnbihsb2NhdGlvbkFzT2JqZWN0KHRvKSwgeyByZXBsYWNlOiB0cnVlIH0pKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGhhbmRsZVJlZGlyZWN0UmVjb3JkKHRvKSB7XHJcbiAgICAgICAgY29uc3QgbGFzdE1hdGNoZWQgPSB0by5tYXRjaGVkW3RvLm1hdGNoZWQubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgaWYgKGxhc3RNYXRjaGVkICYmIGxhc3RNYXRjaGVkLnJlZGlyZWN0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgcmVkaXJlY3QgfSA9IGxhc3RNYXRjaGVkO1xyXG4gICAgICAgICAgICAvLyB0cmFuc2Zvcm0gaXQgaW50byBhbiBvYmplY3QgdG8gcGFzcyB0aGUgb3JpZ2luYWwgUm91dGVMb2NhbGVPcHRpb25zXHJcbiAgICAgICAgICAgIGxldCBuZXdUYXJnZXRMb2NhdGlvbiA9IGxvY2F0aW9uQXNPYmplY3QodHlwZW9mIHJlZGlyZWN0ID09PSAnZnVuY3Rpb24nID8gcmVkaXJlY3QodG8pIDogcmVkaXJlY3QpO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAhKCdwYXRoJyBpbiBuZXdUYXJnZXRMb2NhdGlvbikgJiZcclxuICAgICAgICAgICAgICAgICEoJ25hbWUnIGluIG5ld1RhcmdldExvY2F0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgSW52YWxpZCByZWRpcmVjdCBmb3VuZDpcXG4ke0pTT04uc3RyaW5naWZ5KG5ld1RhcmdldExvY2F0aW9uLCBudWxsLCAyKX1cXG4gd2hlbiBuYXZpZ2F0aW5nIHRvIFwiJHt0by5mdWxsUGF0aH1cIi4gQSByZWRpcmVjdCBtdXN0IGNvbnRhaW4gYSBuYW1lIG9yIHBhdGguIFRoaXMgd2lsbCBicmVhayBpbiBwcm9kdWN0aW9uLmApO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlZGlyZWN0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGFzc2lnbih7XHJcbiAgICAgICAgICAgICAgICBxdWVyeTogdG8ucXVlcnksXHJcbiAgICAgICAgICAgICAgICBoYXNoOiB0by5oYXNoLFxyXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB0by5wYXJhbXMsXHJcbiAgICAgICAgICAgIH0sIG5ld1RhcmdldExvY2F0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwdXNoV2l0aFJlZGlyZWN0KHRvLCByZWRpcmVjdGVkRnJvbSkge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldExvY2F0aW9uID0gKHBlbmRpbmdMb2NhdGlvbiA9IHJlc29sdmUodG8pKTtcclxuICAgICAgICBjb25zdCBmcm9tID0gY3VycmVudFJvdXRlLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0by5zdGF0ZTtcclxuICAgICAgICBjb25zdCBmb3JjZSA9IHRvLmZvcmNlO1xyXG4gICAgICAgIC8vIHRvIGNvdWxkIGJlIGEgc3RyaW5nIHdoZXJlIGByZXBsYWNlYCBpcyBhIGZ1bmN0aW9uXHJcbiAgICAgICAgY29uc3QgcmVwbGFjZSA9IHRvLnJlcGxhY2UgPT09IHRydWU7XHJcbiAgICAgICAgY29uc3Qgc2hvdWxkUmVkaXJlY3QgPSBoYW5kbGVSZWRpcmVjdFJlY29yZCh0YXJnZXRMb2NhdGlvbik7XHJcbiAgICAgICAgaWYgKHNob3VsZFJlZGlyZWN0KVxyXG4gICAgICAgICAgICByZXR1cm4gcHVzaFdpdGhSZWRpcmVjdChhc3NpZ24oc2hvdWxkUmVkaXJlY3QsIHsgc3RhdGU6IGRhdGEsIGZvcmNlLCByZXBsYWNlIH0pLCBcclxuICAgICAgICAgICAgLy8ga2VlcCBvcmlnaW5hbCByZWRpcmVjdGVkRnJvbSBpZiBpdCBleGlzdHNcclxuICAgICAgICAgICAgcmVkaXJlY3RlZEZyb20gfHwgdGFyZ2V0TG9jYXRpb24pO1xyXG4gICAgICAgIC8vIGlmIGl0IHdhcyBhIHJlZGlyZWN0IHdlIGFscmVhZHkgY2FsbGVkIGBwdXNoV2l0aFJlZGlyZWN0YCBhYm92ZVxyXG4gICAgICAgIGNvbnN0IHRvTG9jYXRpb24gPSB0YXJnZXRMb2NhdGlvbjtcclxuICAgICAgICB0b0xvY2F0aW9uLnJlZGlyZWN0ZWRGcm9tID0gcmVkaXJlY3RlZEZyb207XHJcbiAgICAgICAgbGV0IGZhaWx1cmU7XHJcbiAgICAgICAgaWYgKCFmb3JjZSAmJiBpc1NhbWVSb3V0ZUxvY2F0aW9uKHN0cmluZ2lmeVF1ZXJ5JDEsIGZyb20sIHRhcmdldExvY2F0aW9uKSkge1xyXG4gICAgICAgICAgICBmYWlsdXJlID0gY3JlYXRlUm91dGVyRXJyb3IoMTYgLyogTkFWSUdBVElPTl9EVVBMSUNBVEVEICovLCB7IHRvOiB0b0xvY2F0aW9uLCBmcm9tIH0pO1xyXG4gICAgICAgICAgICAvLyB0cmlnZ2VyIHNjcm9sbCB0byBhbGxvdyBzY3JvbGxpbmcgdG8gdGhlIHNhbWUgYW5jaG9yXHJcbiAgICAgICAgICAgIGhhbmRsZVNjcm9sbChmcm9tLCBmcm9tLCBcclxuICAgICAgICAgICAgLy8gdGhpcyBpcyBhIHB1c2gsIHRoZSBvbmx5IHdheSBmb3IgaXQgdG8gYmUgdHJpZ2dlcmVkIGZyb20gYVxyXG4gICAgICAgICAgICAvLyBoaXN0b3J5Lmxpc3RlbiBpcyB3aXRoIGEgcmVkaXJlY3QsIHdoaWNoIG1ha2VzIGl0IGJlY29tZSBhIHB1c2hcclxuICAgICAgICAgICAgdHJ1ZSwgXHJcbiAgICAgICAgICAgIC8vIFRoaXMgY2Fubm90IGJlIHRoZSBmaXJzdCBuYXZpZ2F0aW9uIGJlY2F1c2UgdGhlIGluaXRpYWwgbG9jYXRpb25cclxuICAgICAgICAgICAgLy8gY2Fubm90IGJlIG1hbnVhbGx5IG5hdmlnYXRlZCB0b1xyXG4gICAgICAgICAgICBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoZmFpbHVyZSA/IFByb21pc2UucmVzb2x2ZShmYWlsdXJlKSA6IG5hdmlnYXRlKHRvTG9jYXRpb24sIGZyb20pKVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBpc05hdmlnYXRpb25GYWlsdXJlKGVycm9yKVxyXG4gICAgICAgICAgICA/IGVycm9yXHJcbiAgICAgICAgICAgIDogLy8gcmVqZWN0IGFueSB1bmtub3duIGVycm9yXHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyRXJyb3IoZXJyb3IpKVxyXG4gICAgICAgICAgICAudGhlbigoZmFpbHVyZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZmFpbHVyZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmF2aWdhdGlvbkZhaWx1cmUoZmFpbHVyZSwgMiAvKiBOQVZJR0FUSU9OX0dVQVJEX1JFRElSRUNUICovKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgYXJlIHJlZGlyZWN0aW5nIHRvIHRoZSBzYW1lIGxvY2F0aW9uIHdlIHdlcmUgYWxyZWFkeSBhdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1NhbWVSb3V0ZUxvY2F0aW9uKHN0cmluZ2lmeVF1ZXJ5JDEsIHJlc29sdmUoZmFpbHVyZS50byksIHRvTG9jYXRpb24pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCB3ZSBoYXZlIGRvbmUgaXQgYSBjb3VwbGUgb2YgdGltZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RlZEZyb20gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAocmVkaXJlY3RlZEZyb20uX2NvdW50ID0gcmVkaXJlY3RlZEZyb20uX2NvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdGVkRnJvbS5fY291bnQgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDEpID4gMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgRGV0ZWN0ZWQgYW4gaW5maW5pdGUgcmVkaXJlY3Rpb24gaW4gYSBuYXZpZ2F0aW9uIGd1YXJkIHdoZW4gZ29pbmcgZnJvbSBcIiR7ZnJvbS5mdWxsUGF0aH1cIiB0byBcIiR7dG9Mb2NhdGlvbi5mdWxsUGF0aH1cIi4gQWJvcnRpbmcgdG8gYXZvaWQgYSBTdGFjayBPdmVyZmxvdy4gVGhpcyB3aWxsIGJyZWFrIGluIHByb2R1Y3Rpb24gaWYgbm90IGZpeGVkLmApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbmZpbml0ZSByZWRpcmVjdCBpbiBuYXZpZ2F0aW9uIGd1YXJkJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHVzaFdpdGhSZWRpcmVjdChcclxuICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICBhc3NpZ24obG9jYXRpb25Bc09iamVjdChmYWlsdXJlLnRvKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgfSksIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXNlcnZlIHRoZSBvcmlnaW5hbCByZWRpcmVjdGVkRnJvbSBpZiBhbnlcclxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdGVkRnJvbSB8fCB0b0xvY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGZhaWwgd2UgZG9uJ3QgZmluYWxpemUgdGhlIG5hdmlnYXRpb25cclxuICAgICAgICAgICAgICAgIGZhaWx1cmUgPSBmaW5hbGl6ZU5hdmlnYXRpb24odG9Mb2NhdGlvbiwgZnJvbSwgdHJ1ZSwgcmVwbGFjZSwgZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJpZ2dlckFmdGVyRWFjaCh0b0xvY2F0aW9uLCBmcm9tLCBmYWlsdXJlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhaWx1cmU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciB0byByZWplY3QgYW5kIHNraXAgYWxsIG5hdmlnYXRpb24gZ3VhcmRzIGlmIGEgbmV3IG5hdmlnYXRpb24gaGFwcGVuZWRcclxuICAgICAqIEBwYXJhbSB0b1xyXG4gICAgICogQHBhcmFtIGZyb21cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY2hlY2tDYW5jZWxlZE5hdmlnYXRpb25BbmRSZWplY3QodG8sIGZyb20pIHtcclxuICAgICAgICBjb25zdCBlcnJvciA9IGNoZWNrQ2FuY2VsZWROYXZpZ2F0aW9uKHRvLCBmcm9tKTtcclxuICAgICAgICByZXR1cm4gZXJyb3IgPyBQcm9taXNlLnJlamVjdChlcnJvcikgOiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuICAgIC8vIFRPRE86IHJlZmFjdG9yIHRoZSB3aG9sZSBiZWZvcmUgZ3VhcmRzIGJ5IGludGVybmFsbHkgdXNpbmcgcm91dGVyLmJlZm9yZUVhY2hcclxuICAgIGZ1bmN0aW9uIG5hdmlnYXRlKHRvLCBmcm9tKSB7XHJcbiAgICAgICAgbGV0IGd1YXJkcztcclxuICAgICAgICBjb25zdCBbbGVhdmluZ1JlY29yZHMsIHVwZGF0aW5nUmVjb3JkcywgZW50ZXJpbmdSZWNvcmRzLF0gPSBleHRyYWN0Q2hhbmdpbmdSZWNvcmRzKHRvLCBmcm9tKTtcclxuICAgICAgICAvLyBhbGwgY29tcG9uZW50cyBoZXJlIGhhdmUgYmVlbiByZXNvbHZlZCBvbmNlIGJlY2F1c2Ugd2UgYXJlIGxlYXZpbmdcclxuICAgICAgICBndWFyZHMgPSBleHRyYWN0Q29tcG9uZW50c0d1YXJkcyhsZWF2aW5nUmVjb3Jkcy5yZXZlcnNlKCksICdiZWZvcmVSb3V0ZUxlYXZlJywgdG8sIGZyb20pO1xyXG4gICAgICAgIC8vIGxlYXZpbmdSZWNvcmRzIGlzIGFscmVhZHkgcmV2ZXJzZWRcclxuICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiBsZWF2aW5nUmVjb3Jkcykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGd1YXJkIG9mIHJlY29yZC5sZWF2ZUd1YXJkcykge1xyXG4gICAgICAgICAgICAgICAgZ3VhcmRzLnB1c2goZ3VhcmRUb1Byb21pc2VGbihndWFyZCwgdG8sIGZyb20pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjYW5jZWxlZE5hdmlnYXRpb25DaGVjayA9IGNoZWNrQ2FuY2VsZWROYXZpZ2F0aW9uQW5kUmVqZWN0LmJpbmQobnVsbCwgdG8sIGZyb20pO1xyXG4gICAgICAgIGd1YXJkcy5wdXNoKGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrKTtcclxuICAgICAgICAvLyBydW4gdGhlIHF1ZXVlIG9mIHBlciByb3V0ZSBiZWZvcmVSb3V0ZUxlYXZlIGd1YXJkc1xyXG4gICAgICAgIHJldHVybiAocnVuR3VhcmRRdWV1ZShndWFyZHMpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgLy8gY2hlY2sgZ2xvYmFsIGd1YXJkcyBiZWZvcmVFYWNoXHJcbiAgICAgICAgICAgIGd1YXJkcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGd1YXJkIG9mIGJlZm9yZUd1YXJkcy5saXN0KCkpIHtcclxuICAgICAgICAgICAgICAgIGd1YXJkcy5wdXNoKGd1YXJkVG9Qcm9taXNlRm4oZ3VhcmQsIHRvLCBmcm9tKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ3VhcmRzLnB1c2goY2FuY2VsZWROYXZpZ2F0aW9uQ2hlY2spO1xyXG4gICAgICAgICAgICByZXR1cm4gcnVuR3VhcmRRdWV1ZShndWFyZHMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgLy8gY2hlY2sgaW4gY29tcG9uZW50cyBiZWZvcmVSb3V0ZVVwZGF0ZVxyXG4gICAgICAgICAgICBndWFyZHMgPSBleHRyYWN0Q29tcG9uZW50c0d1YXJkcyh1cGRhdGluZ1JlY29yZHMsICdiZWZvcmVSb3V0ZVVwZGF0ZScsIHRvLCBmcm9tKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgdXBkYXRpbmdSZWNvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGd1YXJkIG9mIHJlY29yZC51cGRhdGVHdWFyZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBndWFyZHMucHVzaChndWFyZFRvUHJvbWlzZUZuKGd1YXJkLCB0bywgZnJvbSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGd1YXJkcy5wdXNoKGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrKTtcclxuICAgICAgICAgICAgLy8gcnVuIHRoZSBxdWV1ZSBvZiBwZXIgcm91dGUgYmVmb3JlRW50ZXIgZ3VhcmRzXHJcbiAgICAgICAgICAgIHJldHVybiBydW5HdWFyZFF1ZXVlKGd1YXJkcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBjaGVjayB0aGUgcm91dGUgYmVmb3JlRW50ZXJcclxuICAgICAgICAgICAgZ3VhcmRzID0gW107XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHRvLm1hdGNoZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGRvIG5vdCB0cmlnZ2VyIGJlZm9yZUVudGVyIG9uIHJldXNlZCB2aWV3c1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZC5iZWZvcmVFbnRlciAmJiBmcm9tLm1hdGNoZWQuaW5kZXhPZihyZWNvcmQpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlY29yZC5iZWZvcmVFbnRlcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBiZWZvcmVFbnRlciBvZiByZWNvcmQuYmVmb3JlRW50ZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWFyZHMucHVzaChndWFyZFRvUHJvbWlzZUZuKGJlZm9yZUVudGVyLCB0bywgZnJvbSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmRzLnB1c2goZ3VhcmRUb1Byb21pc2VGbihyZWNvcmQuYmVmb3JlRW50ZXIsIHRvLCBmcm9tKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGd1YXJkcy5wdXNoKGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrKTtcclxuICAgICAgICAgICAgLy8gcnVuIHRoZSBxdWV1ZSBvZiBwZXIgcm91dGUgYmVmb3JlRW50ZXIgZ3VhcmRzXHJcbiAgICAgICAgICAgIHJldHVybiBydW5HdWFyZFF1ZXVlKGd1YXJkcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBOT1RFOiBhdCB0aGlzIHBvaW50IHRvLm1hdGNoZWQgaXMgbm9ybWFsaXplZCBhbmQgZG9lcyBub3QgY29udGFpbiBhbnkgKCkgPT4gUHJvbWlzZTxDb21wb25lbnQ+XHJcbiAgICAgICAgICAgIC8vIGNsZWFyIGV4aXN0aW5nIGVudGVyQ2FsbGJhY2tzLCB0aGVzZSBhcmUgYWRkZWQgYnkgZXh0cmFjdENvbXBvbmVudHNHdWFyZHNcclxuICAgICAgICAgICAgdG8ubWF0Y2hlZC5mb3JFYWNoKHJlY29yZCA9PiAocmVjb3JkLmVudGVyQ2FsbGJhY2tzID0ge30pKTtcclxuICAgICAgICAgICAgLy8gY2hlY2sgaW4tY29tcG9uZW50IGJlZm9yZVJvdXRlRW50ZXJcclxuICAgICAgICAgICAgZ3VhcmRzID0gZXh0cmFjdENvbXBvbmVudHNHdWFyZHMoZW50ZXJpbmdSZWNvcmRzLCAnYmVmb3JlUm91dGVFbnRlcicsIHRvLCBmcm9tKTtcclxuICAgICAgICAgICAgZ3VhcmRzLnB1c2goY2FuY2VsZWROYXZpZ2F0aW9uQ2hlY2spO1xyXG4gICAgICAgICAgICAvLyBydW4gdGhlIHF1ZXVlIG9mIHBlciByb3V0ZSBiZWZvcmVFbnRlciBndWFyZHNcclxuICAgICAgICAgICAgcmV0dXJuIHJ1bkd1YXJkUXVldWUoZ3VhcmRzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGdsb2JhbCBndWFyZHMgYmVmb3JlUmVzb2x2ZVxyXG4gICAgICAgICAgICBndWFyZHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBndWFyZCBvZiBiZWZvcmVSZXNvbHZlR3VhcmRzLmxpc3QoKSkge1xyXG4gICAgICAgICAgICAgICAgZ3VhcmRzLnB1c2goZ3VhcmRUb1Byb21pc2VGbihndWFyZCwgdG8sIGZyb20pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBndWFyZHMucHVzaChjYW5jZWxlZE5hdmlnYXRpb25DaGVjayk7XHJcbiAgICAgICAgICAgIHJldHVybiBydW5HdWFyZFF1ZXVlKGd1YXJkcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gY2F0Y2ggYW55IG5hdmlnYXRpb24gY2FuY2VsZWRcclxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBpc05hdmlnYXRpb25GYWlsdXJlKGVyciwgOCAvKiBOQVZJR0FUSU9OX0NBTkNFTExFRCAqLylcclxuICAgICAgICAgICAgPyBlcnJcclxuICAgICAgICAgICAgOiBQcm9taXNlLnJlamVjdChlcnIpKSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB0cmlnZ2VyQWZ0ZXJFYWNoKHRvLCBmcm9tLCBmYWlsdXJlKSB7XHJcbiAgICAgICAgLy8gbmF2aWdhdGlvbiBpcyBjb25maXJtZWQsIGNhbGwgYWZ0ZXJHdWFyZHNcclxuICAgICAgICAvLyBUT0RPOiB3cmFwIHdpdGggZXJyb3IgaGFuZGxlcnNcclxuICAgICAgICBmb3IgKGNvbnN0IGd1YXJkIG9mIGFmdGVyR3VhcmRzLmxpc3QoKSlcclxuICAgICAgICAgICAgZ3VhcmQodG8sIGZyb20sIGZhaWx1cmUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiAtIENsZWFucyB1cCBhbnkgbmF2aWdhdGlvbiBndWFyZHNcclxuICAgICAqIC0gQ2hhbmdlcyB0aGUgdXJsIGlmIG5lY2Vzc2FyeVxyXG4gICAgICogLSBDYWxscyB0aGUgc2Nyb2xsQmVoYXZpb3JcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZmluYWxpemVOYXZpZ2F0aW9uKHRvTG9jYXRpb24sIGZyb20sIGlzUHVzaCwgcmVwbGFjZSwgZGF0YSkge1xyXG4gICAgICAgIC8vIGEgbW9yZSByZWNlbnQgbmF2aWdhdGlvbiB0b29rIHBsYWNlXHJcbiAgICAgICAgY29uc3QgZXJyb3IgPSBjaGVja0NhbmNlbGVkTmF2aWdhdGlvbih0b0xvY2F0aW9uLCBmcm9tKTtcclxuICAgICAgICBpZiAoZXJyb3IpXHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAvLyBvbmx5IGNvbnNpZGVyIGFzIHB1c2ggaWYgaXQncyBub3QgdGhlIGZpcnN0IG5hdmlnYXRpb25cclxuICAgICAgICBjb25zdCBpc0ZpcnN0TmF2aWdhdGlvbiA9IGZyb20gPT09IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQ7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSAhaXNCcm93c2VyID8ge30gOiBoaXN0b3J5LnN0YXRlO1xyXG4gICAgICAgIC8vIGNoYW5nZSBVUkwgb25seSBpZiB0aGUgdXNlciBkaWQgYSBwdXNoL3JlcGxhY2UgYW5kIGlmIGl0J3Mgbm90IHRoZSBpbml0aWFsIG5hdmlnYXRpb24gYmVjYXVzZVxyXG4gICAgICAgIC8vIGl0J3MganVzdCByZWZsZWN0aW5nIHRoZSB1cmxcclxuICAgICAgICBpZiAoaXNQdXNoKSB7XHJcbiAgICAgICAgICAgIC8vIG9uIHRoZSBpbml0aWFsIG5hdmlnYXRpb24sIHdlIHdhbnQgdG8gcmV1c2UgdGhlIHNjcm9sbCBwb3NpdGlvbiBmcm9tXHJcbiAgICAgICAgICAgIC8vIGhpc3Rvcnkgc3RhdGUgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgICAgIGlmIChyZXBsYWNlIHx8IGlzRmlyc3ROYXZpZ2F0aW9uKVxyXG4gICAgICAgICAgICAgICAgcm91dGVySGlzdG9yeS5yZXBsYWNlKHRvTG9jYXRpb24uZnVsbFBhdGgsIGFzc2lnbih7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBpc0ZpcnN0TmF2aWdhdGlvbiAmJiBzdGF0ZSAmJiBzdGF0ZS5zY3JvbGwsXHJcbiAgICAgICAgICAgICAgICB9LCBkYXRhKSk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJvdXRlckhpc3RvcnkucHVzaCh0b0xvY2F0aW9uLmZ1bGxQYXRoLCBkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWNjZXB0IGN1cnJlbnQgbmF2aWdhdGlvblxyXG4gICAgICAgIGN1cnJlbnRSb3V0ZS52YWx1ZSA9IHRvTG9jYXRpb247XHJcbiAgICAgICAgaGFuZGxlU2Nyb2xsKHRvTG9jYXRpb24sIGZyb20sIGlzUHVzaCwgaXNGaXJzdE5hdmlnYXRpb24pO1xyXG4gICAgICAgIG1hcmtBc1JlYWR5KCk7XHJcbiAgICB9XHJcbiAgICBsZXQgcmVtb3ZlSGlzdG9yeUxpc3RlbmVyO1xyXG4gICAgLy8gYXR0YWNoIGxpc3RlbmVyIHRvIGhpc3RvcnkgdG8gdHJpZ2dlciBuYXZpZ2F0aW9uc1xyXG4gICAgZnVuY3Rpb24gc2V0dXBMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgcmVtb3ZlSGlzdG9yeUxpc3RlbmVyID0gcm91dGVySGlzdG9yeS5saXN0ZW4oKHRvLCBfZnJvbSwgaW5mbykgPT4ge1xyXG4gICAgICAgICAgICAvLyBjYW5ub3QgYmUgYSByZWRpcmVjdCByb3V0ZSBiZWNhdXNlIGl0IHdhcyBpbiBoaXN0b3J5XHJcbiAgICAgICAgICAgIGxldCB0b0xvY2F0aW9uID0gcmVzb2x2ZSh0byk7XHJcbiAgICAgICAgICAgIC8vIGR1ZSB0byBkeW5hbWljIHJvdXRpbmcsIGFuZCB0byBoYXNoIGhpc3Rvcnkgd2l0aCBtYW51YWwgbmF2aWdhdGlvblxyXG4gICAgICAgICAgICAvLyAobWFudWFsbHkgY2hhbmdpbmcgdGhlIHVybCBvciBjYWxsaW5nIGhpc3RvcnkuaGFzaCA9ICcjL3NvbWV3aGVyZScpLFxyXG4gICAgICAgICAgICAvLyB0aGVyZSBjb3VsZCBiZSBhIHJlZGlyZWN0IHJlY29yZCBpbiBoaXN0b3J5XHJcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFJlZGlyZWN0ID0gaGFuZGxlUmVkaXJlY3RSZWNvcmQodG9Mb2NhdGlvbik7XHJcbiAgICAgICAgICAgIGlmIChzaG91bGRSZWRpcmVjdCkge1xyXG4gICAgICAgICAgICAgICAgcHVzaFdpdGhSZWRpcmVjdChhc3NpZ24oc2hvdWxkUmVkaXJlY3QsIHsgcmVwbGFjZTogdHJ1ZSB9KSwgdG9Mb2NhdGlvbikuY2F0Y2gobm9vcCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGVuZGluZ0xvY2F0aW9uID0gdG9Mb2NhdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgZnJvbSA9IGN1cnJlbnRSb3V0ZS52YWx1ZTtcclxuICAgICAgICAgICAgLy8gVE9ETzogc2hvdWxkIGJlIG1vdmVkIHRvIHdlYiBoaXN0b3J5P1xyXG4gICAgICAgICAgICBpZiAoaXNCcm93c2VyKSB7XHJcbiAgICAgICAgICAgICAgICBzYXZlU2Nyb2xsUG9zaXRpb24oZ2V0U2Nyb2xsS2V5KGZyb20uZnVsbFBhdGgsIGluZm8uZGVsdGEpLCBjb21wdXRlU2Nyb2xsUG9zaXRpb24oKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmF2aWdhdGUodG9Mb2NhdGlvbiwgZnJvbSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpc05hdmlnYXRpb25GYWlsdXJlKGVycm9yLCA0IC8qIE5BVklHQVRJT05fQUJPUlRFRCAqLyB8IDggLyogTkFWSUdBVElPTl9DQU5DRUxMRUQgKi8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmF2aWdhdGlvbkZhaWx1cmUoZXJyb3IsIDIgLyogTkFWSUdBVElPTl9HVUFSRF9SRURJUkVDVCAqLykpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3QgcmVzdG9yZSBoaXN0b3J5IG9uIHVua25vd24gZGlyZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8uZGVsdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlckhpc3RvcnkuZ28oLWluZm8uZGVsdGEsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZXJyb3IgaXMgYWxyZWFkeSBoYW5kbGVkIGJ5IHJvdXRlci5wdXNoIHdlIGp1c3Qgd2FudCB0byBhdm9pZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZ2dpbmcgdGhlIGVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAgcHVzaFdpdGhSZWRpcmVjdChcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBzaG91bGQgd2UgZm9yY2UgcmVwbGFjZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLnRvLCB0b0xvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXZvaWQgYW4gdW5jYXVnaHQgcmVqZWN0aW9uLCBsZXQgcHVzaCBjYWxsIHRyaWdnZXJFcnJvclxyXG4gICAgICAgICAgICAgICAgICAgICkuY2F0Y2gobm9vcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXZvaWQgdGhlIHRoZW4gYnJhbmNoXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBkbyBub3QgcmVzdG9yZSBoaXN0b3J5IG9uIHVua25vd24gZGlyZWN0aW9uXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mby5kZWx0YSlcclxuICAgICAgICAgICAgICAgICAgICByb3V0ZXJIaXN0b3J5LmdvKC1pbmZvLmRlbHRhLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAvLyB1bnJlY29nbml6ZWQgZXJyb3IsIHRyYW5zZmVyIHRvIHRoZSBnbG9iYWwgaGFuZGxlclxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXJFcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbigoZmFpbHVyZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZmFpbHVyZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGl6ZU5hdmlnYXRpb24oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFmdGVyIG5hdmlnYXRpb24sIGFsbCBtYXRjaGVkIGNvbXBvbmVudHMgYXJlIHJlc29sdmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvTG9jYXRpb24sIGZyb20sIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIC8vIHJldmVydCB0aGUgbmF2aWdhdGlvblxyXG4gICAgICAgICAgICAgICAgaWYgKGZhaWx1cmUgJiYgaW5mby5kZWx0YSlcclxuICAgICAgICAgICAgICAgICAgICByb3V0ZXJIaXN0b3J5LmdvKC1pbmZvLmRlbHRhLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyQWZ0ZXJFYWNoKHRvTG9jYXRpb24sIGZyb20sIGZhaWx1cmUpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKG5vb3ApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gSW5pdGlhbGl6YXRpb24gYW5kIEVycm9yc1xyXG4gICAgbGV0IHJlYWR5SGFuZGxlcnMgPSB1c2VDYWxsYmFja3MoKTtcclxuICAgIGxldCBlcnJvckhhbmRsZXJzID0gdXNlQ2FsbGJhY2tzKCk7XHJcbiAgICBsZXQgcmVhZHk7XHJcbiAgICAvKipcclxuICAgICAqIFRyaWdnZXIgZXJyb3JIYW5kbGVycyBhZGRlZCB2aWEgb25FcnJvciBhbmQgdGhyb3dzIHRoZSBlcnJvciBhcyB3ZWxsXHJcbiAgICAgKiBAcGFyYW0gZXJyb3IgLSBlcnJvciB0byB0aHJvd1xyXG4gICAgICogQHJldHVybnMgdGhlIGVycm9yIGFzIGEgcmVqZWN0ZWQgcHJvbWlzZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB0cmlnZ2VyRXJyb3IoZXJyb3IpIHtcclxuICAgICAgICBtYXJrQXNSZWFkeShlcnJvcik7XHJcbiAgICAgICAgZXJyb3JIYW5kbGVycy5saXN0KCkuZm9yRWFjaChoYW5kbGVyID0+IGhhbmRsZXIoZXJyb3IpKTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNSZWFkeSgpIHtcclxuICAgICAgICBpZiAocmVhZHkgJiYgY3VycmVudFJvdXRlLnZhbHVlICE9PSBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEKVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgcmVhZHlIYW5kbGVycy5hZGQoW3Jlc29sdmUsIHJlamVjdF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXJrIHRoZSByb3V0ZXIgYXMgcmVhZHksIHJlc29sdmluZyB0aGUgcHJvbWlzZWQgcmV0dXJuZWQgYnkgaXNSZWFkeSgpLiBDYW5cclxuICAgICAqIG9ubHkgYmUgY2FsbGVkIG9uY2UsIG90aGVyd2lzZSBkb2VzIG5vdGhpbmcuXHJcbiAgICAgKiBAcGFyYW0gZXJyIC0gb3B0aW9uYWwgZXJyb3JcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gbWFya0FzUmVhZHkoZXJyKSB7XHJcbiAgICAgICAgaWYgKHJlYWR5KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgcmVhZHkgPSB0cnVlO1xyXG4gICAgICAgIHNldHVwTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgcmVhZHlIYW5kbGVyc1xyXG4gICAgICAgICAgICAubGlzdCgpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKChbcmVzb2x2ZSwgcmVqZWN0XSkgPT4gKGVyciA/IHJlamVjdChlcnIpIDogcmVzb2x2ZSgpKSk7XHJcbiAgICAgICAgcmVhZHlIYW5kbGVycy5yZXNldCgpO1xyXG4gICAgfVxyXG4gICAgLy8gU2Nyb2xsIGJlaGF2aW9yXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVTY3JvbGwodG8sIGZyb20sIGlzUHVzaCwgaXNGaXJzdE5hdmlnYXRpb24pIHtcclxuICAgICAgICBpZiAoIWlzQnJvd3NlciB8fCAhc2Nyb2xsQmVoYXZpb3IpXHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICBsZXQgc2Nyb2xsUG9zaXRpb24gPSAoIWlzUHVzaCAmJiBnZXRTYXZlZFNjcm9sbFBvc2l0aW9uKGdldFNjcm9sbEtleSh0by5mdWxsUGF0aCwgMCkpKSB8fFxyXG4gICAgICAgICAgICAoKGlzRmlyc3ROYXZpZ2F0aW9uIHx8ICFpc1B1c2gpICYmXHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnN0YXRlICYmXHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnN0YXRlLnNjcm9sbCkgfHxcclxuICAgICAgICAgICAgbnVsbDtcclxuICAgICAgICByZXR1cm4gbmV4dFRpY2soKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiBzY3JvbGxCZWhhdmlvcih0bywgZnJvbSwgc2Nyb2xsUG9zaXRpb24pKVxyXG4gICAgICAgICAgICAudGhlbihwb3NpdGlvbiA9PiBwb3NpdGlvbiAmJiBzY3JvbGxUb1Bvc2l0aW9uKHBvc2l0aW9uKSlcclxuICAgICAgICAgICAgLmNhdGNoKHRyaWdnZXJFcnJvcik7XHJcbiAgICB9XHJcbiAgICBjb25zdCBnbyA9IChkZWx0YSkgPT4gcm91dGVySGlzdG9yeS5nbyhkZWx0YSk7XHJcbiAgICBsZXQgc3RhcnRlZDtcclxuICAgIGNvbnN0IGluc3RhbGxlZEFwcHMgPSBuZXcgU2V0KCk7XHJcbiAgICBjb25zdCByb3V0ZXIgPSB7XHJcbiAgICAgICAgY3VycmVudFJvdXRlLFxyXG4gICAgICAgIGFkZFJvdXRlLFxyXG4gICAgICAgIHJlbW92ZVJvdXRlLFxyXG4gICAgICAgIGhhc1JvdXRlLFxyXG4gICAgICAgIGdldFJvdXRlcyxcclxuICAgICAgICByZXNvbHZlLFxyXG4gICAgICAgIG9wdGlvbnMsXHJcbiAgICAgICAgcHVzaCxcclxuICAgICAgICByZXBsYWNlLFxyXG4gICAgICAgIGdvLFxyXG4gICAgICAgIGJhY2s6ICgpID0+IGdvKC0xKSxcclxuICAgICAgICBmb3J3YXJkOiAoKSA9PiBnbygxKSxcclxuICAgICAgICBiZWZvcmVFYWNoOiBiZWZvcmVHdWFyZHMuYWRkLFxyXG4gICAgICAgIGJlZm9yZVJlc29sdmU6IGJlZm9yZVJlc29sdmVHdWFyZHMuYWRkLFxyXG4gICAgICAgIGFmdGVyRWFjaDogYWZ0ZXJHdWFyZHMuYWRkLFxyXG4gICAgICAgIG9uRXJyb3I6IGVycm9ySGFuZGxlcnMuYWRkLFxyXG4gICAgICAgIGlzUmVhZHksXHJcbiAgICAgICAgaW5zdGFsbChhcHApIHtcclxuICAgICAgICAgICAgY29uc3Qgcm91dGVyID0gdGhpcztcclxuICAgICAgICAgICAgYXBwLmNvbXBvbmVudCgnUm91dGVyTGluaycsIFJvdXRlckxpbmspO1xyXG4gICAgICAgICAgICBhcHAuY29tcG9uZW50KCdSb3V0ZXJWaWV3JywgUm91dGVyVmlldyk7XHJcbiAgICAgICAgICAgIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcy4kcm91dGVyID0gcm91dGVyO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCAnJHJvdXRlJywge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiB1bnJlZihjdXJyZW50Um91dGUpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gdGhpcyBpbml0aWFsIG5hdmlnYXRpb24gaXMgb25seSBuZWNlc3Nhcnkgb24gY2xpZW50LCBvbiBzZXJ2ZXIgaXQgZG9lc24ndFxyXG4gICAgICAgICAgICAvLyBtYWtlIHNlbnNlIGJlY2F1c2UgaXQgd2lsbCBjcmVhdGUgYW4gZXh0cmEgdW5uZWNlc3NhcnkgbmF2aWdhdGlvbiBhbmQgY291bGRcclxuICAgICAgICAgICAgLy8gbGVhZCB0byBwcm9ibGVtc1xyXG4gICAgICAgICAgICBpZiAoaXNCcm93c2VyICYmXHJcbiAgICAgICAgICAgICAgICAvLyB1c2VkIGZvciB0aGUgaW5pdGlhbCBuYXZpZ2F0aW9uIGNsaWVudCBzaWRlIHRvIGF2b2lkIHB1c2hpbmdcclxuICAgICAgICAgICAgICAgIC8vIG11bHRpcGxlIHRpbWVzIHdoZW4gdGhlIHJvdXRlciBpcyB1c2VkIGluIG11bHRpcGxlIGFwcHNcclxuICAgICAgICAgICAgICAgICFzdGFydGVkICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Um91dGUudmFsdWUgPT09IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQpIHtcclxuICAgICAgICAgICAgICAgIC8vIHNlZSBhYm92ZVxyXG4gICAgICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBwdXNoKHJvdXRlckhpc3RvcnkubG9jYXRpb24pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybignVW5leHBlY3RlZCBlcnJvciB3aGVuIHN0YXJ0aW5nIHRoZSByb3V0ZXI6JywgZXJyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHJlYWN0aXZlUm91dGUgPSB7fTtcclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQpIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IHRoZSBrZXkgbWF0Y2hlc1xyXG4gICAgICAgICAgICAgICAgcmVhY3RpdmVSb3V0ZVtrZXldID0gY29tcHV0ZWQoKCkgPT4gY3VycmVudFJvdXRlLnZhbHVlW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFwcC5wcm92aWRlKHJvdXRlcktleSwgcm91dGVyKTtcclxuICAgICAgICAgICAgYXBwLnByb3ZpZGUocm91dGVMb2NhdGlvbktleSwgcmVhY3RpdmUocmVhY3RpdmVSb3V0ZSkpO1xyXG4gICAgICAgICAgICBsZXQgdW5tb3VudEFwcCA9IGFwcC51bm1vdW50O1xyXG4gICAgICAgICAgICBpbnN0YWxsZWRBcHBzLmFkZChhcHApO1xyXG4gICAgICAgICAgICBhcHAudW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbGxlZEFwcHMuZGVsZXRlKGFwcCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFsbGVkQXBwcy5zaXplIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUhpc3RvcnlMaXN0ZW5lcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSb3V0ZS52YWx1ZSA9IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50QXBwLmNhbGwodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSAmJiB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBhZGREZXZ0b29scyhhcHAsIHJvdXRlciwgbWF0Y2hlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgfTtcclxuICAgIHJldHVybiByb3V0ZXI7XHJcbn1cclxuZnVuY3Rpb24gcnVuR3VhcmRRdWV1ZShndWFyZHMpIHtcclxuICAgIHJldHVybiBndWFyZHMucmVkdWNlKChwcm9taXNlLCBndWFyZCkgPT4gcHJvbWlzZS50aGVuKCgpID0+IGd1YXJkKCkpLCBQcm9taXNlLnJlc29sdmUoKSk7XHJcbn1cclxuZnVuY3Rpb24gZXh0cmFjdENoYW5naW5nUmVjb3Jkcyh0bywgZnJvbSkge1xyXG4gICAgY29uc3QgbGVhdmluZ1JlY29yZHMgPSBbXTtcclxuICAgIGNvbnN0IHVwZGF0aW5nUmVjb3JkcyA9IFtdO1xyXG4gICAgY29uc3QgZW50ZXJpbmdSZWNvcmRzID0gW107XHJcbiAgICBjb25zdCBsZW4gPSBNYXRoLm1heChmcm9tLm1hdGNoZWQubGVuZ3RoLCB0by5tYXRjaGVkLmxlbmd0aCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgcmVjb3JkRnJvbSA9IGZyb20ubWF0Y2hlZFtpXTtcclxuICAgICAgICBpZiAocmVjb3JkRnJvbSkge1xyXG4gICAgICAgICAgICBpZiAodG8ubWF0Y2hlZC5pbmRleE9mKHJlY29yZEZyb20pIDwgMClcclxuICAgICAgICAgICAgICAgIGxlYXZpbmdSZWNvcmRzLnB1c2gocmVjb3JkRnJvbSk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHVwZGF0aW5nUmVjb3Jkcy5wdXNoKHJlY29yZEZyb20pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZWNvcmRUbyA9IHRvLm1hdGNoZWRbaV07XHJcbiAgICAgICAgaWYgKHJlY29yZFRvKSB7XHJcbiAgICAgICAgICAgIC8vIHRoZSB0eXBlIGRvZXNuJ3QgbWF0dGVyIGJlY2F1c2Ugd2UgYXJlIGNvbXBhcmluZyBwZXIgcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIGlmIChmcm9tLm1hdGNoZWQuaW5kZXhPZihyZWNvcmRUbykgPCAwKVxyXG4gICAgICAgICAgICAgICAgZW50ZXJpbmdSZWNvcmRzLnB1c2gocmVjb3JkVG8pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBbbGVhdmluZ1JlY29yZHMsIHVwZGF0aW5nUmVjb3JkcywgZW50ZXJpbmdSZWNvcmRzXTtcclxufVxuXG4vKipcclxuICogUmV0dXJucyB0aGUgcm91dGVyIGluc3RhbmNlLiBFcXVpdmFsZW50IHRvIHVzaW5nIGAkcm91dGVyYCBpbnNpZGVcclxuICogdGVtcGxhdGVzLlxyXG4gKi9cclxuZnVuY3Rpb24gdXNlUm91dGVyKCkge1xyXG4gICAgcmV0dXJuIGluamVjdChyb3V0ZXJLZXkpO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IHJvdXRlIGxvY2F0aW9uLiBFcXVpdmFsZW50IHRvIHVzaW5nIGAkcm91dGVgIGluc2lkZVxyXG4gKiB0ZW1wbGF0ZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiB1c2VSb3V0ZSgpIHtcclxuICAgIHJldHVybiBpbmplY3Qocm91dGVMb2NhdGlvbktleSk7XHJcbn1cblxuZXhwb3J0IHsgTmF2aWdhdGlvbkZhaWx1cmVUeXBlLCBSb3V0ZXJMaW5rLCBSb3V0ZXJWaWV3LCBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEIGFzIFNUQVJUX0xPQ0FUSU9OLCBjcmVhdGVNZW1vcnlIaXN0b3J5LCBjcmVhdGVSb3V0ZXIsIGNyZWF0ZVJvdXRlck1hdGNoZXIsIGNyZWF0ZVdlYkhhc2hIaXN0b3J5LCBjcmVhdGVXZWJIaXN0b3J5LCBpc05hdmlnYXRpb25GYWlsdXJlLCBvbkJlZm9yZVJvdXRlTGVhdmUsIG9uQmVmb3JlUm91dGVVcGRhdGUsIHBhcnNlUXVlcnksIHJvdXRlTG9jYXRpb25LZXksIHJvdXRlcktleSwgc3RyaW5naWZ5UXVlcnksIHVzZUxpbmssIHVzZVJvdXRlLCB1c2VSb3V0ZXIgfTtcbiIsImltcG9ydCB7IHNldERldnRvb2xzSG9vaywgaW5pdEN1c3RvbUZvcm1hdHRlciwgd2FybiB9IGZyb20gJ0B2dWUvcnVudGltZS1kb20nO1xuZXhwb3J0ICogZnJvbSAnQHZ1ZS9ydW50aW1lLWRvbSc7XG5pbXBvcnQgeyBnZXRHbG9iYWxUaGlzIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5mdW5jdGlvbiBpbml0RGV2KCkge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0R2xvYmFsVGhpcygpO1xyXG4gICAgdGFyZ2V0Ll9fVlVFX18gPSB0cnVlO1xyXG4gICAgc2V0RGV2dG9vbHNIb29rKHRhcmdldC5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fKTtcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmluZm8oYFlvdSBhcmUgcnVubmluZyBhIGRldmVsb3BtZW50IGJ1aWxkIG9mIFZ1ZS5cXG5gICtcclxuICAgICAgICAgICAgYE1ha2Ugc3VyZSB0byB1c2UgdGhlIHByb2R1Y3Rpb24gYnVpbGQgKCoucHJvZC5qcykgd2hlbiBkZXBsb3lpbmcgZm9yIHByb2R1Y3Rpb24uYCk7XHJcbiAgICAgICAgaW5pdEN1c3RvbUZvcm1hdHRlcigpO1xyXG4gICAgfVxyXG59XG5cbi8vIFRoaXMgZW50cnkgZXhwb3J0cyB0aGUgcnVudGltZSBvbmx5LCBhbmQgaXMgYnVpbHQgYXNcclxuKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluaXREZXYoKTtcclxuY29uc3QgY29tcGlsZSA9ICgpID0+IHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBSdW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArXHJcbiAgICAgICAgICAgICggYCBDb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGFsaWFzIFwidnVlXCIgdG8gXCJ2dWUvZGlzdC92dWUuZXNtLWJ1bmRsZXIuanNcIi5gXHJcbiAgICAgICAgICAgICAgICApIC8qIHNob3VsZCBub3QgaGFwcGVuICovKTtcclxuICAgIH1cclxufTtcblxuZXhwb3J0IHsgY29tcGlsZSB9O1xuIiwiaW1wb3J0IHtjcmVhdGVSb3V0ZXIsY3JlYXRlV2ViSGFzaEhpc3Rvcnl9IGZyb20gJ3Z1ZS1yb3V0ZXInXHJcbi8vIGltcG9ydCB7IGZyb20gfSBmcm9tIFwiY29yZS1qcy9mbi9hcnJheVwiXHJcblxyXG5jb25zdCByb3V0ZXMgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgcGF0aDonLycsY29tcG9uZW50OiAoKSA9PmltcG9ydCgnLi9jb21wb25lbnRzL0luZGV4LnZ1ZScpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHBhdGg6Jy9pbmRleCcsY29tcG9uZW50OiAoKSA9PmltcG9ydCgnLi9jb21wb25lbnRzL0luZGV4LnZ1ZScpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHBhdGg6Jy90ZXN0Jyxjb21wb25lbnQ6ICgpID0+aW1wb3J0KCcuL2NvbXBvbmVudHMvVGVzdC52dWUnKVxyXG4gICAgfVxyXG5dXHJcbmNvbnN0IHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7XHJcbiAgICBoaXN0b3J5OiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgpLFxyXG4gICAgcm91dGVzLFxyXG4gIH0pO1xyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiLCJpbXBvcnQgeyByZW5kZXIgfSBmcm9tIFwiLi9BcHAudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWY2MTE1ODljJnNjb3BlZD10cnVlJmJpbmRpbmdzPXt9XCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vQXBwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1wiXG5leHBvcnQgKiBmcm9tIFwiLi9BcHAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCJcblxuaW1wb3J0IFwiLi9BcHAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9ZjYxMTU4OWMmc2NvcGVkPXRydWUmbGFuZz1jc3NcIlxuc2NyaXB0LnJlbmRlciA9IHJlbmRlclxuc2NyaXB0Ll9fc2NvcGVJZCA9IFwiZGF0YS12LWY2MTE1ODljXCJcblxuZXhwb3J0IGRlZmF1bHQgc2NyaXB0IiwiaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSBcIi4vSW5kZXgudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWY2YmVjZTA0JnNjb3BlZD10cnVlJmJpbmRpbmdzPXtcXFwidmFsdWVcXFwiOlxcXCJkYXRhXFxcIixcXFwiZGF0YUxpc3RcXFwiOlxcXCJkYXRhXFxcIixcXFwiYnRuRmlsZVxcXCI6XFxcIm9wdGlvbnNcXFwiLFxcXCJjaG9vc2VGaWxlXFxcIjpcXFwib3B0aW9uc1xcXCIsXFxcImJ0blVwbG9hZFxcXCI6XFxcIm9wdGlvbnNcXFwifVwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL0luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1wiXG5leHBvcnQgKiBmcm9tIFwiLi9JbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuXG5pbXBvcnQgXCIuL0luZGV4LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPWY2YmVjZTA0JnNjb3BlZD10cnVlJmxhbmc9Y3NzXCJcbnNjcmlwdC5yZW5kZXIgPSByZW5kZXJcbnNjcmlwdC5fX3Njb3BlSWQgPSBcImRhdGEtdi1mNmJlY2UwNFwiXG5cbmV4cG9ydCBkZWZhdWx0IHNjcmlwdCIsImltcG9ydCB7IHJlbmRlciB9IGZyb20gXCIuL1Rlc3QudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWFmYTY5N2JhJmJpbmRpbmdzPXt9XCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vVGVzdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuZXhwb3J0ICogZnJvbSBcIi4vVGVzdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuc2NyaXB0LnJlbmRlciA9IHJlbmRlclxuXG5leHBvcnQgZGVmYXVsdCBzY3JpcHQiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IG1vZHVsZVsnZGVmYXVsdCddIDpcblx0XHQoKSA9PiBtb2R1bGU7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHtjcmVhdGVBcHB9IGZyb20gJ3Z1ZSdcclxuaW1wb3J0IEFwcCBmcm9tICcuL3NyYy9BcHAudnVlJ1xyXG5pbXBvcnQgcm91dGVyIGZyb20gXCIuL3NyYy9yb3V0ZXJcIjtcclxuLy8gaW1wb3J0IHZpZXdVSSBmcm9tICcuL2xpYi9pdmlldy11aSdcclxuLy8gaW1wb3J0ICcuL2xpYi9pdmlldy11aS5jc3MnXHJcbi8vIGltcG9ydCBzdHJvZSBmcm9tICcuL3N0b3JlL3N0b3JlJ1xyXG5jcmVhdGVBcHAoQXBwKS51c2Uocm91dGVyKS5tb3VudCgnI3Jvb3QnKSJdLCJzb3VyY2VSb290IjoiIn0=